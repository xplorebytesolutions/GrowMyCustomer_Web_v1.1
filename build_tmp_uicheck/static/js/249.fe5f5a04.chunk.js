"use strict";(self.webpackChunkxbytechat_ui=self.webpackChunkxbytechat_ui||[]).push([[249],{3249:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var r=a(89379),c=a(65043),o=a(73216),d=a(79722),s=a(70579);const n=function(){const e=(0,o.Zp)(),{productId:t}=(0,o.g)(),[a,n]=(0,c.useState)(!1),[l,i]=(0,c.useState)({name:"",description:"",price:"",currency:"INR",imageUrl:""}),u="11111111-1111-1111-1111-111111111111",p=Boolean(t);(0,c.useEffect)((()=>{p&&d.A.get("https://localhost:7113/api/product?businessId=".concat(u)).then((a=>{const r=a.data.find((e=>e.id===t));r?i({name:r.name,description:r.description,price:r.price,currency:r.currency,imageUrl:r.imageUrl}):(alert("\u26a0\ufe0f Product not found."),e("/app/catalog/products"))})).catch((e=>{console.error("\u274c Failed to load product:",e)}))}),[t,u,p,e]);const m=e=>{const{name:t,value:a}=e.target;i((e=>(0,r.A)((0,r.A)({},e),{},{[t]:a})))};return(0,s.jsx)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)] p-6",children:(0,s.jsxs)("div",{className:"max-w-xl mx-auto bg-white p-6 rounded-xl shadow mt-10",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-emerald-800 mb-4",children:p?"\u270f\ufe0f Edit Product":"\u2795 Add New Product"}),(0,s.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),n(!0);const c=(0,r.A)((0,r.A)({},l),{},{businessId:u,id:t});try{p?(await d.A.put("https://localhost:7113/api/product/".concat(t),c),alert("\u2705 Product updated!")):(await d.A.post("https://localhost:7113/api/product",c),alert("\u2705 Product added!")),e("/app/catalog/products")}catch(o){alert("\u274c Failed to save product."),console.error(o)}finally{n(!1)}},className:"space-y-4",children:[[["Product Name","name"],["Description","description"],["Price","price"],["Currency","currency"],["Image URL","imageUrl"]].map((e=>{let[t,a]=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,s.jsx)("input",{type:"price"===a?"number":"text",name:a,value:l[a],onChange:m,className:"w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400",placeholder:"Enter ".concat(t.toLowerCase()),required:!0})]},a)})),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-emerald-600 text-white py-2 rounded-xl hover:bg-emerald-700 transition disabled:opacity-50",children:a?"Saving...":p?"Update Product":"Add Product"})]})]})})}}}]);
//# sourceMappingURL=249.fe5f5a04.chunk.js.map