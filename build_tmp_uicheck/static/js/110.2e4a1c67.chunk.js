"use strict";(self.webpackChunkxbytechat_ui=self.webpackChunkxbytechat_ui||[]).push([[110],{98110:(e,t,c)=>{c.r(t),c.d(t,{default:()=>d});var s=c(65043),a=c(35870),r=c(73216),o=c(57488),l=c(70579);const d=function(){const[e,t]=(0,s.useState)([]),c=(0,r.Zp)(),d=localStorage.getItem("businessId")||"11111111-1111-1111-1111-111111111111",n=localStorage.getItem("whatsappNumber")||"917082156227";return(0,s.useEffect)((()=>{a.default.get("/product?businessId=".concat(d)).then((e=>t(e.data))).catch((()=>o.oR.error("\u274c Error fetching products")))}),[d]),(0,l.jsxs)("div",{className:"p-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-emerald-800",children:"\ud83d\uded2 Product Catalog"}),(0,l.jsx)("button",{onClick:()=>c("/app/catalog/form"),className:"bg-emerald-600 text-white px-4 py-2 rounded-xl hover:bg-emerald-700 transition text-sm",children:"\u2795 Add Product"})]}),0===e.length?(0,l.jsx)("p",{className:"text-gray-500",children:"\ud83d\udeab No products found."}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map((e=>(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 border border-gray-100 hover:shadow-md transition",children:[(0,l.jsx)("img",{src:e.imageUrl,alt:e.name,className:"h-40 w-full object-cover rounded mb-3"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,l.jsxs)("p",{className:"text-emerald-700 font-bold mt-2",children:["\u20b9",e.price," ",e.currency]}),(0,l.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(0,l.jsx)("button",{onClick:()=>(async e=>{const t={businessId:d,productId:e.id,userId:"customer-001",userName:"Amit Sharma",userPhone:"9876543210",botId:"bot-01",categoryBrowsed:"Ads",productBrowsed:e.name,ctaJourney:"BuyNow",refMessageId:""};try{await a.default.post("/catalog-tracking/log-click",t),console.log("\u2705 Click tracked successfully.")}catch(o){console.error("\u274c Failed to track click:",o)}const c="\ud83d\udecd\ufe0f *".concat(e.name,"*\n").concat(e.description,"\n\ud83d\udcb0 Price: \u20b9").concat(e.price," ").concat(e.currency),s=encodeURIComponent(c),r="https://wa.me/".concat(n,"?text=").concat(s);window.open(r,"_blank")})(e),className:"w-full bg-green-500 text-white py-2 rounded-xl hover:bg-green-600 text-sm",children:"\ud83d\udce4 Share on WhatsApp"}),(0,l.jsx)("button",{onClick:()=>c("/app/catalog/form/".concat(e.id)),className:"w-full bg-slate-700 text-white py-2 rounded-xl hover:bg-slate-800 text-sm",children:"\u270f\ufe0f Edit"}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await a.default.delete("/product/".concat(e)),t((t=>t.filter((t=>t.id!==e)))),o.oR.success("\ud83d\uddd1\ufe0f Product deleted successfully!")}catch(c){o.oR.error("\u274c Failed to delete product")}})(e.id),className:"w-full bg-red-500 text-white py-2 rounded-xl hover:bg-red-600 text-sm",children:"\ud83d\uddd1\ufe0f Delete"})]})]},e.id)))})]})}}}]);
//# sourceMappingURL=110.2e4a1c67.chunk.js.map