{"version":3,"file":"static/js/622.1fa7068e.chunk.js","mappings":"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","sources":["pages/CRM/Tags/TagForm.jsx","pages/CRM/Tags/TagList.jsx","pages/CRM/Tags/Tags.jsx"],"sourcesContent":["// üìÑ src/pages/CRM/Tags/TagForm.jsx\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Tag as TagIcon } from \"lucide-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport axiosClient from \"../../../api/axiosClient\";\r\n\r\nexport default function TagForm({ selectedTag, onSaveComplete, onCancel }) {\r\n  const [saving, setSaving] = useState(false);\r\n  const [tag, setTag] = useState({\r\n    id: null,\r\n    name: \"\",\r\n    colorHex: \"\",\r\n    category: \"\",\r\n    notes: \"\",\r\n    isSystemTag: false,\r\n    isActive: true,\r\n  });\r\n\r\n  const isEdit = !!selectedTag;\r\n\r\n  useEffect(() => {\r\n    if (selectedTag) {\r\n      setTag({\r\n        id: selectedTag.id,\r\n        name: selectedTag.name || \"\",\r\n        colorHex: selectedTag.colorHex || \"\",\r\n        category: selectedTag.category || \"\",\r\n        notes: selectedTag.notes || \"\",\r\n        isSystemTag: !!selectedTag.isSystemTag,\r\n        isActive: selectedTag.isActive !== false,\r\n      });\r\n    } else {\r\n      setTag({\r\n        id: null,\r\n        name: \"\",\r\n        colorHex: \"\",\r\n        category: \"\",\r\n        notes: \"\",\r\n        isSystemTag: false,\r\n        isActive: true,\r\n      });\r\n    }\r\n  }, [selectedTag]);\r\n\r\n  const handleChange = e => {\r\n    const { name, value, type, checked } = e.target;\r\n    setTag(prev => ({\r\n      ...prev,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    if (!tag.name.trim()) {\r\n      toast.warn(\"Tag name is required.\");\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      name: tag.name.trim(),\r\n      colorHex: tag.colorHex || null,\r\n      category: tag.category || null,\r\n      notes: tag.notes || null,\r\n      isSystemTag: tag.isSystemTag,\r\n      isActive: tag.isActive,\r\n    };\r\n\r\n    try {\r\n      setSaving(true);\r\n\r\n      if (tag.id) {\r\n        await axiosClient.put(`/tags/${tag.id}`, payload); // ‚úÖ no /api\r\n        onSaveComplete?.(true, \"Tag updated successfully.\");\r\n      } else {\r\n        await axiosClient.post(\"/tags\", payload); // ‚úÖ no /api\r\n        onSaveComplete?.(true, \"Tag created successfully.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"‚ùå Failed to save tag\", error);\r\n      toast.error(\"Failed to save tag. Please try again.\");\r\n      onSaveComplete?.(false, \"Failed to save tag.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const isFormValid = tag.name.trim().length > 0;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3 mb-1\">\r\n        <div className=\"bg-emerald-50 text-emerald-700 rounded-xl p-2\">\r\n          <TagIcon size={20} />\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-sm font-semibold text-emerald-900\">\r\n            {isEdit ? \"Edit tag\" : \"Create new tag\"}\r\n          </h2>\r\n          <p className=\"text-xs text-gray-500\">\r\n            Tags help you group contacts for campaigns, CRM, and inbox filters.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Fields */}\r\n      <div className=\"space-y-3\">\r\n        <div>\r\n          <label className=\"text-xs font-medium text-gray-700 mb-1 block\">\r\n            Tag name <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={tag.name}\r\n            onChange={handleChange}\r\n            placeholder='e.g. \"Promotional\", \"Hot Lead\", \"College\"'\r\n            className=\"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          <div>\r\n            <label className=\"text-xs font-medium text-gray-700 mb-1 block\">\r\n              Tag colour (hex)\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"colorHex\"\r\n              value={tag.colorHex}\r\n              onChange={handleChange}\r\n              placeholder=\"#22C55E\"\r\n              className=\"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-emerald-400\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-xs font-medium text-gray-700 mb-1 block\">\r\n              Category\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"category\"\r\n              value={tag.category}\r\n              onChange={handleChange}\r\n              placeholder='e.g. \"Journey\", \"Priority\"'\r\n              className=\"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-emerald-400\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"text-xs font-medium text-gray-700 mb-1 block\">\r\n            Notes (internal)\r\n          </label>\r\n          <textarea\r\n            name=\"notes\"\r\n            value={tag.notes}\r\n            onChange={handleChange}\r\n            rows={3}\r\n            placeholder=\"Short note for your team...\"\r\n            className=\"w-full px-3 py-2 border rounded-md text-sm resize-none focus:outline-none focus:ring-1 focus:ring-emerald-400\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-4 text-xs\">\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"isSystemTag\"\r\n              checked={tag.isSystemTag}\r\n              onChange={handleChange}\r\n            />\r\n            System tag\r\n          </label>\r\n          <label className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"isActive\"\r\n              checked={tag.isActive}\r\n              onChange={handleChange}\r\n            />\r\n            Active\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"pt-3 mt-1 border-t border-gray-100 flex justify-end gap-2\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"px-3 py-1.5 rounded-md text-xs font-medium text-gray-600 bg-gray-100 hover:bg-gray-200\"\r\n        >\r\n          Cancel\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!isFormValid || saving}\r\n          className={`px-4 py-1.5 rounded-md text-xs font-semibold text-white inline-flex items-center justify-center ${\r\n            isFormValid && !saving\r\n              ? \"bg-emerald-600 hover:bg-emerald-700\"\r\n              : \"bg-emerald-300 cursor-not-allowed\"\r\n          }`}\r\n        >\r\n          {saving ? \"Saving...\" : isEdit ? \"Save changes\" : \"Create tag\"}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n// import { useState, useEffect } from \"react\";\r\n// import { Tag, PlusCircle } from \"lucide-react\";\r\n// import { toast } from \"react-toastify\";\r\n\r\n// export default function TagForm({ selectedTag, onSaveComplete }) {\r\n//   const [tag, setTag] = useState({\r\n//     name: \"\",\r\n//     colorHex: \"\",\r\n//     category: \"\",\r\n//     notes: \"\",\r\n//     isSystemTag: false,\r\n//     isActive: true,\r\n//   });\r\n\r\n//   useEffect(() => {\r\n//     if (selectedTag) {\r\n//       setTag(selectedTag);\r\n//     }\r\n//   }, [selectedTag]);\r\n\r\n//   const handleChange = e => {\r\n//     const { name, value, type, checked } = e.target;\r\n//     setTag(prev => ({\r\n//       ...prev,\r\n//       [name]: type === \"checkbox\" ? checked : value,\r\n//     }));\r\n//   };\r\n\r\n//   const handleSubmit = async e => {\r\n//     e.preventDefault();\r\n\r\n//     if (!tag.name.trim()) return;\r\n\r\n//     try {\r\n//       const method = selectedTag ? \"PUT\" : \"POST\";\r\n//       const url = selectedTag ? `/api/tags/${selectedTag.id}` : \"/api/tags\";\r\n\r\n//       const res = await fetch(url, {\r\n//         method,\r\n//         headers: { \"Content-Type\": \"application/json\" },\r\n//         body: JSON.stringify(tag),\r\n//       });\r\n\r\n//       if (!res.ok) throw new Error(\"Failed to save tag\");\r\n\r\n//       toast.success(\r\n//         `‚úÖ Tag ${selectedTag ? \"updated\" : \"added\"} successfully!`\r\n//       );\r\n//       onSaveComplete();\r\n//     } catch (err) {\r\n//       console.error(\"‚ùå Failed to save tag:\", err);\r\n//       toast.error(\"‚ùå Failed to save tag\");\r\n//     }\r\n//   };\r\n\r\n//   const isFormValid = tag.name.trim().length > 0;\r\n\r\n//   return (\r\n//     <div className=\"bg-white rounded-md border shadow-sm p-6 w-full transition hover:shadow-md\">\r\n//       {/* üè∑Ô∏è Form Header */}\r\n//       <div className=\"flex items-center gap-3 mb-5\">\r\n//         <div className=\"bg-purple-100 text-purple-700 rounded-xl p-2\">\r\n//           <Tag size={22} />\r\n//         </div>\r\n//         <div>\r\n//           <h2 className=\"text-lg font-bold text-gray-800\">\r\n//             {selectedTag ? \"Edit Tag\" : \"Add New Tag\"}\r\n//           </h2>\r\n//           <p className=\"text-sm text-gray-600\">\r\n//             Create custom tags with color, category, and notes.\r\n//           </p>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* üìù Form Fields */}\r\n//       <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n//         <div>\r\n//           <label className=\"text-xs font-medium text-gray-600 mb-1 block\">\r\n//             Tag Name <span className=\"text-red-500\">*</span>\r\n//           </label>\r\n//           <input\r\n//             type=\"text\"\r\n//             name=\"name\"\r\n//             value={tag.name}\r\n//             onChange={handleChange}\r\n//             placeholder=\"e.g. High Priority\"\r\n//             className=\"w-full px-4 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n//           />\r\n//         </div>\r\n\r\n//         <div>\r\n//           <label className=\"text-xs font-medium text-gray-600 mb-1 block\">\r\n//             Tag Color (Hex)\r\n//           </label>\r\n//           <input\r\n//             type=\"text\"\r\n//             name=\"colorHex\"\r\n//             value={tag.colorHex}\r\n//             onChange={handleChange}\r\n//             placeholder=\"#FF5733\"\r\n//             className=\"w-full px-4 py-2 border rounded-md text-sm\"\r\n//           />\r\n//         </div>\r\n\r\n//         <div>\r\n//           <label className=\"text-xs font-medium text-gray-600 mb-1 block\">\r\n//             Category\r\n//           </label>\r\n//           <input\r\n//             type=\"text\"\r\n//             name=\"category\"\r\n//             value={tag.category}\r\n//             onChange={handleChange}\r\n//             placeholder=\"e.g. Priority\"\r\n//             className=\"w-full px-4 py-2 border rounded-md text-sm\"\r\n//           />\r\n//         </div>\r\n\r\n//         <div>\r\n//           <label className=\"text-xs font-medium text-gray-600 mb-1 block\">\r\n//             Notes\r\n//           </label>\r\n//           <textarea\r\n//             name=\"notes\"\r\n//             value={tag.notes}\r\n//             onChange={handleChange}\r\n//             placeholder=\"Optional description...\"\r\n//             rows={3}\r\n//             className=\"w-full px-4 py-2 border rounded-md text-sm resize-none\"\r\n//           />\r\n//         </div>\r\n\r\n//         <div className=\"flex items-center gap-6 mt-1\">\r\n//           <label className=\"flex items-center text-sm gap-2\">\r\n//             <input\r\n//               type=\"checkbox\"\r\n//               name=\"isSystemTag\"\r\n//               checked={tag.isSystemTag}\r\n//               onChange={handleChange}\r\n//             />\r\n//             System Tag\r\n//           </label>\r\n\r\n//           <label className=\"flex items-center text-sm gap-2\">\r\n//             <input\r\n//               type=\"checkbox\"\r\n//               name=\"isActive\"\r\n//               checked={tag.isActive}\r\n//               onChange={handleChange}\r\n//             />\r\n//             Active\r\n//           </label>\r\n//         </div>\r\n\r\n//         {/* Submit Button */}\r\n//         <div className=\"pt-4 border-t flex justify-end\">\r\n//           <button\r\n//             type=\"submit\"\r\n//             disabled={!isFormValid}\r\n//             className={`inline-flex items-center gap-2 px-5 py-2 rounded-md text-white text-sm font-medium transition ${\r\n//               isFormValid\r\n//                 ? \"bg-purple-600 hover:bg-purple-700\"\r\n//                 : \"bg-gray-300 cursor-not-allowed\"\r\n//             }`}\r\n//           >\r\n//             <PlusCircle size={18} />\r\n//             {selectedTag ? \"Update Tag\" : \"Add Tag\"}\r\n//           </button>\r\n//         </div>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// }\r\n","// üìÑ src/pages/CRM/Tags/TagList.jsx\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport {\r\n  Pencil,\r\n  Trash2,\r\n  Tag as TagIcon,\r\n  X as CloseIcon,\r\n  Plus,\r\n} from \"lucide-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport axiosClient from \"../../../api/axiosClient\";\r\nimport TagForm from \"./TagForm\";\r\n\r\nfunction formatDate(value) {\r\n  if (!value) return \"-\";\r\n  try {\r\n    return new Date(value).toLocaleDateString();\r\n  } catch {\r\n    return \"-\";\r\n  }\r\n}\r\n\r\nfunction Pill({ children, className = \"\" }) {\r\n  return (\r\n    <span\r\n      className={`inline-flex items-center px-2.5 py-1 rounded-md text-[11px] font-semibold border ${className}`}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction normalizeTagsResponse(res) {\r\n  // Supports:\r\n  // 1) plain array\r\n  // 2) ResponseResult { success, message, data: [...] }\r\n  if (Array.isArray(res?.data)) return res.data;\r\n  if (Array.isArray(res?.data?.data)) return res.data.data;\r\n  return [];\r\n}\r\n\r\n// Soft tint for tag chip background using hex\r\nfunction softBgFromHex(hex) {\r\n  if (!hex) return \"rgba(16,185,129,0.12)\";\r\n  const ok = /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(hex);\r\n  if (!ok) return \"rgba(16,185,129,0.12)\";\r\n  return `${hex}22`; // add alpha\r\n}\r\n\r\nexport default function TagList({\r\n  // You can still use it as standalone (it will fetch)\r\n  // OR embed inside Tags.jsx and pass tags directly.\r\n  tags: tagsFromParent = null,\r\n  loading: loadingFromParent = null,\r\n\r\n  searchTerm = \"\",\r\n  refreshKey,\r\n  onDeleteComplete,\r\n\r\n  // UI controls\r\n  showHeader = true,\r\n  noContainer = false,\r\n  containerClassName = \"max-w-4xl mx-auto\",\r\n}) {\r\n  const [tags, setTags] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // modal state\r\n  const [showFormModal, setShowFormModal] = useState(false);\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n\r\n  const effectiveLoading =\r\n    typeof loadingFromParent === \"boolean\" ? loadingFromParent : loading;\r\n\r\n  const effectiveTags = Array.isArray(tagsFromParent) ? tagsFromParent : tags;\r\n\r\n  const fetchTags = async () => {\r\n    // If parent provides tags, we don‚Äôt fetch\r\n    if (Array.isArray(tagsFromParent)) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      // ‚úÖ FIX: Your controller is [HttpGet(\"get-tags\")]\r\n      const res = await axiosClient.get(\"/tags\");\r\n      const list = normalizeTagsResponse(res);\r\n      setTags(list);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Failed to load tags\");\r\n      setTags([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTags();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [refreshKey]);\r\n\r\n  const filteredTags = useMemo(() => {\r\n    const term = (searchTerm || \"\").toLowerCase().trim();\r\n    if (!term) return effectiveTags;\r\n\r\n    return effectiveTags.filter(t => {\r\n      const name = (t.name || \"\").toLowerCase();\r\n      const cat = (t.category || \"\").toLowerCase();\r\n      return name.includes(term) || cat.includes(term);\r\n    });\r\n  }, [effectiveTags, searchTerm]);\r\n\r\n  const openCreateModal = () => {\r\n    setSelectedTag(null);\r\n    setShowFormModal(true);\r\n  };\r\n\r\n  const openEditModal = tag => {\r\n    setSelectedTag(tag);\r\n    setShowFormModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowFormModal(false);\r\n    setSelectedTag(null);\r\n  };\r\n\r\n  const handleSaveComplete = (success = true, message = \"\") => {\r\n    if (success) {\r\n      fetchTags(); // refresh if we‚Äôre in standalone mode\r\n      toast.success(message || (selectedTag ? \"Tag updated\" : \"Tag created\"));\r\n    } else {\r\n      toast.error(message || \"Failed to save tag\");\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  const handleDelete = async id => {\r\n    if (!window.confirm(\"Delete this tag?\")) return;\r\n\r\n    try {\r\n      await axiosClient.delete(`/tags/${id}`);\r\n      toast.success(\"Tag deleted\");\r\n      fetchTags();\r\n      onDeleteComplete?.(true);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Failed to delete tag\");\r\n      onDeleteComplete?.(false);\r\n    }\r\n  };\r\n\r\n  const CreateButton = ({ label = \"Create\" }) => (\r\n    <button\r\n      type=\"button\"\r\n      onClick={openCreateModal}\r\n      className=\"inline-flex items-center gap-2 px-4 py-2.5 rounded-md text-sm font-semibold\r\n                 bg-emerald-700 text-white hover:bg-emerald-800 shadow-sm\"\r\n    >\r\n      <Plus size={16} />\r\n      {label}\r\n    </button>\r\n  );\r\n\r\n  const shouldRenderHeader = showHeader && !noContainer;\r\n\r\n  const body = effectiveLoading ? (\r\n    <div className=\"px-6 py-10 text-sm text-slate-500\">Loading tags‚Ä¶</div>\r\n  ) : !filteredTags.length ? (\r\n    <div className=\"px-6 py-14 flex flex-col items-center text-center\">\r\n      <div className=\"w-12 h-12 rounded-md bg-emerald-50 text-emerald-700 flex items-center justify-center mb-3\">\r\n        <TagIcon size={20} />\r\n      </div>\r\n      <p className=\"text-sm font-semibold text-slate-900\">\r\n        No tags created yet\r\n      </p>\r\n      <p className=\"text-xs text-slate-500 mt-1 max-w-sm\">\r\n        Create your first tag to segment contacts and power Inbox CRM actions.\r\n      </p>\r\n\r\n      <div className=\"mt-4\">\r\n        <CreateButton label=\"Create your first tag\" />\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"overflow-x-auto\">\r\n      <table className=\"w-full text-sm table-fixed\">\r\n        <thead className=\"bg-emerald-50 text-[11px] uppercase tracking-wide text-emerald-700\">\r\n          <tr>\r\n            <th className=\"px-6 py-3 text-left font-semibold w-[34%]\">Tag</th>\r\n            <th className=\"px-6 py-3 text-left font-semibold w-[20%]\">\r\n              Category\r\n            </th>\r\n            <th className=\"px-6 py-3 text-left font-semibold w-[16%]\">Type</th>\r\n            <th className=\"px-6 py-3 text-left font-semibold w-[18%]\">\r\n              Created\r\n            </th>\r\n            <th className=\"px-6 py-3 text-right font-semibold w-[12%]\">\r\n              Actions\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody className=\"divide-y divide-slate-100\">\r\n          {filteredTags.map(tag => (\r\n            <tr\r\n              key={tag.id}\r\n              className=\"hover:bg-emerald-50/30 transition-colors\"\r\n            >\r\n              <td className=\"px-6 py-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span\r\n                    className=\"inline-flex items-center px-3 py-1 rounded-md text-xs font-semibold\"\r\n                    style={{\r\n                      background: softBgFromHex(tag.colorHex),\r\n                      color: \"#0f172a\",\r\n                      border: \"1px solid rgba(15,23,42,0.06)\",\r\n                    }}\r\n                  >\r\n                    {tag.name}\r\n                  </span>\r\n                </div>\r\n              </td>\r\n\r\n              <td className=\"px-6 py-4\">\r\n                {tag.category ? (\r\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-md text-[11px] font-semibold bg-slate-100 text-slate-700\">\r\n                    {tag.category}\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"text-slate-400\">‚Äî</span>\r\n                )}\r\n              </td>\r\n\r\n              <td className=\"px-6 py-4\">\r\n                {tag.isSystemTag ? (\r\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-md text-[11px] font-semibold bg-amber-50 text-amber-700 border border-amber-200\">\r\n                    System\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-md text-[11px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200\">\r\n                    Custom\r\n                  </span>\r\n                )}\r\n              </td>\r\n\r\n              <td className=\"px-6 py-4 text-slate-700\">\r\n                {formatDate(tag.createdAt)}\r\n              </td>\r\n\r\n              <td className=\"px-6 py-4\">\r\n                <div className=\"flex justify-end gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    title=\"Edit\"\r\n                    onClick={() => openEditModal(tag)}\r\n                    className=\"p-2 rounded-md text-emerald-700 hover:bg-emerald-50\"\r\n                  >\r\n                    <Pencil size={16} />\r\n                  </button>\r\n\r\n                  <button\r\n                    type=\"button\"\r\n                    title=\"Delete\"\r\n                    onClick={() => handleDelete(tag.id)}\r\n                    className=\"p-2 rounded-md text-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 size={16} />\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n\r\n  const content = noContainer ? (\r\n    body\r\n  ) : (\r\n    <div className=\"bg-white rounded-md border border-slate-100 shadow-sm overflow-hidden\">\r\n      {shouldRenderHeader && (\r\n        <div className=\"px-6 py-5 border-b border-slate-100\">\r\n          <div className=\"flex items-start justify-between gap-4\">\r\n            <div>\r\n              <div className=\"flex flex-wrap items-center gap-2\">\r\n                <h3 className=\"text-sm font-semibold text-slate-900\">\r\n                  Tag Library\r\n                </h3>\r\n                <span className=\"inline-flex items-center px-2.5 py-1 rounded-md text-[11px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200\">\r\n                  Guide\r\n                </span>\r\n              </div>\r\n\r\n              <p className=\"text-xs text-slate-500 mt-1 max-w-2xl\">\r\n                Keep tags short and consistent. You‚Äôll reuse them in Contacts and\r\n                the Inbox CRM side panel.\r\n              </p>\r\n\r\n              <div className=\"mt-3 text-xs text-slate-500\">\r\n                {effectiveLoading ? \"Loading‚Ä¶\" : `${filteredTags.length} tag(s)`}\r\n              </div>\r\n            </div>\r\n\r\n            <CreateButton />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {body}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={containerClassName}>\r\n      {content}\r\n\r\n      {showFormModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm\">\r\n          <div className=\"bg-white rounded-md shadow-xl w-full max-w-md mx-4 relative\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={closeModal}\r\n              className=\"absolute right-3 top-3 text-slate-400 hover:text-slate-600\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <CloseIcon size={18} />\r\n            </button>\r\n            <div className=\"p-5\">\r\n              <TagForm\r\n                selectedTag={selectedTag}\r\n                onSaveComplete={handleSaveComplete}\r\n                onCancel={closeModal}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// // üìÑ src/pages/CRM/Tags/TagList.jsx\r\n\r\n// import { useEffect, useMemo, useState } from \"react\";\r\n// import {\r\n//   Eye,\r\n//   Pencil,\r\n//   Trash2,\r\n//   Tag as TagIcon,\r\n//   X as CloseIcon,\r\n//   Plus,\r\n// } from \"lucide-react\";\r\n// import { toast } from \"react-toastify\";\r\n// import axiosClient from \"../../../api/axiosClient\";\r\n// import TagForm from \"./TagForm\";\r\n\r\n// function formatDate(value) {\r\n//   if (!value) return \"-\";\r\n//   try {\r\n//     return new Date(value).toLocaleDateString();\r\n//   } catch {\r\n//     return \"-\";\r\n//   }\r\n// }\r\n\r\n// function Pill({ children, className = \"\" }) {\r\n//   return (\r\n//     <span\r\n//       className={`inline-flex items-center px-3 py-1 rounded-full text-[11px] font-semibold border ${className}`}\r\n//     >\r\n//       {children}\r\n//     </span>\r\n//   );\r\n// }\r\n\r\n// function normalizeTagsResponse(res) {\r\n//   // Supports:\r\n//   // 1) plain array\r\n//   // 2) ResponseResult { success, message, data: [...] }\r\n//   if (Array.isArray(res?.data)) return res.data;\r\n//   if (Array.isArray(res?.data?.data)) return res.data.data;\r\n//   return [];\r\n// }\r\n\r\n// export default function TagList({\r\n//   searchTerm = \"\",\r\n//   refreshKey,\r\n//   onDeleteComplete,\r\n//   // Optional: if parent is not centering the page, TagList will center itself\r\n//   containerClassName = \"max-w-4xl mx-auto\",\r\n// }) {\r\n//   const [tags, setTags] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   // modal state\r\n//   const [showFormModal, setShowFormModal] = useState(false);\r\n//   const [selectedTag, setSelectedTag] = useState(null);\r\n\r\n//   const fetchTags = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       // ‚úÖ Your controller: [HttpGet(\"get-tags\")]\r\n//       const res = await axiosClient.get(\"/tags\");\r\n//       const list = normalizeTagsResponse(res);\r\n//       setTags(list);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       toast.error(\"Failed to load tags\");\r\n//       setTags([]);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchTags();\r\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n//   }, [refreshKey]);\r\n\r\n//   const filteredTags = useMemo(() => {\r\n//     const term = (searchTerm || \"\").toLowerCase().trim();\r\n//     if (!term) return tags;\r\n\r\n//     return tags.filter(t => {\r\n//       const name = (t.name || \"\").toLowerCase();\r\n//       const cat = (t.category || \"\").toLowerCase();\r\n//       return name.includes(term) || cat.includes(term);\r\n//     });\r\n//   }, [tags, searchTerm]);\r\n\r\n//   const openCreateModal = () => {\r\n//     setSelectedTag(null);\r\n//     setShowFormModal(true);\r\n//   };\r\n\r\n//   const openEditModal = tag => {\r\n//     setSelectedTag(tag);\r\n//     setShowFormModal(true);\r\n//   };\r\n\r\n//   const closeModal = () => {\r\n//     setShowFormModal(false);\r\n//     setSelectedTag(null);\r\n//   };\r\n\r\n//   const handleSaveComplete = (success = true, message = \"\") => {\r\n//     if (success) {\r\n//       fetchTags();\r\n//       if (message) toast.success(message);\r\n//       else toast.success(selectedTag ? \"Tag updated\" : \"Tag created\");\r\n//     } else {\r\n//       toast.error(message || \"Failed to save tag\");\r\n//     }\r\n//     closeModal();\r\n//   };\r\n\r\n//   const handleDelete = async id => {\r\n//     if (!window.confirm(\"Delete this tag?\")) return;\r\n\r\n//     try {\r\n//       await axiosClient.delete(`/tags/${id}`);\r\n//       toast.success(\"Tag deleted\");\r\n//       fetchTags();\r\n//       onDeleteComplete?.(true);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       toast.error(\"Failed to delete tag\");\r\n//       onDeleteComplete?.(false);\r\n//     }\r\n//   };\r\n\r\n//   const CreateButton = ({ label = \"Create\" }) => (\r\n//     <button\r\n//       type=\"button\"\r\n//       onClick={openCreateModal}\r\n//       className=\"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold\r\n//                  bg-emerald-700 text-white hover:bg-emerald-800 shadow-sm\"\r\n//     >\r\n//       <Plus size={16} />\r\n//       {label}\r\n//     </button>\r\n//   );\r\n\r\n//   return (\r\n//     <div className={containerClassName}>\r\n//       {/* ‚úÖ Compact, premium card (not full-page empty ocean) */}\r\n//       <div className=\"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden\">\r\n//         {/* Header */}\r\n//         <div className=\"px-6 py-5 border-b border-slate-100\">\r\n//           <div className=\"flex items-start justify-between gap-4\">\r\n//             <div>\r\n//               <div className=\"flex flex-wrap items-center gap-2\">\r\n//                 <h3 className=\"text-sm font-semibold text-slate-900\">\r\n//                   Tag Library\r\n//                 </h3>\r\n\r\n//                 {/* ‚úÖ Guide badges */}\r\n//                 <Pill className=\"bg-emerald-50 text-emerald-700 border-emerald-200\">\r\n//                   Guide\r\n//                 </Pill>\r\n//                 <Pill className=\"bg-slate-50 text-slate-700 border-slate-200\">\r\n//                   Best practice\r\n//                 </Pill>\r\n//               </div>\r\n\r\n//               <p className=\"text-xs text-slate-500 mt-1 max-w-2xl\">\r\n//                 Keep tags short and consistent. You‚Äôll reuse them in Contacts\r\n//                 and the Inbox CRM side panel (notes/reminders/tags).\r\n//               </p>\r\n//             </div>\r\n\r\n//             <CreateButton />\r\n//           </div>\r\n\r\n//           {/* Meta line */}\r\n//           <div className=\"mt-3 text-xs text-slate-500\">\r\n//             {loading ? \"Loading‚Ä¶\" : `${filteredTags.length} tag(s)`}\r\n//           </div>\r\n//         </div>\r\n\r\n//         {/* Body */}\r\n//         {loading ? (\r\n//           <div className=\"px-6 py-10 text-sm text-slate-500\">Loading tags‚Ä¶</div>\r\n//         ) : !filteredTags.length ? (\r\n//           <div className=\"px-6 py-14 flex flex-col items-center text-center\">\r\n//             <div className=\"w-12 h-12 rounded-2xl bg-emerald-50 text-emerald-700 flex items-center justify-center mb-3\">\r\n//               <TagIcon size={20} />\r\n//             </div>\r\n//             <p className=\"text-sm font-semibold text-slate-900\">\r\n//               No tags created yet\r\n//             </p>\r\n//             <p className=\"text-xs text-slate-500 mt-1 max-w-sm\">\r\n//               Create your first tag to segment contacts, track intent, and power\r\n//               Inbox-side CRM actions.\r\n//             </p>\r\n\r\n//             <div className=\"mt-4\">\r\n//               <CreateButton label=\"Create your first tag\" />\r\n//             </div>\r\n//           </div>\r\n//         ) : (\r\n//           <div className=\"overflow-x-auto\">\r\n//             {/* ‚úÖ Compact table that still looks premium */}\r\n//             <table className=\"w-full text-sm\">\r\n//               <thead className=\"bg-slate-50\">\r\n//                 <tr className=\"text-[11px] uppercase tracking-wide text-slate-500\">\r\n//                   <th className=\"px-6 py-3 text-left font-semibold\">Tag</th>\r\n//                   <th className=\"px-6 py-3 text-left font-semibold\">\r\n//                     Category\r\n//                   </th>\r\n//                   <th className=\"px-6 py-3 text-left font-semibold\">System</th>\r\n//                   <th className=\"px-6 py-3 text-left font-semibold\">Created</th>\r\n//                   <th className=\"px-6 py-3 text-right font-semibold\">\r\n//                     Actions\r\n//                   </th>\r\n//                 </tr>\r\n//               </thead>\r\n\r\n//               <tbody className=\"divide-y divide-slate-100\">\r\n//                 {filteredTags.map(tag => (\r\n//                   <tr\r\n//                     key={tag.id}\r\n//                     className=\"hover:bg-emerald-50/30 transition-colors\"\r\n//                   >\r\n//                     <td className=\"px-6 py-4\">\r\n//                       <div className=\"flex items-center gap-3\">\r\n//                         <span\r\n//                           className=\"w-2.5 h-2.5 rounded-full\"\r\n//                           style={{ backgroundColor: tag.colorHex || \"#22C55E\" }}\r\n//                         />\r\n//                         <span className=\"font-semibold text-slate-900\">\r\n//                           {tag.name}\r\n//                         </span>\r\n//                       </div>\r\n//                     </td>\r\n\r\n//                     <td className=\"px-6 py-4 text-slate-700\">\r\n//                       {tag.category ? (\r\n//                         <span className=\"inline-flex items-center px-3 py-1 rounded-full text-[11px] font-semibold bg-slate-100 text-slate-700\">\r\n//                           {tag.category}\r\n//                         </span>\r\n//                       ) : (\r\n//                         <span className=\"text-slate-400\">‚Äî</span>\r\n//                       )}\r\n//                     </td>\r\n\r\n//                     <td className=\"px-6 py-4\">\r\n//                       {tag.isSystemTag ? (\r\n//                         <span className=\"inline-flex items-center px-3 py-1 rounded-full text-[11px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200\">\r\n//                           Yes\r\n//                         </span>\r\n//                       ) : (\r\n//                         <span className=\"inline-flex items-center px-3 py-1 rounded-full text-[11px] font-semibold bg-slate-100 text-slate-600 border border-slate-200\">\r\n//                           No\r\n//                         </span>\r\n//                       )}\r\n//                     </td>\r\n\r\n//                     <td className=\"px-6 py-4 text-slate-700\">\r\n//                       {formatDate(tag.createdAt)}\r\n//                     </td>\r\n\r\n//                     <td className=\"px-6 py-4\">\r\n//                       <div className=\"flex justify-end gap-2\">\r\n//                         <button\r\n//                           type=\"button\"\r\n//                           title=\"View (coming soon)\"\r\n//                           disabled\r\n//                           className=\"p-2 rounded-xl text-slate-400 hover:bg-slate-100 disabled:opacity-60\"\r\n//                         >\r\n//                           <Eye size={16} />\r\n//                         </button>\r\n\r\n//                         <button\r\n//                           type=\"button\"\r\n//                           title=\"Edit\"\r\n//                           onClick={() => openEditModal(tag)}\r\n//                           className=\"p-2 rounded-xl text-emerald-700 hover:bg-emerald-50\"\r\n//                         >\r\n//                           <Pencil size={16} />\r\n//                         </button>\r\n\r\n//                         <button\r\n//                           type=\"button\"\r\n//                           title=\"Delete\"\r\n//                           onClick={() => handleDelete(tag.id)}\r\n//                           className=\"p-2 rounded-xl text-red-600 hover:bg-red-50\"\r\n//                         >\r\n//                           <Trash2 size={16} />\r\n//                         </button>\r\n//                       </div>\r\n//                     </td>\r\n//                   </tr>\r\n//                 ))}\r\n//               </tbody>\r\n//             </table>\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n\r\n//       {/* Modal */}\r\n//       {showFormModal && (\r\n//         <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm\">\r\n//           <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4 relative\">\r\n//             <button\r\n//               type=\"button\"\r\n//               onClick={closeModal}\r\n//               className=\"absolute right-3 top-3 text-slate-400 hover:text-slate-600\"\r\n//             >\r\n//               <CloseIcon size={18} />\r\n//             </button>\r\n//             <div className=\"p-5\">\r\n//               <TagForm\r\n//                 selectedTag={selectedTag}\r\n//                 onSaveComplete={handleSaveComplete}\r\n//                 onCancel={closeModal}\r\n//               />\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// // üìÑ src/pages/CRM/Tags/TagList.jsx\r\n\r\n// import { useEffect, useMemo, useState } from \"react\";\r\n// import {\r\n//   Eye,\r\n//   Pencil,\r\n//   Trash2,\r\n//   Tag as TagIcon,\r\n//   X as CloseIcon,\r\n//   Plus,\r\n// } from \"lucide-react\";\r\n// import { toast } from \"react-toastify\";\r\n// import axiosClient from \"../../../api/axiosClient\";\r\n// import TagForm from \"./TagForm\";\r\n\r\n// function formatDate(value) {\r\n//   if (!value) return \"-\";\r\n//   try {\r\n//     return new Date(value).toLocaleDateString();\r\n//   } catch {\r\n//     return \"-\";\r\n//   }\r\n// }\r\n\r\n// function Pill({ children, bg, text }) {\r\n//   return (\r\n//     <span\r\n//       className={`inline-flex items-center px-3 py-1 rounded-full text-[11px] font-medium ${bg} ${text}`}\r\n//     >\r\n//       {children}\r\n//     </span>\r\n//   );\r\n// }\r\n\r\n// export default function TagList({\r\n//   searchTerm = \"\",\r\n//   refreshKey,\r\n//   onDeleteComplete,\r\n// }) {\r\n//   const [tags, setTags] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   // modal state\r\n//   const [showFormModal, setShowFormModal] = useState(false);\r\n//   const [selectedTag, setSelectedTag] = useState(null);\r\n\r\n//   const fetchTags = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const res = await axiosClient.get(\"/tags\");\r\n//       let list = [];\r\n//       if (Array.isArray(res.data)) list = res.data;\r\n//       else if (Array.isArray(res.data?.data)) list = res.data.data;\r\n//       setTags(list);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       toast.error(\"Failed to load tags\");\r\n//       setTags([]);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchTags();\r\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n//   }, [refreshKey]);\r\n\r\n//   const filteredTags = useMemo(() => {\r\n//     const term = (searchTerm || \"\").toLowerCase().trim();\r\n//     if (!term) return tags;\r\n//     return tags.filter(t => {\r\n//       const name = (t.name || \"\").toLowerCase();\r\n//       const cat = (t.category || \"\").toLowerCase();\r\n//       return name.includes(term) || cat.includes(term);\r\n//     });\r\n//   }, [tags, searchTerm]);\r\n\r\n//   const openCreateModal = () => {\r\n//     setSelectedTag(null);\r\n//     setShowFormModal(true);\r\n//   };\r\n\r\n//   const openEditModal = tag => {\r\n//     setSelectedTag(tag);\r\n//     setShowFormModal(true);\r\n//   };\r\n\r\n//   const closeModal = () => {\r\n//     setShowFormModal(false);\r\n//     setSelectedTag(null);\r\n//   };\r\n\r\n//   const handleSaveComplete = (success = true, message = \"\") => {\r\n//     if (success) {\r\n//       fetchTags();\r\n//       if (message) toast.success(message);\r\n//     } else if (message) toast.error(message);\r\n//     closeModal();\r\n//   };\r\n\r\n//   const handleDelete = async id => {\r\n//     if (!window.confirm(\"Delete this tag?\")) return;\r\n//     try {\r\n//       await axiosClient.delete(`/tags/${id}`);\r\n//       toast.success(\"Tag deleted\");\r\n//       fetchTags();\r\n//       onDeleteComplete?.(true);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       toast.error(\"Failed to delete tag\");\r\n//       onDeleteComplete?.(false);\r\n//     }\r\n//   };\r\n\r\n//   // ‚úÖ expose create button for Tags.jsx controls row\r\n//   TagList.CreateButton = function CreateButton() {\r\n//     return (\r\n//       <button\r\n//         type=\"button\"\r\n//         onClick={openCreateModal}\r\n//         className=\"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold\r\n//                    bg-emerald-700 text-white hover:bg-emerald-800 shadow-sm\"\r\n//       >\r\n//         <Plus size={16} />\r\n//         Create\r\n//       </button>\r\n//     );\r\n//   };\r\n\r\n//   if (loading) {\r\n//     return (\r\n//       <div className=\"px-6 py-6 text-sm text-slate-500\">Loading tags‚Ä¶</div>\r\n//     );\r\n//   }\r\n\r\n//   // Empty state inside the table card (professional, not huge page)\r\n//   if (!filteredTags.length) {\r\n//     return (\r\n//       <>\r\n//         <div className=\"px-6 py-14 flex flex-col items-center text-center\">\r\n//           <div className=\"w-12 h-12 rounded-2xl bg-emerald-50 text-emerald-700 flex items-center justify-center mb-3\">\r\n//             <TagIcon size={20} />\r\n//           </div>\r\n//           <p className=\"text-sm font-semibold text-slate-900\">No tags yet</p>\r\n//           <p className=\"text-xs text-slate-500 mt-1 max-w-sm\">\r\n//             Create tags to segment contacts, track journeys, and add CRM actions\r\n//             directly from Inbox.\r\n//           </p>\r\n//           <button\r\n//             type=\"button\"\r\n//             onClick={openCreateModal}\r\n//             className=\"mt-4 inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold\r\n//                        bg-emerald-700 text-white hover:bg-emerald-800 shadow-sm\"\r\n//           >\r\n//             <Plus size={16} />\r\n//             Create your first tag\r\n//           </button>\r\n//         </div>\r\n\r\n//         {showFormModal && (\r\n//           <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm\">\r\n//             <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4 relative\">\r\n//               <button\r\n//                 type=\"button\"\r\n//                 onClick={closeModal}\r\n//                 className=\"absolute right-3 top-3 text-slate-400 hover:text-slate-600\"\r\n//               >\r\n//                 <CloseIcon size={18} />\r\n//               </button>\r\n//               <div className=\"p-5\">\r\n//                 <TagForm\r\n//                   selectedTag={selectedTag}\r\n//                   onSaveComplete={handleSaveComplete}\r\n//                   onCancel={closeModal}\r\n//                 />\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         )}\r\n//       </>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <>\r\n//       <div className=\"px-6 py-4 border-b border-slate-100 flex items-center justify-between\">\r\n//         <div>\r\n//           <h3 className=\"text-sm font-semibold text-slate-900\">Tag Library</h3>\r\n//           <p className=\"text-xs text-slate-500 mt-0.5\">\r\n//             Manage tags for CRM segmentation and Inbox actions.\r\n//           </p>\r\n//         </div>\r\n//         {/* Create action stays consistent */}\r\n//         <TagList.CreateButton />\r\n//       </div>\r\n\r\n//       <div className=\"overflow-x-auto\">\r\n//         <table className=\"w-full text-sm\">\r\n//           <thead className=\"bg-slate-50\">\r\n//             <tr className=\"text-[11px] uppercase tracking-wide text-slate-500\">\r\n//               <th className=\"px-6 py-3 text-left font-semibold\">Tag</th>\r\n//               <th className=\"px-6 py-3 text-left font-semibold\">Category</th>\r\n//               <th className=\"px-6 py-3 text-left font-semibold\">System</th>\r\n//               <th className=\"px-6 py-3 text-left font-semibold\">Created</th>\r\n//               <th className=\"px-6 py-3 text-right font-semibold\">Actions</th>\r\n//             </tr>\r\n//           </thead>\r\n\r\n//           <tbody className=\"divide-y divide-slate-100\">\r\n//             {filteredTags.map(tag => (\r\n//               <tr\r\n//                 key={tag.id}\r\n//                 className=\"hover:bg-emerald-50/30 transition-colors\"\r\n//               >\r\n//                 <td className=\"px-6 py-4\">\r\n//                   <div className=\"flex items-center gap-3\">\r\n//                     <span\r\n//                       className=\"w-2.5 h-2.5 rounded-full\"\r\n//                       style={{ backgroundColor: tag.colorHex || \"#22C55E\" }}\r\n//                     />\r\n//                     <span className=\"font-semibold text-slate-900\">\r\n//                       {tag.name}\r\n//                     </span>\r\n//                   </div>\r\n//                 </td>\r\n\r\n//                 <td className=\"px-6 py-4 text-slate-700\">\r\n//                   {tag.category ? (\r\n//                     <Pill bg=\"bg-slate-100\" text=\"text-slate-700\">\r\n//                       {tag.category}\r\n//                     </Pill>\r\n//                   ) : (\r\n//                     <span className=\"text-slate-400\">‚Äî</span>\r\n//                   )}\r\n//                 </td>\r\n\r\n//                 <td className=\"px-6 py-4\">\r\n//                   {tag.isSystemTag ? (\r\n//                     <Pill bg=\"bg-emerald-50\" text=\"text-emerald-700\">\r\n//                       Yes\r\n//                     </Pill>\r\n//                   ) : (\r\n//                     <Pill bg=\"bg-slate-100\" text=\"text-slate-600\">\r\n//                       No\r\n//                     </Pill>\r\n//                   )}\r\n//                 </td>\r\n\r\n//                 <td className=\"px-6 py-4 text-slate-700\">\r\n//                   {formatDate(tag.createdAt)}\r\n//                 </td>\r\n\r\n//                 <td className=\"px-6 py-4\">\r\n//                   <div className=\"flex justify-end gap-2\">\r\n//                     <button\r\n//                       type=\"button\"\r\n//                       title=\"View (coming soon)\"\r\n//                       disabled\r\n//                       className=\"p-2 rounded-xl text-slate-400 hover:bg-slate-100\"\r\n//                     >\r\n//                       <Eye size={16} />\r\n//                     </button>\r\n\r\n//                     <button\r\n//                       type=\"button\"\r\n//                       title=\"Edit\"\r\n//                       onClick={() => openEditModal(tag)}\r\n//                       className=\"p-2 rounded-xl text-emerald-700 hover:bg-emerald-50\"\r\n//                     >\r\n//                       <Pencil size={16} />\r\n//                     </button>\r\n\r\n//                     <button\r\n//                       type=\"button\"\r\n//                       title=\"Delete\"\r\n//                       onClick={() => handleDelete(tag.id)}\r\n//                       className=\"p-2 rounded-xl text-red-600 hover:bg-red-50\"\r\n//                     >\r\n//                       <Trash2 size={16} />\r\n//                     </button>\r\n//                   </div>\r\n//                 </td>\r\n//               </tr>\r\n//             ))}\r\n//           </tbody>\r\n//         </table>\r\n//       </div>\r\n\r\n//       {showFormModal && (\r\n//         <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm\">\r\n//           <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4 relative\">\r\n//             <button\r\n//               type=\"button\"\r\n//               onClick={closeModal}\r\n//               className=\"absolute right-3 top-3 text-slate-400 hover:text-slate-600\"\r\n//             >\r\n//               <CloseIcon size={18} />\r\n//             </button>\r\n//             <div className=\"p-5\">\r\n//               <TagForm\r\n//                 selectedTag={selectedTag}\r\n//                 onSaveComplete={handleSaveComplete}\r\n//                 onCancel={closeModal}\r\n//               />\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// // üìÑ src/pages/CRM/Tags/TagList.jsx\r\n\r\n// import { useEffect, useMemo, useState } from \"react\";\r\n// import {\r\n//   Eye,\r\n//   Pencil,\r\n//   Trash2,\r\n//   Tag as TagIcon,\r\n//   X as CloseIcon,\r\n// } from \"lucide-react\";\r\n// import { toast } from \"react-toastify\";\r\n// import axiosClient from \"../../../api/axiosClient\";\r\n// import TagForm from \"./TagForm\";\r\n\r\n// export default function TagList({\r\n//   searchTerm = \"\",\r\n//   onEdit, // optional, for future parent use\r\n//   refreshKey, // optional, for parent-driven refresh\r\n//   onDeleteComplete, // optional\r\n// }) {\r\n//   const [tags, setTags] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   // üîπ Local state for modal + selected tag\r\n//   const [showFormModal, setShowFormModal] = useState(false);\r\n//   const [selectedTag, setSelectedTag] = useState(null);\r\n\r\n//   const fetchTags = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const res = await axiosClient.get(\"/tags\"); // ‚úÖ baseUrl already has /api\r\n\r\n//       let list = [];\r\n//       if (Array.isArray(res.data)) {\r\n//         list = res.data;\r\n//       } else if (Array.isArray(res.data?.data)) {\r\n//         list = res.data.data;\r\n//       }\r\n\r\n//       setTags(list);\r\n//     } catch (error) {\r\n//       console.error(\"Failed to fetch tags\", error);\r\n//       toast.error(\"Failed to load tags\");\r\n//       setTags([]);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchTags();\r\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n//   }, [refreshKey]);\r\n\r\n//   const filteredTags = useMemo(() => {\r\n//     const term = (searchTerm || \"\").toLowerCase().trim();\r\n//     if (!term) return tags;\r\n\r\n//     return tags.filter(tag => {\r\n//       const name = (tag.name || \"\").toLowerCase();\r\n//       const category = (tag.category || \"\").toLowerCase();\r\n//       return name.includes(term) || category.includes(term);\r\n//     });\r\n//   }, [tags, searchTerm]);\r\n\r\n//   const handleDelete = async id => {\r\n//     if (!window.confirm(\"Are you sure you want to delete this tag?\")) return;\r\n\r\n//     try {\r\n//       await axiosClient.delete(`/tags/${id}`);\r\n//       toast.success(\"Tag deleted\");\r\n//       fetchTags();\r\n//       onDeleteComplete && onDeleteComplete(true);\r\n//     } catch (error) {\r\n//       console.error(\"Failed to delete tag\", error);\r\n//       toast.error(\"Failed to delete tag\");\r\n//       onDeleteComplete && onDeleteComplete(false, \"Failed to delete tag\");\r\n//     }\r\n//   };\r\n\r\n//   // üîπ Modal open/close helpers\r\n//   const openCreateModal = () => {\r\n//     setSelectedTag(null);\r\n//     setShowFormModal(true);\r\n//   };\r\n\r\n//   const openEditModal = tag => {\r\n//     setSelectedTag(tag);\r\n//     setShowFormModal(true);\r\n//     onEdit && onEdit(tag); // optional hook\r\n//   };\r\n\r\n//   const closeModal = () => {\r\n//     setShowFormModal(false);\r\n//     setSelectedTag(null);\r\n//   };\r\n\r\n//   const handleSaveComplete = (success = true, message = \"\") => {\r\n//     if (success) {\r\n//       fetchTags();\r\n//       if (message) toast.success(message);\r\n//     } else if (message) {\r\n//       toast.error(message);\r\n//     }\r\n//     closeModal();\r\n//   };\r\n\r\n//   if (loading) {\r\n//     return <p className=\"text-sm text-gray-500 py-4\">Loading tags...</p>;\r\n//   }\r\n\r\n//   // üîπ Empty state (your screenshot)\r\n//   if (!filteredTags.length) {\r\n//     return (\r\n//       <>\r\n//         <div className=\"py-14 flex flex-col items-center justify-center text-center\">\r\n//           <div className=\"w-12 h-12 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center mb-3\">\r\n//             <TagIcon size={22} />\r\n//           </div>\r\n//           <p className=\"text-sm font-semibold text-gray-800 mb-1\">\r\n//             No tags created yet\r\n//           </p>\r\n//           <p className=\"text-xs text-gray-500 mb-4 max-w-xs\">\r\n//             Create your first message tag to track customer journeys,\r\n//             priorities, and segments across Contacts and Inbox.\r\n//           </p>\r\n//           <button\r\n//             type=\"button\"\r\n//             onClick={openCreateModal}\r\n//             className=\"inline-flex items-center gap-2 px-4 py-2 rounded-md text-xs font-medium text-white bg-emerald-700 hover:bg-emerald-800 shadow-sm\"\r\n//           >\r\n//             Create your first tag\r\n//           </button>\r\n//         </div>\r\n\r\n//         {/* Modal for create */}\r\n//         {showFormModal && (\r\n//           <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm\">\r\n//             <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4 relative\">\r\n//               <button\r\n//                 type=\"button\"\r\n//                 onClick={closeModal}\r\n//                 className=\"absolute right-3 top-3 text-gray-400 hover:text-gray-600\"\r\n//               >\r\n//                 <CloseIcon size={18} />\r\n//               </button>\r\n//               <div className=\"p-5\">\r\n//                 <TagForm\r\n//                   selectedTag={selectedTag}\r\n//                   onSaveComplete={handleSaveComplete}\r\n//                   onCancel={closeModal}\r\n//                 />\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         )}\r\n//       </>\r\n//     );\r\n//   }\r\n\r\n//   // üîπ Table view when tags exist\r\n//   return (\r\n//     <>\r\n//       <div className=\"overflow-hidden rounded-xl border border-gray-100\">\r\n//         <table className=\"min-w-full text-sm\">\r\n//           <thead className=\"bg-gray-50\">\r\n//             <tr className=\"text-gray-500 text-xs uppercase tracking-wide\">\r\n//               <th className=\"px-4 py-2 text-left font-medium\">Tag Name</th>\r\n//               <th className=\"px-4 py-2 text-left font-medium\">Category</th>\r\n//               <th className=\"px-4 py-2 text-left font-medium\">System</th>\r\n//               <th className=\"px-4 py-2 text-left font-medium\">Created At</th>\r\n//               <th className=\"px-4 py-2 text-center font-medium\">Action</th>\r\n//             </tr>\r\n//           </thead>\r\n//           <tbody className=\"bg-white divide-y divide-gray-100\">\r\n//             {filteredTags.map(tag => (\r\n//               <tr key={tag.id} className=\"hover:bg-emerald-50/40\">\r\n//                 {/* Tag chip */}\r\n//                 <td className=\"px-4 py-2\">\r\n//                   <span\r\n//                     className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium\"\r\n//                     style={{\r\n//                       backgroundColor: tag.colorHex || \"#E0F2FE\",\r\n//                       color: \"#0F172A\",\r\n//                     }}\r\n//                   >\r\n//                     {tag.name}\r\n//                   </span>\r\n//                 </td>\r\n\r\n//                 {/* Category */}\r\n//                 <td className=\"px-4 py-2 text-gray-700 text-xs\">\r\n//                   {tag.category || \"-\"}\r\n//                 </td>\r\n\r\n//                 {/* System Tag? */}\r\n//                 <td className=\"px-4 py-2 text-gray-700 text-xs\">\r\n//                   {tag.isSystemTag ? \"Yes\" : \"No\"}\r\n//                 </td>\r\n\r\n//                 {/* CreatedAt */}\r\n//                 <td className=\"px-4 py-2 text-gray-700 text-xs\">\r\n//                   {tag.createdAt\r\n//                     ? new Date(tag.createdAt).toLocaleDateString()\r\n//                     : \"-\"}\r\n//                 </td>\r\n\r\n//                 {/* Actions */}\r\n//                 <td className=\"px-4 py-2 text-center\">\r\n//                   <div className=\"inline-flex items-center gap-2\">\r\n//                     <button\r\n//                       type=\"button\"\r\n//                       className=\"p-1 rounded hover:bg-gray-100 text-gray-400\"\r\n//                       title=\"View (coming soon)\"\r\n//                       disabled\r\n//                     >\r\n//                       <Eye size={16} />\r\n//                     </button>\r\n//                     <button\r\n//                       type=\"button\"\r\n//                       onClick={() => openEditModal(tag)}\r\n//                       className=\"p-1 rounded hover:bg-emerald-50 text-emerald-700\"\r\n//                       title=\"Edit\"\r\n//                     >\r\n//                       <Pencil size={16} />\r\n//                     </button>\r\n//                     <button\r\n//                       type=\"button\"\r\n//                       onClick={() => handleDelete(tag.id)}\r\n//                       className=\"p-1 rounded hover:bg-red-50 text-red-600\"\r\n//                       title=\"Delete\"\r\n//                     >\r\n//                       <Trash2 size={16} />\r\n//                     </button>\r\n//                   </div>\r\n//                 </td>\r\n//               </tr>\r\n//             ))}\r\n//           </tbody>\r\n//         </table>\r\n//       </div>\r\n\r\n//       {/* Modal for create/edit in table view */}\r\n//       {showFormModal && (\r\n//         <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm\">\r\n//           <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4 relative\">\r\n//             <button\r\n//               type=\"button\"\r\n//               onClick={closeModal}\r\n//               className=\"absolute right-3 top-3 text-gray-400 hover:text-gray-600\"\r\n//             >\r\n//               <CloseIcon size={18} />\r\n//             </button>\r\n//             <div className=\"p-5\">\r\n//               <TagForm\r\n//                 selectedTag={selectedTag}\r\n//                 onSaveComplete={handleSaveComplete}\r\n//                 onCancel={closeModal}\r\n//               />\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// import { useEffect, useState } from \"react\";\r\n// import { Trash2, Pencil } from \"lucide-react\";\r\n// import { toast } from \"react-toastify\";\r\n\r\n// export default function TagList({ onEditTag, refreshTrigger }) {\r\n//   const [tags, setTags] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   const fetchTags = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const res = await fetch(\"/api/tags\");\r\n//       const result = await res.json();\r\n\r\n//       // ‚úÖ Extract actual array from result.data\r\n//       if (Array.isArray(result.data)) {\r\n//         setTags(result.data);\r\n//       } else {\r\n//         setTags([]);\r\n//         console.error(\r\n//           \"Invalid response from /api/tags. Expected result.data to be array:\",\r\n//           result\r\n//         );\r\n//         toast.error(\"‚ùå Invalid tag data received\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Failed to fetch tags\", err);\r\n//       toast.error(\"‚ùå Failed to load tags\");\r\n//       setTags([]);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchTags();\r\n//   }, [refreshTrigger]);\r\n\r\n//   const handleDelete = async id => {\r\n//     if (!window.confirm(\"Are you sure you want to delete this tag?\")) return;\r\n\r\n//     try {\r\n//       const res = await fetch(`/api/tags/${id}`, {\r\n//         method: \"DELETE\",\r\n//       });\r\n\r\n//       if (!res.ok) throw new Error();\r\n\r\n//       toast.success(\"‚úÖ Tag deleted\");\r\n//       fetchTags();\r\n//     } catch (err) {\r\n//       toast.error(\"‚ùå Failed to delete tag\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"mt-6 bg-white rounded-md border shadow-sm p-6 transition hover:shadow-md\">\r\n//       <h2 className=\"text-lg font-bold text-gray-800 mb-3\">üóÇÔ∏è All Tags</h2>\r\n\r\n//       {loading ? (\r\n//         <p className=\"text-sm text-gray-500\">Loading tags...</p>\r\n//       ) : tags.length === 0 ? (\r\n//         <p className=\"text-sm text-gray-500\">No tags found.</p>\r\n//       ) : (\r\n//         <div className=\"space-y-3\">\r\n//           {tags.map(tag => (\r\n//             <div\r\n//               key={tag.id}\r\n//               className=\"flex items-center justify-between border-b pb-2\"\r\n//             >\r\n//               <div className=\"flex items-center gap-3\">\r\n//                 <div\r\n//                   className=\"w-4 h-4 rounded-full border\"\r\n//                   style={{ backgroundColor: tag.colorHex || \"#ccc\" }}\r\n//                 ></div>\r\n//                 <div>\r\n//                   <p className=\"text-sm font-medium text-gray-800\">\r\n//                     {tag.name}\r\n//                   </p>\r\n//                   <p className=\"text-xs text-gray-500\">\r\n//                     {tag.category || \"Uncategorized\"}{\" \"}\r\n//                     {tag.isSystemTag && \"¬∑ System\"}\r\n//                   </p>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               <div className=\"flex items-center gap-3\">\r\n//                 <button\r\n//                   onClick={() => onEditTag(tag)}\r\n//                   className=\"text-gray-600 hover:text-purple-600\"\r\n//                   title=\"Edit\"\r\n//                 >\r\n//                   <Pencil size={18} />\r\n//                 </button>\r\n//                 <button\r\n//                   onClick={() => handleDelete(tag.id)}\r\n//                   className=\"text-gray-600 hover:text-red-600\"\r\n//                   title=\"Delete\"\r\n//                 >\r\n//                   <Trash2 size={18} />\r\n//                 </button>\r\n//               </div>\r\n//             </div>\r\n//           ))}\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { Tag as TagIcon, X } from \"lucide-react\";\nimport { toast } from \"react-toastify\";\n\nimport axiosClient from \"../../../api/axiosClient\";\nimport TagForm from \"./TagForm\";\nimport TagList from \"./TagList\";\n\nfunction safeList(res) {\n  if (Array.isArray(res?.data)) return res.data;\n  if (Array.isArray(res?.data?.data)) return res.data.data;\n  return [];\n}\n\nexport default function Tags() {\n  const [tags, setTags] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [q, setQ] = useState(\"\");\n  const [typeTab, setTypeTab] = useState(\"all\"); // all | system | custom\n  const [categoryFilter, setCategoryFilter] = useState(\"\");\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n\n  const fetchTags = async () => {\n    setLoading(true);\n    try {\n      const res = await axiosClient.get(\"/tags\");\n      setTags(safeList(res));\n    } catch (e) {\n      console.error(e);\n      toast.error(\"Failed to load tags\");\n      setTags([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  const categories = useMemo(() => {\n    const set = new Set();\n    tags.forEach(t => {\n      if (t.category) set.add(t.category);\n    });\n    return Array.from(set).sort();\n  }, [tags]);\n\n  const filtered = useMemo(() => {\n    const term = q.trim().toLowerCase();\n    return tags.filter(t => {\n      if (typeTab === \"system\" && !t.isSystemTag) return false;\n      if (typeTab === \"custom\" && t.isSystemTag) return false;\n      if (categoryFilter && (t.category || \"\") !== categoryFilter) return false;\n\n      const name = (t.name || \"\").toLowerCase();\n      const cat = (t.category || \"\").toLowerCase();\n      if (!term) return true;\n      return name.includes(term) || cat.includes(term);\n    });\n  }, [tags, q, typeTab, categoryFilter]);\n\n  const openCreate = () => {\n    setSelectedTag(null);\n    setShowModal(true);\n  };\n\n  const openEdit = tag => {\n    setSelectedTag(tag);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedTag(null);\n  };\n\n  const onSaved = (ok, msg) => {\n    if (ok) {\n      fetchTags();\n      toast.success(msg || (selectedTag ? \"Tag updated\" : \"Tag created\"));\n    } else {\n      toast.error(msg || \"Failed to save\");\n    }\n    closeModal();\n  };\n\n  const onDelete = async tag => {\n    if (!window.confirm(`Delete tag \"${tag?.name}\"?`)) return;\n    try {\n      await axiosClient.delete(`/tags/${tag.id}`);\n      toast.success(\"Tag deleted\");\n      fetchTags();\n    } catch (e) {\n      console.error(e);\n      toast.error(\"Failed to delete\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-[calc(100vh-80px)] bg-[#f5f6f7]\">\n      <div className=\"max-w-6xl mx-auto px-6 pt-10 pb-8\">\n        {/* Page header */}\n        <div className=\"mb-4 flex items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-9 h-9 rounded-md bg-emerald-50 text-emerald-700 flex items-center justify-center\">\n              <TagIcon size={17} />\n            </div>\n            <div>\n              <h1 className=\"text-2xl font-semibold text-slate-900\">Tags</h1>\n              <p className=\"text-xs text-slate-600 mt-0.5\">\n                Create reusable labels to segment contacts and automate WhatsApp\n                journeys.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Pro tip card (same style as Reminders) */}\n        <div className=\"mb-5 bg-emerald-50/70 border border-emerald-100 rounded-md px-5 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\n          <div className=\"text-sm text-slate-800\">\n            <div className=\"font-semibold text-emerald-900\">\n              Pro tip: keep tags simple and reusable\n            </div>\n            <div className=\"mt-1 text-xs text-slate-700 space-y-0.5\">\n              <div>\n                Use tags to capture intent and journeys (e.g. ‚ÄúHigh‚Äëintent‚Äù,\n                ‚ÄúPayment pending‚Äù, ‚ÄúVIP‚Äù).\n              </div>\n              <div>\n                Short names work best across Contacts, Inbox CRM, Campaigns and\n                automations.\n              </div>\n            </div>\n          </div>\n          <button\n            type=\"button\"\n            onClick={openCreate}\n            className=\"inline-flex items-center justify-center px-4 py-2 rounded-md text-xs font-semibold bg-emerald-700 text-white border border-emerald-700 hover:bg-emerald-800 whitespace-nowrap\"\n          >\n            Create a tag\n          </button>\n        </div>\n\n        {/* List + filters */}\n        <div className=\"bg-white rounded-md border border-slate-100 shadow-sm px-6 py-5\">\n          <div className=\"mb-3 flex flex-col gap-2\">\n            <div className=\"flex flex-wrap gap-2\">\n              {[\"all\", \"system\", \"custom\"].map(tab => (\n                <button\n                  key={tab}\n                  type=\"button\"\n                  onClick={() => setTypeTab(tab)}\n                  className={`px-3 py-1.5 rounded-md text-xs font-semibold border transition ${\n                    typeTab === tab\n                      ? \"bg-emerald-600 text-white border-emerald-600\"\n                      : \"bg-white text-slate-700 border-slate-200 hover:bg-slate-50\"\n                  }`}\n                >\n                  {tab === \"all\"\n                    ? \"All\"\n                    : tab === \"system\"\n                    ? \"System\"\n                    : \"Custom\"}\n                </button>\n              ))}\n            </div>\n\n            <div className=\"flex flex-col md:flex-row md:items-center gap-3\">\n              <div className=\"flex-1\">\n                <input\n                  value={q}\n                  onChange={e => setQ(e.target.value)}\n                  placeholder=\"Search by name or category\"\n                  className=\"w-full px-4 py-2 text-sm rounded-md border border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                />\n              </div>\n\n              {categories.length > 0 && (\n                <select\n                  value={categoryFilter}\n                  onChange={e => setCategoryFilter(e.target.value)}\n                  className=\"border border-slate-200 rounded-md px-3 py-2 text-sm bg-white\"\n                >\n                  <option value=\"\">All categories</option>\n                  {categories.map(c => (\n                    <option key={c} value={c}>\n                      {c}\n                    </option>\n                  ))}\n                </select>\n              )}\n\n              <div className=\"text-xs text-slate-500 whitespace-nowrap\">\n                {loading ? \"Loading‚Ä¶\" : `${filtered.length} tag(s)`}\n              </div>\n            </div>\n          </div>\n\n          <TagList\n            tags={filtered}\n            loading={loading}\n            onCreate={openCreate}\n            onEdit={openEdit}\n            onDelete={onDelete}\n            showHeader={false}\n            noContainer\n            containerClassName=\"\"\n          />\n        </div>\n      </div>\n\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm\">\n          <div className=\"bg-white rounded-md shadow-xl w-full max-w-md mx-4 relative\">\n            <button\n              type=\"button\"\n              onClick={closeModal}\n              className=\"absolute right-3 top-3 text-slate-400 hover:text-slate-600\"\n              aria-label=\"Close\"\n            >\n              <X size={18} />\n            </button>\n            <div className=\"p-5\">\n              <TagForm\n                selectedTag={selectedTag}\n                onSaveComplete={onSaved}\n                onCancel={closeModal}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":["TagForm","_ref","selectedTag","onSaveComplete","onCancel","saving","setSaving","useState","tag","setTag","id","name","colorHex","category","notes","isSystemTag","isActive","isEdit","useEffect","handleChange","e","value","type","checked","target","prev","_objectSpread","isFormValid","trim","length","_jsxs","onSubmit","async","preventDefault","toast","warn","payload","axiosClient","put","concat","post","error","console","className","children","_jsx","TagIcon","size","onChange","placeholder","rows","onClick","disabled","formatDate","Date","toLocaleDateString","_unused","softBgFromHex","hex","test","TagList","_ref2","tags","tagsFromParent","loading","loadingFromParent","searchTerm","refreshKey","onDeleteComplete","showHeader","noContainer","containerClassName","setTags","setLoading","showFormModal","setShowFormModal","setSelectedTag","effectiveLoading","effectiveTags","Array","isArray","fetchTags","list","res","_res$data","data","normalizeTagsResponse","get","err","filteredTags","useMemo","term","toLowerCase","filter","t","cat","includes","openCreateModal","closeModal","CreateButton","_ref3","label","Plus","shouldRenderHeader","body","map","style","background","color","border","createdAt","title","openEditModal","Pencil","window","confirm","delete","success","handleDelete","Trash2","content","CloseIcon","message","arguments","undefined","Tags","q","setQ","typeTab","setTypeTab","categoryFilter","setCategoryFilter","showModal","setShowModal","safeList","categories","set","Set","forEach","add","from","sort","filtered","openCreate","tab","c","onCreate","onEdit","onDelete","X","onSaved","ok","msg"],"sourceRoot":""}