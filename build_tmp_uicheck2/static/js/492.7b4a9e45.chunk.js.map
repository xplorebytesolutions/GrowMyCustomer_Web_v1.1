{"version":3,"file":"static/js/492.7b4a9e45.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/square-stack.ts","../node_modules/lucide-react/src/icons/bot-message-square.ts","pages/Workspaces/AdminWorkspacePage.jsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2', key: '4i38lg' }],\n  ['path', { d: 'M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2', key: 'mlte4a' }],\n  ['rect', { width: '8', height: '8', x: '14', y: '14', rx: '2', key: '1fa9i4' }],\n];\n\n/**\n * @component @name SquareStack\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMGMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDRjMS4xIDAgMiAuOSAyIDIiIC8+CiAgPHBhdGggZD0iTTEwIDE2Yy0xLjEgMC0yLS45LTItMnYtNGMwLTEuMS45LTIgMi0yaDRjMS4xIDAgMiAuOSAyIDIiIC8+CiAgPHJlY3Qgd2lkdGg9IjgiIGhlaWdodD0iOCIgeD0iMTQiIHk9IjE0IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/square-stack\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquareStack = createLucideIcon('square-stack', __iconNode);\n\nexport default SquareStack;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6V2H8', key: '1155em' }],\n  ['path', { d: 'm8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z', key: 'w2lp3e' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M9 11v2', key: '1ueba0' }],\n  ['path', { d: 'M15 11v2', key: 'i11awn' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n];\n\n/**\n * @component @name BotMessageSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNlYySDgiIC8+CiAgPHBhdGggZD0ibTggMTgtNCA0VjhhMiAyIDAgMCAxIDItMmgxMmEyIDIgMCAwIDEgMiAydjhhMiAyIDAgMCAxLTIgMloiIC8+CiAgPHBhdGggZD0iTTIgMTJoMiIgLz4KICA8cGF0aCBkPSJNOSAxMXYyIiAvPgogIDxwYXRoIGQ9Ik0xNSAxMXYyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxMmgyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bot-message-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BotMessageSquare = createLucideIcon('bot-message-square', __iconNode);\n\nexport default BotMessageSquare;\n","// ðŸ“„ src/pages/Workspaces/AdminWorkspacePage.jsx\r\nimport {\r\n  ShieldCheck,\r\n  SquareStack,\r\n  Archive,\r\n  Pin,\r\n  ArrowRightCircle,\r\n  MoreVertical,\r\n  AlertTriangle,\r\n  BarChart3,\r\n  LucideBotMessageSquare,\r\n  FileCode2,\r\n} from \"lucide-react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport { useAuth } from \"../../app/providers/AuthProvider\";\r\nimport { FK } from \"../../capabilities/featureKeys\";\r\n// ðŸ”” Global upgrade flow\r\nimport { requestUpgrade } from \"../../utils/upgradeBus\";\r\n\r\nconst PERM_BY_BLOCK = {\r\n  \"business-approvals\": [FK.SUPER_ADMIN_NEW_BUSINESS_APPROVAL],\r\n  \"plan-manager\": [FK.SUPER_ADMIN_PLAN_MANAGER_VIEW],\r\n  \"plan-permissions\": [FK.SUPER_ADMIN_PLAN_MANAGER_VIEW],\r\n  \"paln-permissions-list\": [FK.SUPER_ADMIN_PLAN_PERMISSIONS_LIST],\r\n  \"esu-debug\": [FK.SUPER_ADMIN_ESU_DEBUG],\r\n  \"account-signup-report\": [FK.SUPER_ADMIN_SIGNUP_REPORT_VIEW],\r\n  \"business-overview\": [FK.SUPER_ADMIN_BUSINESS_OVERVIEW],\r\n  \"webhook-monitor\": [FK.SUPER_ADMIN_WEBHOOK_MONITOR],\r\n  \"user-permissions\": [FK.SUPER_ADMIN_USER_MANAGEMENT_VIEW],\r\n  \"flow-execution-explorer\": [FK.SUPER_ADMIN_FLOW_EXECUTION_EXPLORER_VIEW],\r\n  \"developer-notes\": [FK.SUPER_ADMIN_WORKSPACE_VIEW],\r\n  \"server-troubleshooting\": [FK.SUPER_ADMIN_WORKSPACE_VIEW],\r\n};\r\n\r\nconst allAdminBlocks = [\r\n  {\r\n    id: \"business-approvals\",\r\n    label: \"Business Approvals\",\r\n    description: \"Approve or reject pending business signups.\",\r\n    path: \"/app/admin/approvals\",\r\n    icon: <ShieldCheck size={22} />,\r\n    action: \"Review Requests\",\r\n    roles: [\"superadmin\", \"partner\", \"reseller\"],\r\n  },\r\n  {\r\n    id: \"plan-manager\",\r\n    label: \"Plan â†’ Feature Mapping\",\r\n    description: \"Define feature limits for each plan tier.\",\r\n    path: \"/app/admin/plan-management\",\r\n    icon: <SquareStack size={22} />,\r\n    action: \"Manage Plans\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"paln-permissions-list\",\r\n    label: \"Permissions list\",\r\n    description:\r\n      \"Define and organize permissions that power plans and workspace guards.\",\r\n    path: \"/app/admin/permissions\",\r\n    icon: <ShieldCheck size={22} />,\r\n    action: \"Manage Permissions\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"esu-debug\",\r\n    label: \"FB Embedded Signup Debug\",\r\n    description:\r\n      \"Inspect ESU tokens/flags and locally deauthorize a workspace (dev / superadmin only).\",\r\n    path: \"/app/admin/esu-debug\",\r\n    icon: <ShieldCheck size={22} />,\r\n    action: \"Open ESU Debug\",\r\n    roles: [\"superadmin\"], // only superadmins see it\r\n  },\r\n  {\r\n    id: \"account-signup-report\",\r\n    label: \"Signup Report\",\r\n    description:\r\n      \"Track signup â†’ activation â†’ WhatsApp setup â†’ paid conversion across all accounts.\",\r\n    path: \"/app/admin/account-insights\",\r\n    icon: <BarChart3 size={22} />,\r\n    action: \"View Report\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"business-overview\",\r\n    label: \"Business Overview\",\r\n    description:\r\n      \"Detailed lifecycle, trial, and risk reports with drilldowns and exports.\",\r\n    path: \"/app/admin/account-insights/account-reports\",\r\n    icon: <BarChart3 size={22} />,\r\n    action: \"Open Overview\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"webhook-monitor\",\r\n    label: \"Webhook Reliability & Cleanup\",\r\n    description:\r\n      \"Monitor failed webhook callbacks and control auto-cleanup of webhook logs.\",\r\n    path: \"/app/admin/webhooks/monitor\",\r\n    icon: <AlertTriangle size={22} />,\r\n    action: \"Open Webhook Tools\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"user-permissions\",\r\n    label: \"User Access & Permissions\",\r\n    description: \"Override permissions for individual users in your account.\",\r\n    path: \"/app/admin/user-permissions\",\r\n    icon: <BarChart3 className=\"text-emerald-800\" size={22} />,\r\n    action: \"Manage Access\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"flow-execution-explorer\",\r\n    label: \"Flow Execution Explorer\",\r\n    description: \"Audit and analyze flow executions across all businesses.\",\r\n    path: \"/app/admin/audit/execution-explorer\",\r\n    icon: <LucideBotMessageSquare className=\"text-emerald-800\" size={22} />,\r\n    action: \"Open Explorer\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"developer-notes\",\r\n    label: \"Developer Notes\",\r\n    description:\r\n      \"Internal sanity checks, SQL snippets, and engineering decisions for faster debugging.\",\r\n    path: \"/app/admin/developer-notes\",\r\n    icon: <FileCode2 size={22} />,\r\n    action: \"Open Notes\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n  {\r\n    id: \"server-troubleshooting\",\r\n    label: \"Server Troubleshooting\",\r\n    description:\r\n      \"Guide to diagnose and resolve server issues, high CPU/RAM usage, and more.\",\r\n    path: \"/app/admin/server-troubleshooting\",\r\n    icon: <FileCode2 size={22} />,\r\n    action: \"Open Guide\",\r\n    roles: [\"superadmin\"],\r\n  },\r\n];\r\n\r\nexport default function AdminWorkspacePage() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { role, hasAllAccess, can, isLoading, entLoading } = useAuth();\r\n  const userRole = String(role || \"\").toLowerCase();\r\n\r\n  const hideWorkspaceTiles =\r\n    new URLSearchParams(location.search || \"\").get(\"flyout\") === \"1\";\r\n\r\n  const defaultOrder = allAdminBlocks.map(b => b.id);\r\n  const loadOrder = () => {\r\n    try {\r\n      const raw = localStorage.getItem(\"admin-order\");\r\n      if (!raw) return defaultOrder;\r\n      const parsed = JSON.parse(raw);\r\n      if (!Array.isArray(parsed)) return defaultOrder;\r\n      return [...parsed, ...defaultOrder.filter(id => !parsed.includes(id))];\r\n    } catch {\r\n      return defaultOrder;\r\n    }\r\n  };\r\n\r\n  const [pinned, setPinned] = useState(\r\n    JSON.parse(localStorage.getItem(\"admin-pinned\") || \"[]\")\r\n  );\r\n  const [archived, setArchived] = useState(\r\n    JSON.parse(localStorage.getItem(\"admin-archived\") || \"[]\")\r\n  );\r\n  const [order, setOrder] = useState(loadOrder());\r\n  const [showArchived, setShowArchived] = useState(false);\r\n\r\n  const togglePin = (e, id) => {\r\n    e.stopPropagation();\r\n    const updated = pinned.includes(id)\r\n      ? pinned.filter(i => i !== id)\r\n      : [...pinned, id];\r\n    setPinned(updated);\r\n    localStorage.setItem(\"admin-pinned\", JSON.stringify(updated));\r\n  };\r\n\r\n  const toggleArchive = (e, id) => {\r\n    e.stopPropagation();\r\n    const updated = archived.includes(id)\r\n      ? archived.filter(i => i !== id)\r\n      : [...archived, id];\r\n    setArchived(updated);\r\n    localStorage.setItem(\"admin-archived\", JSON.stringify(updated));\r\n  };\r\n\r\n  const onDragEnd = result => {\r\n    if (!result.destination) return;\r\n    const newOrder = Array.from(order);\r\n    const [moved] = newOrder.splice(result.source.index, 1);\r\n    newOrder.splice(result.destination.index, 0, moved);\r\n    setOrder(newOrder);\r\n    localStorage.setItem(\"admin-order\", JSON.stringify(newOrder));\r\n  };\r\n\r\n  const roleOk = block =>\r\n    hasAllAccess ||\r\n    !Array.isArray(block.roles) ||\r\n    block.roles.map(r => String(r).toLowerCase()).includes(userRole);\r\n\r\n  // Build list of blocks:\r\n  // - filtered by role (superadmin-only tiles hidden for others)\r\n  // - archived controlled by toggle\r\n  // - permission decides allowed vs locked, not visibility\r\n  const blocksWithAccess = order\r\n    .map(id => allAdminBlocks.find(b => b.id === id))\r\n    .filter(Boolean)\r\n    .filter(block => roleOk(block))\r\n    .filter(block => (showArchived ? true : !archived.includes(block.id)))\r\n    .map(block => {\r\n      const codes = PERM_BY_BLOCK[block.id] || [];\r\n      const allowed =\r\n        hasAllAccess ||\r\n        (Array.isArray(codes) && codes.filter(Boolean).some(code => can(code)));\r\n\r\n      return {\r\n        ...block,\r\n        allowed,\r\n        primaryCode: (codes && codes[0]) || null,\r\n      };\r\n    });\r\n\r\n  const anyVisible = blocksWithAccess.length > 0;\r\n  const anyAllowed = blocksWithAccess.some(b => b.allowed);\r\n\r\n  if (isLoading || entLoading) {\r\n    return (\r\n      <div className=\"p-10 text-center text-lg text-gray-500\">\r\n        Loading admin toolsâ€¦\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (hideWorkspaceTiles) {\r\n    return <div className=\"p-6\" data-test-id=\"admin-workspace-root\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6\" data-test-id=\"admin-workspace-root\">\r\n      {/* sequential border animation (topâ†’rightâ†’bottomâ†’left) with gradient */}\r\n      <style>{`\r\n        @keyframes drawRight { from { transform: scaleX(0) } to { transform: scaleX(1) } }\r\n        @keyframes drawDown  { from { transform: scaleY(0) } to { transform: scaleY(1) } }\r\n        @keyframes drawLeft  { from { transform: scaleX(0) } to { transform: scaleX(1) } }\r\n        @keyframes drawUp    { from { transform: scaleY(0) } to { transform: scaleY(1) } }\r\n\r\n        .tile:hover .topline    { animation: drawRight .9s ease forwards; }\r\n        .tile:hover .rightline  { animation: drawDown  .9s ease .18s forwards; }\r\n        .tile:hover .bottomline { animation: drawLeft .9s ease .36s forwards; }\r\n        .tile:hover .leftline   { animation: drawUp    .9s ease .54s forwards; }\r\n      `}</style>\r\n\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <h2 className=\"text-2xl font-bold text-emerald-800\">\r\n          ðŸ›¡ Admin Workspace\r\n        </h2>\r\n        <label className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={showArchived}\r\n            onChange={() => setShowArchived(!showArchived)}\r\n            className=\"accent-emerald-600\"\r\n          />\r\n          Show Archived Tools\r\n        </label>\r\n      </div>\r\n      <p className=\"text-sm text-slate-600 mb-4\">\r\n        Manage plans, permissions, account health, webhooks, and ESU debugging\r\n        across all businesses.\r\n      </p>\r\n\r\n      {/* No blocks visible at all (role-based restriction) */}\r\n      {!anyVisible && (\r\n        <div className=\"bg-red-100 text-red-700 p-4 border-l-4 border-red-500 rounded-md mb-6 shadow-sm flex items-start gap-3\">\r\n          <AlertTriangle size={22} className=\"mt-1\" />\r\n          <div>\r\n            <strong>Restricted:</strong> You donâ€™t have access to any admin\r\n            tools.\r\n            <div className=\"text-sm mt-1 text-gray-600\">\r\n              This usually means your role is not superadmin / admin. Contact a\r\n              superadmin if this is unexpected.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Some tiles visible but all locked by permissions */}\r\n      {anyVisible && !anyAllowed && (\r\n        <div className=\"bg-amber-50 text-amber-800 p-4 border-l-4 border-amber-500 rounded-md mb-6 shadow-sm flex items-start gap-3\">\r\n          <AlertTriangle size={22} className=\"mt-1\" />\r\n          <div>\r\n            <strong>Admin tools locked:</strong> Your current permissions do not\r\n            include these tools.\r\n            <div className=\"text-sm mt-1 text-gray-600\">\r\n              Try opening a tile to request the right access, or contact your\r\n              platform owner.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {anyVisible && (\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n          <Droppable droppableId=\"admin-blocks\" direction=\"horizontal\">\r\n            {provided => (\r\n              <div\r\n                className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6\"\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n              >\r\n                {blocksWithAccess.map((block, index) => {\r\n                  const baseCardClasses =\r\n                    \"tile group relative overflow-hidden cursor-pointer bg-white rounded-md border shadow-sm hover:shadow-md transition transform hover:-translate-y-0.5 duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-300\";\r\n                  const lockedClasses =\r\n                    \"opacity-70 border-dashed cursor-not-allowed hover:-translate-y-0 hover:shadow-sm\";\r\n\r\n                  const cardClasses = block.allowed\r\n                    ? baseCardClasses\r\n                    : `${baseCardClasses} ${lockedClasses}`;\r\n\r\n                  const handleCardClick = () => {\r\n                    if (!block.allowed) {\r\n                      if (block.primaryCode) {\r\n                        requestUpgrade({\r\n                          reason: \"feature\",\r\n                          code: block.primaryCode,\r\n                          source: \"admin.workspace.tile\",\r\n                        });\r\n                      }\r\n                      return;\r\n                    }\r\n                    navigate(block.path);\r\n                  };\r\n\r\n                  const handlePrimaryActionClick = e => {\r\n                    e.stopPropagation();\r\n                    if (!block.allowed) {\r\n                      if (block.primaryCode) {\r\n                        requestUpgrade({\r\n                          reason: \"feature\",\r\n                          code: block.primaryCode,\r\n                          source: \"admin.workspace.action\",\r\n                        });\r\n                      }\r\n                      return;\r\n                    }\r\n                    navigate(block.path);\r\n                  };\r\n\r\n                  return (\r\n                    <Draggable\r\n                      key={block.id}\r\n                      draggableId={block.id}\r\n                      index={index}\r\n                    >\r\n                      {provided => (\r\n                        <div\r\n                          ref={provided.innerRef}\r\n                          {...provided.draggableProps}\r\n                          role=\"button\"\r\n                          tabIndex={0}\r\n                          aria-label={`${block.label}: ${block.action}`}\r\n                          onKeyDown={e => {\r\n                            if (e.key === \"Enter\") handleCardClick();\r\n                          }}\r\n                          onClick={handleCardClick}\r\n                          className={cardClasses}\r\n                          style={{ userSelect: \"none\" }}\r\n                        >\r\n                          {/* ðŸ”’ Upgrade badge for locked tiles */}\r\n                          {!block.allowed && (\r\n                            <span className=\"pointer-events-none absolute top-3 right-3 inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700\">\r\n                              ðŸ”’ Request Access\r\n                            </span>\r\n                          )}\r\n\r\n                          {/* animated border segments (emerald-ish / neutral gradient) */}\r\n                          <span\r\n                            aria-hidden\r\n                            className=\"topline pointer-events-none absolute left-0 -top-[2px] h-[2px] w-full origin-left rounded opacity-0 group-hover:opacity-100\"\r\n                            style={{\r\n                              background:\r\n                                \"linear-gradient(90deg, #A7F3D0, #34D399, #059669)\",\r\n                              transform: \"scaleX(0)\",\r\n                            }}\r\n                          />\r\n                          <span\r\n                            aria-hidden\r\n                            className=\"rightline pointer-events-none absolute right-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-top rounded opacity-0 group-hover:opacity-100\"\r\n                            style={{\r\n                              background:\r\n                                \"linear-gradient(180deg, #A7F3D0, #34D399, #059669)\",\r\n                              transform: \"scaleY(0)\",\r\n                            }}\r\n                          />\r\n                          <span\r\n                            aria-hidden\r\n                            className=\"bottomline pointer-events-none absolute left-0 -bottom-[2px] h-[2px] w-full origin-right rounded opacity-0 group-hover:opacity-100\"\r\n                            style={{\r\n                              background:\r\n                                \"linear-gradient(270deg, #A7F3D0, #34D399, #059669)\",\r\n                              transform: \"scaleX(0)\",\r\n                            }}\r\n                          />\r\n                          <span\r\n                            aria-hidden\r\n                            className=\"leftline pointer-events-none absolute left-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-bottom rounded opacity-0 group-hover:opacity-100\"\r\n                            style={{\r\n                              background:\r\n                                \"linear-gradient(0deg, #A7F3D0, #34D399, #059669)\",\r\n                              transform: \"scaleY(0)\",\r\n                            }}\r\n                          />\r\n\r\n                          {/* content */}\r\n                          <div className=\"flex items-start gap-4 p-5\">\r\n                            <div className=\"bg-emerald-50 rounded-md p-2 text-emerald-800\">\r\n                              {block.icon}\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <h3 className=\"text-md font-semibold text-emerald-800 group-hover:text-emerald-900\">\r\n                                {block.label}\r\n                              </h3>\r\n                              <p className=\"text-sm text-slate-600 workspace-tile-desc\">\r\n                                {block.description}\r\n                              </p>\r\n                            </div>\r\n\r\n                            {/* kebab = the ONLY drag handle */}\r\n                            <div\r\n                              {...provided.dragHandleProps}\r\n                              title=\"Drag to re-order\"\r\n                              className=\"ml-2 rounded p-1 text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing\"\r\n                              onClick={e => e.stopPropagation()}\r\n                            >\r\n                              <MoreVertical size={16} />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"px-5 py-3 border-t border-gray-200 flex items-center justify-between bg-gray-50\">\r\n                            <button\r\n                              onClick={handlePrimaryActionClick}\r\n                              className=\"text-sm text-gray-700 font-medium flex items-center gap-1 hover:text-gray-900\"\r\n                            >\r\n                              {block.allowed ? block.action : \"Request access\"}\r\n                              <ArrowRightCircle size={18} />\r\n                            </button>\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <button\r\n                                onClick={e => togglePin(e, block.id)}\r\n                                title={\r\n                                  pinned.includes(block.id)\r\n                                    ? \"Unpin\"\r\n                                    : \"Pin this\"\r\n                                }\r\n                              >\r\n                                <Pin\r\n                                  size={18}\r\n                                  className={\r\n                                    pinned.includes(block.id)\r\n                                      ? \"text-red-600\"\r\n                                      : \"text-gray-400 hover:text-red-500\"\r\n                                  }\r\n                                />\r\n                              </button>\r\n                              <button\r\n                                onClick={e => toggleArchive(e, block.id)}\r\n                                title=\"Archive this\"\r\n                              >\r\n                                <Archive\r\n                                  size={18}\r\n                                  className={\r\n                                    archived.includes(block.id)\r\n                                      ? \"text-indigo-600\"\r\n                                      : \"text-gray-400 hover:text-indigo-500\"\r\n                                  }\r\n                                />\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  );\r\n                })}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </DragDropContext>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["SquareStack","createLucideIcon","d","key","width","height","x","y","rx","BotMessageSquare","PERM_BY_BLOCK","FK","SUPER_ADMIN_NEW_BUSINESS_APPROVAL","SUPER_ADMIN_PLAN_MANAGER_VIEW","SUPER_ADMIN_PLAN_PERMISSIONS_LIST","SUPER_ADMIN_ESU_DEBUG","SUPER_ADMIN_SIGNUP_REPORT_VIEW","SUPER_ADMIN_BUSINESS_OVERVIEW","SUPER_ADMIN_WEBHOOK_MONITOR","SUPER_ADMIN_USER_MANAGEMENT_VIEW","SUPER_ADMIN_FLOW_EXECUTION_EXPLORER_VIEW","SUPER_ADMIN_WORKSPACE_VIEW","allAdminBlocks","id","label","description","path","icon","_jsx","ShieldCheck","size","action","roles","BarChart3","AlertTriangle","className","LucideBotMessageSquare","FileCode2","AdminWorkspacePage","navigate","useNavigate","location","useLocation","role","hasAllAccess","can","isLoading","entLoading","useAuth","userRole","String","toLowerCase","hideWorkspaceTiles","URLSearchParams","search","get","defaultOrder","map","b","pinned","setPinned","useState","JSON","parse","localStorage","getItem","archived","setArchived","order","setOrder","loadOrder","raw","parsed","Array","isArray","filter","includes","_unused","showArchived","setShowArchived","blocksWithAccess","find","Boolean","block","r","roleOk","codes","allowed","some","code","_objectSpread","primaryCode","anyVisible","length","anyAllowed","children","_jsxs","type","checked","onChange","DragDropContext","onDragEnd","result","destination","newOrder","from","moved","splice","source","index","setItem","stringify","Droppable","droppableId","direction","provided","ref","innerRef","droppableProps","baseCardClasses","cardClasses","concat","handleCardClick","requestUpgrade","reason","handlePrimaryActionClick","e","stopPropagation","Draggable","draggableId","draggableProps","tabIndex","onKeyDown","onClick","style","userSelect","background","transform","dragHandleProps","title","MoreVertical","ArrowRightCircle","togglePin","updated","i","Pin","toggleArchive","Archive","placeholder"],"sourceRoot":""}