"use strict";(self.webpackChunkxbytechat_ui=self.webpackChunkxbytechat_ui||[]).push([[414],{59414:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var l=s(65043),i=s(57488),a=s(66797),d=s(71360),n=s(4596),o=s(65086),r=s(74961),c=s(63610),u=s(89379),x=s(40614),p=s(70579);const m=50;function v(e){let{value:t=[],onChange:s}=e;const[i,a]=(0,l.useState)(""),n=Array.isArray(t)?t:[],o=n.length<m;return(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),placeholder:"Add option",className:"flex-1 rounded-md border border-slate-200 px-3 py-2 text-sm focus:border-purple-400 focus:outline-none focus:ring-1 focus:ring-purple-400"}),(0,p.jsxs)("button",{type:"button",onClick:()=>{const e=i.trim();e&&o&&(n.includes(e)||(null===s||void 0===s||s([...n,e]),a("")))},disabled:!o,className:"inline-flex items-center gap-1 rounded-md px-3 py-2 text-xs font-semibold ".concat(o?"bg-purple-600 text-white hover:bg-purple-700":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:[(0,p.jsx)(d.A,{size:14}),"Add"]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between text-[11px] text-slate-400",children:[(0,p.jsxs)("span",{children:[n.length,"/",m," options"]}),!o&&(0,p.jsx)("span",{children:"Max options reached."})]}),n.length>0?(0,p.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map((e=>(0,p.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-purple-200 bg-purple-50 px-2.5 py-1 text-xs font-semibold text-purple-700",children:[e,(0,p.jsx)("button",{type:"button",onClick:()=>(e=>{null===s||void 0===s||s(n.filter((t=>t!==e)))})(e),className:"text-purple-400 hover:text-purple-700",children:(0,p.jsx)(x.A,{size:12})})]},e)))}):(0,p.jsx)("p",{className:"text-xs text-slate-400",children:"No options yet. Add at least one option."})]})}var b=s(86204);const y=/^(?!_)[a-z0-9]+(_[a-z0-9]+)*$/,h=e=>"SingleSelect"===e||"MultiSelect"===e;function f(e){let{isOpen:t,onClose:s,onSave:i,initialDefinition:a}=e;const[d,n]=(0,l.useState)({key:"",label:"",dataType:"",isRequired:!1,sortOrder:0,options:[]}),[o,r]=(0,l.useState)({}),c=Boolean(null===a||void 0===a?void 0:a.id);(0,l.useEffect)((()=>{t&&(r({}),n(a?{key:a.key||"",label:a.label||"",dataType:a.dataType||"",isRequired:Boolean(a.isRequired),sortOrder:Number(a.sortOrder||0),options:Array.isArray(a.options)?a.options:[]}:{key:"",label:"",dataType:"",isRequired:!1,sortOrder:0,options:[]}))}),[a,t]);const x=(0,l.useMemo)((()=>h(d.dataType)),[d.dataType]);return t?(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm px-4",children:(0,p.jsxs)("div",{className:"w-full max-w-2xl rounded-md bg-white shadow-xl",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-purple-600",children:"Attribute Definition"}),(0,p.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:c?"Edit Attribute":"Create Attribute"})]}),(0,p.jsx)("button",{type:"button",onClick:s,className:"text-slate-400 hover:text-slate-600 text-xl",children:"\xd7"})]}),(0,p.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};d.label.trim()||(e.label="Label is required."),d.dataType||(e.dataType="Data type is required."),c||(d.key.trim()?y.test(d.key.trim())||(e.key="Key must be snake_case."):e.key="Key is required."),h(d.dataType)&&0===(Array.isArray(d.options)?d.options:[]).length&&(e.options="At least one option is required.");return r(e),0===Object.keys(e).length})()&&(null===i||void 0===i||i(d))},className:"px-6 py-5 space-y-4",children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Key"}),(0,p.jsx)("input",{type:"text",value:d.key,disabled:c,onChange:e=>n((t=>(0,u.A)((0,u.A)({},t),{},{key:e.target.value}))),placeholder:"snake_case_key",className:"mt-1 w-full rounded-md border border-slate-200 px-3 py-2 text-sm focus:border-purple-400 focus:outline-none focus:ring-1 focus:ring-purple-400 disabled:bg-slate-50"}),(0,p.jsx)("p",{className:"mt-1 text-[11px] text-slate-400",children:"Use snake_case for keys."}),o.key&&(0,p.jsx)("p",{className:"mt-1 text-xs text-rose-600",children:o.key})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Label"}),(0,p.jsx)("input",{type:"text",value:d.label,onChange:e=>n((t=>(0,u.A)((0,u.A)({},t),{},{label:e.target.value}))),placeholder:"Customer Tier",className:"mt-1 w-full rounded-md border border-slate-200 px-3 py-2 text-sm focus:border-purple-400 focus:outline-none focus:ring-1 focus:ring-purple-400"}),o.label&&(0,p.jsx)("p",{className:"mt-1 text-xs text-rose-600",children:o.label})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Data Type"}),(0,p.jsxs)("select",{value:d.dataType,onChange:e=>n((t=>(0,u.A)((0,u.A)({},t),{},{dataType:e.target.value}))),className:"mt-1 w-full rounded-md border border-slate-200 px-3 py-2 text-sm focus:border-purple-400 focus:outline-none focus:ring-1 focus:ring-purple-400",children:[(0,p.jsx)("option",{value:"",children:"Select type"}),b.GW.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))]}),o.dataType&&(0,p.jsx)("p",{className:"mt-1 text-xs text-rose-600",children:o.dataType})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Sort Order"}),(0,p.jsx)("input",{type:"number",value:d.sortOrder,onChange:e=>n((t=>(0,u.A)((0,u.A)({},t),{},{sortOrder:Number(e.target.value||0)}))),className:"mt-1 w-full rounded-md border border-slate-200 px-3 py-2 text-sm focus:border-purple-400 focus:outline-none focus:ring-1 focus:ring-purple-400"})]})]}),(0,p.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,p.jsx)("input",{type:"checkbox",checked:d.isRequired,onChange:e=>n((t=>(0,u.A)((0,u.A)({},t),{},{isRequired:e.target.checked}))),className:"h-4 w-4 rounded border-slate-300 text-purple-600 focus:ring-purple-500"}),"Required"]}),x&&(0,p.jsxs)("div",{className:"rounded-md border border-slate-100 bg-slate-50 p-4",children:[(0,p.jsx)("div",{className:"flex items-center justify-between",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-xs font-semibold text-slate-700",children:"Options"}),(0,p.jsx)("p",{className:"text-xs text-slate-500",children:"Provide selectable values for this attribute."})]})}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)(v,{value:d.options,onChange:e=>n((t=>(0,u.A)((0,u.A)({},t),{},{options:e})))}),o.options&&(0,p.jsx)("p",{className:"mt-2 text-xs text-rose-600",children:o.options})]})]}),(0,p.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,p.jsx)("button",{type:"button",onClick:s,className:"rounded-md border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:"Cancel"}),(0,p.jsx)("button",{type:"submit",className:"rounded-md bg-purple-600 px-5 py-2 text-sm font-semibold text-white hover:bg-purple-700",children:c?"Update Attribute":"Create Attribute"})]})]})]})}):null}const j={Text:"Text",Number:"Number",Date:"Date",Boolean:"Boolean",SingleSelect:"Single Select",MultiSelect:"Multi Select"},g=e=>"SingleSelect"===e||"MultiSelect"===e;function N(){const{isLoading:e,entLoading:t,hasAllAccess:s,can:u}=(0,o.h)(),x=r.FK.CUSTOMFIELDS_VIEW||r.FK.CRM_ATTRIBUTE_VIEW||r.FK.CRM_CONTACT_VIEW,m=r.FK.CUSTOMFIELDS_MANAGE||r.FK.CRM_ATTRIBUTE_VIEW||r.FK.CRM_TAGS_EDIT||r.FK.CRM_TAGS_VIEW,v=s||"function"===typeof u&&u(x),y=s||"function"===typeof u&&u(m),[h,N]=(0,l.useState)([]),[A,T]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),[O,R]=(0,l.useState)(null),I=async()=>{if(v){T(!0);try{const e=await(0,b.cC)({entityType:"Contact",includeInactive:w});N(e)}catch(s){var e,t;i.oR.error((null===s||void 0===s||null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load attribute definitions."),N([])}finally{T(!1)}}};(0,l.useEffect)((()=>{I()}),[w,v]);const q=(0,l.useMemo)((()=>h),[h]);return e||t?(0,p.jsx)("div",{className:"p-8 text-sm text-slate-500",children:"Loading attributes..."}):v?(0,p.jsxs)("div",{className:"min-h-[calc(100vh-80px)] bg-[#f5f6f7]",children:[(0,p.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-6",children:[(0,p.jsxs)("div",{className:"mb-6 flex flex-wrap items-start justify-between gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,p.jsx)("div",{className:"h-8 w-8 rounded-md bg-emerald-100 flex items-center justify-center",children:(0,p.jsx)(a.A,{size:16,className:"text-emerald-700"})}),(0,p.jsx)("h1",{className:"text-xl font-semibold text-slate-900",children:"Attributes"})]}),(0,p.jsx)("p",{className:"mt-1 text-sm text-slate-600 max-w-2xl",children:"Create and manage custom attributes for contacts (dynamic fields)."})]}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsxs)("label",{className:"text-xs text-slate-500 flex items-center gap-2",children:[(0,p.jsx)("input",{type:"checkbox",checked:w,onChange:e=>k(e.target.checked),className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),"Show inactive"]}),(0,p.jsxs)("button",{type:"button",onClick:()=>{y&&(R(null),C(!0))},disabled:!y,className:"inline-flex items-center gap-2 rounded-md px-4 py-2 text-sm font-semibold ".concat(y?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:[(0,p.jsx)(d.A,{size:16}),"Create Attribute"]})]})]}),!y&&(0,p.jsx)("div",{className:"mb-4 rounded-md border border-amber-200 bg-amber-50 px-4 py-2 text-xs text-amber-700",children:"You don't have permission to manage attributes."}),(0,p.jsxs)("div",{className:"rounded-md border border-slate-100 bg-white shadow-sm overflow-hidden",children:[(0,p.jsx)("div",{className:"px-5 py-4 border-b border-slate-100 flex items-center justify-between",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-xs font-semibold text-slate-800",children:"Attribute Library"}),(0,p.jsx)("p",{className:"text-xs text-slate-500",children:A?"Loading definitions...":"".concat(q.length," attribute(s)")})]})}),(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"min-w-full text-sm",children:[(0,p.jsx)("thead",{className:"bg-slate-50 text-[11px] uppercase tracking-wide text-slate-500",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Label"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Key"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Data Type"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Required"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Active"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"SortOrder"}),(0,p.jsx)("th",{className:"px-4 py-3 text-right font-semibold",children:"Actions"})]})}),(0,p.jsx)("tbody",{className:"divide-y divide-slate-100",children:A?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{className:"px-4 py-6 text-xs text-slate-400",colSpan:7,children:"Loading definitions..."})}):0===q.length?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{className:"px-4 py-8 text-center text-xs text-slate-400",colSpan:7,children:"No attributes configured yet."})}):q.map((e=>(0,p.jsxs)("tr",{className:"hover:bg-slate-50/60",children:[(0,p.jsx)("td",{className:"px-4 py-3 text-slate-800 font-medium",children:e.label}),(0,p.jsx)("td",{className:"px-4 py-3 text-slate-500 font-mono text-xs",children:e.key}),(0,p.jsx)("td",{className:"px-4 py-3 text-slate-600",children:j[e.dataType]||e.dataType}),(0,p.jsx)("td",{className:"px-4 py-3",children:(0,p.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold ".concat(e.isRequired?"bg-rose-50 text-rose-700":"bg-slate-100 text-slate-600"),children:e.isRequired?"Required":"Optional"})}),(0,p.jsx)("td",{className:"px-4 py-3",children:(0,p.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold ".concat(!1!==e.isActive?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-500"),children:!1!==e.isActive?"Active":"Inactive"})}),(0,p.jsx)("td",{className:"px-4 py-3 text-slate-600",children:e.sortOrder}),(0,p.jsx)("td",{className:"px-4 py-3",children:(0,p.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,p.jsxs)("button",{type:"button",onClick:()=>(e=>{y&&(R(e),C(!0))})(e),disabled:!y,className:"inline-flex items-center gap-1 rounded-md px-2 py-1 text-xs font-semibold ".concat(y?"text-emerald-700 hover:bg-emerald-50":"text-slate-400 cursor-not-allowed"),children:[(0,p.jsx)(n.A,{size:14}),"Edit"]}),!1!==e.isActive?(0,p.jsx)("button",{type:"button",onClick:()=>(async e=>{if(y&&window.confirm("Deactivate this attribute?"))try{await(0,b.uT)(e.id),i.oR.success("Attribute deactivated."),await I()}catch(l){var t,s;i.oR.error((null===l||void 0===l||null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to deactivate attribute.")}})(e),disabled:!y,className:"rounded-md px-2 py-1 text-xs font-semibold ".concat(y?"text-rose-600 hover:bg-rose-50":"text-slate-400 cursor-not-allowed"),children:"Deactivate"}):(0,p.jsx)("button",{type:"button",onClick:()=>(async e=>{if(y)try{await(0,b.cp)(e.id,{Label:e.label,DataType:e.dataType||b.GW[0],Options:(0,b.Nv)(e.options||[]),IsRequired:Boolean(e.isRequired),IsActive:!0,SortOrder:Number(e.sortOrder||0)}),i.oR.success("Attribute activated."),await I()}catch(l){var t,s;i.oR.error((null===l||void 0===l||null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to activate attribute.")}})(e),disabled:!y,className:"rounded-md px-2 py-1 text-xs font-semibold ".concat(y?"text-emerald-600 hover:bg-emerald-50":"text-slate-400 cursor-not-allowed"),children:"Activate"})]})})]},e.id)))})]})})]})]}),(0,p.jsx)(f,{isOpen:S,onClose:()=>{C(!1),R(null)},onSave:async e=>{const t={entityType:"Contact",key:e.key.trim(),label:e.label.trim(),dataType:e.dataType,isRequired:Boolean(e.isRequired),sortOrder:Number(e.sortOrder||0),options:g(e.dataType)?(0,b.Nv)(e.options):(0,b.Nv)([])};try{null!==O&&void 0!==O&&O.id?(await(0,b.cp)(O.id,{Label:t.label,DataType:t.dataType,Options:t.options,IsRequired:t.isRequired,IsActive:!1!==O.isActive,SortOrder:t.sortOrder}),i.oR.success("Attribute updated.")):(await(0,b.JH)({EntityType:t.entityType,Key:t.key,Label:t.label,DataType:t.dataType,Options:t.options,IsRequired:t.isRequired,SortOrder:t.sortOrder}),i.oR.success("Attribute created.")),C(!1),R(null),await I()}catch(a){var s,l;i.oR.error((null===a||void 0===a||null===(s=a.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to save attribute.")}},initialDefinition:O})]}):(0,p.jsx)("div",{className:"min-h-[calc(100vh-80px)] bg-[#f5f6f7]",children:(0,p.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:(0,p.jsx)("div",{className:"rounded-md border border-amber-200 bg-amber-50 px-5 py-4",children:(0,p.jsxs)("div",{className:"flex items-start gap-3",children:[(0,p.jsx)("div",{className:"mt-0.5 text-amber-600",children:(0,p.jsx)(a.A,{size:18})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-semibold text-amber-800",children:"Attributes are locked"}),(0,p.jsx)("p",{className:"text-xs text-amber-700",children:"Your current plan does not include access to custom attributes."}),(0,p.jsx)("button",{type:"button",onClick:()=>(0,c.Y)({reason:"feature",code:x,source:"crm.attributes.page"}),className:"mt-3 inline-flex items-center gap-2 rounded-md border border-amber-300 bg-white px-3 py-2 text-xs font-semibold text-amber-700 hover:bg-amber-100",children:"Unlock Attributes"})]})]})})})})}},86204:(e,t,s)=>{s.d(t,{GW:()=>h,JH:()=>p,Nv:()=>o,Wd:()=>b,cC:()=>x,cp:()=>m,jB:()=>y,uT:()=>v});var l=s(35870);const i="Contact",a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];for(const l of t)if(void 0!==l&&null!==l)return l;return null},d=e=>String(e||"").trim(),n=e=>d(e)||i,o=e=>({options:Array.isArray(e)?e.map((e=>d(e))).filter((e=>e.length>0)):[]}),r=e=>{var t;const s=a(null===e||void 0===e?void 0:e.optionsJson,null===e||void 0===e?void 0:e.OptionsJson),l=(e=>{if(!e)return[];try{var t,s,l,i;const a="string"===typeof e?JSON.parse(e):e,n=null!==(t=null!==(s=null!==(l=null!==(i=null===a||void 0===a?void 0:a.options)&&void 0!==i?i:null===a||void 0===a?void 0:a.Options)&&void 0!==l?l:null===a||void 0===a?void 0:a.values)&&void 0!==s?s:null===a||void 0===a?void 0:a.Values)&&void 0!==t?t:a;return Array.isArray(n)?n.map((e=>d(e))).filter((e=>e.length>0)):[]}catch(a){return[]}})(null!==(t=null!==s&&void 0!==s?s:null===e||void 0===e?void 0:e.options)&&void 0!==t?t:null===e||void 0===e?void 0:e.Options);return{id:a(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.fieldId,null===e||void 0===e?void 0:e.FieldId,null===e||void 0===e?void 0:e.definitionId,null===e||void 0===e?void 0:e.DefinitionId,null===e||void 0===e?void 0:e.customFieldDefinitionId),entityType:a(null===e||void 0===e?void 0:e.entityType,null===e||void 0===e?void 0:e.EntityType,i),key:a(null===e||void 0===e?void 0:e.key,null===e||void 0===e?void 0:e.Key,""),label:a(null===e||void 0===e?void 0:e.label,null===e||void 0===e?void 0:e.Label,""),dataType:a(null===e||void 0===e?void 0:e.dataType,null===e||void 0===e?void 0:e.DataType,""),options:l,isRequired:Boolean(a(null===e||void 0===e?void 0:e.isRequired,null===e||void 0===e?void 0:e.IsRequired,!1)),isActive:!1!==a(null===e||void 0===e?void 0:e.isActive,null===e||void 0===e?void 0:e.IsActive,!0),sortOrder:Number(a(null===e||void 0===e?void 0:e.sortOrder,null===e||void 0===e?void 0:e.SortOrder,0))||0}},c=e=>(Array.isArray(e)?e:[]).map(r).sort(((e,t)=>e.sortOrder!==t.sortOrder?e.sortOrder-t.sortOrder:e.label.localeCompare(t.label))),u=e=>{var t,s,l,i,d,n,o,r,u,x,p,m;const v=null!==(t=null!==(s=null===e||void 0===e?void 0:e.data)&&void 0!==s?s:e)&&void 0!==t?t:{},b=null!==(l=null!==(i=null!==(d=null!==(n=null!==(o=null!==(r=v.definitions)&&void 0!==r?r:v.Definitions)&&void 0!==o?o:v.schema)&&void 0!==n?n:v.Schema)&&void 0!==d?d:v.fields)&&void 0!==i?i:v.Fields)&&void 0!==l?l:[],y=null!==(u=null!==(x=null!==(p=null!==(m=v.values)&&void 0!==m?m:v.Values)&&void 0!==p?p:v.fieldValues)&&void 0!==x?x:v.FieldValues)&&void 0!==u?u:[],h=c(b),f={};return Array.isArray(y)&&y.forEach((e=>{var t;const s=a(null===e||void 0===e?void 0:e.fieldId,null===e||void 0===e?void 0:e.FieldId,null===e||void 0===e?void 0:e.definitionId,null===e||void 0===e?void 0:e.DefinitionId);if(!s)return;const l=a(null===e||void 0===e?void 0:e.valueJson,null===e||void 0===e?void 0:e.ValueJson,null===e||void 0===e?void 0:e.json),i=(e=>{if(void 0===e||null===e||""===e)return null;if("string"!==typeof e)return e&&"object"===typeof e&&"value"in e?e.value:e;try{const t=JSON.parse(e);return t&&"object"===typeof t&&"value"in t?t.value:t}catch(t){return e}})(null!==(t=null!==l&&void 0!==l?l:null===e||void 0===e?void 0:e.value)&&void 0!==t?t:null===e||void 0===e?void 0:e.Value);f[s]=i})),{definitions:h,valuesMap:f}},x=async function(){var e,t,s;let{entityType:a=i,includeInactive:d=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=n(a),r=await l.default.get("/customfields/definitions",{params:{entityType:o,includeInactive:d}}),u=null!==(e=null!==(t=null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.data)&&void 0!==t?t:null===r||void 0===r?void 0:r.data)&&void 0!==e?e:[];return c(u)},p=async e=>l.default.post("/customfields/definitions",e),m=async(e,t)=>l.default.put("/customfields/definitions/".concat(e),t),v=async e=>l.default.delete("/customfields/definitions/".concat(e)),b=async function(){let{entityType:e=i,entityId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=n(e),a=await l.default.get("/customfields/schema-with-values",{params:{entityType:s,entityId:t}});return u(null===a||void 0===a?void 0:a.data)},y=async e=>l.default.put("/customfields/values",e),h=["Text","Number","Date","Boolean","SingleSelect","MultiSelect"]}}]);
//# sourceMappingURL=414.c3f96754.chunk.js.map