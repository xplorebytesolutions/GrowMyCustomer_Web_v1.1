{"version":3,"file":"static/js/433.e68cc9e7.chunk.js","mappings":"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","sources":["pages/CRM/Reminders/ReminderForm.jsx","pages/CRM/Reminders/ReminderList.jsx","pages/CRM/Reminders/Reminders.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axiosClient from \"../../../api/axiosClient\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n/**\r\n * ReminderForm\r\n *\r\n * Props:\r\n * - contactId?: Guid/string of the contact (for contact-scoped usage like Inbox panel or Contact 360)\r\n * - selectedReminder?: existing reminder object for edit mode\r\n * - onSaveComplete?: callback() -> parent should refresh list / close drawer\r\n *\r\n * Notes:\r\n * - If selectedReminder is provided, the form works in \"edit\" mode.\r\n * - If no contactId + no selectedReminder.contactId is provided, the backend will still receive\r\n *   an empty contactId; later, when wiring from Inbox/Contact, we will ALWAYS pass a real contactId.\r\n */\r\nfunction ReminderForm({\r\n  contactId,\r\n  selectedReminder,\r\n  onSaveComplete,\r\n  onCancel,\r\n}) {\r\n  const [saving, setSaving] = useState(false);\r\n  const [contacts, setContacts] = useState([]);\r\n  const [contactsLoading, setContactsLoading] = useState(false);\r\n  const [contactSearch, setContactSearch] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [formData, setFormData] = useState({\r\n    contactId: \"\",\r\n    title: \"\",\r\n    description: \"\",\r\n    dueAt: \"\",\r\n    reminderType: \"\",\r\n    priority: 2,\r\n    isRecurring: false,\r\n    recurrencePattern: \"\",\r\n    sendWhatsappNotification: false,\r\n  });\r\n\r\n  // üîÑ Initialise / reset form when selectedReminder or contactId changes\r\n  useEffect(() => {\r\n    if (selectedReminder) {\r\n      setFormData({\r\n        contactId:\r\n          selectedReminder.contactId ||\r\n          selectedReminder.contactID ||\r\n          selectedReminder.contact_id ||\r\n          contactId ||\r\n          \"\",\r\n        title: selectedReminder.title || \"\",\r\n        description: selectedReminder.description || \"\",\r\n        // Assume backend stores UTC; convert to local datetime-local format if present\r\n        dueAt: selectedReminder.dueAt\r\n          ? toLocalDateTimeInput(selectedReminder.dueAt)\r\n          : \"\",\r\n        reminderType: selectedReminder.reminderType || \"\",\r\n        priority:\r\n          typeof selectedReminder.priority === \"number\"\r\n            ? selectedReminder.priority\r\n            : 2,\r\n        isRecurring: !!selectedReminder.isRecurring,\r\n        recurrencePattern: selectedReminder.recurrencePattern || \"\",\r\n        sendWhatsappNotification: !!selectedReminder.sendWhatsappNotification,\r\n      });\r\n    } else {\r\n      // New reminder\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        contactId: contactId || \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n        dueAt: \"\",\r\n        reminderType: \"\",\r\n        priority: 2,\r\n        isRecurring: false,\r\n        recurrencePattern: \"\",\r\n        sendWhatsappNotification: false,\r\n      }));\r\n    }\r\n  }, [selectedReminder, contactId]);\r\n\r\n  const shouldShowContactPicker = !contactId;\r\n\r\n  useEffect(() => {\r\n    if (!shouldShowContactPicker) return;\r\n\r\n    let cancelled = false;\r\n\r\n    const fetchContacts = async () => {\r\n      try {\r\n        setContactsLoading(true);\r\n        const res = await axiosClient.get(\"/contacts/\", {\r\n          params: {\r\n            tab: \"all\",\r\n            search: contactSearch || \"\",\r\n            page: 1,\r\n            pageSize: 20,\r\n          },\r\n        });\r\n\r\n        const payload = res.data?.data ?? res.data;\n        const items = Array.isArray(payload?.items)\n          ? payload.items\n          : Array.isArray(payload?.Items)\n          ? payload.Items\n          : Array.isArray(payload)\n          ? payload\n          : [];\n        if (!cancelled) setContacts(items);\r\n      } catch (err) {\r\n        if (!cancelled) {\r\n          console.error(\"Failed to load contacts for reminders\", err);\r\n          toast.error(\"Failed to load contacts.\");\r\n          setContacts([]);\r\n        }\r\n      } finally {\r\n        if (!cancelled) setContactsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchContacts();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [shouldShowContactPicker, contactSearch]);\r\n\r\n  // üßÆ Convert ISO/UTC to value usable by <input type=\"datetime-local\">\r\n  function toLocalDateTimeInput(value) {\r\n    try {\r\n      const d = new Date(value);\r\n      if (Number.isNaN(d.getTime())) return \"\";\r\n      const pad = n => String(n).padStart(2, \"0\");\r\n      const yyyy = d.getFullYear();\r\n      const mm = pad(d.getMonth() + 1);\r\n      const dd = pad(d.getDate());\r\n      const hh = pad(d.getHours());\r\n      const mi = pad(d.getMinutes());\r\n      return `${yyyy}-${mm}-${dd}T${hh}:${mi}`;\r\n    } catch {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  const handleChange = e => {\r\n    const { name, value, type, checked } = e.target;\r\n    if (errors?.[name]) {\r\n      setErrors(prev => ({ ...prev, [name]: null }));\r\n    }\r\n    if (type === \"checkbox\") {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: checked,\r\n      }));\r\n    } else if (name === \"priority\") {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        priority: Number(value),\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const nextErrors = {};\r\n    if (!formData.contactId) nextErrors.contactId = \"Contact is required.\";\r\n    if (!formData.title.trim()) nextErrors.title = \"Title is required.\";\r\n    if (!formData.dueAt) nextErrors.dueAt = \"Due date & time is required.\";\r\n    if (Object.keys(nextErrors).length > 0) {\r\n      setErrors(nextErrors);\r\n      toast.warn(\"Please fix the highlighted fields.\");\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n\r\n    // Convert local datetime-local string ‚Üí UTC ISO string for backend\r\n    const dueAtUtc = formData.dueAt\r\n      ? new Date(formData.dueAt).toISOString()\r\n      : null;\r\n\r\n    const payload = {\r\n      contactId: formData.contactId,\r\n      title: formData.title.trim(),\r\n      description: formData.description.trim(),\r\n      dueAt: dueAtUtc,\r\n      reminderType: formData.reminderType,\r\n      priority: formData.priority,\r\n      isRecurring: formData.isRecurring,\r\n      recurrencePattern: formData.recurrencePattern,\r\n      sendWhatsappNotification: formData.sendWhatsappNotification,\r\n    };\r\n\r\n    try {\r\n      if (selectedReminder?.id) {\r\n        // ‚úèÔ∏è Update existing reminder\r\n        await axiosClient.put(`/reminders/${selectedReminder.id}`, payload);\r\n        toast.success(\"‚úÖ Reminder updated successfully\");\r\n      } else {\r\n        // ‚ûï Create new reminder\r\n        await axiosClient.post(\"/reminders\", payload);\r\n        toast.success(\"‚úÖ Reminder added successfully\");\r\n      }\r\n\r\n      // Inform parent (Reminders page or Inbox panel) to refresh list/close UI\r\n      onSaveComplete?.();\r\n\r\n      // For \"new\" mode, reset the form (keep contactId so user can add multiple)\r\n      if (!selectedReminder) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          title: \"\",\r\n          description: \"\",\r\n          dueAt: \"\",\r\n          reminderType: \"\",\r\n          priority: 2,\r\n          isRecurring: false,\r\n          recurrencePattern: \"\",\r\n          sendWhatsappNotification: false,\r\n        }));\r\n      }\r\n    } catch (err) {\r\n      console.error(\"‚ùå Failed to save reminder:\", err);\r\n      const message =\r\n        err?.response?.data?.message ||\r\n        err?.response?.data?.error ||\r\n        \"Failed to save reminder.\";\r\n      toast.error(message);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n      {shouldShowContactPicker && (\r\n        <div className=\"space-y-1\">\r\n          <label className=\"block text-xs font-medium text-slate-700 mb-1\">\r\n            Contact\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={contactSearch}\r\n            onChange={e => setContactSearch(e.target.value)}\r\n            placeholder=\"Search contacts by name or phone\"\r\n            className=\"w-full border border-slate-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\"\r\n          />\r\n          <select\r\n            name=\"contactId\"\r\n            value={formData.contactId}\r\n            onChange={handleChange}\r\n            className={`w-full border rounded-md px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 ${errors.contactId ? \"border-red-300\" : \"border-slate-200\"}`}\r\n          >\r\n            <option value=\"\">\r\n              {contactsLoading ? \"Loading contacts...\" : \"Select a contact\"}\r\n            </option>\r\n            {contacts.map(c => (\r\n              <option key={c.id} value={c.id}>\r\n                {c.name || \"Unnamed\"}{\" \"}\r\n                {c.phoneNumber ? `‚Ä¢ ${c.phoneNumber}` : \"\"}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {errors.contactId && (\r\n            <p className=\"text-[11px] text-red-600\">{errors.contactId}</p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Title */}\r\n      <div>\r\n        <label className=\"block text-xs font-medium text-slate-700 mb-1\">\r\n          Title\r\n        </label>\r\n        <input\r\n          name=\"title\"\r\n          value={formData.title}\r\n          onChange={handleChange}\r\n          placeholder=\"Reminder title\"\r\n          className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 ${errors.title ? \"border-red-300\" : \"border-slate-200\"}`}\r\n        />\r\n        {errors.title && (\r\n          <p className=\"text-[11px] text-red-600\">{errors.title}</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Description */}\r\n      <div>\r\n        <label className=\"block text-xs font-medium text-slate-700 mb-1\">\r\n          Description\r\n        </label>\r\n        <textarea\r\n          name=\"description\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n          placeholder=\"Add a short note...\"\r\n          rows={3}\r\n          className=\"w-full border border-slate-200 rounded-md px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-emerald-500\"\r\n        />\r\n      </div>\r\n\r\n      {/* Due date/time */}\r\n      <div>\r\n        <label className=\"block text-xs font-medium text-slate-700 mb-1\">\r\n          Due date &amp; time\r\n        </label>\r\n        <input\r\n          type=\"datetime-local\"\r\n          name=\"dueAt\"\r\n          value={formData.dueAt}\r\n          onChange={handleChange}\r\n          className={`w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 ${errors.dueAt ? \"border-red-300\" : \"border-slate-200\"}`}\r\n        />\r\n        <div className=\"mt-2 flex flex-wrap gap-2\">\r\n          <ShortcutChip\r\n            label=\"Later today\"\r\n            onClick={() =>\r\n              setFormData(prev => ({ ...prev, dueAt: laterToday() }))\r\n            }\r\n          />\r\n          <ShortcutChip\r\n            label=\"Tomorrow morning\"\r\n            onClick={() =>\r\n              setFormData(prev => ({ ...prev, dueAt: tomorrowMorning() }))\r\n            }\r\n          />\r\n          <ShortcutChip\r\n            label=\"Next business day\"\r\n            onClick={() =>\r\n              setFormData(prev => ({ ...prev, dueAt: nextBusinessDay() }))\r\n            }\r\n          />\r\n          <ShortcutChip\r\n            label=\"Next week\"\r\n            onClick={() =>\r\n              setFormData(prev => ({ ...prev, dueAt: nextWeekSameTime() }))\r\n            }\r\n          />\r\n        </div>\r\n        <p className=\"mt-1 text-[11px] text-slate-500\">\r\n          Uses your local timezone.\r\n        </p>\r\n        {errors.dueAt && (\r\n          <p className=\"text-[11px] text-red-600\">{errors.dueAt}</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Reminder type & priority */}\r\n      <div className=\"grid grid-cols-2 gap-3\">\r\n        <div>\r\n          <label className=\"block text-xs font-medium text-slate-700 mb-1\">\r\n            Reminder type\r\n          </label>\r\n          <select\r\n            name=\"reminderType\"\r\n            value={formData.reminderType}\r\n            onChange={handleChange}\r\n            className=\"w-full border border-slate-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\"\r\n          >\r\n            <option value=\"\">Select type</option>\r\n            <option value=\"Call\">Call</option>\r\n            <option value=\"FollowUp\">Follow-up</option>\r\n            <option value=\"Meeting\">Meeting</option>\r\n            <option value=\"Payment\">Payment</option>\r\n            <option value=\"Other\">Other</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-xs font-medium text-slate-700 mb-1\">\r\n            Priority\r\n          </label>\r\n          <div className=\"flex gap-2\">\r\n            <PriorityChip\r\n              label=\"High\"\r\n              active={formData.priority === 1}\r\n              onClick={() =>\r\n                setFormData(prev => ({ ...prev, priority: 1 }))\r\n              }\r\n              activeClass=\"bg-red-50 text-red-700 border-red-200\"\r\n            />\r\n            <PriorityChip\r\n              label=\"Medium\"\r\n              active={formData.priority === 2}\r\n              onClick={() =>\r\n                setFormData(prev => ({ ...prev, priority: 2 }))\r\n              }\r\n              activeClass=\"bg-amber-50 text-amber-700 border-amber-200\"\r\n            />\r\n            <PriorityChip\r\n              label=\"Low\"\r\n              active={formData.priority === 3}\r\n              onClick={() =>\r\n                setFormData(prev => ({ ...prev, priority: 3 }))\r\n              }\r\n              activeClass=\"bg-slate-50 text-slate-700 border-slate-200\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recurring + WhatsApp toggle */}\r\n      <div className=\"space-y-2\">\r\n        <label className=\"inline-flex items-center text-xs text-slate-700\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"isRecurring\"\r\n            checked={formData.isRecurring}\r\n            onChange={handleChange}\r\n            className=\"mr-2\"\r\n          />\r\n          Recurring reminder\r\n        </label>\r\n        {formData.isRecurring && (\r\n          <input\r\n            name=\"recurrencePattern\"\r\n            value={formData.recurrencePattern}\r\n            onChange={handleChange}\r\n            placeholder=\"e.g. Every Monday, Monthly, etc.\"\r\n            className=\"w-full border border-slate-200 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\"\r\n          />\r\n        )}\r\n\r\n        <label className=\"inline-flex items-center text-xs text-slate-700\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"sendWhatsappNotification\"\r\n            checked={formData.sendWhatsappNotification}\r\n            onChange={handleChange}\r\n            className=\"mr-2\"\r\n          />\r\n          Send WhatsApp notification\r\n        </label>\r\n        <p className=\"text-[11px] text-slate-500\">\r\n          Sends a WhatsApp reminder to the contact at due time.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"sticky bottom-0 bg-white pt-3 border-t border-slate-100 flex justify-end gap-2\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"px-4 py-2 rounded-md text-sm font-medium bg-slate-100 text-slate-700 hover:bg-slate-200\"\r\n        >\r\n          Cancel\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={saving}\r\n          className=\"bg-emerald-700 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-emerald-800 disabled:opacity-60 disabled:cursor-not-allowed\"\r\n        >\r\n          {saving\r\n            ? \"Saving...\"\r\n            : selectedReminder\r\n            ? \"Update reminder\"\r\n            : \"Save reminder\"}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ReminderForm;\r\n\r\nfunction ShortcutChip({ label, onClick }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      className=\"px-2.5 py-1 rounded-md text-[11px] font-semibold border border-slate-200 text-slate-700 hover:bg-emerald-50 hover:border-emerald-200 hover:text-emerald-800 transition\"\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction PriorityChip({ label, active, onClick, activeClass }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      className={`px-3 py-1.5 rounded-md text-xs font-semibold border transition ${\r\n        active\r\n          ? activeClass\r\n          : \"bg-white text-slate-700 border-slate-200 hover:bg-slate-50\"\r\n      }`}\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction toLocalInputValue(d) {\r\n  const pad = n => String(n).padStart(2, \"0\");\r\n  const yyyy = d.getFullYear();\r\n  const mm = pad(d.getMonth() + 1);\r\n  const dd = pad(d.getDate());\r\n  const hh = pad(d.getHours());\r\n  const mi = pad(d.getMinutes());\r\n  return `${yyyy}-${mm}-${dd}T${hh}:${mi}`;\r\n}\r\n\r\nfunction laterToday() {\r\n  const now = new Date();\r\n  const d = new Date(now);\r\n  d.setMinutes(0, 0, 0);\r\n  d.setHours(d.getHours() + 3);\r\n  if (d.getHours() >= 19) {\r\n    d.setDate(d.getDate() + 1);\r\n    d.setHours(10, 0, 0, 0);\r\n  }\r\n  return toLocalInputValue(d);\r\n}\r\n\r\nfunction tomorrowMorning() {\r\n  const d = new Date();\r\n  d.setDate(d.getDate() + 1);\r\n  d.setHours(10, 0, 0, 0);\r\n  return toLocalInputValue(d);\r\n}\r\n\r\nfunction nextBusinessDay() {\r\n  const d = new Date();\r\n  do {\r\n    d.setDate(d.getDate() + 1);\r\n  } while (d.getDay() === 0 || d.getDay() === 6);\r\n  d.setHours(10, 0, 0, 0);\r\n  return toLocalInputValue(d);\r\n}\r\n\r\nfunction nextWeekSameTime() {\r\n  const now = new Date();\r\n  const d = new Date(now);\r\n  d.setDate(d.getDate() + 7);\r\n  d.setMinutes(0, 0, 0);\r\n  return toLocalInputValue(d);\r\n}\r\n","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport axiosClient from \"../../../api/axiosClient\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n/**\r\n * ReminderList\r\n *\r\n * Props:\r\n * - onEdit(reminder): callback when user clicks \"Edit\"\r\n * - refreshKey: number to force refetch when incremented by parent\r\n *\r\n * Behaviour:\r\n * - Loads all reminders for the current business.\r\n * - Shows a simple table with key fields.\r\n * - Allows delete, then refreshes list.\r\n */\r\nfunction ReminderList({ onEdit, refreshKey }) {\r\n  const [reminders, setReminders] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Filters\r\n  const [activeTab, setActiveTab] = useState(\"open\"); // open | overdue | completed | all\r\n  const [dueFilter, setDueFilter] = useState(\"all\"); // all | today | tomorrow | week | range\r\n  const [rangeStart, setRangeStart] = useState(\"\");\r\n  const [rangeEnd, setRangeEnd] = useState(\"\");\r\n  const [priorityFilter, setPriorityFilter] = useState(\"\"); // \"\", \"1\", \"2\", \"3\"\r\n  const [typeFilter, setTypeFilter] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchReminders();\r\n  }, [refreshKey]);\r\n\r\n  const fetchReminders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axiosClient.get(\"/reminders\");\r\n\r\n      const root = res?.data;\r\n      let list = [];\r\n      if (Array.isArray(root)) {\r\n        list = root;\r\n      } else if (Array.isArray(root?.items)) {\r\n        list = root.items;\r\n      } else if (Array.isArray(root?.data)) {\r\n        list = root.data;\r\n      } else if (Array.isArray(root?.data?.items)) {\r\n        list = root.data.items;\r\n      }\r\n\r\n      setReminders(list);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Failed to fetch reminders:\", err);\r\n      toast.error(\"Failed to load reminders.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async id => {\r\n    if (!id) return;\r\n    const confirm = window.confirm(\r\n      \"Are you sure you want to delete this reminder?\"\r\n    );\r\n    if (!confirm) return;\r\n\r\n    try {\r\n      await axiosClient.delete(`/reminders/${id}`);\r\n      toast.success(\"‚úÖ Reminder deleted\");\r\n      // Refresh list\r\n      fetchReminders();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Failed to delete reminder:\", err);\r\n      const message =\r\n        err?.response?.data?.message ||\r\n        err?.response?.data?.error ||\r\n        \"Failed to delete reminder.\";\r\n      toast.error(message);\r\n    }\r\n  };\r\n\r\n  const formatDate = value => {\r\n    if (!value) return \"-\";\r\n    try {\r\n      return new Date(value).toLocaleString();\r\n    } catch {\r\n      return String(value);\r\n    }\r\n  };\r\n\r\n  const filteredReminders = useMemo(() => {\r\n    const now = new Date();\r\n    const startOfToday = new Date(\r\n      now.getFullYear(),\r\n      now.getMonth(),\r\n      now.getDate()\r\n    );\r\n    const startOfTomorrow = new Date(\r\n      now.getFullYear(),\r\n      now.getMonth(),\r\n      now.getDate() + 1\r\n    );\r\n    const startOfDayAfterTomorrow = new Date(\r\n      now.getFullYear(),\r\n      now.getMonth(),\r\n      now.getDate() + 2\r\n    );\r\n    const startOfNextWeek = new Date(\r\n      now.getFullYear(),\r\n      now.getMonth(),\r\n      now.getDate() + (7 - now.getDay() || 7)\r\n    );\r\n\r\n    const parseDue = value => {\r\n      if (!value) return null;\r\n      const d = new Date(value);\r\n      return Number.isNaN(d.getTime()) ? null : d;\r\n    };\r\n\r\n    const isCompletedStatus = status => {\r\n      const s = String(status || \"\").toLowerCase();\r\n      return s.includes(\"complete\") || s.includes(\"done\");\r\n    };\r\n\r\n    return reminders.filter(r => {\r\n      const due = parseDue(r.dueAt);\r\n      const completed = isCompletedStatus(r.status);\r\n\r\n      // Tabs\r\n      if (activeTab === \"open\" && completed) return false;\r\n      if (activeTab === \"completed\" && !completed) return false;\r\n      if (activeTab === \"overdue\" && (!due || due >= now || completed))\r\n        return false;\r\n\r\n      // Due filters\r\n      if (dueFilter === \"today\") {\r\n        if (!due || due < startOfToday || due >= startOfTomorrow) return false;\r\n      } else if (dueFilter === \"tomorrow\") {\r\n        if (!due || due < startOfTomorrow || due >= startOfDayAfterTomorrow)\r\n          return false;\r\n      } else if (dueFilter === \"week\") {\r\n        if (!due || due < startOfToday || due >= startOfNextWeek) return false;\r\n      } else if (dueFilter === \"range\") {\r\n        const rs = rangeStart ? new Date(rangeStart) : null;\r\n        const re = rangeEnd ? new Date(rangeEnd) : null;\r\n        if (!due) return false;\r\n        if (rs && due < rs) return false;\r\n        if (re && due > re) return false;\r\n      }\r\n\r\n      // Priority\r\n      if (priorityFilter) {\r\n        if (String(r.priority ?? \"\") !== String(priorityFilter)) return false;\r\n      }\r\n\r\n      // Type\r\n      if (typeFilter) {\r\n        if (String(r.reminderType || \"\") !== typeFilter) return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n  }, [\r\n    reminders,\r\n    activeTab,\r\n    dueFilter,\r\n    rangeStart,\r\n    rangeEnd,\r\n    priorityFilter,\r\n    typeFilter,\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"mt-4\">\r\n      {/* Filters */}\r\n      <div className=\"mb-3 flex flex-col gap-2\">\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {[\"open\", \"overdue\", \"completed\", \"all\"].map(tab => (\r\n            <button\r\n              key={tab}\r\n              type=\"button\"\r\n              onClick={() => setActiveTab(tab)}\r\n              className={`px-3 py-1.5 rounded-md text-xs font-semibold border transition ${\r\n                activeTab === tab\r\n                  ? \"bg-emerald-600 text-white border-emerald-600\"\r\n                  : \"bg-white text-slate-700 border-slate-200 hover:bg-slate-50\"\r\n              }`}\r\n            >\r\n              {tab === \"open\"\r\n                ? \"Open\"\r\n                : tab === \"overdue\"\r\n                ? \"Overdue\"\r\n                : tab === \"completed\"\r\n                ? \"Completed\"\r\n                : \"All\"}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center gap-2\">\r\n          <select\r\n            value={dueFilter}\r\n            onChange={e => setDueFilter(e.target.value)}\r\n            className=\"border border-slate-200 rounded-md px-3 py-2 text-sm bg-white\"\r\n          >\r\n            <option value=\"all\">All due dates</option>\r\n            <option value=\"today\">Due today</option>\r\n            <option value=\"tomorrow\">Due tomorrow</option>\r\n            <option value=\"week\">Due this week</option>\r\n            <option value=\"range\">Custom range</option>\r\n          </select>\r\n\r\n          {dueFilter === \"range\" && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"date\"\r\n                value={rangeStart}\r\n                onChange={e => setRangeStart(e.target.value)}\r\n                className=\"border border-slate-200 rounded-md px-3 py-2 text-sm bg-white\"\r\n              />\r\n              <span className=\"text-xs text-slate-500\">to</span>\r\n              <input\r\n                type=\"date\"\r\n                value={rangeEnd}\r\n                onChange={e => setRangeEnd(e.target.value)}\r\n                className=\"border border-slate-200 rounded-md px-3 py-2 text-sm bg-white\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <select\r\n            value={priorityFilter}\r\n            onChange={e => setPriorityFilter(e.target.value)}\r\n            className=\"border border-slate-200 rounded-md px-3 py-2 text-sm bg-white\"\r\n          >\r\n            <option value=\"\">All priorities</option>\r\n            <option value=\"1\">High</option>\r\n            <option value=\"2\">Medium</option>\r\n            <option value=\"3\">Low</option>\r\n          </select>\r\n\r\n          <select\r\n            value={typeFilter}\r\n            onChange={e => setTypeFilter(e.target.value)}\r\n            className=\"border border-slate-200 rounded-md px-3 py-2 text-sm bg-white\"\r\n          >\r\n            <option value=\"\">All types</option>\r\n            <option value=\"Call\">Call</option>\r\n            <option value=\"FollowUp\">Follow-up</option>\r\n            <option value=\"Meeting\">Meeting</option>\r\n            <option value=\"Payment\">Payment</option>\r\n            <option value=\"Other\">Other</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      {loading && (\r\n        <div className=\"text-xs text-slate-500 mb-2\">Loading reminders‚Ä¶</div>\r\n      )}\r\n\r\n      <div className=\"overflow-x-auto border border-slate-200 rounded-md bg-white\">\r\n        <table className=\"min-w-full text-sm\">\r\n          <thead className=\"bg-emerald-50 text-xs uppercase text-emerald-700\">\r\n            <tr>\r\n              <th className=\"px-3 py-2 text-left\">Title</th>\r\n              <th className=\"px-3 py-2 text-left\">Type</th>\r\n              <th className=\"px-3 py-2 text-left\">Due</th>\r\n              <th className=\"px-3 py-2 text-left\">Status</th>\r\n              <th className=\"px-3 py-2 text-left\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredReminders.map(reminder => (\r\n              <tr\r\n                key={reminder.id}\r\n                className=\"border-t border-slate-100 hover:bg-slate-50\"\r\n              >\r\n                <td className=\"px-3 py-2\">\r\n                  <div className=\"font-medium text-slate-800\">\r\n                    {reminder.title || \"Untitled\"}\r\n                  </div>\r\n                  {reminder.description && (\r\n                    <div className=\"text-[11px] text-slate-500 line-clamp-2\">\r\n                      {reminder.description}\r\n                    </div>\r\n                  )}\r\n                </td>\r\n                <td className=\"px-3 py-2 text-xs text-slate-700\">\r\n                  {reminder.reminderType || \"-\"}\r\n                </td>\r\n                <td className=\"px-3 py-2 text-xs text-slate-700\">\r\n                  {formatDate(reminder.dueAt)}\r\n                </td>\r\n                <td className=\"px-3 py-2 text-xs text-slate-700\">\r\n                  {reminder.status || \"-\"}\r\n                </td>\r\n                <td className=\"px-3 py-2 text-xs text-slate-700\">\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => onEdit?.(reminder)}\r\n                      className=\"px-2 py-1 rounded-md bg-blue-500 hover:bg-blue-600 text-white text-xs\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleDelete(reminder.id)}\r\n                      className=\"px-2 py-1 rounded-md bg-red-500 hover:bg-red-600 text-white text-xs\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n\r\n            {!loading && filteredReminders.length === 0 && (\r\n              <tr>\r\n                <td\r\n                  colSpan={5}\r\n                  className=\"px-3 py-4 text-center text-xs text-slate-500\"\r\n                >\r\n                  No reminders match these filters.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReminderList;\r\n","import React, { useState } from \"react\";\r\nimport { Bell } from \"lucide-react\";\r\n\r\nimport ReminderForm from \"./ReminderForm\";\r\nimport ReminderList from \"./ReminderList\";\r\n\r\nfunction Reminders() {\r\n  const [selectedReminder, setSelectedReminder] = useState(null);\r\n  const [refreshKey, setRefreshKey] = useState(0);\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n\r\n  const handleEdit = reminder => {\r\n    setSelectedReminder(reminder);\r\n    setIsDrawerOpen(true);\r\n  };\r\n\r\n  const handleAddNew = () => {\r\n    setSelectedReminder(null);\r\n    setIsDrawerOpen(true);\r\n  };\r\n\r\n  const handleSaveComplete = () => {\r\n    setIsDrawerOpen(false);\r\n    setSelectedReminder(null);\r\n    setRefreshKey(prev => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-[calc(100vh-80px)] bg-[#f5f6f7] relative\">\r\n      <div className=\"max-w-6xl mx-auto px-6 pt-10 pb-8\">\r\n        <div className=\"mb-5 flex items-center justify-between gap-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-9 h-9 rounded-md bg-emerald-50 text-emerald-700 flex items-center justify-center\">\r\n              <Bell size={17} />\r\n            </div>\r\n            <h2 className=\"text-xl font-semibold text-slate-900\">\r\n              Reminders\r\n            </h2>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Reminder guidance */}\r\n        <div className=\"mb-5 bg-emerald-50/70 border border-emerald-100 rounded-md px-5 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n          <div className=\"text-sm text-slate-800\">\r\n            <div className=\"font-semibold text-emerald-900\">\r\n              Pro tip: turn conversations into follow‚Äëups\r\n            </div>\r\n            <ul className=\"mt-1 text-xs text-slate-700 space-y-0.5\">\r\n              <li>\r\n                Set a reminder right after a WhatsApp chat so nothing slips\r\n                through.\r\n              </li>\r\n              <li>\r\n                Use <b>Type</b> and <b>Priority</b> to batch your work (e.g. all\r\n                ‚ÄúPayments‚Äù due today).\r\n              </li>\r\n              <li>\r\n                Check the <b>Overdue</b> tab daily to clear missed follow‚Äëups\r\n                fast.\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleAddNew}\r\n            className=\"inline-flex items-center justify-center px-4 py-2 rounded-md text-xs font-semibold bg-emerald-700 text-white border border-emerald-700 hover:bg-emerald-800 whitespace-nowrap\"\r\n          >\r\n            Create a reminder\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-md border border-slate-100 shadow-sm px-6 py-5\">\r\n          <ReminderList onEdit={handleEdit} refreshKey={refreshKey} />\r\n        </div>\r\n      </div>\r\n\r\n      {isDrawerOpen && (\r\n        <div className=\"fixed top-0 right-0 w-full max-w-md h-full bg-white shadow-2xl z-50 transition-transform duration-300 border-l overflow-y-auto\">\r\n          <div className=\"flex items-center justify-between p-4 border-b\">\r\n            <h2 className=\"text-lg font-bold\">\r\n              {selectedReminder ? \"Edit Reminder\" : \"Add Reminder\"}\r\n            </h2>\r\n            <button\r\n              onClick={() => setIsDrawerOpen(false)}\r\n              className=\"text-gray-500 text-xl\"\r\n            >\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"p-4\">\r\n            <ReminderForm\r\n              selectedReminder={selectedReminder}\r\n              onSaveComplete={handleSaveComplete}\r\n              onCancel={() => setIsDrawerOpen(false)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reminders;\r\n"],"names":["_ref","contactId","selectedReminder","onSaveComplete","onCancel","saving","setSaving","useState","contacts","setContacts","contactsLoading","setContactsLoading","contactSearch","setContactSearch","errors","setErrors","formData","setFormData","title","description","dueAt","reminderType","priority","isRecurring","recurrencePattern","sendWhatsappNotification","useEffect","contactID","contact_id","toLocalDateTimeInput","prev","_objectSpread","shouldShowContactPicker","value","d","Date","Number","isNaN","getTime","pad","n","String","padStart","yyyy","getFullYear","mm","getMonth","dd","getDate","hh","getHours","mi","getMinutes","concat","_unused","cancelled","async","_res$data$data","_res$data","res","axiosClient","get","params","tab","search","page","pageSize","payload","data","items","Array","isArray","Items","err","console","error","toast","fetchContacts","handleChange","e","name","type","checked","target","_jsxs","onSubmit","preventDefault","nextErrors","trim","Object","keys","length","warn","dueAtUtc","toISOString","id","put","success","post","_err$response","_err$response$data","_err$response2","_err$response2$data","message","response","className","children","_jsx","onChange","placeholder","map","c","phoneNumber","rows","ShortcutChip","label","onClick","laterToday","tomorrowMorning","nextBusinessDay","nextWeekSameTime","PriorityChip","active","activeClass","disabled","_ref2","_ref3","toLocalInputValue","now","setMinutes","setHours","setDate","getDay","onEdit","refreshKey","reminders","setReminders","loading","setLoading","activeTab","setActiveTab","dueFilter","setDueFilter","rangeStart","setRangeStart","rangeEnd","setRangeEnd","priorityFilter","setPriorityFilter","typeFilter","setTypeFilter","fetchReminders","_root$data","root","list","formatDate","toLocaleString","filteredReminders","useMemo","startOfToday","startOfTomorrow","startOfDayAfterTomorrow","startOfNextWeek","filter","r","due","parseDue","completed","status","s","toLowerCase","includes","isCompletedStatus","rs","re","_r$priority","reminder","window","confirm","delete","handleDelete","colSpan","setSelectedReminder","setRefreshKey","isDrawerOpen","setIsDrawerOpen","Bell","size","handleAddNew","ReminderList","ReminderForm","handleSaveComplete"],"sourceRoot":""}