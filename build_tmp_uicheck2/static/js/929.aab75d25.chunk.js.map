{"version":3,"file":"static/js/929.aab75d25.chunk.js","mappings":";gPAGO,MA+BDA,GAAMC,WAAAA,GAAiB,MA/BO,CAClC,CAAC,OAAQ,CAAEC,EAAG,iBAAkBC,IAAK,WACrC,CAAC,OAAQ,CAAED,EAAG,mBAAoBC,IAAK,WACvC,CAAC,OAAQ,CAAED,EAAG,qCAAsCC,IAAK,WACzD,CACE,OACA,CACED,EAAG,6EACHC,IAAK,WAGT,CAAC,OAAQ,CAAED,EAAG,YAAaC,IAAK,WAChC,CAAC,OAAQ,CAAED,EAAG,4BAA6BC,IAAK,WAChD,CAAC,OAAQ,CAAED,EAAG,UAAWC,IAAK,WAC9B,CAAC,OAAQ,CAAED,EAAG,4BAA6BC,IAAK,WAChD,CAAC,OAAQ,CAAED,EAAG,+BAAgCC,IAAK,WACnD,CAAC,OAAQ,CAAED,EAAG,YAAaC,IAAK,WAChC,CAAC,OAAQ,CAAED,EAAG,+BAAgCC,IAAK,4BCPrD,MAqZA,EArZwBC,KACtB,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,WAAS,IACxCC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,OACxCG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCK,EAAWC,IAAgBN,EAAAA,EAAAA,UAAS,IACpCO,EAAcC,IAAmBR,EAAAA,EAAAA,WAAS,GAE3CS,EAAcC,UAClB,IAAK,IAADC,EACF,MAAOC,EAAWC,SAAkBC,QAAQC,IAAI,CAC9CC,EAAAA,QAAYC,IAAI,sBAChBD,EAAAA,QAAYC,IAAI,4BAElBlB,IAAiBa,EAAUM,KAAKC,SAChCjB,EAAeU,EAAUM,KAAKE,eAAiB,MAC/Cd,EAAgC,QAApBK,EAACE,EAASK,KAAKG,aAAK,IAAAV,EAAAA,EAAI,EACtC,CAAE,MAAOW,GACPC,QAAQC,MAAM,yCAAqCF,GACnDG,EAAAA,GAAMD,MAAM,iCACd,CAAC,QACCpB,GAAW,EACb,IAGFsB,EAAAA,EAAAA,YAAU,KACRjB,GAAa,GACZ,IAEH,MA+CMkB,EACU,IAAdtB,EACI,OACAA,EAAY,IACZ,MACAA,EAAY,IACZ,SACA,OAEAuB,EACU,SAAdD,EACI,cACc,QAAdA,EACA,MACc,WAAdA,EACA,SACA,OAEAE,EACU,SAAdF,EACI,oDACc,QAAdA,EACA,wCACc,WAAdA,EACA,8CACA,wCAEN,OACEG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EAEpCC,EAAAA,EAAAA,KAAA,SAAAD,SAAA,msBAaAF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wDAAuDC,SAAA,EACpEF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gHAA+GC,SAAA,EAC5HC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAACC,KAAM,KAAM,0BAG3BF,EAAAA,EAAAA,KAAA,MAAIF,UAAU,8DAA6DC,SAAC,mCAG5EC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,wCAAuCC,SAAC,4IAMrD7B,IACA2B,EAAAA,EAAAA,MAAA,OACEC,UAAS,sFAAAK,OAAwFP,GAAmBG,SAAA,EAEpHC,EAAAA,EAAAA,KAACI,EAAAA,EAAQ,CAACF,KAAM,MAChBL,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,iBAAeJ,WAK1BzB,GACC2B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0EAAyEC,SAAA,EACtFC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCACfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCACfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCACfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sCAEjBD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0EAAyEC,SAAA,EACtFC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCACfD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCACfE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,4CAKrBD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EAEtEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sFAAqFC,SAAA,EAElGC,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,8HACVO,MAAO,CACLC,WAAY,oDACZC,UAAW,gBAGfP,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,4IACVO,MAAO,CACLC,WACE,qDACFC,UAAW,gBAGfP,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,qIACVO,MAAO,CACLC,WACE,qDACFC,UAAW,gBAGfP,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,6IACVO,MAAO,CACLC,WAAY,mDACZC,UAAW,gBAIfV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,EAClBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yCAAwCC,UACrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gDAA+CC,UAC5DC,EAAAA,EAAAA,KAACI,EAAAA,EAAQ,CAACF,KAAM,QAElBL,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,2CAA0CC,SAAC,yBAGzDC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,yBAAwBC,SAAC,4FAQ5CF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,wCAAuCC,SAAA,EACnDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8DAA6DC,SAAA,EAC1EF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,kEAAiEC,SAAA,EAC7EC,EAAAA,EAAAA,KAACQ,EAAAA,EAAM,CAACN,KAAM,GAAIJ,UAAU,mBAAmB,wBAGjDE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uCAAsCC,SACjD3B,EAAUqC,eAAe,YAE5BT,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kCAAiCC,SAAC,gFAMjDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8DAA6DC,SAAA,EAC1EF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,kEAAiEC,SAAA,EAC7EC,EAAAA,EAAAA,KAACU,EAAAA,EAAU,CAACR,KAAM,GAAIJ,UAAU,qBAAqB,0BAGvDE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,+BAA8BC,UAC1CC,EAAAA,EAAAA,KAAA,QACEF,UAAS,6EAAAK,OACPtC,EACI,2DACA,mDACHkC,SAEFlC,EAAc,UAAY,gBAG/BmC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kCAAiCC,SAC3ClC,EACG,mDACA,qEAIRgC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4EAA2EC,SAAA,EACxFF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,kEAAiEC,SAAA,EAC7EC,EAAAA,EAAAA,KAACW,EAAAA,EAAK,CAACT,KAAM,GAAIJ,UAAU,iBAAiB,mBAG9CE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,qCAAoCC,SAC/C/B,EACG,IAAI4C,KAAK5C,GAAayC,iBACtB,eAENT,EAAAA,EAAAA,KAAA,KAAGF,UAAU,kCAAiCC,SAAC,mHAUvDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oGAAmGC,SAAA,EAEhHC,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,8HACVO,MAAO,CACLC,WAAY,oDACZC,UAAW,gBAGfP,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,4IACVO,MAAO,CACLC,WACE,qDACFC,UAAW,gBAGfP,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,qIACVO,MAAO,CACLC,WACE,qDACFC,UAAW,gBAGfP,EAAAA,EAAAA,KAAA,QACE,iBACAF,UAAU,6IACVO,MAAO,CACLC,WAAY,mDACZC,UAAW,gBAIfV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2CAA0CC,SAAA,EACvDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iEAAgEC,SAAC,mBAG/EC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,8BAA6BC,SAAC,sHAM7CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EAExBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4EAA2EC,SAAA,EACxFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0CAAyCC,SAAA,EACtDC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,qCAAoCC,SAAC,kBAGrDC,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CACLX,KAAK,KACLY,QAhTErC,UACpBF,GAAgB,GAChB,IACE,MAAMwC,EAAWlD,EACb,4BACA,iCACEkB,EAAAA,QAAYiC,KAAKD,GACvBvB,EAAAA,GAAMyB,QACJpD,EAAc,qCAA6B,qCAEvCW,GACR,CAAE,MAAOa,GACPC,QAAQC,MAAM,uBAAmBF,GACjCG,EAAAA,GAAMD,MAAM,uCACd,CAAC,QACChB,GAAgB,EAClB,GAiSkB2C,SAAU5C,EACVwB,UAAU,2EAA0EC,SAEnFlC,EACG,uBACA,4BAGRmC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA4BC,SAAC,oEAM5CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4EAA2EC,SAAA,EACxFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0CAAyCC,SAAA,EACtDF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6DAA4DC,SAAA,EAC1EC,EAAAA,EAAAA,KAACQ,EAAAA,EAAM,CAACN,KAAM,GAAIJ,UAAU,qBAAqB,qBAGnDE,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CACLX,KAAK,KACLY,QApTKrC,UACvBF,GAAgB,GAChB,IACE,MAAM4C,QAAYpC,EAAAA,QAAYiC,KAAK,yBACnCxB,EAAAA,GAAMyB,QAAQE,EAAIlC,KAAKmC,SAAW,wCAC5B5C,GACR,CAAE,MAAOa,GACPC,QAAQC,MAAM,+BAA2BF,GACzCG,EAAAA,GAAMD,MAAM,+BACd,CAAC,QACChB,GAAgB,EAClB,GA0SkB2C,SAAU5C,EACVwB,UAAU,2EAA0EC,SACrF,wCAIHC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA4BC,SAAC,6EAO5CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4EAA2EC,SAAA,EACxFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0CAAyCC,SAAA,EACtDF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6DAA4DC,SAAA,EAC1EC,EAAAA,EAAAA,KAACxC,EAAG,CAAC0C,KAAM,GAAIJ,UAAU,mBAAmB,0BAG9CE,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CACLX,KAAK,KACLY,QA5TDrC,UACjBF,GAAgB,GAChB,UACQQ,EAAAA,QAAYiC,KAAK,6BACvBxB,EAAAA,GAAMyB,QAAQ,8DACRzC,GACR,CAAE,MAAOa,GACPC,QAAQC,MAAM,0BAAsBF,GACpCG,EAAAA,GAAMD,MAAM,mCACd,CAAC,QACChB,GAAgB,EAClB,GAkTkB2C,SAAU5C,EACVwB,UAAU,2EAA0EC,SACrF,qCAIHC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,6BAA4BC,SAAC,uHAO7CzB,IACCuB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDC,SAAA,EACtEC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mEAAmE,8CAQ3F","sources":["../node_modules/lucide-react/src/icons/bug.ts","pages/Tracking/WebhookSettings.jsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm8 2 1.88 1.88', key: 'fmnt4t' }],\n  ['path', { d: 'M14.12 3.88 16 2', key: 'qol33r' }],\n  ['path', { d: 'M9 7.13v-1a3.003 3.003 0 1 1 6 0v1', key: 'd7y7pr' }],\n  [\n    'path',\n    {\n      d: 'M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6',\n      key: 'xs1cw7',\n    },\n  ],\n  ['path', { d: 'M12 20v-9', key: '1qisl0' }],\n  ['path', { d: 'M6.53 9C4.6 8.8 3 7.1 3 5', key: '32zzws' }],\n  ['path', { d: 'M6 13H2', key: '82j7cp' }],\n  ['path', { d: 'M3 21c0-2.1 1.7-3.9 3.8-4', key: '4p0ekp' }],\n  ['path', { d: 'M20.97 5c0 2.1-1.6 3.8-3.5 4', key: '18gb23' }],\n  ['path', { d: 'M22 13h-4', key: '1jl80f' }],\n  ['path', { d: 'M17.2 17c2.1.1 3.8 1.9 3.8 4', key: 'k3fwyw' }],\n];\n\n/**\n * @component @name Bug\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOCAyIDEuODggMS44OCIgLz4KICA8cGF0aCBkPSJNMTQuMTIgMy44OCAxNiAyIiAvPgogIDxwYXRoIGQ9Ik05IDcuMTN2LTFhMy4wMDMgMy4wMDMgMCAxIDEgNiAwdjEiIC8+CiAgPHBhdGggZD0iTTEyIDIwYy0zLjMgMC02LTIuNy02LTZ2LTNhNCA0IDAgMCAxIDQtNGg0YTQgNCAwIDAgMSA0IDR2M2MwIDMuMy0yLjcgNi02IDYiIC8+CiAgPHBhdGggZD0iTTEyIDIwdi05IiAvPgogIDxwYXRoIGQ9Ik02LjUzIDlDNC42IDguOCAzIDcuMSAzIDUiIC8+CiAgPHBhdGggZD0iTTYgMTNIMiIgLz4KICA8cGF0aCBkPSJNMyAyMWMwLTIuMSAxLjctMy45IDMuOC00IiAvPgogIDxwYXRoIGQ9Ik0yMC45NyA1YzAgMi4xLTEuNiAzLjgtMy41IDQiIC8+CiAgPHBhdGggZD0iTTIyIDEzaC00IiAvPgogIDxwYXRoIGQ9Ik0xNy4yIDE3YzIuMS4xIDMuOCAxLjkgMy44IDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bug\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bug = createLucideIcon('bug', __iconNode);\n\nexport default Bug;\n","import React, { useEffect, useState } from \"react\";\r\nimport axiosClient from \"../../api/axiosClient\";\r\nimport { Button } from \"../../components/ui/button\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\n  Activity,\n  Trash2,\n  Bug,\n  RefreshCcw,\n  Clock,\n  ShieldAlert,\n} from \"lucide-react\";\n\r\nconst WebhookSettings = () => {\r\n  const [autoCleanup, setAutoCleanup] = useState(false);\r\n  const [lastCleanup, setLastCleanup] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [logsCount, setLogsCount] = useState(0);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const fetchStatus = async () => {\r\n    try {\r\n      const [statusRes, countRes] = await Promise.all([\r\n        axiosClient.get(\"/webhooks/settings\"),\r\n        axiosClient.get(\"/webhooks/failed/count\"),\r\n      ]);\r\n      setAutoCleanup(!!statusRes.data.enabled); // ensure boolean\r\n      setLastCleanup(statusRes.data.lastCleanupAt || null);\r\n      setLogsCount(countRes.data.count ?? 0);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Failed to load webhook settings\", err);\r\n      toast.error(\"‚ùå Failed to load settings\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchStatus();\r\n  }, []);\r\n\r\n  const toggleCleanup = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const endpoint = autoCleanup\r\n        ? \"/webhooks/disable-cleanup\"\r\n        : \"/webhooks/enable-cleanup\";\r\n      await axiosClient.post(endpoint);\r\n      toast.success(\r\n        autoCleanup ? \"üßπ Auto Cleanup Disabled\" : \"‚úÖ Auto Cleanup Enabled\"\r\n      );\r\n      await fetchStatus();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Toggle failed\", err);\r\n      toast.error(\"‚ùå Failed to toggle auto cleanup\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const runManualCleanup = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const res = await axiosClient.post(\"/webhooks/cleanup-now\");\r\n      toast.success(res.data.message || \"‚úÖ Manual cleanup complete\");\r\n      await fetchStatus();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Manual cleanup failed\", err);\r\n      toast.error(\"‚ùå Manual cleanup failed\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const injectTest = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      await axiosClient.post(\"/webhooks/inject-test-log\");\r\n      toast.success(\"üß™ Test failure log injected successfully.\");\r\n      await fetchStatus();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Injection failed\", err);\r\n      toast.error(\"‚ùå Failed to inject test log\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const riskLevel =\r\n    logsCount === 0\r\n      ? \"none\"\r\n      : logsCount < 100\r\n      ? \"low\"\r\n      : logsCount < 1000\r\n      ? \"medium\"\r\n      : \"high\";\r\n\r\n  const riskLabel =\r\n    riskLevel === \"none\"\r\n      ? \"No failures\"\r\n      : riskLevel === \"low\"\r\n      ? \"Low\"\r\n      : riskLevel === \"medium\"\r\n      ? \"Medium\"\r\n      : \"High\";\r\n\r\n  const riskColorClasses =\r\n    riskLevel === \"none\"\r\n      ? \"bg-emerald-50 text-emerald-700 border-emerald-100\"\r\n      : riskLevel === \"low\"\r\n      ? \"bg-sky-50 text-sky-700 border-sky-100\"\r\n      : riskLevel === \"medium\"\r\n      ? \"bg-amber-50 text-amber-700 border-amber-100\"\r\n      : \"bg-red-50 text-red-700 border-red-100\";\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-5xl mx-auto\">\r\n      {/* Local animated border CSS, same vibe as workspaces */}\r\n      <style>{`\r\n        @keyframes drawRight { from { transform: scaleX(0) } to { transform: scaleX(1) } }\r\n        @keyframes drawDown  { from { transform: scaleY(0) } to { transform: scaleY(1) } }\r\n        @keyframes drawLeft  { from { transform: scaleX(0) } to { transform: scaleX(1) } }\r\n        @keyframes drawUp    { from { transform: scaleY(0) } to { transform: scaleY(1) } }\r\n\r\n        .tile:hover .topline    { animation: drawRight .9s ease forwards; }\r\n        .tile:hover .rightline  { animation: drawDown  .9s ease .18s forwards; }\r\n        .tile:hover .bottomline { animation: drawLeft  .9s ease .36s forwards; }\r\n        .tile:hover .leftline   { animation: drawUp    .9s ease .54s forwards; }\r\n      `}</style>\r\n\r\n      {/* Header */}\r\n      <div className=\"flex flex-wrap items-start justify-between gap-4 mb-6\">\r\n        <div>\r\n          <div className=\"inline-flex items-center gap-2 rounded-full bg-emerald-50 text-emerald-700 px-3 py-1 text-xs font-medium mb-2\">\r\n            <ShieldAlert size={14} />\r\n            Webhook Reliability\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold text-emerald-900 flex items-center gap-2\">\r\n            ‚öôÔ∏è Webhook Settings\r\n          </h2>\r\n          <p className=\"text-sm text-slate-600 max-w-2xl mt-1\">\r\n            Keep your webhook logs under control. Enable automatic cleanup for\r\n            peace of mind and use manual tools while debugging integrations.\r\n          </p>\r\n        </div>\r\n\r\n        {!loading && (\r\n          <div\r\n            className={`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${riskColorClasses}`}\r\n          >\r\n            <Activity size={14} />\r\n            <span>Failure Risk: {riskLabel}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"grid gap-5 md:grid-cols-2\">\r\n          <div className=\"rounded-xl border border-slate-100 bg-white shadow-sm p-5 animate-pulse\">\r\n            <div className=\"h-4 w-32 bg-slate-100 rounded mb-3\" />\r\n            <div className=\"h-3 w-48 bg-slate-100 rounded mb-2\" />\r\n            <div className=\"h-3 w-40 bg-slate-100 rounded mb-2\" />\r\n            <div className=\"h-3 w-28 bg-slate-100 rounded\" />\r\n          </div>\r\n          <div className=\"rounded-xl border border-slate-100 bg-white shadow-sm p-5 animate-pulse\">\r\n            <div className=\"h-4 w-40 bg-slate-100 rounded mb-3\" />\r\n            <div className=\"flex gap-3\">\r\n              <div className=\"h-9 w-28 bg-slate-100 rounded\" />\r\n              <div className=\"h-9 w-32 bg-slate-100 rounded\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid gap-5 md:grid-cols-[minmax(0,2fr)_minmax(0,1.4fr)]\">\r\n          {/* Summary / Stats card */}\r\n          <div className=\"tile relative overflow-hidden rounded-xl border border-slate-100 bg-white shadow-sm\">\r\n            {/* Animated border */}\r\n            <span\r\n              aria-hidden\r\n              className=\"topline pointer-events-none absolute left-0 -top-[2px] h-[2px] w-full origin-left rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background: \"linear-gradient(90deg, #A7F3D0, #34D399, #059669)\",\r\n                transform: \"scaleX(0)\",\r\n              }}\r\n            />\r\n            <span\r\n              aria-hidden\r\n              className=\"rightline pointer-events-none absolute right-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-top rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(180deg, #A7F3D0, #34D399, #059669)\",\r\n                transform: \"scaleY(0)\",\r\n              }}\r\n            />\r\n            <span\r\n              aria-hidden\r\n              className=\"bottomline pointer-events-none absolute left-0 -bottom-[2px] h-[2px] w-full origin-right rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(270deg, #A7F3D0, #34D399, #059669)\",\r\n                transform: \"scaleX(0)\",\r\n              }}\r\n            />\r\n            <span\r\n              aria-hidden\r\n              className=\"leftline pointer-events-none absolute left-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-bottom rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background: \"linear-gradient(0deg, #A7F3D0, #34D399, #059669)\",\r\n                transform: \"scaleY(0)\",\r\n              }}\r\n            />\r\n\r\n            <div className=\"p-5\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"rounded-lg bg-emerald-50 p-2 text-emerald-700\">\r\n                    <Activity size={20} />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-base font-semibold text-emerald-900\">\r\n                      Failure Log Summary\r\n                    </h3>\r\n                    <p className=\"text-xs text-slate-500\">\r\n                      Monitor how many webhook calls are failing and when they\r\n                      were last cleaned up.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <dl className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <div className=\"rounded-lg border border-slate-100 bg-slate-50/60 px-3 py-3\">\r\n                  <dt className=\"flex items-center gap-2 text-xs font-medium text-slate-600 mb-1\">\r\n                    <Trash2 size={14} className=\"text-slate-500\" />\r\n                    Total Failed Logs\r\n                  </dt>\r\n                  <dd className=\"text-xl font-semibold text-slate-900\">\r\n                    {logsCount.toLocaleString(\"en-IN\")}\r\n                  </dd>\r\n                  <p className=\"mt-1 text-[11px] text-slate-500\">\r\n                    These entries are safe to clean up once you‚Äôve finished\r\n                    debugging.\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"rounded-lg border border-slate-100 bg-slate-50/60 px-3 py-3\">\r\n                  <dt className=\"flex items-center gap-2 text-xs font-medium text-slate-600 mb-1\">\r\n                    <RefreshCcw size={14} className=\"text-emerald-600\" />\r\n                    Auto-Cleanup Status\r\n                  </dt>\r\n                  <dd className=\"mt-1 flex items-center gap-2\">\r\n                    <span\r\n                      className={`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${\r\n                        autoCleanup\r\n                          ? \"bg-emerald-50 text-emerald-700 border border-emerald-100\"\r\n                          : \"bg-rose-50 text-rose-700 border border-rose-100\"\r\n                      }`}\r\n                    >\r\n                      {autoCleanup ? \"Enabled\" : \"Disabled\"}\r\n                    </span>\r\n                  </dd>\r\n                  <p className=\"mt-1 text-[11px] text-slate-500\">\r\n                    {autoCleanup\r\n                      ? \"Older failed logs will be cleaned automatically.\"\r\n                      : \"Failed logs will keep growing until you clean them manually.\"}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"rounded-lg border border-slate-100 bg-slate-50/60 px-3 py-3 sm:col-span-2\">\r\n                  <dt className=\"flex items-center gap-2 text-xs font-medium text-slate-600 mb-1\">\r\n                    <Clock size={14} className=\"text-sky-600\" />\r\n                    Last Cleanup\r\n                  </dt>\r\n                  <dd className=\"text-sm font-medium text-slate-900\">\r\n                    {lastCleanup\r\n                      ? new Date(lastCleanup).toLocaleString()\r\n                      : \"Never run\"}\r\n                  </dd>\r\n                  <p className=\"mt-1 text-[11px] text-slate-500\">\r\n                    Run a manual cleanup after heavy testing or once you‚Äôre\r\n                    confident in your webhook stability.\r\n                  </p>\r\n                </div>\r\n              </dl>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions card */}\r\n          <div className=\"tile relative overflow-hidden rounded-xl border border-slate-100 bg-white shadow-sm flex flex-col\">\r\n            {/* Animated border */}\r\n            <span\r\n              aria-hidden\r\n              className=\"topline pointer-events-none absolute left-0 -top-[2px] h-[2px] w-full origin-left rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background: \"linear-gradient(90deg, #EEF2FF, #C4B5FD, #A78BFA)\",\r\n                transform: \"scaleX(0)\",\r\n              }}\r\n            />\r\n            <span\r\n              aria-hidden\r\n              className=\"rightline pointer-events-none absolute right-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-top rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(180deg, #EEF2FF, #C4B5FD, #A78BFA)\",\r\n                transform: \"scaleY(0)\",\r\n              }}\r\n            />\r\n            <span\r\n              aria-hidden\r\n              className=\"bottomline pointer-events-none absolute left-0 -bottom-[2px] h-[2px] w-full origin-right rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background:\r\n                  \"linear-gradient(270deg, #EEF2FF, #C4B5FD, #A78BFA)\",\r\n                transform: \"scaleX(0)\",\r\n              }}\r\n            />\r\n            <span\r\n              aria-hidden\r\n              className=\"leftline pointer-events-none absolute left-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-bottom rounded opacity-0 group-hover:opacity-100\"\r\n              style={{\r\n                background: \"linear-gradient(0deg, #EEF2FF, #C4B5FD, #A78BFA)\",\r\n                transform: \"scaleY(0)\",\r\n              }}\r\n            />\r\n\r\n            <div className=\"p-5 flex-1 flex flex-col justify-between\">\r\n              <div className=\"mb-4\">\r\n                <h3 className=\"text-base font-semibold text-slate-900 flex items-center gap-2\">\r\n                  Webhook Tools\r\n                </h3>\r\n                <p className=\"text-xs text-slate-500 mt-1\">\r\n                  Use these tools while developing or debugging. All actions are\r\n                  safe for production once your logic is stable.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                {/* Auto Cleanup button - emerald */}\r\n                <div className=\"flex flex-col gap-1 rounded-lg border border-slate-100 bg-slate-50/60 p-3\">\r\n                  <div className=\"flex items-center justify-between gap-2\">\r\n                    <span className=\"text-sm font-medium text-slate-900\">\r\n                      Auto Cleanup\r\n                    </span>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={toggleCleanup}\r\n                      disabled={isSubmitting}\r\n                      className=\"bg-emerald-600 hover:bg-emerald-700 text-white border border-emerald-600\"\r\n                    >\r\n                      {autoCleanup\r\n                        ? \"Disable Auto Cleanup\"\r\n                        : \"Enable Auto Cleanup\"}\r\n                    </Button>\r\n                  </div>\r\n                  <p className=\"text-[11px] text-slate-500\">\r\n                    Automatically remove old failed webhook logs on a schedule.\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Manual cleanup button - emerald */}\r\n                <div className=\"flex flex-col gap-1 rounded-lg border border-slate-100 bg-slate-50/60 p-3\">\r\n                  <div className=\"flex items-center justify-between gap-2\">\r\n                    <span className=\"text-sm font-medium text-slate-900 flex items-center gap-2\">\r\n                      <Trash2 size={14} className=\"text-emerald-700\" />\r\n                      Manual Cleanup\r\n                    </span>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={runManualCleanup}\r\n                      disabled={isSubmitting}\r\n                      className=\"bg-emerald-600 hover:bg-emerald-700 text-white border border-emerald-600\"\r\n                    >\r\n                      üßπ Run Manual Cleanup\r\n                    </Button>\r\n                  </div>\r\n                  <p className=\"text-[11px] text-slate-500\">\r\n                    Use this when you‚Äôve finished debugging and want a clean\r\n                    slate.\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Inject test button - emerald */}\r\n                <div className=\"flex flex-col gap-1 rounded-lg border border-amber-100 bg-amber-50/70 p-3\">\r\n                  <div className=\"flex items-center justify-between gap-2\">\r\n                    <span className=\"text-sm font-medium text-slate-900 flex items-center gap-2\">\r\n                      <Bug size={14} className=\"text-amber-600\" />\r\n                      Inject Test Failure\r\n                    </span>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={injectTest}\r\n                      disabled={isSubmitting}\r\n                      className=\"bg-emerald-600 hover:bg-emerald-700 text-white border border-emerald-600\"\r\n                    >\r\n                      üß™ Inject Test Log\r\n                    </Button>\r\n                  </div>\r\n                  <p className=\"text-[11px] text-amber-700\">\r\n                    Adds a fake failed webhook entry so you can verify cleanup\r\n                    and monitoring without breaking production flows.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {isSubmitting && (\r\n                <div className=\"mt-3 text-[11px] text-slate-500 flex items-center gap-2\">\r\n                  <span className=\"inline-block h-2 w-2 rounded-full bg-emerald-500 animate-pulse\" />\r\n                  Processing your request‚Ä¶\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WebhookSettings;\r\n"],"names":["Bug","createLucideIcon","d","key","WebhookSettings","autoCleanup","setAutoCleanup","useState","lastCleanup","setLastCleanup","loading","setLoading","logsCount","setLogsCount","isSubmitting","setIsSubmitting","fetchStatus","async","_countRes$data$count","statusRes","countRes","Promise","all","axiosClient","get","data","enabled","lastCleanupAt","count","err","console","error","toast","useEffect","riskLevel","riskLabel","riskColorClasses","_jsxs","className","children","_jsx","ShieldAlert","size","concat","Activity","style","background","transform","Trash2","toLocaleString","RefreshCcw","Clock","Date","Button","onClick","endpoint","post","success","disabled","res","message"],"sourceRoot":""}