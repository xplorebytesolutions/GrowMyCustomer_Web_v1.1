/*! For license information please see main.930f9dd9.js.LICENSE.txt */
(()=>{var e={141:e=>{e.exports=function(e){return void 0===e}},155:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o]}},240:(e,t,n)=>{"use strict";n.d(t,{AW:()=>F,BU:()=>C,J9:()=>M,Me:()=>_,Mn:()=>N,OV:()=>I,X_:()=>L,aS:()=>k,ee:()=>D,sT:()=>T});var r=n(33097),o=n.n(r),i=n(79686),a=n.n(i),s=n(90620),l=n.n(s),c=n(11629),d=n.n(c),u=n(46686),p=n.n(u),f=n(65043),h=n(69062),m=n(76307),g=n(45248),v=n(17287),x=["children"],b=["children"];function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var j={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},N=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},S=null,A=null,E=function e(t){if(t===S&&Array.isArray(A))return A;var n=[];return f.Children.forEach(t,(function(t){a()(t)||((0,h.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),A=n,S=t,n};function k(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return N(e)})):[N(t)],E(e).forEach((function(e){var t=o()(e,"type.displayName")||o()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function C(e,t){var n=k(e,t);return n&&n[0]}var _=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!(0,m.Et)(n)||n<=0||!(0,m.Et)(r)||r<=0)},P=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],O=function(e){return e&&e.type&&l()(e.type)&&P.indexOf(e.type)>=0},T=function(e){return e&&"object"===w(e)&&"clipDot"in e},M=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,f.isValidElement)(e)&&(r=e.props),!p()(r))return null;var o={};return Object.keys(r).forEach((function(e){var i;(function(e,t,n,r){var o,i=null!==(o=null===v.VU||void 0===v.VU?void 0:v.VU[r])&&void 0!==o?o:[];return t.startsWith("data-")||!d()(e)&&(r&&i.includes(t)||v.QQ.includes(t))||n&&v.j2.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(o[e]=r[e])})),o},I=function e(t,n){if(t===n)return!0;var r=f.Children.count(t);if(r!==f.Children.count(n))return!1;if(0===r)return!0;if(1===r)return R(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var i=t[o],a=n[o];if(Array.isArray(i)||Array.isArray(a)){if(!e(i,a))return!1}else if(!R(i,a))return!1}return!0},R=function(e,t){if(a()(e)&&a()(t))return!0;if(!a()(e)&&!a()(t)){var n=e.props||{},r=n.children,o=y(n,x),i=t.props||{},s=i.children,l=y(i,b);return r&&s?(0,g.b)(o,l)&&I(r,s):!r&&!s&&(0,g.b)(o,l)}return!1},D=function(e,t){var n=[],r={};return E(e).forEach((function(e,o){if(O(e))n.push(e);else if(e){var i=N(e.type),a=t[i]||{},s=a.handler,l=a.once;if(s&&(!l||!r[i])){var c=s(e,i,o);n.push(c),r[i]=!0}}})),n},L=function(e){var t=e&&e.type;return t&&j[t]?j[t]:null},F=function(e,t){return E(t).indexOf(e)}},550:(e,t,n)=>{"use strict";var r=n(78208),o=n(5819),i=n(74308),a=n(49791),s=n(81987),l=n(8381),c=n(17938).Graph,d=n(65641);function u(e,t,n){return r.map(t,(function(t){return s(e,t,n)}))}function p(e,t){var n=new c;r.forEach(e,(function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,(function(t,n){e.node(t).order=n})),l(e,n,i.vs)}))}function f(e,t){r.forEach(t,(function(t){r.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=d.maxRank(e),n=u(e,r.range(1,t+1),"inEdges"),a=u(e,r.range(t-1,-1,-1),"outEdges"),s=o(e);f(e,s);for(var l,c=Number.POSITIVE_INFINITY,h=0,m=0;m<4;++h,++m){p(h%2?n:a,h%4>=2),s=d.buildLayerMatrix(e);var g=i(e,s);g<c&&(m=0,l=r.cloneDeep(s),c=g)}f(e,l)}},595:(e,t,n)=>{"use strict";n.d(t,{K:()=>f});var r=n(65043);var o=n(77248),i=n(78518);function a(){let e;return{before(t){let{doc:n}=t;var r;let o=n.documentElement,i=null!=(r=n.defaultView)?r:window;e=Math.max(0,i.innerWidth-o.clientWidth)},after(t){let{doc:n,d:r}=t,o=n.documentElement,i=Math.max(0,o.clientWidth-o.offsetWidth),a=Math.max(0,e-i);r.style(o,"paddingRight","".concat(a,"px"))}}}var s=n(44113),l=n(54530);function c(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let d=function(e,t){let n=e(),r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];let s=t[e].call(n,...i);s&&(n=s,r.forEach((e=>e())))}}}((()=>new Map),{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:(0,i.e)(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT(e){let{doc:t,d:n,meta:r}=e,o={doc:t,d:n,meta:c(r)},d=[(0,l.un)()?{before(e){let{doc:t,d:n,meta:r}=e;function o(e){return r.containers.flatMap((e=>e())).some((t=>t.contains(e)))}n.microTask((()=>{var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){let e=(0,i.e)();e.style(t.documentElement,"scrollBehavior","auto"),n.add((()=>n.microTask((()=>e.dispose()))))}let r=null!=(e=window.scrollY)?e:window.pageYOffset,a=null;n.addEventListener(t,"click",(e=>{if(s.Lk(e.target))try{let n=e.target.closest("a");if(!n)return;let{hash:r}=new URL(n.href),i=t.querySelector(r);s.Lk(i)&&!o(i)&&(a=i)}catch(n){}}),!0),n.addEventListener(t,"touchstart",(e=>{if(s.Lk(e.target)&&s.pv(e.target))if(o(e.target)){let t=e.target;for(;t.parentElement&&o(t.parentElement);)t=t.parentElement;n.style(t,"overscrollBehavior","contain")}else n.style(e.target,"touchAction","none")})),n.addEventListener(t,"touchmove",(e=>{if(s.Lk(e.target)){if(s.A3(e.target))return;if(o(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}}),{passive:!1}),n.add((()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;r!==t&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)}))}))}}:{},a(),{before(e){let{doc:t,d:n}=e;n.style(t.documentElement,"overflow","hidden")}}];d.forEach((e=>{let{before:t}=e;return null==t?void 0:t(o)})),d.forEach((e=>{let{after:t}=e;return null==t?void 0:t(o)}))},SCROLL_ALLOW(e){let{d:t}=e;t.dispose()},TEARDOWN(e){let{doc:t}=e;this.delete(t)}});function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>({containers:[]}),i=(l=d,(0,r.useSyncExternalStore)(l.subscribe,l.getSnapshot,l.getSnapshot)),a=t?i.get(t):void 0,s=!!a&&a.count>0;var l;return(0,o.s)((()=>{if(t&&e)return d.dispatch("PUSH",t,n),()=>d.dispatch("POP",t,n)}),[e,t]),s}d.subscribe((()=>{let e=d.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&d.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&d.dispatch("TEARDOWN",n)}}));var p=n(48066);function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];u((0,p.S)(e,"scroll-lock"),t,(e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}}))}},643:(e,t,n)=>{var r=n(57676)("toUpperCase");e.exports=r},677:(e,t,n)=>{"use strict";n.d(t,{h:()=>g});var r=n(65043),o=n(58387),i=n(240),a=n(60165),s=n(76307);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t=e.cx,n=e.cy,r=e.radius,o=e.angle,i=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+r,u=Math.asin(l/d)/a.Kg,p=c?o:o+i*u,f=c?o-i*u:o;return{center:(0,a.IZ)(t,n,d,p),circleTangency:(0,a.IZ)(t,n,r,p),lineTangency:(0,a.IZ)(t,n,d*Math.cos(u*a.Kg),f),theta:u}},h=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,i=e.startAngle,l=function(e,t){return(0,s.sA)(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),c=i+l,d=(0,a.IZ)(t,n,o,i),u=(0,a.IZ)(t,n,o,c),p="M ".concat(d.x,",").concat(d.y,"\n    A ").concat(o,",").concat(o,",0,\n    ").concat(+(Math.abs(l)>180),",").concat(+(i>c),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var f=(0,a.IZ)(t,n,r,i),h=(0,a.IZ)(t,n,r,c);p+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(l)>180),",").concat(+(i<=c),",\n            ").concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},m={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},g=function(e){var t=u(u({},m),e),n=t.cx,a=t.cy,l=t.innerRadius,d=t.outerRadius,p=t.cornerRadius,g=t.forceCornerRadius,v=t.cornerIsExternal,x=t.startAngle,b=t.endAngle,y=t.className;if(d<l||x===b)return null;var w,j=(0,o.A)("recharts-sector",y),N=d-l,S=(0,s.F4)(p,N,0,!0);return w=S>0&&Math.abs(x-b)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,i=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,u=(0,s.sA)(d-c),p=f({cx:t,cy:n,radius:o,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),m=p.circleTangency,g=p.lineTangency,v=p.theta,x=f({cx:t,cy:n,radius:o,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),b=x.circleTangency,y=x.lineTangency,w=x.theta,j=l?Math.abs(c-d):Math.abs(c-d)-v-w;if(j<0)return a?"M ".concat(g.x,",").concat(g.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):h({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:c,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(b.x,",").concat(b.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var S=f({cx:t,cy:n,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=S.circleTangency,E=S.lineTangency,k=S.theta,C=f({cx:t,cy:n,radius:r,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=C.circleTangency,P=C.lineTangency,O=C.theta,T=l?Math.abs(c-d):Math.abs(c-d)-k-O;if(T<0&&0===i)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat(P.x,",").concat(P.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(A.x,",").concat(A.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N}({cx:n,cy:a,innerRadius:l,outerRadius:d,cornerRadius:Math.min(S,N/2),forceCornerRadius:g,cornerIsExternal:v,startAngle:x,endAngle:b}):h({cx:n,cy:a,innerRadius:l,outerRadius:d,startAngle:x,endAngle:b}),r.createElement("path",c({},(0,i.J9)(t,!0),{className:j,d:w,role:"img"}))}},2086:(e,t,n)=>{"use strict";e.exports=n(95082)},2099:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,z:()=>s});var r=n(94402),o=n(35186);function i(){var e,t,n=(0,o.A)().unknown(void 0),a=n.domain,s=n.range,l=0,c=1,d=!1,u=0,p=0,f=.5;function h(){var n=a().length,r=c<l,o=r?c:l,i=r?l:c;e=(i-o)/Math.max(1,n-u+2*p),d&&(e=Math.floor(e)),o+=(i-o-e*(n-u))*f,t=e*(1-u),d&&(o=Math.round(o),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}(n).map((function(t){return o+e*t}));return s(r?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),h()):a()},n.range=function(e){return arguments.length?([l,c]=e,l=+l,c=+c,h()):[l,c]},n.rangeRound=function(e){return[l,c]=e,l=+l,c=+c,d=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(d=!!e,h()):d},n.padding=function(e){return arguments.length?(u=Math.min(1,p=+e),h()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),h()):u},n.paddingOuter=function(e){return arguments.length?(p=+e,h()):p},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},n.copy=function(){return i(a(),[l,c]).round(d).paddingInner(u).paddingOuter(p).align(f)},r.C.apply(h(),arguments)}function a(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a(t())},e}function s(){return a(i.apply(null,arguments).paddingInner(1))}},2125:(e,t,n)=>{var r=n(95750);function o(e,t,n,i,a,s){r.has(i,t)||(i[t]=!0,n||s.push(t),r.each(a(t),(function(t){o(e,t,n,i,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);o(e,t,"post"===n,s,i,a)})),a}},2190:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(0,n(65043).createContext)({})},2580:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},3331:(e,t,n)=>{var r=n(39676),o=n(60929),i=n(37303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3404:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=!0,o="Invariant failed";function i(e,t){if(!e){if(r)throw new Error(o);var n="function"===typeof t?t():t,i=n?"".concat(o,": ").concat(n):o;throw new Error(i)}}},3572:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]])},3774:(e,t,n)=>{var r=n(78208),o=n(65641),i=n(17938).Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),r.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),r.forEach(t,(function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),r.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},3820:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}n.d(t,{x:()=>r})},3831:(e,t,n)=>{"use strict";n.d(t,{P2:()=>w,bx:()=>j,pr:()=>v,sl:()=>x,vh:()=>b});var r=n(91733),o=n.n(r),i=n(17002),a=n.n(i),s=n(71845),l=n(240),c=n(76307),d=n(38643);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var v=function(e,t,n,r,o){var i=e.width,a=e.height,u=e.layout,p=e.children,f=Object.keys(t),g={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},v=!!(0,l.BU)(p,d.y);return f.reduce((function(i,a){var l,d,p,f,x,b=t[a],y=b.orientation,w=b.domain,j=b.padding,N=void 0===j?{}:j,S=b.mirror,A=b.reversed,E="".concat(y).concat(S?"Mirror":"");if("number"===b.type&&("gap"===b.padding||"no-gap"===b.padding)){var k=w[1]-w[0],C=1/0,_=b.categoricalDomain.sort(c.ck);if(_.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(_[t-1]||0),C))})),Number.isFinite(C)){var P=C/k,O="vertical"===b.layout?n.height:n.width;if("gap"===b.padding&&(l=P*O/2),"no-gap"===b.padding){var T=(0,c.F4)(e.barCategoryGap,P*O),M=P*O/2;l=M-T-(M-T)/O*T}}}d="xAxis"===r?[n.left+(N.left||0)+(l||0),n.left+n.width-(N.right||0)-(l||0)]:"yAxis"===r?"horizontal"===u?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(l||0),n.top+n.height-(N.bottom||0)-(l||0)]:b.range,A&&(d=[d[1],d[0]]);var I=(0,s.W7)(b,o,v),R=I.scale,D=I.realScaleType;R.domain(w).range(d),(0,s.YB)(R);var L=(0,s.w7)(R,h(h({},b),{},{realScaleType:D}));"xAxis"===r?(x="top"===y&&!S||"bottom"===y&&S,p=n.left,f=g[E]-x*b.height):"yAxis"===r&&(x="left"===y&&!S||"right"===y&&S,p=g[E]-x*b.width,f=n.top);var F=h(h(h({},b),L),{},{realScaleType:D,x:p,y:f,scale:R,width:"xAxis"===r?n.width:b.width,height:"yAxis"===r?n.height:b.height});return F.bandSize=(0,s.Hj)(F,L),b.hide||"xAxis"!==r?b.hide||(g[E]+=(x?-1:1)*F.width):g[E]+=(x?-1:1)*F.height,h(h({},i),{},m({},a,F))}),{})},x=function(e,t){var n=e.x,r=e.y,o=t.x,i=t.y;return{x:Math.min(n,o),y:Math.min(r,i),width:Math.abs(o-n),height:Math.abs(i-r)}},b=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return x({x:t,y:n},{x:r,y:o})},y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();m(y,"EPS",1e-4);var w=function(e){var t=Object.keys(e).reduce((function(t,n){return h(h({},t),{},m({},n,y.create(e[n])))}),{});return h(h({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return o()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return a()(e,(function(e,n){return t[n].isInRange(e)}))}})};var j=function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),o=r*Math.PI/180,i=Math.atan(n/t),a=o>i&&o<Math.PI-i?n/Math.sin(o):t/Math.cos(o);return Math.abs(a)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4240:(e,t,n)=>{"use strict";n.d(t,{F:()=>z});var r,o=n(65043),i=n(11744),a=n(33097),s=n.n(a),l=n(19853),c=n.n(l),d=n(79686),u=n.n(d),p=n(11629),f=n.n(p),h=n(58387),m=n(94020),g=n(68471),v=n(84140),x=n(92647),b=n(81519),y=n(17869),w=n(240),j=n(6015),N=n(60165),S=n(76307),A=n(71845),E=n(155),k=n(17287),C=n(70879);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function I(e,t,n){return t=D(t),function(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,R()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function F(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}var z=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(n=I(this,t,[e]),"pieRef",null),F(n,"sectorRefs",[]),F(n,"id",(0,S.NF)("recharts-pie-")),F(n,"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),f()(e)&&e()})),F(n,"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),f()(e)&&e()})),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(o.isValidElement(e))return o.cloneElement(e,t);if(f()(e))return e(t);var r=(0,h.A)("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return o.createElement(g.I,P({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(o.isValidElement(e))return o.cloneElement(e,t);var r=n;if(f()(e)&&(r=e(t),o.isValidElement(r)))return r;var i=(0,h.A)("recharts-pie-label-text","boolean"===typeof e||f()(e)?"":e.className);return o.createElement(v.E,P({},t,{alignmentBaseline:"middle",className:i}),r)}}],(r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,i=n.labelLine,a=n.dataKey,s=n.valueKey,l=(0,w.J9)(this.props,!1),c=(0,w.J9)(r,!1),d=(0,w.J9)(i,!1),p=r&&r.offsetRadius||20,f=e.map((function(e,n){var f=(e.startAngle+e.endAngle)/2,h=(0,N.IZ)(e.cx,e.cy,e.outerRadius+p,f),g=T(T(T(T({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:t.getTextAnchor(h.x,e.cx)},h),v=T(T(T(T({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:n,points:[(0,N.IZ)(e.cx,e.cy,e.outerRadius,f),h]}),x=a;return u()(a)&&u()(s)?x="value":u()(a)&&(x=s),o.createElement(m.W,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},i&&t.renderLabelLineItem(i,v,"line"),t.renderLabelItem(r,g,(0,A.kr)(e,x)))}));return o.createElement(m.W,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,i=n.blendStroke,a=n.inactiveShape;return e.map((function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=a&&t.hasActiveIndex()?a:null,d=l?r:c,u=T(T({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return o.createElement(m.W,P({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},(0,k.XC)(t.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),o.createElement(C.yp,P({option:d,isActive:l,shapeType:"sector"},u)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,a=t.animationBegin,l=t.animationDuration,c=t.animationEasing,d=t.animationId,u=this.state,p=u.prevSectors,f=u.prevIsAnimationActive;return o.createElement(i.Ay,{begin:a,duration:l,isActive:r,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var r=t.t,i=[],a=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=p&&p[t],o=t>0?s()(e,"paddingAngle",0):0;if(n){var l=(0,S.Dj)(n.endAngle-n.startAngle,e.endAngle-e.startAngle),c=T(T({},e),{},{startAngle:a+o,endAngle:a+l(r)+o});i.push(c),a=c.endAngle}else{var d=e.endAngle,u=e.startAngle,f=(0,S.Dj)(0,d-u)(r),h=T(T({},e),{},{startAngle:a+o,endAngle:a+f+o});i.push(h),a=h.endAngle}})),o.createElement(m.W,null,e.renderSectorsStatically(i))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&c()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,i=t.className,a=t.label,s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.isAnimationActive,p=this.state.isAnimationFinished;if(n||!r||!r.length||!(0,S.Et)(s)||!(0,S.Et)(l)||!(0,S.Et)(c)||!(0,S.Et)(d))return null;var f=(0,h.A)("recharts-pie",i);return o.createElement(m.W,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(r),x.J.renderCallByParent(this.props,null,!1),(!u||p)&&b.Z.renderCallByParent(this.props,r,!1))}}])&&M(n.prototype,r),a&&M(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(o.PureComponent);r=z,F(z,"displayName","Pie"),F(z,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!j.m.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),F(z,"parseDeltaAngle",(function(e,t){return(0,S.sA)(t-e)*Math.min(Math.abs(t-e),360)})),F(z,"getRealPieData",(function(e){var t=e.data,n=e.children,r=(0,w.J9)(e,!1),o=(0,w.aS)(n,y.f);return t&&t.length?t.map((function(e,t){return T(T(T({payload:e},r),e),o&&o[t]&&o[t].props)})):o&&o.length?o.map((function(e){return T(T({},r),e.props)})):[]})),F(z,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,o=t.width,i=t.height,a=(0,N.lY)(o,i);return{cx:r+(0,S.F4)(e.cx,o,o/2),cy:n+(0,S.F4)(e.cy,i,i/2),innerRadius:(0,S.F4)(e.innerRadius,a,0),outerRadius:(0,S.F4)(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(o*o+i*i)/2}})),F(z,"getComposedData",(function(e){var t=e.item,n=e.offset,o=void 0!==t.type.defaultProps?T(T({},t.type.defaultProps),t.props):t.props,i=r.getRealPieData(o);if(!i||!i.length)return null;var a=o.cornerRadius,s=o.startAngle,l=o.endAngle,c=o.paddingAngle,d=o.dataKey,p=o.nameKey,f=o.valueKey,h=o.tooltipType,m=Math.abs(o.minAngle),g=r.parseCoordinateOfPie(o,n),v=r.parseDeltaAngle(s,l),x=Math.abs(v),b=d;u()(d)&&u()(f)?((0,E.R)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),b="value"):u()(d)&&((0,E.R)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),b=f);var y,w,j=i.filter((function(e){return 0!==(0,A.kr)(e,b,0)})).length,k=x-j*m-(x>=360?j:j-1)*c,C=i.reduce((function(e,t){var n=(0,A.kr)(t,b,0);return e+((0,S.Et)(n)?n:0)}),0);C>0&&(y=i.map((function(e,t){var n,r=(0,A.kr)(e,b,0),o=(0,A.kr)(e,p,t),i=((0,S.Et)(r)?r:0)/C,l=(n=t?w.endAngle+(0,S.sA)(v)*c*(0!==r?1:0):s)+(0,S.sA)(v)*((0!==r?m:0)+i*k),d=(n+l)/2,u=(g.innerRadius+g.outerRadius)/2,f=[{name:o,value:r,payload:e,dataKey:b,type:h}],x=(0,N.IZ)(g.cx,g.cy,u,d);return w=T(T(T({percent:i,cornerRadius:a,name:o,tooltipPayload:f,midAngle:d,middleRadius:u,tooltipPosition:x},e),g),{},{value:(0,A.kr)(e,b),startAngle:n,endAngle:l,payload:e,paddingAngle:(0,S.sA)(v)*c})})));return T(T({},g),{},{sectors:y,data:i})}))},4262:(e,t,n)=>{var r=n(48895),o=n(54052);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},4596:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},4717:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]])},4757:(e,t,n)=>{var r=n(56552);e.exports=function(){return r.Date.now()}},5097:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(65043),o=n(78518),i=n(44113),a=n(74347);function s(e,t,n){let s=(0,a.Y)((e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&n()}));(0,r.useEffect)((()=>{if(!e)return;let n=null===t?null:i.sb(t)?t:t.current;if(!n)return;let r=(0,o.e)();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver((()=>s.current(n)));e.observe(n),r.add((()=>e.disconnect()))}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver((()=>s.current(n)));e.observe(n),r.add((()=>e.disconnect()))}return()=>r.dispose()}),[t,s,e])}},5244:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},5538:(e,t,n)=>{var r=n(97160),o=n(84545),i=n(10793),a=n(27760),s=n(3892),l=n(76788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5641:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>f,Ci:()=>m,FX:()=>y,mK:()=>h,oE:()=>w,v6:()=>b});var r=n(80045),o=n(89379),i=n(65043),a=n(3820),s=n(43880);const l=["static"],c=["unmount"],d=["as","children","refName"];var u,p,f=((p=f||{})[p.None=0]="None",p[p.RenderStrategy=1]="RenderStrategy",p[p.Static=2]="Static",p),h=((u=h||{})[u.Unmount=0]="Unmount",u[u.Hidden=1]="Hidden",u);function m(){let e=function(){let e=(0,i.useRef)([]),t=(0,i.useCallback)((t=>{for(let n of e.current)null!=n&&("function"==typeof n?n(t):n.current=t)}),[]);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!r.every((e=>null==e)))return e.current=r,t}}();return(0,i.useCallback)((t=>function(e){let{ourProps:t,theirProps:n,slot:i,defaultTag:a,features:d,visible:u=!0,name:p,mergeRefs:f}=e;f=null!=f?f:v;let h=x(n,t);if(u)return g(h,i,a,p,f);let m=null!=d?d:0;if(2&m){let{static:e=!1}=h,t=(0,r.A)(h,l);if(e)return g(t,i,a,p,f)}if(1&m){let{unmount:e=!0}=h,t=(0,r.A)(h,c);return(0,s.Y)(e?0:1,{0:()=>null,1:()=>g((0,o.A)((0,o.A)({},t),{},{hidden:!0,style:{display:"none"}}),i,a,p,f)})}return g(h,i,a,p,f)}((0,o.A)({mergeRefs:e},t))),[e])}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=j(e,["unmount","static"]),{as:c=n,children:u,refName:p="ref"}=l,f=(0,r.A)(l,d),h=void 0!==e.ref?{[p]:e.ref}:{},m="function"==typeof u?u(t):u;"className"in f&&f.className&&"function"==typeof f.className&&(f.className=f.className(t)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let g={};if(t){let e=!1,n=[];for(let[r,o]of Object.entries(t))"boolean"==typeof o&&(e=!0),!0===o&&n.push(r.replace(/([A-Z])/g,(e=>"-".concat(e.toLowerCase()))));if(e){g["data-headlessui-state"]=n.join(" ");for(let e of n)g["data-".concat(e)]=""}}if(c===i.Fragment&&(Object.keys(w(f)).length>0||Object.keys(w(g)).length>0)){if((0,i.isValidElement)(m)&&!(Array.isArray(m)&&m.length>1)){let e=m.props,t=null==e?void 0:e.className,n="function"==typeof t?function(){return(0,a.x)(t(...arguments),f.className)}:(0,a.x)(t,f.className),r=n?{className:n}:{},o=x(m.props,w(j(f,["ref"])));for(let i in g)i in o&&delete g[i];return(0,i.cloneElement)(m,Object.assign({},o,g,h,{ref:s(N(m),h.ref)},r))}if(Object.keys(w(f)).length>0)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(o,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(w(f)).concat(Object.keys(w(g))).map((e=>"  - ".concat(e))).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>"  - ".concat(e))).join("\n")].join("\n"))}return(0,i.createElement)(c,Object.assign({},j(f,["ref"]),c!==i.Fragment&&h,c!==i.Fragment&&g),m)}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>null==e))?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},o={};for(let i of t)for(let e in i)e.startsWith("on")&&"function"==typeof i[e]?(null!=o[e]||(o[e]=[]),o[e].push(i[e])):r[e]=i[e];if(r.disabled||r["aria-disabled"])for(let i in o)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(o[i]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let i in o)Object.assign(r,{[i](e){let t=o[i];for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(let o of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;o(e,...r)}}});return r}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},o={};for(let i of t)for(let e in i)e.startsWith("on")&&"function"==typeof i[e]?(null!=o[e]||(o[e]=[]),o[e].push(i[e])):r[e]=i[e];for(let i in o)Object.assign(r,{[i](){let e=o[i];for(let t of e)null==t||t(...arguments)}});return r}function y(e){var t;return Object.assign((0,i.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function w(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function N(e){return i.version.split(".")[0]>="19"?e.props.ref:e.ref}},5654:(e,t,n)=>{var r=n(87937),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5673:(e,t,n)=>{"use strict";var r=n(78208),o=n(63130);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?o(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),(function(e){r.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])}return r.forEach(e.nodes(),i),t}(e);r.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))}))},undo:function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},5766:function(e,t){var n,r,o;r=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,i={},a=0,s={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(i=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,i)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&void 0!==(i=this._config.beforeFirstChunk(e))&&(e=i),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var i=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=i.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),i&&i.data&&(this._rowCount+=i.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,o)n.postMessage({results:i,workerId:s.WORKER_ID,finished:r});else if(w(this._config.chunk)&&!t){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=i=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!r||!w(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||i&&i.meta.paused||this._nextChunk(),i}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):o&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var o;this._config.chunkSize&&(o=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+o));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,o=(this._config.chunkSize&&(o=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,o)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function p(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=y((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=y((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=y((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=y((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,o,i=Math.pow(2,53),a=-i,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,u=0,p=0,f=!1,g=!1,v=[],x={data:[],errors:[],meta:{}};function y(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function j(){if(x&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(x.data=x.data.filter((function(e){return!y(e)}))),N()){if(x)if(Array.isArray(x.data[0])){for(var t=0;N()&&t<x.data.length;t++)x.data[t].forEach(n);x.data.splice(0,1)}else x.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}function o(t,n){for(var r=e.header?{}:[],o=0;o<t.length;o++){var s=o,d=t[o];d=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),a<e&&e<i))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(s=e.header?o>=v.length?"__parsed_extra":v[o]:s,d=e.transform?e.transform(d,s):d),"__parsed_extra"===s?(r[s]=r[s]||[],r[s].push(d)):r[s]=d}return e.header&&(o>v.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+o,p+n):o<v.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+o,p+n)),r}var d;x&&(e.header||e.dynamicTyping||e.transform)&&(d=1,!x.data.length||Array.isArray(x.data[0])?(x.data=x.data.map(o),d=x.data.length):x.data=o(x.data,0),e.header&&x.meta&&(x.meta.fields=v),p+=d)}function N(){return e.header&&0===v.length}function S(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),x.errors.push(e)}w(e.step)&&(o=e.step,e.step=function(t){x=t,N()?j():(j(),0!==x.data.length&&(u+=t.data.length,e.preview&&u>e.preview?n.abort():(x.data=x.data[0],o(x,d))))}),this.parse=function(o,i,a){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(o,l)),r=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(o),x.meta.delimiter=e.delimiter):((l=((t,n,r,o,i)=>{var a,l,c,d;i=i||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var u=0;u<i.length;u++){for(var p,f=i[u],h=0,g=0,v=0,x=(c=void 0,new m({comments:o,delimiter:f,newline:n,preview:10}).parse(t)),b=0;b<x.data.length;b++)r&&y(x.data[b])?v++:(g+=p=x.data[b].length,void 0===c?c=p:0<p&&(h+=Math.abs(p-c),c=p));0<x.data.length&&(g/=x.data.length-v),(void 0===l||h<=l)&&(void 0===d||d<g)&&1.99<g&&(l=h,a=f,d=g)}return{successful:!!(e.delimiter=a),bestDelimiter:a}})(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=s.DefaultDelimiter),x.meta.delimiter=e.delimiter),l=b(e),e.preview&&e.header&&l.preview++,t=o,n=new m(l),x=n.parse(t,i,a),j(),f?{meta:{paused:!0}}:x||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){d.streamer._halted?(f=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),x.meta.aborted=!0,w(e.complete)&&e.complete(x),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(h(t)+"([^]*?)"+h(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,o=0;o<n.length;o++)"\n"===n[o][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,o=e.step,i=e.preview,a=e.fastMode,l=null,c=!1,d=null==e.quoteChar?'"':e.quoteChar,u=d;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof t||-1<s.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var p=0,f=!1;this.parse=function(s,m,g){if("string"!=typeof s)throw new Error("Input must be a string");var v=s.length,x=t.length,b=n.length,y=r.length,j=w(o),N=[],S=[],A=[],E=p=0;if(!s)return F();if(a||!1!==a&&-1===s.indexOf(d)){for(var k=s.split(n),C=0;C<k.length;C++){if(A=k[C],p+=A.length,C!==k.length-1)p+=n.length;else if(g)return F();if(!r||A.substring(0,y)!==r){if(j){if(N=[],I(A.split(t)),B(),f)return F()}else I(A.split(t));if(i&&i<=C)return N=N.slice(0,i),F(!0)}}return F()}for(var _=s.indexOf(t,p),P=s.indexOf(n,p),O=new RegExp(h(u)+h(d),"g"),T=s.indexOf(d,p);;)if(s[p]===d)for(T=p,p++;;){if(-1===(T=s.indexOf(d,T+1)))return g||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:N.length,index:p}),D();if(T===v-1)return D(s.substring(p,T).replace(O,d));if(d===u&&s[T+1]===u)T++;else if(d===u||0===T||s[T-1]!==u){-1!==_&&_<T+1&&(_=s.indexOf(t,T+1));var M=R(-1===(P=-1!==P&&P<T+1?s.indexOf(n,T+1):P)?_:Math.min(_,P));if(s.substr(T+1+M,x)===t){A.push(s.substring(p,T).replace(O,d)),s[p=T+1+M+x]!==d&&(T=s.indexOf(d,p)),_=s.indexOf(t,p),P=s.indexOf(n,p);break}if(M=R(P),s.substring(T+1+M,T+1+M+b)===n){if(A.push(s.substring(p,T).replace(O,d)),L(T+1+M+b),_=s.indexOf(t,p),T=s.indexOf(d,p),j&&(B(),f))return F();if(i&&N.length>=i)return F(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:N.length,index:p}),T++}}else if(r&&0===A.length&&s.substring(p,p+y)===r){if(-1===P)return F();p=P+b,P=s.indexOf(n,p),_=s.indexOf(t,p)}else if(-1!==_&&(_<P||-1===P))A.push(s.substring(p,_)),p=_+x,_=s.indexOf(t,p);else{if(-1===P)break;if(A.push(s.substring(p,P)),L(P+b),j&&(B(),f))return F();if(i&&N.length>=i)return F(!0)}return D();function I(e){N.push(e),E=p}function R(e){var t=0;return-1!==e&&(e=s.substring(T+1,e))&&""===e.trim()?e.length:t}function D(e){return g||(void 0===e&&(e=s.substring(p)),A.push(e),p=v,I(A),j&&B()),F()}function L(e){p=e,I(A),A=[],P=s.indexOf(n,p)}function F(r){if(e.header&&!m&&N.length&&!c){var o=N[0],i={},a=new Set(o);let t=!1;for(let n=0;n<o.length;n++){let r=o[n];if(i[r=w(e.transformHeader)?e.transformHeader(r,n):r]){let e,s=i[r];for(;e=r+"_"+s,s++,a.has(e););a.add(e),o[n]=e,i[r]++,t=!0,(l=null===l?{}:l)[e]=r}else i[r]=1,o[n]=r;a.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:N,errors:S,meta:{delimiter:t,linebreak:n,aborted:f,truncated:!!r,cursor:E+(m||0),renamedHeaders:l}}}function B(){o(F()),N=[],S=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return p}}function g(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:x,resume:x};if(w(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function x(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=b(e[t]);return n}function y(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return s.parse=function(t,r){var o=(r=r||{}).dynamicTyping||!1;if(w(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!w(r.transform)&&r.transform,!r.worker||!s.WORKERS_SUPPORTED)return o=null,s.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),o=new(r.download?c:u)(r)):!0===t.readable&&w(t.read)&&w(t.on)?o=new p(r):(n.File&&t instanceof File||t instanceof Object)&&(o=new d(r)),o.stream(t);(o=(()=>{var t;return!!s.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return s.BLOB_URL||(s.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=g,t.id=a++,i[t.id]=t)})()).userStep=r.step,o.userChunk=r.chunk,o.userComplete=r.complete,o.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,o.postMessage({input:t,config:r,workerId:o.id})},s.unparse=function(e,t){var n=!1,r=!0,o=",",i="\r\n",a='"',l=a+a,c=!1,d=null,u=!1,p=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\-@\t\r].*$/)}})(),new RegExp(h(a),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,c);if("object"==typeof e[0])return f(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var a="",s=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(s&&r){for(var c=0;c<e.length;c++)0<c&&(a+=o),a+=m(e[c],c);0<t.length&&(a+=i)}for(var d=0;d<t.length;d++){var u=(s?e:t[d]).length,p=!1,f=s?0===Object.keys(t[d]).length:0===t[d].length;if(n&&!s&&(p="greedy"===n?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===n&&s){for(var h=[],g=0;g<u;g++){var v=l?e[g]:g;h.push(t[d][v])}p=""===h.join("").trim()}if(!p){for(var x=0;x<u;x++){0<x&&!f&&(a+=o);var b=s&&l?e[x]:x;a+=m(t[d][b],x)}d<t.length-1&&(!n||0<u&&!f)&&(a+=i)}}return a}function m(e,t){var r,i;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(i=!1,u&&"string"==typeof e&&u.test(e)&&(e="'"+e,i=!0),r=e.toString().replace(p,l),(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,s.BAD_DELIMITERS)||-1<r.indexOf(o)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?a+r+a:r)}},s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=m,s.ParserHandle=f,s.NetworkStreamer=c,s.FileStreamer=d,s.StringStreamer=u,s.ReadableStreamStreamer=p,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},o=[];return this.each((function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)o.push({file:this.files[i],inputElem:this,instanceConfig:t.extend({},r)})})),i(),this;function i(){if(0===o.length)w(e.complete)&&e.complete();else{var n,r,i,l,c=o[0];if(w(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return n="AbortError",r=c.file,i=c.inputElem,l=d.reason,void(w(e.error)&&e.error({name:n},r,i,l));if("skip"===d.action)return void a();"object"==typeof d.config&&(c.instanceConfig=t.extend(c.instanceConfig,d.config))}else if("skip"===d)return void a()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(u)&&u(e,c.file,c.inputElem),a()},s.parse(c.file,c.instanceConfig)}}function a(){o.splice(0,1),i()}}),o&&(n.onmessage=function(e){e=e.data,void 0===s.WORKER_ID&&e&&(s.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:s.WORKER_ID,results:s.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=s.parse(e.input,e.config))&&n.postMessage({workerId:s.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(p.prototype=Object.create(l.prototype)).constructor=p,s},void 0===(o="function"===typeof n?n.apply(t,r):n)||(e.exports=o)},5791:(e,t,n)=>{var r=n(26924),o=n(22761);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},5819:(e,t,n)=>{"use strict";var r=n(78208);e.exports=function(e){var t={},n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),o=r.max(r.map(n,(function(t){return e.node(t).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(t){return e.node(t).rank}));return r.forEach(a,(function n(o){if(r.has(t,o))return;t[o]=!0;var a=e.node(o);i[a.rank].push(o),r.forEach(e.successors(o),n)})),i}},5972:(e,t,n)=>{var r=n(78208),o=n(65641);function i(e,t,n,r,i,a){var s={width:0,height:0,rank:a,borderType:t},l=i[t][a-1],c=o.addDummyNode(e,"border",s,n);i[t][a]=c,e.setParent(c,r),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){r.forEach(e.children(),(function t(n){var o=e.children(n),a=e.node(n);if(o.length&&r.forEach(o,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,l=a.maxRank+1;s<l;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}}))}},6015:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return r[e]},set:function(e,t){if("string"===typeof e)r[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){r[t]=e[t]}))}}}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case p:case f:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case h:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return v(e)===i}},6571:(e,t,n)=>{var r=n(11629),o=n(56173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6716:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var r=n(78518),o=n(34446),i=n(48066),a=n(77248);let s=new Map,l=new Map;function c(e){var t;let n=null!=(t=l.get(e))?t:0;return l.set(e,n+1),0!==n||(s.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>d(e)}function d(e){var t;let n=null!=(t=l.get(e))?t:1;if(1===n?l.delete(e):l.set(e,n-1),1!==n)return;let r=s.get(e);r&&(null===r["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,s.delete(e))}function u(e){let{allowed:t,disallowed:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,i.S)(e,"inert-others");(0,a.s)((()=>{var e,i;if(!s)return;let a=(0,r.e)();for(let t of null!=(e=null==n?void 0:n())?e:[])t&&a.add(c(t));let l=null!=(i=null==t?void 0:t())?i:[];for(let t of l){if(!t)continue;let e=(0,o.T)(t);if(!e)continue;let n=t.parentElement;for(;n&&n!==e.body;){for(let e of n.children)l.some((t=>e.contains(t)))||a.add(c(e));n=n.parentElement}}return a.dispose}),[s,t,n])}},6806:(e,t,n)=>{var r=n(61516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},7104:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7376:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var r=n(65043);let o=(0,r.createContext)(void 0);function i(){return(0,r.useContext)(o)}},8092:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,o){return r.fromToBase(e,t,n,o)}n.en.relativeTime=o,r.fromToBase=function(t,r,i,a,s){for(var l,c,d,u=i.$locale().relativeTime||o,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=p.length,h=0;h<f;h+=1){var m=p[h];m.d&&(l=a?n(t).diff(i,m.d,!0):i.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(l));if(d=l>0,g<=m.r||!m.r){g<=1&&h>0&&(m=p[h-1]);var v=u[m.l];s&&(g=s(""+g)),c="string"==typeof v?v.replace("%d",g):v(g,r,m.l,d);break}}if(r)return c;var x=d?u.future:u.past;return"function"==typeof x?x(c):x.replace("%s",c)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}}()},8145:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("message-square-text",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]])},8381:(e,t,n)=>{var r=n(78208);e.exports=function(e,t,n){var o,i={};r.forEach(n,(function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s)return void t.setEdge(a,s);s=r}}))}},8676:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(18328);function o(e){return(0,r.G)(e)&&"offsetHeight"in e}},8927:(e,t,n)=>{"use strict";n.d(t,{JY:()=>Oo,sx:()=>fi,gL:()=>vi});var r=n(65043),o=n(63662);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,o.A)(e,t)}var a=n(58168),s=n(89379);function l(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var c="function"===typeof Symbol&&Symbol.observable||"@@observable",d=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function p(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(l(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(l(1));return n(f)(e,t)}if("function"!==typeof e)throw new Error(l(2));var o=e,i=t,a=[],s=a,d=!1;function h(){s===a&&(s=a.slice())}function m(){if(d)throw new Error(l(3));return i}function g(e){if("function"!==typeof e)throw new Error(l(4));if(d)throw new Error(l(5));var t=!0;return h(),s.push(e),function(){if(t){if(d)throw new Error(l(6));t=!1,h();var n=s.indexOf(e);s.splice(n,1),a=null}}}function v(e){if(!p(e))throw new Error(l(7));if("undefined"===typeof e.type)throw new Error(l(8));if(d)throw new Error(l(9));try{d=!0,i=o(i,e)}finally{d=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:u.INIT}),(r={dispatch:v,subscribe:g,getState:m,replaceReducer:function(e){if("function"!==typeof e)throw new Error(l(10));o=e,v({type:u.REPLACE})}})[c]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(l(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[c]=function(){return this},e},r}function h(e,t){return function(){return t(e.apply(this,arguments))}}function m(e,t){if("function"===typeof e)return h(e,t);if("object"!==typeof e||null===e)throw new Error(l(16));var n={};for(var r in e){var o=e[r];"function"===typeof o&&(n[r]=h(o,t))}return n}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var v=r.createContext(null);var x=function(e){e()},b=function(){return x};var y={notify:function(){},get:function(){return[]}};function w(e,t){var n,r=y;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=b(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=y)},getListeners:function(){return r}};return a}var j="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;const N=function(e){var t=e.store,n=e.context,o=e.children,i=(0,r.useMemo)((function(){var e=w(t);return{store:t,subscription:e}}),[t]),a=(0,r.useMemo)((function(){return t.getState()}),[t]);j((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,a]);var s=n||v;return r.createElement(s.Provider,{value:i},o)};var S=n(98587),A=n(80219),E=n.n(A),k=n(2086),C=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_=["reactReduxForwardedRef"],P=[],O=[null,null];function T(e,t){var n=e[1];return[t.payload,n+1]}function M(e,t,n){j((function(){return e.apply(void 0,t)}),n)}function I(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function R(e,t,n,r,o,i,a,s,l,c){if(e){var d=!1,u=null,p=function(){if(!d){var e,n,p=t.getState();try{e=r(p,o.current)}catch(f){n=f,u=f}n||(u=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u}}}var D=function(){return[null,0]};function L(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,s=n.methodName,l=void 0===s?"connectAdvanced":s,c=n.renderCountProp,d=void 0===c?void 0:c,u=n.shouldHandleStateChanges,p=void 0===u||u,f=n.storeKey,h=void 0===f?"store":f,m=(n.withRef,n.forwardRef),g=void 0!==m&&m,x=n.context,b=void 0===x?v:x,y=(0,S.A)(n,C),j=b;return function(t){var n=t.displayName||t.name||"Component",o=i(n),s=(0,a.A)({},y,{getDisplayName:i,methodName:l,renderCountProp:d,shouldHandleStateChanges:p,storeKey:h,displayName:o,wrappedComponentName:n,WrappedComponent:t}),c=y.pure;var u=c?r.useMemo:function(e){return e()};function f(n){var o=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,S.A)(n,_);return[n.context,e,t]}),[n]),i=o[0],l=o[1],c=o[2],d=(0,r.useMemo)((function(){return i&&i.Consumer&&(0,k.isContextConsumer)(r.createElement(i.Consumer,null))?i:j}),[i,j]),f=(0,r.useContext)(d),h=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var m=h?n.store:f.store,g=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,s)}(m)}),[m]),v=(0,r.useMemo)((function(){if(!p)return O;var e=w(m,h?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[m,h,f]),x=v[0],b=v[1],y=(0,r.useMemo)((function(){return h?f:(0,a.A)({},f,{subscription:x})}),[h,f,x]),N=(0,r.useReducer)(T,P,D),A=N[0][0],E=N[1];if(A&&A.error)throw A.error;var C=(0,r.useRef)(),L=(0,r.useRef)(c),F=(0,r.useRef)(),B=(0,r.useRef)(!1),z=u((function(){return F.current&&c===L.current?F.current:g(m.getState(),c)}),[m,A,c]);M(I,[L,C,B,c,z,F,b]),M(R,[p,m,x,g,L,C,B,F,b,E],[m,x,g]);var U=(0,r.useMemo)((function(){return r.createElement(t,(0,a.A)({},z,{ref:l}))}),[l,t,z]);return(0,r.useMemo)((function(){return p?r.createElement(d.Provider,{value:y},U):U}),[d,U,y])}var m=c?r.memo(f):f;if(m.WrappedComponent=t,m.displayName=f.displayName=o,g){var v=r.forwardRef((function(e,t){return r.createElement(m,(0,a.A)({},e,{reactReduxForwardedRef:t}))}));return v.displayName=o,v.WrappedComponent=t,E()(v,t)}return E()(m,t)}}function F(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function B(e,t){if(F(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!F(e[n[o]],t[n[o]]))return!1;return!0}function z(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function U(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function V(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=U(e);var o=r(t,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=U(o),o=r(t,n)),o},r}}const W=[function(e){return"function"===typeof e?V(e):void 0},function(e){return e?void 0:z((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?z((function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"===typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)})):void 0}];const H=[function(e){return"function"===typeof e?V(e):void 0},function(e){return e?void 0:z((function(){return{}}))}];function q(e,t,n){return(0,a.A)({},n,e,t)}const K=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return q}}];var G=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Y(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function X(e,t,n,r,o){var i,a,s,l,c,d=o.areStatesEqual,u=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;function h(o,f){var h=!u(f,a),m=!d(o,i,f,a);return i=o,a=f,h&&m?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):h?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):m?function(){var t=e(i,a),r=!p(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(o,d){return f?h(o,d):(s=e(i=o,a=d),l=t(r,a),c=n(s,l,a),f=!0,c)}}function $(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=(0,S.A)(t,G),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?X:Y)(a,s,l,e,i)}var Z=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function J(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Q(e,t){return e===t}function ee(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?L:n,o=t.mapStateToPropsFactories,i=void 0===o?H:o,s=t.mapDispatchToPropsFactories,l=void 0===s?W:s,c=t.mergePropsFactories,d=void 0===c?K:c,u=t.selectorFactory,p=void 0===u?$:u;return function(e,t,n,o){void 0===o&&(o={});var s=o,c=s.pure,u=void 0===c||c,f=s.areStatesEqual,h=void 0===f?Q:f,m=s.areOwnPropsEqual,g=void 0===m?B:m,v=s.areStatePropsEqual,x=void 0===v?B:v,b=s.areMergedPropsEqual,y=void 0===b?B:b,w=(0,S.A)(s,Z),j=J(e,i,"mapStateToProps"),N=J(t,l,"mapDispatchToProps"),A=J(n,d,"mergeProps");return r(p,(0,a.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:j,initMapDispatchToProps:N,initMergeProps:A,pure:u,areStatesEqual:h,areOwnPropsEqual:g,areStatePropsEqual:x,areMergedPropsEqual:y},w))}}const te=ee();var ne,re=n(97950);function oe(e,t){var n=(0,r.useState)((function(){return{inputs:t,result:e()}}))[0],o=(0,r.useRef)(!0),i=(0,r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,r.useEffect)((function(){o.current=!1,i.current=a}),[a]),a.result}ne=re.unstable_batchedUpdates,x=ne;var ie=oe,ae=function(e,t){return oe((function(){return e}),t)},se=n(3404),le=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},ce=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},de=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ue={top:0,right:0,bottom:0,left:0},pe=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?ue:n,o=e.border,i=void 0===o?ue:o,a=e.padding,s=void 0===a?ue:a,l=le(ce(t,r)),c=le(de(t,i)),d=le(de(c,s));return{marginBox:l,borderBox:le(t),paddingBox:c,contentBox:d,margin:r,border:i,padding:s}},fe=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&(0,se.A)(!1),n},he=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return pe({borderBox:l,border:i,margin:a,padding:s})},me=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),he(e,t)},ge=function(e,t){var n={top:fe(t.marginTop),right:fe(t.marginRight),bottom:fe(t.marginBottom),left:fe(t.marginLeft)},r={top:fe(t.paddingTop),right:fe(t.paddingRight),bottom:fe(t.paddingBottom),left:fe(t.paddingLeft)},o={top:fe(t.borderTopWidth),right:fe(t.borderRightWidth),bottom:fe(t.borderBottomWidth),left:fe(t.borderLeftWidth)};return pe({borderBox:e,margin:n,padding:r,border:o})},ve=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return ge(t,n)},xe=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function be(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||xe(r)&&xe(o)))return!1;var r,o;return!0}const ye=function(e,t){var n;void 0===t&&(t=be);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}};const we=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function je(e,t){}je.bind(null,"warn"),je.bind(null,"error");function Ne(){}function Se(e,t,n){var r=t.map((function(t){var r=function(e,t){return(0,a.A)({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Ae=!0,Ee="Invariant failed";function ke(e){this.message=e}function Ce(e,t){if(!e)throw new ke(Ae?Ee:Ee+": "+(t||""))}ke.prototype.toString=function(){return this.message};var _e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Ne,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof ke&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Se(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof ke))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(r.Component),Pe=function(e){return e+1},Oe=function(e,t){var n=e.droppableId===t.droppableId,r=Pe(e.index),o=Pe(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},Te=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Me=function(e){return"\n  The item has returned to its starting position\n  of "+Pe(e.index)+"\n"},Ie={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:function(e){return"\n  You have lifted an item in position "+Pe(e.source.index)+"\n"},onDragUpdate:function(e){var t=e.destination;if(t)return Oe(e.source,t);var n=e.combine;return n?Te(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Me(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Oe(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Te(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Me(e.source)+"\n  "}},Re={x:0,y:0},De=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Le=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Fe=function(e,t){return e.x===t.x&&e.y===t.y},Be=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},ze=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Ue=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Ve=function(e,t){return Math.min.apply(Math,t.map((function(t){return Ue(e,t)})))},We=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},He=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},qe=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Ke=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=le({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):le(e)},Ge=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?He(e,t.scroll.diff.displacement):e}(t.marginBox,o),s=function(e,t,n){var r;return n&&n.increasedBy?(0,a.A)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Ke(s,o)}},Ye=function(e,t){e.frame||Ce(!1);var n=e.frame,r=Le(t,n.scroll.initial),o=Be(r),i=(0,a.A)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}}),s=Ge({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return(0,a.A)({},e,{frame:i,subject:s})};function Xe(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function $e(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Ze(e,t){if(e.find)return e.find(t);var n=$e(e,t);return-1!==n?e[n]:void 0}function Je(e){return Array.prototype.slice.call(e)}var Qe=ye((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),et=ye((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),tt=ye((function(e){return Xe(e)})),nt=ye((function(e){return Xe(e)})),rt=ye((function(e,t){var n=nt(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function ot(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function it(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var at=ye((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),st=function(e,t){return e.descriptor.droppableId===t.descriptor.id},lt={point:Re,value:0},ct={invisible:{},visible:{},all:[]},dt={displaced:ct,displacedBy:lt,at:null},ut=function(e,t){return function(n){return e<=n&&n<=t}},pt=function(e){var t=ut(e.top,e.bottom),n=ut(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},ft=function(e){var t=ut(e.top,e.bottom),n=ut(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},ht={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},mt={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},gt=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Re;return He(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},vt=function(e){return gt((0,a.A)({},e,{isVisibleThroughFrameFn:pt}))},xt=function(e){return gt((0,a.A)({},e,{isVisibleThroughFrameFn:ft}))};function bt(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return le(ce(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!vt({target:s,destination:n,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i),d={draggableId:l,shouldAnimate:c};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function yt(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:ct,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function wt(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=st(t,r);if(null==s)return yt({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=Ze(n,(function(e){return e.descriptor.index===s}));if(!d)return yt({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=at(t,n),p=n.indexOf(d);return{displaced:bt({afterDragging:u.slice(p),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function jt(e,t){return Boolean(t.effected[e])}var Nt=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,d=s.at;if(d||Ce(!1),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:a});return null==u?null:wt({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:u})}var p=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,o=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var a=o.draggableId,s=r[a].descriptor.index;return jt(a,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:d.combine,afterCritical:c});return null==p?null:wt({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},St=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=it(n);o||Ce(!1);var i=o.draggableId,a=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return jt(r,n)?i?Re:Be(o.point):i?o.point:Re}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return De(a,s)},At=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Et=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},kt=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ze(t.line,n.marginBox[t.end]+At(t,r),Et(t,n.marginBox,r))},Ct=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ze(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Et(t,n.marginBox,r))},_t=function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=rt(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return ze(t.line,n.contentBox[t.start]+At(t,r),Et(t,n.contentBox,r))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var p=r[u];if(jt(u,i))return Ct({axis:l,moveRelativeTo:p.page,isMoving:s});var f=he(p.page,d.point);return Ct({axis:l,moveRelativeTo:f,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(jt(h.descriptor.id,i)){var m=he(h.page,Be(i.displacedBy.point));return kt({axis:l,moveRelativeTo:m,isMoving:s})}return kt({axis:l,moveRelativeTo:h.page,isMoving:s})},Pt=function(e,t){var n=e.frame;return n?De(t,n.scroll.diff.displacement):t},Ot=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?_t({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):St({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?Pt(n,t):t},Tt=function(e,t){var n=Le(t,e.scroll.initial),r=Be(n);return{frame:le({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Mt(e,t){return e.map((function(e){return t[e]}))}var It=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return De(e.scroll.diff.displacement,t)}(e.viewport,t),o=Le(r,n.page.borderBox.center);return De(n.client.borderBox.center,o)},Rt=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,l=void 0!==s&&s,c=Le(r,t.page.borderBox.center),d={target:He(t.page.borderBox,c),destination:n,withDroppableDisplacement:i,viewport:o};return l?function(e){return gt((0,a.A)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=ut(e.top,e.bottom),r=ut(e.left,e.right);return function(e){return t===ht?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(d):xt(d)},Dt=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,s=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!r.isEnabled)return null;var u=rt(r.descriptor.id,o),p=st(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!ot(i))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return(0,a.A)({},i,{at:t})}var l=i.displaced.all,c=l.length?l[0]:null;if(t)return c?s(c):null;var d=at(n,o);if(!c)return d.length?s(d[d.length-1].descriptor.id):null;var u=$e(d,(function(e){return e.descriptor.id===c}));-1===u&&Ce(!1);var p=u-1;return p<0?null:s(d[p].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||Nt({isMovingForward:t,isInHomeList:p,draggable:n,draggables:o,destination:r,insideDestination:u,previousImpact:i,viewport:s,afterCritical:d});if(!f)return null;var h=Ot({impact:f,draggable:n,droppable:r,draggables:o,afterCritical:d});if(Rt({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:It({pageBorderBoxCenter:h,draggable:n,viewport:s}),impact:f,scrollJumpRequest:null};var m=Le(h,l),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,s=Tt(n,De(n.scroll.current,i)),l=r.frame?Ye(r,De(r.frame.scroll.current,i)):r,c=t.displaced,d=bt({afterDragging:Mt(c.all,o),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),u=bt({afterDragging:Mt(c.all,o),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),p={},f={},h=[c,d,u];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:p[e]=!0})),(0,a.A)({},t,{displaced:{all:c.all,invisible:p,visible:f}})}({impact:f,viewport:s,destination:r,draggables:o,maxScrollChange:m});return{clientSelection:c,impact:g,scrollJumpRequest:m}},Lt=function(e){var t=e.subject.active;return t||Ce(!1),t},Ft=function(e,t){var n=e.page.borderBox.center;return jt(e.descriptor.id,t)?Le(n,t.displacedBy.point):n},Bt=function(e,t){var n=e.page.borderBox;return jt(e.descriptor.id,t)?He(n,Be(t.displacedBy.point)):n},zt=ye((function(e,t){var n=t[e.line];return{value:n,point:ze(e.line,n)}})),Ut=function(e,t){return(0,a.A)({},e,{scroll:(0,a.A)({},e.scroll,{max:t})})},Vt=function(e,t,n){var r=e.frame;st(t,e)&&Ce(!1),e.subject.withPlaceholder&&Ce(!1);var o=zt(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return ze(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=rt(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:ze(r.line,i)}(e,o,n),s={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var l=Ge({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return(0,a.A)({},e,{subject:l})}var c=i?De(r.scroll.max,i):r.scroll.max,d=Ut(r,c),u=Ge({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:d});return(0,a.A)({},e,{subject:u,frame:d})},Wt=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=ut(a[s.start],a[s.end]),c=tt(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return pt(i.frame)(Lt(e))})).filter((function(e){var n=Lt(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Lt(e),n=ut(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=Lt(e)[s.crossAxisStart],o=Lt(n)[s.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Lt(e)[s.crossAxisStart]===Lt(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var d=c.filter((function(e){return ut(Lt(e)[s.start],Lt(e)[s.end])(n[s.line])}));return 1===d.length?d[0]:d.length>1?d.sort((function(e,t){return Lt(e)[s.start]-Lt(t)[s.start]}))[0]:c.sort((function(e,t){var r=Ve(n,qe(Lt(e))),o=Ve(n,qe(Lt(t)));return r!==o?r-o:Lt(e)[s.start]-Lt(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;var d=rt(c.descriptor.id,i),u=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.insideDestination,i=e.afterCritical,a=o.filter((function(e){return xt({target:Bt(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=Ue(t,Pt(r,Ft(e,i))),a=Ue(t,Pt(r,Ft(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:d,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:ct,displacedBy:lt,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},d=Ot({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),u=st(o,a)?a:Vt(a,o,i);return Rt({draggable:o,destination:u,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===o.descriptor.id||p?e:e+1}(),h=zt(a.axis,o.displaceBy);return wt({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:h,last:ct,index:f})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:u,insideDestination:d,viewport:s,afterCritical:l});if(!p)return null;var f=Ot({impact:p,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:It({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:p,scrollJumpRequest:null}},Ht=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},qt=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Ht(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?Dt({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Wt({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Kt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Gt(e){var t=ut(e.top,e.bottom),n=ut(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Yt(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=tt(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Gt(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=ut(o[i.crossAxisStart],o[i.crossAxisEnd]),d=c(s),u=c(l);return!d&&!u||(d?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,o=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=ze(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Ue(o,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}var Xt=function(e,t){return le(He(e,t))};function $t(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Zt=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Xt(n.page.borderBox,t),c=Yt({pageBorderBox:l,draggable:n,droppables:o});if(!c)return dt;var d=o[c],u=rt(d.descriptor.id,r),p=function(e,t){var n=e.frame;return n?Xt(t,n.scroll.diff.value):t}(d,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=zt(o.axis,t.displaceBy),c=l.value,d=n[s.start],u=n[s.end],p=Ze(at(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=jt(t,a),l=$t({displaced:r.displaced,id:t});return i?l?u>n[s.start]+o&&u<n[s.end]-o:d>n[s.start]-c+o&&d<n[s.end]-c-o:l?u>n[s.start]+c+o&&u<n[s.end]+c-o:d>n[s.start]+o&&d<n[s.end]-o}));return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:d,insideDestination:u,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=zt(r.axis,n.displaceBy),d=c.value,u=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Ze(at(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=jt(t,s),o=$t({displaced:i,id:t});return r?o?p<=n:u<n-d:o?p<=n+d:u<n})),inHomeList:st(n,r)});return wt({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:d,insideDestination:u,last:i.displaced,viewport:a,afterCritical:s})},Jt=function(e,t){var n;return(0,a.A)({},e,((n={})[t.descriptor.id]=t,n))},Qt=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=Ht(t),i=Ht(n);if(!o)return r;if(o===i)return r;var s=r[o];if(!s.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||Ce(!1);var n=e.frame;if(!n){var r=Ge({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return(0,a.A)({},e,{subject:r})}var o=t.oldFrameMaxScroll;o||Ce(!1);var i=Ut(n,o),s=Ge({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return(0,a.A)({},e,{subject:s,frame:i})}(s);return Jt(r,l)},en=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,s=e.scrollJumpRequest,l=o||t.viewport,c=r||t.dimensions,d=n||t.current.client.selection,u=Le(d,t.initial.client.selection),p={offset:u,selection:d,borderBoxCenter:De(t.initial.client.borderBoxCenter,u)},f={selection:De(p.selection,l.scroll.current),borderBoxCenter:De(p.borderBoxCenter,l.scroll.current),offset:De(p.offset,l.scroll.diff.value)},h={client:p,page:f};if("COLLECTING"===t.phase)return(0,a.A)({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:h});var m=c.draggables[t.critical.draggable.id],g=i||Zt({pageOffset:f.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),v=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.previousImpact,i=e.impact,a=Qt({previousImpact:o,impact:i,droppables:r}),s=Ht(i);if(!s)return a;var l=r[s];if(st(t,l))return a;if(l.subject.withPlaceholder)return a;var c=Vt(l,t,n);return Jt(a,c)}({draggable:m,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return(0,a.A)({},t,{current:h,dimensions:{draggables:c.draggables,droppables:v},impact:g,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})};var tn=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,s=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(s.all,r),c=bt({afterDragging:l,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:s});return(0,a.A)({},t,{displaced:c})},nn=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Ot({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return It({pageBorderBoxCenter:s,draggable:n,viewport:i})},rn=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Ce(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],d=Ht(o);d||Ce(!1);var u=l[d],p=tn({impact:o,viewport:i,destination:u,draggables:s}),f=nn({impact:p,draggable:c,droppable:u,draggables:s,viewport:i,afterCritical:t.afterCritical});return en({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},on=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=zt(n.axis,t.displaceBy),a=rt(n.descriptor.id,r),s=a.indexOf(t);-1===s&&Ce(!1);var l,c=a.slice(s+1),d=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:d};return{impact:{displaced:bt({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:u}},an=function(e){0},sn=function(e){0},ln=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||Ce(!1),t}(n[t]),s=i.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=he(t.client,n),i=me(o,r);return(0,a.A)({},t,{placeholder:(0,a.A)({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:De(o,s),initialWindowScroll:r.scroll.initial});return l}))},cn=function(e){return"SNAP"===e.movementMode},dn=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Jt(e.droppables,t)}}(e.dimensions,t);return!cn(e)||n?en({state:e,dimensions:r}):rn({state:e,dimensions:r})};function un(e){return e.isDragging&&"SNAP"===e.movementMode?(0,a.A)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var pn={phase:"IDLE",completed:null,shouldFlush:!1},fn=function(e,t){if(void 0===e&&(e=pn),"FLUSH"===t.type)return(0,a.A)({},pn,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Ce(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,s=n.dimensions,l=n.movementMode,c=s.draggables[r.draggable.id],d=s.droppables[r.droppable.id],u={selection:o,borderBoxCenter:c.client.borderBox.center,offset:Re},p={client:u,page:{selection:De(u.selection,i.scroll.initial),borderBoxCenter:De(u.selection,i.scroll.initial),offset:De(u.selection,i.scroll.diff.value)}},f=tt(s.droppables).every((function(e){return!e.isFixedOnPage})),h=on({draggable:c,home:d,draggables:s.draggables,viewport:i}),m=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:s,initial:p,current:p,isWindowScrollAllowed:f,impact:m,afterCritical:h.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Ce(!1),(0,a.A)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ce(!1),function(e){var t=e.state,n=e.published;an();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Ye(n,e.scroll)})),o=(0,a.A)({},t.dimensions.droppables,{},Qe(r)),i=et(ln({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),s=(0,a.A)({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete s[e]}));var l={droppables:o,draggables:s},c=Ht(t.impact),d=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],f=on({draggable:u,home:p,draggables:s,viewport:t.viewport}),h=f.impact,m=f.afterCritical,g=d&&d.isCombineEnabled?t.impact:h,v=Zt({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m});sn();var x=(0,a.A)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?x:(0,a.A)({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Kt(e)||Ce(!1);var g=t.payload.client;return Fe(g,e.current.client.selection)?e:en({state:e,clientSelection:g,impact:cn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return un(e);if("COLLECTING"===e.phase)return un(e);Kt(e)||Ce(!1);var v=t.payload,x=v.id,b=v.newScroll,y=e.dimensions.droppables[x];if(!y)return e;var w=Ye(y,b);return dn(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Kt(e)||Ce(!1);var j=t.payload,N=j.id,S=j.isEnabled,A=e.dimensions.droppables[N];A||Ce(!1),A.isEnabled===S&&Ce(!1);var E=(0,a.A)({},A,{isEnabled:S});return dn(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Kt(e)||Ce(!1);var k=t.payload,C=k.id,_=k.isCombineEnabled,P=e.dimensions.droppables[C];P||Ce(!1),P.isCombineEnabled===_&&Ce(!1);var O=(0,a.A)({},P,{isCombineEnabled:_});return dn(e,O,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Kt(e)||Ce(!1),e.isWindowScrollAllowed||Ce(!1);var T=t.payload.newScroll;if(Fe(e.viewport.scroll.current,T))return un(e);var M=Tt(e.viewport,T);return cn(e)?rn({state:e,viewport:M}):en({state:e,viewport:M})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Kt(e))return e;var I=t.payload.maxScroll;if(Fe(I,e.viewport.scroll.max))return e;var R=(0,a.A)({},e.viewport,{scroll:(0,a.A)({},e.viewport.scroll,{max:I})});return(0,a.A)({phase:"DRAGGING"},e,{viewport:R})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Ce(!1);var D=qt({state:e,type:t.type});return D?en({state:e,impact:D.impact,clientSelection:D.clientSelection,scrollJumpRequest:D.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&Ce(!1),(0,a.A)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var F=t.payload,B=F.completed,z=F.dropDuration,U=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ce(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:z,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},hn=function(e){return{type:"LIFT",payload:e}},mn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},gn=function(){return{type:"COLLECTION_STARTING",payload:null}},vn=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},xn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},bn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},yn=function(e){return{type:"MOVE",payload:e}},wn=function(){return{type:"MOVE_UP",payload:null}},jn=function(){return{type:"MOVE_DOWN",payload:null}},Nn=function(){return{type:"MOVE_RIGHT",payload:null}},Sn=function(){return{type:"MOVE_LEFT",payload:null}},An=function(){return{type:"FLUSH",payload:null}},En=function(e){return{type:"DROP_COMPLETE",payload:e}},kn=function(e){return{type:"DROP",payload:e}},Cn=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var _n="cubic-bezier(.2,1,.1,1)",Pn={drop:0,combining:.7},On={drop:.75},Tn=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Mn={fluid:"opacity "+Tn,snap:"transform "+Tn+", opacity "+Tn,drop:function(e){var t=e+"s "+_n;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Tn,placeholder:"height "+Tn+", width "+Tn+", margin "+Tn},In=function(e){return Fe(e,Re)?null:"translate("+e.x+"px, "+e.y+"px)"},Rn=In,Dn=function(e,t){var n=In(e);return n?t?n+" scale("+On.drop+")":n:null},Ln=.33,Fn=.55,Bn=Fn-Ln,zn=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&Ce(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&Ce(!1);var s=o.critical,l=o.dimensions,c=l.draggables[o.critical.draggable.id],d=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,s=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:(0,a.A)({},r,{displaced:ct}),didDropInsideDroppable:!0}:{impact:tn({draggables:t,impact:s,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),u=d.impact,p=d.didDropInsideDroppable,f=p?ot(u):null,h=p?it(u):null,m={index:s.draggable.index,droppableId:s.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:f,combine:h},v=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,s=r.droppables,l=Ht(t),c=l?s[l]:null,d=s[n.descriptor.droppableId],u=nn({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||d,viewport:o});return Le(u,n.client.borderBox.center)}({impact:u,draggable:c,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),x={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:u};if(!Fe(o.current.client.offset,v)||Boolean(g.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,o=Ue(t,n);if(o<=0)return Ln;if(o>=1500)return Fn;var i=Ln+Bn*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:v,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:v,dropDuration:b,completed:x}))}else n(En({completed:x}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Un=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Vn(e){var t=e.onWindowScroll;var n=we((function(){t(Un())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),o=Ne;function i(){return o!==Ne}return{start:function(){i()&&Ce(!1),o=Se(window,[r])},stop:function(){i()||Ce(!1),n.cancel(),o(),o=Ne},isActive:i}}var Wn=function(e){var t=Vn({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Hn=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=$e(e,(function(e){return e.timerId===t}));-1===n&&Ce(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},qn=function(e,t){an(),t(),sn()},Kn=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Gn=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Yn=function(e,t){var n=function(e,t){var n=Hn(),r=null,o=function(n){r||Ce(!1),r=null,qn(0,(function(){return Gn(e().onDragEnd,n,t,Ie.onDragEnd)}))};return{beforeCapture:function(t,n){r&&Ce(!1),qn(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Ce(!1),qn(0,(function(){var r=e().onBeforeDragStart;r&&r(Kn(t,n))}))},start:function(o,i){r&&Ce(!1);var a=Kn(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((function(){qn(0,(function(){return Gn(e().onDragStart,a,t,Ie.onDragStart)}))}))},update:function(o,i){var s=ot(i),l=it(i);r||Ce(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(o,r.lastCritical);c&&(r.lastCritical=o);var d,u,p=(u=s,!(null==(d=r.lastLocation)&&null==u||null!=d&&null!=u&&d.droppableId===u.droppableId&&d.index===u.index));p&&(r.lastLocation=s);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(f&&(r.lastCombine=l),c||p||f){var h=(0,a.A)({},Kn(o,r.mode),{combine:l,destination:s});n.add((function(){qn(0,(function(){return Gn(e().onDragUpdate,h,t,Ie.onDragUpdate)}))}))}},flush:function(){r||Ce(!1),n.flush()},drop:o,abort:function(){if(r){var e=(0,a.A)({},Kn(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Xn=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Ce(!1),e.dispatch(En({completed:r.completed}))}else t(n)}}},$n=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Se(window,[i])}))}}}},Zn=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(kn({reason:r.reason})))}}}},Jn=g,Qn=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,c=e.autoScroller;return f(fn,Jn(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(l(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=g.apply(void 0,i)(n.dispatch),(0,s.A)((0,s.A)({},n),{},{dispatch:r})}}}((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(En({completed:c.completed})),"IDLE"!==n().phase&&Ce(!1),r(An()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var d={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},u=e.startPublishing(d),p=u.critical,f=u.dimensions,h=u.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}})}else t(o)}}}}(n),zn,Xn,$n,Zn,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&Ce(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(c),Wn,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Yn(i,a))))};var er=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Le({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},tr=function(){var e=document.documentElement;return e||Ce(!1),e},nr=function(){var e=tr();return er({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},rr=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;an();var o=function(){var e=Un(),t=nr(),n=e.y,r=e.x,o=tr(),i=o.clientWidth,a=o.clientHeight;return{frame:le({top:n,left:r,right:r+i,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Re,displacement:Re}}}}(),i=o.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)})),c={draggables:et(l),droppables:Qe(s)};return sn(),{dimensions:c,critical:t,viewport:o}};function or(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var ir=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null,an();var e=r,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Re)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),d={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},sn(),n.publish(d)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||Ce(!1);var o=n.critical.draggable;"ADDITION"===t.type&&or(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&or(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||Ce(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||Ce(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||Ce(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&Ce(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},rr({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return i},ar=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},sr=function(e){window.scrollBy(e.x,e.y)},lr=ye((function(e){return tt(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),cr=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){var n=Ze(lr(t),(function(t){return t.frame||Ce(!1),Gt(t.frame.pageMarginBox)(e)}));return n}(t,r);return i},dr=.25,ur=.05,pr=28,fr=function(e){return Math.pow(e,2)},hr={stopDampeningAt:1200,accelerateAt:360},mr=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},gr=hr.accelerateAt,vr=hr.stopDampeningAt,xr=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return pr;if(e===t.startScrollingFrom)return 1;var n=mr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=pr*fr(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=vr,o=Date.now()-n;if(o>=vr)return e;if(o<gr)return 1;var i=mr({startOfRange:gr,endOfRange:r,current:o}),a=e*fr(i);return Math.ceil(a)}(i,r),1):i},br=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*dr,maxScrollValueAt:e[t.size]*ur}}(t,o);return n[o.end]<n[o.start]?xr({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*xr({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},yr=We((function(e){return 0===e?0:e})),wr=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},s=br({container:n,distanceToEdges:a,dragStartTime:t,axis:ht,shouldUseTimeDampening:i}),l=br({container:n,distanceToEdges:a,dragStartTime:t,axis:mt,shouldUseTimeDampening:i}),c=yr({x:l,y:s});if(Fe(c,Re))return null;var d=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return d?Fe(d,Re)?null:d:null},jr=We((function(e){return 0===e?0:e>0?1:-1})),Nr=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,o=t.change,i=De(n,o),a={x:e(i.x,r.x),y:e(i.y,r.y)};return Fe(a,Re)?null:a}}(),Sr=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=jr(r),a=Nr({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},Ar=function(e,t){return Sr({current:e.scroll.current,max:e.scroll.max,change:t})},Er=function(e,t){var n=e.frame;return!!n&&Sr({current:n.scroll.current,max:n.scroll.max,change:t})},kr=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=wr({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return a&&Ar(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void o(l)}var c=cr({center:a,destination:Ht(t.impact),droppables:t.dimensions.droppables});if(c){var d=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=wr({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&Er(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});d&&i(c.descriptor.id,d)}},Cr=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,o=function(e,t){if(!Er(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Er(e,t)?Nr({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Le(t,r);return n(e.descriptor.id,o),Le(t,o)},i=function(e,t,n){if(!e)return n;if(!Ar(t,n))return n;var o=function(e,t){if(!Ar(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Nr({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Le(n,o);return r(i),Le(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Ht(e.impact);r||Ce(!1);var a=o(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=De(e.current.client.selection,n);t({client:r})}(e,l)}}}},_r=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=we(t),o=we(n),i=null,a=function(e){i||Ce(!1);var t=i,n=t.shouldUseTimeDampening,a=t.dragStartTime;kr({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){an(),i&&Ce(!1);var t=Date.now(),n=!1,r=function(){n=!0};kr({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},sn(),n&&a(e)},stop:function(){i&&(r.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),i=Cr({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},Pr="data-rbd",Or=function(){var e=Pr+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Tr=function(){var e=Pr+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Mr=function(){var e=Pr+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ir={contextId:Pr+"-scroll-container-context-id"},Rr=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Dr=function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Or.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),o=[function(){var e="\n      transition: "+Mn.outOfTheWay+";\n    ";return{selector:n(Tr.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(Mr.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Rr(o,"always"),resting:Rr(o,"resting"),dragging:Rr(o,"dragging"),dropAnimating:Rr(o,"dropAnimating"),userCancel:Rr(o,"userCancel")}},Lr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,Fr=function(){var e=document.querySelector("head");return e||Ce(!1),e},Br=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var zr=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ur(e){return e instanceof zr(e).HTMLElement}function Vr(e,t){var n="["+Or.contextId+'="'+e+'"]',r=Je(document.querySelectorAll(n));if(!r.length)return null;var o=Ze(r,(function(e){return e.getAttribute(Or.draggableId)===t}));return o&&Ur(o)?o:null}function Wr(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Ce(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Xe(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||Ce(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Xe(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Hr=r.createContext(null),qr=function(){var e=document.body;return e||Ce(!1),e},Kr={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Gr=function(e){return"rbd-announcement-"+e};var Yr=0,Xr={separator:"::"};function $r(e,t){return void 0===t&&(t=Xr),ie((function(){return""+e+t.separator+Yr++}),[t.separator,e])}var Zr=r.createContext(null);function Jr(e){0}function Qr(e,t){Jr()}function eo(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),t}var to,no=((to={})[13]=!0,to[9]=!0,to),ro=function(e){no[e.keyCode]&&e.preventDefault()},oo=function(){var e="visibilitychange";return"undefined"===typeof document?e:Ze([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var io,ao={type:"IDLE"};function so(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&Ce(!1);var l=s.point;if(c=l,d=a,Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5){var c,d;e.preventDefault();var u=s.actions.fluidLift(a);o({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void ro(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Ce(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:oo,fn:t}]}function lo(){}var co=((io={})[34]=!0,io[33]=!0,io[36]=!0,io[35]=!0,io);function uo(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(co[r.keyCode]?r.preventDefault():ro(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:oo,fn:n}]}var po={type:"IDLE"};var fo={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ho(e,t){if(null==t)return!1;if(Boolean(fo[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ho(e,t.parentElement)}function mo(e,t){var n=t.target;return!!Ur(n)&&ho(e,n)}var go=function(e){return le(e.getBoundingClientRect()).center};var vo=function(){var e="matches";return"undefined"===typeof document?e:Ze([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function xo(e,t){return null==e?null:e[vo](t)?e:xo(e.parentElement,t)}function bo(e,t){return e.closest?e.closest(t):xo(e,t)}function yo(e,t){var n,r=t.target;if(!((n=r)instanceof zr(n).Element))return null;var o=function(e){return"["+Or.contextId+'="'+e+'"]'}(e),i=bo(r,o);return i&&Ur(i)?i:null}function wo(e){e.preventDefault()}function jo(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function No(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!ar(n.getState(),o))}function So(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,s=e.forceSensorStop,l=e.sourceEvent;if(!No({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var c=o.draggable.getById(i),d=function(e,t){var n="["+Tr.contextId+'="'+e+'"]',r=Ze(Je(document.querySelectorAll(n)),(function(e){return e.getAttribute(Tr.id)===t}));return r&&Ur(r)?r:null}(n,c.descriptor.id);if(!d)return null;if(l&&!c.options.canDragInteractiveElements&&mo(d,l))return null;var u=t.claim(s||Ne),p="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function h(){return t.isActive(u)}var m=function(e,t){jo({expected:e,phase:p,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),p="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=Se(window,[{eventName:"click",fn:wo,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(kn({reason:t}))}return"PRE_DRAG"!==p&&(n(),"PRE_DRAG"!==p&&Ce(!1)),r.dispatch(hn(e.liftActionArgs)),p="DRAGGING",(0,a.A)({isActive:function(){return jo({expected:"DRAGGING",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return jo({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=we((function(e){m((function(){return yn({client:e})}))})),n=g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return(0,a.A)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return m(wn)},moveRight:function(){return m(Nn)},moveDown:function(){return m(jn)},moveLeft:function(){return m(Sn)}};return g({liftActionArgs:{id:i,clientSelection:go(d),movementMode:"SNAP"},cleanup:Ne,actions:e})},abort:function(){jo({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!0})&&t.release()}}}var Ao=[function(e){var t=(0,r.useRef)(ao),n=(0,r.useRef)(Ne),o=ie((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),d(o,i)}}}}}}),[e]),i=ie((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=ae((function(){n.current=Se(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=ae((function(){"IDLE"!==t.current.type&&(t.current=ao,n.current(),a())}),[a]),l=ae((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=ae((function(){var e=so({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Se(window,e,{capture:!0,passive:!1})}),[l,s]),d=ae((function(e,n){"IDLE"!==t.current.type&&Ce(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Lr((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,r.useRef)(lo),n=ie((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var i=e.tryGetLock(r,l,{sourceEvent:n});if(i){n.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=Se(window,uo(s,l),{capture:!0,passive:!1})}}}function l(){a||Ce(!1),a=!1,t.current(),o()}}}}),[e]),o=ae((function(){t.current=Se(window,[n],{passive:!1,capture:!0})}),[n]);Lr((function(){return o(),function(){t.current()}}),[o])},function(e){var t=(0,r.useRef)(po),n=(0,r.useRef)(Ne),o=ae((function(){return t.current}),[]),i=ae((function(e){t.current=e}),[]),a=ie((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),p(o,a)}}}}}}),[e]),s=ae((function(){n.current=Se(window,[a],{capture:!0,passive:!1})}),[a]),l=ae((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(po),n.current(),s())}),[s,i]),c=ae((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),d=ae((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},r=Se(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Ce(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:oo,fn:t}]}(t),e),i=Se(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:oo,fn:t}]}(t),e);n.current=function(){r(),i()}}),[c,o,l]),u=ae((function(){var e=o();"PENDING"!==e.type&&Ce(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),p=ae((function(e,t){"IDLE"!==o().type&&Ce(!1);var n=setTimeout(u,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,o,i,u]);Lr((function(){return s(),function(){n.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(po))}}),[o,s,i]),Lr((function(){return Se(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Eo(e){var t=e.contextId,n=e.store,o=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Ao:[],i||[]),l=(0,r.useState)((function(){return function(){var e=null;function t(){e||Ce(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Ce(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=ae((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Lr((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Lr((function(){return l.tryAbandon}),[l.tryAbandon]);var d=ae((function(e){return No({lockAPI:l,registry:o,store:n,draggableId:e})}),[l,o,n]),u=ae((function(e,r,i){return So({lockAPI:l,registry:o,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,o,n]),p=ae((function(e){return function(e,t){var n=yo(e,t);return n?n.getAttribute(Or.draggableId):null}(t,e)}),[t]),f=ae((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),h=ae((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(An()))}),[l,n]),m=ae(l.isClaimed,[l]),g=ie((function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}}),[d,u,p,f,h,m]);Jr();for(var v=0;v<s.length;v++)s[v](g)}var ko=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Co(e){return e.current||Ce(!1),e.current}function _o(e){var t=e.contextId,n=e.setCallbacks,o=e.sensors,i=e.nonce,s=e.dragHandleUsageInstructions,l=(0,r.useRef)(null);Qr();var c=eo(e),d=ae((function(){return ko(c.current)}),[c]),u=function(e){var t=ie((function(){return Gr(e)}),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,a.A)(e.style,Kr),qr().appendChild(e),function(){setTimeout((function(){var t=qr();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),ae((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),p=function(e){var t=e.contextId,n=e.text,o=$r("hidden-text",{separator:"-"}),i=ie((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:o}).contextId+"-"+e.uniqueId;var e}),[o,t]);return(0,r.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",qr().appendChild(e),function(){var t=qr();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:s}),f=function(e,t){var n=ie((function(){return Dr(e)}),[e]),o=(0,r.useRef)(null),i=(0,r.useRef)(null),a=ae(ye((function(e){var t=i.current;t||Ce(!1),t.textContent=e})),[]),s=ae((function(e){var t=o.current;t||Ce(!1),t.textContent=e}),[]);Lr((function(){(o.current||i.current)&&Ce(!1);var r=Br(t),l=Br(t);return o.current=r,i.current=l,r.setAttribute(Pr+"-always",e),l.setAttribute(Pr+"-dynamic",e),Fr().appendChild(r),Fr().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||Ce(!1),Fr().removeChild(t),e.current=null};e(o),e(i)}}),[t,s,a,n.always,n.resting,e]);var l=ae((function(){return a(n.dragging)}),[a,n.dragging]),c=ae((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),d=ae((function(){i.current&&a(n.resting)}),[a,n.resting]);return ie((function(){return{dragging:l,dropping:c,resting:d}}),[l,c,d])}(t,i),h=ae((function(e){Co(l).dispatch(e)}),[]),g=ie((function(){return m({publishWhileDragging:mn,updateDroppableScroll:vn,updateDroppableIsEnabled:xn,updateDroppableIsCombineEnabled:bn,collectionStarting:gn},h)}),[h]),v=function(){var e=ie(Wr,[]);return(0,r.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),x=ie((function(){return ir(v,g)}),[v,g]),b=ie((function(){return _r((0,a.A)({scrollWindow:sr,scrollDroppable:x.scrollDroppable},m({move:yn},h)))}),[x.scrollDroppable,h]),y=function(e){var t=(0,r.useRef)({}),n=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=ae((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=ae((function(t){var n=Vr(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=ae((function(e,t){n.current===e&&(n.current=t)}),[]),c=ae((function(){o.current||i.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=n.current;e&&s(e)})))}),[s]),d=ae((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Or.draggableId)===e&&(n.current=e)}),[]);return Lr((function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),ie((function(){return{register:a,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,d,c,l])}(t),w=ie((function(){return Qn({announce:u,autoScroller:b,dimensionMarshal:x,focusMarshal:y,getResponders:d,styleMarshal:f})}),[u,b,x,y,d,f]);l.current=w;var j=ae((function(){var e=Co(l);"IDLE"!==e.getState().phase&&e.dispatch(An())}),[]),S=ae((function(){var e=Co(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(ie((function(){return{isDragging:S,tryAbort:j}}),[S,j]));var A=ae((function(e){return ar(Co(l).getState(),e)}),[]),E=ae((function(){return Kt(Co(l).getState())}),[]),k=ie((function(){return{marshal:x,focus:y,contextId:t,canLift:A,isMovementAllowed:E,dragHandleUsageInstructionsId:p,registry:v}}),[t,x,p,y,A,E,v]);return Eo({contextId:t,store:w,registry:v,customSensors:o,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((function(){return j}),[j]),r.createElement(Zr.Provider,{value:k},r.createElement(N,{context:Hr,store:w},e.children))}var Po=0;function Oo(e){var t=ie((function(){return""+Po++}),[]),n=e.dragHandleUsageInstructions||Ie.dragHandleUsageInstructions;return r.createElement(_e,null,(function(o){return r.createElement(_o,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var To=function(e){return function(t){return e===t}},Mo=To("scroll"),Io=To("auto"),Ro=(To("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Do=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Ro(n,Mo)||Ro(n,Io)},Lo=function e(t){return null==t||t===document.body||t===document.documentElement?null:Do(t)?t:e(t.parentElement)},Fo=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Bo=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},zo=function(e){return{closestScrollable:Lo(e),isFixedOnPage:Bo(e)}},Uo=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,d=function(e,t){var n=ve(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=ce({top:r,right:a,bottom:i,left:o},n.border);return pe({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),u=me(d,o),p=function(){if(!c)return null;var e=ve(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:me(e,o),scroll:Fo(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=er({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Re,displacement:Re}}}}(),d="vertical"===i?ht:mt;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:d,isEnabled:n,client:a,page:s,frame:c,subject:Ge({page:s,withPlaceholder:null,axis:d,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:d,page:u,closest:p});return f},Vo={passive:!1},Wo={passive:!0},Ho=function(e){return e.shouldPublishImmediately?Vo:Wo};function qo(e){var t=(0,r.useContext)(e);return t||Ce(!1),t}var Ko=function(e){return e&&e.env.closestScrollable||null};function Go(){}var Yo={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Xo=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Yo:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Mn.placeholder:null}};var $o=r.memo((function(e){var t=(0,r.useRef)(null),n=ae((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),o=e.animate,i=e.onTransitionEnd,a=e.onClose,s=e.contextId,l=(0,r.useState)("open"===e.animate),c=l[0],d=l[1];(0,r.useEffect)((function(){return c?"open"!==o?(n(),d(!1),Go):t.current?Go:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):Go}),[o,c,n]);var u=ae((function(e){"height"===e.propertyName&&(i(),"close"===o&&a())}),[o,a,i]),p=Xo({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})})),Zo=r.createContext(null);var Jo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return i(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(r.PureComponent),Qo=5e3,ei=4500,ti=function(e,t){return t?Mn.drop(t.duration):e?Mn.snap:Mn.fluid},ni=function(e,t){return e?t?Pn.drop:Pn.combining:null};function ri(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,o=e.dropping,i=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(o),l=s?Dn(n,i):Rn(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ti(a,o),transform:l,opacity:ni(i,s),zIndex:s?ei:Qo,pointerEvents:"none"}}(e):{transform:Rn((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function oi(e){var t=$r("draggable"),n=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=ie((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),d=ae((function(e){var t=i();return t||Ce(!1),function(e,t,n){void 0===n&&(n=Re);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=ge(o,r),a=me(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),u=ie((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}}),[n,d,c,t]),p=(0,r.useRef)(u),f=(0,r.useRef)(!0);Lr((function(){return o.draggable.register(p.current),function(){return o.draggable.unregister(p.current)}}),[o.draggable]),Lr((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=u,o.draggable.update(u,e)}}),[u,o.draggable])}function ii(e,t,n){Qr()}function ai(e){e.preventDefault()}var si=function(e,t){return e===t},li=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function ci(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var di={mapped:{type:"SECONDARY",offset:Re,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ci(null)}};var ui=te((function(){var e=function(){var e=ye((function(e,t){return{x:e,y:t}})),t=ye((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=ye((function(e,n,r,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}}}));return function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=Ht(r.impact),l=(d=r.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,s,l,c)}var d;if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=r.dimensions.draggables[o.draggableId],h=u.result,m=h.mode,g=li(h),v=function(e){return e.combine?e.combine.draggableId:null}(h),x={duration:r.dropDuration,curve:_n,moveTo:r.newHomeClientOffset,opacity:v?Pn.drop:null,scale:v?On.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:x,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,v,x)}}}return null}}(),t=function(){var e=ye((function(e,t){return{x:e,y:t}})),t=ye(ci),n=ye((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Re,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=it(i),d=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(d);if(i.displaced.invisible[t])return null;var u=Be(a.displacedBy.point),p=e(u.x,u.y);return n(p,d,!0)}if(l)return r(d);var f=i.displacedBy.point,h=e(f.x,f.y);return n(h,d,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||di}}),{dropAnimationFinished:Cn},null,{context:Hr,pure:!0,areStatePropsEqual:si})((function(e){var t=(0,r.useRef)(null),n=ae((function(e){t.current=e}),[]),o=ae((function(){return t.current}),[]),i=qo(Zr),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=qo(Zo),d=c.type,u=c.droppableId,p=ie((function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}}),[e.draggableId,e.index,d,u]),f=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,x=e.isClone,b=e.mapped,y=e.dropAnimationFinished;ii(),Jr(),x||oi(ie((function(){return{descriptor:p,registry:l,getDraggableRef:o,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[p,l,o,v,g,m]));var w=ie((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:ai}:null}),[a,s,h,m]),j=ae((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&y()}),[y,b]),N=ie((function(){var e=ri(b),t="DRAGGING"===b.type&&b.dropping?j:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:w}}),[a,w,h,b,j,n]),S=ie((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(N,b.snapshot,S)}));function pi(e){return qo(Zo).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(ui,e):null}function fi(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),o=Boolean(e.shouldRespectForcePress);return r.createElement(pi,(0,a.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:o}))}var hi=function(e,t){return e===t.droppable.type},mi=function(e,t){return t.draggables[e.draggable.id]};var gi={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Ce(!1),document.body}},vi=te((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=(0,a.A)({},e,{shouldAnimatePlaceholder:!1}),n=ye((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=ye((function(r,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var d=l?{render:l,dragging:n(s.descriptor)}:null,u={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(n.isDragging){var c=n.critical;if(!hi(a,c))return t;var d=mi(c,n.dimensions),u=Ht(n.impact)===i;return r(i,s,u,u,d,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!hi(a,p.critical))return t;var f=mi(p.critical,n.dimensions);return r(i,s,li(p.result)===i,Ht(p.impact)===i,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!hi(a,h.critical))return t;var m=Ht(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),v=h.critical.droppable.id===i;return m?g?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Hr,pure:!0,areStatePropsEqual:si})((function(e){var t=(0,r.useContext)(Zr);t||Ce(!1);var n=t.contextId,o=t.isMovementAllowed,i=(0,r.useRef)(null),a=(0,r.useRef)(null),s=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,p=e.ignoreContainerClipping,f=e.isDropDisabled,h=e.isCombineEnabled,m=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,x=e.getContainerForClone,b=ae((function(){return i.current}),[]),y=ae((function(e){i.current=e}),[]),w=(ae((function(){return a.current}),[]),ae((function(e){a.current=e}),[]));Qr();var j=ae((function(){o()&&v({maxScroll:nr()})}),[o,v]);!function(e){var t=(0,r.useRef)(null),n=qo(Zr),o=$r("droppable"),i=n.registry,a=n.marshal,s=eo(e),l=ie((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),d=ie((function(){return ye((function(e,n){t.current||Ce(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),u=ae((function(){var e=t.current;return e&&e.env.closestScrollable?Fo(e.env.closestScrollable):Re}),[]),p=ae((function(){var e=u();d(e.x,e.y)}),[u,d]),f=ie((function(){return we(p)}),[p]),h=ae((function(){var e=t.current,n=Ko(e);e&&n||Ce(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),m=ae((function(e,r){t.current&&Ce(!1);var o=s.current,i=o.getDroppableRef();i||Ce(!1);var a=zo(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;var d=Uo({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),u=a.closestScrollable;return u&&(u.setAttribute(Ir.contextId,n.contextId),u.addEventListener("scroll",h,Ho(c.scrollOptions))),d}),[n.contextId,l,h,s]),g=ae((function(){var e=t.current,n=Ko(e);return e&&n||Ce(!1),Fo(n)}),[]),v=ae((function(){var e=t.current;e||Ce(!1);var n=Ko(e);t.current=null,n&&(f.cancel(),n.removeAttribute(Ir.contextId),n.removeEventListener("scroll",h,Ho(e.scrollOptions)))}),[h,f]),x=ae((function(e){var n=t.current;n||Ce(!1);var r=Ko(n);r||Ce(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=ie((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:x}}),[v,m,g,x]),y=ie((function(){return{uniqueId:o,descriptor:l,callbacks:b}}),[b,l,o]);Lr((function(){return c.current=y.descriptor,i.droppable.register(y),function(){t.current&&v(),i.droppable.unregister(y)}}),[b,l,v,y,a,i.droppable]),Lr((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Lr((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:p,getDroppableRef:b});var N=r.createElement(Jo,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,o=e.data,i=e.animate;return r.createElement($o,{placeholder:o,onClose:t,innerRef:w,animate:i,contextId:n,onTransitionEnd:j})})),S=ie((function(){return{innerRef:y,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,N,y]),A=g?g.dragging.draggableId:null,E=ie((function(){return{droppableId:l,type:c,isUsingCloneFor:A}}),[l,A,c]);return r.createElement(Zo.Provider,{value:E},s(S,m),function(){if(!g)return null;var e=g.dragging,t=g.render,n=r.createElement(pi,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return re.createPortal(n,x())}())}));vi.defaultProps=gi},9096:(e,t,n)=>{var r=n(39256),o=n(15029),i=n(33279),a=n(54052),s=n(63932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},9261:(e,t,n)=>{var r=n(78420),o=n(35324),i=n(69194),a=n(46686),s=n(70914);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,d=(t=o(t,e)).length,u=d-1,p=e;null!=p&&++c<d;){var f=s(t[c]),h=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=u){var m=p[f];void 0===(h=l?l(m,f,p):void 0)&&(h=a(m)?m:i(t[c+1])?[]:{})}r(p,f,h),p=p[f]}return e}},9417:(e,t,n)=>{var r=n(46686);e.exports=function(e){return e===e&&!r(e)}},9463:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9671:(e,t,n)=>{"use strict";n.d(t,{$j:()=>o});var r=n(35870);const o=async()=>{var e;const t=["/permission/grouped","/Permission/grouped"];let n;for(const a of t)try{const e=await r.default.get(a),t=null===e||void 0===e?void 0:e.data;return Array.isArray(null===t||void 0===t?void 0:t.data)?t.data:Array.isArray(t)?t:Array.isArray(null===t||void 0===t?void 0:t.groups)?t.groups:Array.isArray(e)?e:[]}catch(i){var o;const e=null===i||void 0===i||null===(o=i.response)||void 0===o?void 0:o.status;if(404===e||405===e){n=i;continue}throw i}throw null!==(e=n)&&void 0!==e?e:new Error("No grouped-permissions endpoint responded.")}},9674:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});const r=(0,n(65043).createContext)(null)},9812:(e,t,n)=>{var r=n(56552).Symbol;e.exports=r},9855:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},10143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},10396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},10443:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(65043),o=n(34446),i=n(77248);function a(e,t){let{container:n,accept:a,walk:s}=t,l=(0,r.useRef)(a),c=(0,r.useRef)(s);(0,r.useEffect)((()=>{l.current=a,c.current=s}),[a,s]),(0,i.s)((()=>{if(!n||!e)return;let t=(0,o.T)(n);if(!t)return;let r=l.current,i=c.current,a=Object.assign((e=>r(e)),{acceptNode:r}),s=t.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,a,!1);for(;s.nextNode();)i(s.currentNode)}),[n,e,l,c])}},10766:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=Object.defineProperty,o=(e,t,n)=>(((e,t,n)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let i=new class{constructor(){o(this,"current",this.detect()),o(this,"handoffState","pending"),o(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}},10793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},11295:(e,t,n)=>{var r=n(9812),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},11629:(e,t,n)=>{var r=n(16913),o=n(46686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},11744:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>Te});var r=n(65043),o=n(65173),i=n.n(o),a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty;function c(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}}function d(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var o=r.cache,i=o.get(t),a=o.get(n);if(i&&a)return i===n&&a===t;o.set(t,n),o.set(n,t);var s=e(t,n,r);return o.delete(t),o.delete(n),s}}function u(e){return a(e).concat(s(e))}var p=Object.hasOwn||function(e,t){return l.call(e,t)};function f(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var h=Object.getOwnPropertyDescriptor,m=Object.keys;function g(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function v(e,t){return f(e.getTime(),t.getTime())}function x(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function b(e,t){return e===t}function y(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o,i,a=new Array(r),s=e.entries(),l=0;(o=s.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(i=c.next())&&!i.done;)if(a[u])u++;else{var p=o.value,f=i.value;if(n.equals(p[0],f[0],l,u,e,t,n)&&n.equals(p[1],f[1],p[0],f[0],e,t,n)){d=a[u]=!0;break}u++}if(!d)return!1;l++}return!0}var w=f;function j(e,t,n){var r=m(e),o=r.length;if(m(t).length!==o)return!1;for(;o-- >0;)if(!_(e,t,n,r[o]))return!1;return!0}function N(e,t,n){var r,o,i,a=u(e),s=a.length;if(u(t).length!==s)return!1;for(;s-- >0;){if(!_(e,t,n,r=a[s]))return!1;if(o=h(e,r),i=h(t,r),(o||i)&&(!o||!i||o.configurable!==i.configurable||o.enumerable!==i.enumerable||o.writable!==i.writable))return!1}return!0}function S(e,t){return f(e.valueOf(),t.valueOf())}function A(e,t){return e.source===t.source&&e.flags===t.flags}function E(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o,i,a=new Array(r),s=e.values();(o=s.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(i=l.next())&&!i.done;){if(!a[d]&&n.equals(o.value,i.value,o.value,i.value,e,t,n)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function k(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function C(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function _(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||p(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var P=Array.isArray,O="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,T=Object.assign,M=Object.prototype.toString.call.bind(Object.prototype.toString);var I=R();R({strict:!0}),R({circular:!0}),R({circular:!0,strict:!0}),R({createInternalComparator:function(){return f}}),R({strict:!0,createInternalComparator:function(){return f}}),R({circular:!0,createInternalComparator:function(){return f}}),R({circular:!0,createInternalComparator:function(){return f},strict:!0});function R(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,o=e.createInternalComparator,i=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,o={areArraysEqual:r?N:g,areDatesEqual:v,areErrorsEqual:x,areFunctionsEqual:b,areMapsEqual:r?c(y,N):y,areNumbersEqual:w,areObjectsEqual:r?N:j,arePrimitiveWrappersEqual:S,areRegExpsEqual:A,areSetsEqual:r?c(E,N):E,areTypedArraysEqual:r?N:k,areUrlsEqual:C};if(n&&(o=T({},o,n(o))),t){var i=d(o.areArraysEqual),a=d(o.areMapsEqual),s=d(o.areObjectsEqual),l=d(o.areSetsEqual);o=T({},o,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return o}(e),u=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,o=e.areFunctionsEqual,i=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(e,f,h){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,h):"function"===m&&o(e,f,h);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,h);if(P(e))return t(e,f,h);if(null!=O&&O(e))return u(e,f,h);if(g===Date)return n(e,f,h);if(g===RegExp)return c(e,f,h);if(g===Map)return i(e,f,h);if(g===Set)return d(e,f,h);var v=M(e);return"[object Date]"===v?n(e,f,h):"[object RegExp]"===v?c(e,f,h):"[object Map]"===v?i(e,f,h):"[object Set]"===v?d(e,f,h):"[object Object]"===v?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,h):"[object URL]"===v?p(e,f,h):"[object Error]"===v?r(e,f,h):"[object Arguments]"===v?s(e,f,h):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&l(e,f,h)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,o=e.equals,i=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,d=s.meta;return n(e,a,{cache:c,equals:o,meta:d,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:o,meta:void 0,strict:i})};var a={cache:void 0,equals:o,meta:void 0,strict:i};return function(e,t){return n(e,t,a)}}({circular:r,comparator:u,createState:i,equals:o?o(u):(t=u,function(e,n,r,o,i,a,s){return t(e,n,s)}),strict:s})}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(o){n<0&&(n=o),o-n>t?(e(o),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function F(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var o=F(r),i=o[0],a=o.slice(1);return"number"===typeof i?void D(n.bind(null,a),i):(n(i),void D(n.bind(null,a)))}"object"===L(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e){return e},K=function(e,t){return Object.keys(t).reduce((function(n,r){return W(W({},n),{},H({},r,e(r,t[r])))}),{})},G=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=1e-4,Q=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},ee=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},te=function(e,t){return function(n){var r=Q(e,t);return ee(r,n)}},ne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,o=0,i=1,a=1;break;case"ease":r=.25,o=.1,i=.25,a=1;break;case"ease-in":r=.42,o=0,i=1,a=1;break;case"ease-out":r=.42,o=0,i=.58,a=1;break;case"ease-in-out":r=0,o=0,i=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=Y(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],o=l[1],i=l[2],a=l[3]}}[r,i,o,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c,d,u=te(r,i),p=te(o,a),f=(c=r,d=i,function(e){var t=Q(c,d),n=[].concat(X(t.map((function(e,t){return e*t})).slice(1)),[0]);return ee(n,e)}),h=function(e){for(var t,n=e>1?1:e,r=n,o=0;o<8;++o){var i=u(r)-n,a=f(r);if(Math.abs(i-n)<J||a<J)return p(r);r=(t=r-i/a)>1?1:t<0?0:t}return p(r)};return h.isStepper=!1,h},re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ne(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,o=void 0===r?8:r,i=e.dt,a=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*o)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<J&&Math.abs(i)<J?[t,0]:[s,i]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return ne(r)}return"function"===typeof r?r:null};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||de(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pe=function(e,t,n){return e+(t-e)*n},fe=function(e){return e.from!==e.to},he=function e(t,n,r){var o=K((function(e,n){if(fe(n)){var r=ce(t(n.from,n.to,n.velocity),2),o=r[0],i=r[1];return se(se({},n),{},{from:o,velocity:i})}return n}),n);return r<1?K((function(e,t){return fe(t)?se(se({},t),{},{velocity:pe(t.velocity,o[e].velocity,r),from:pe(t.from,o[e].from,r)}):t}),n):e(t,o,r-1)};const me=function(e,t,n,r,o){var i,a,s,l,c=(i=e,a=t,[Object.keys(i),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),d=c.reduce((function(n,r){return se(se({},n),{},le({},r,[e[r],t[r]]))}),{}),u=c.reduce((function(n,r){return se(se({},n),{},le({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),p=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;u=he(n,u,i),o(se(se(se({},e),t),K((function(e,t){return t.from}),u))),s=r,Object.values(u).filter(fe).length&&(p=requestAnimationFrame(f))}:function(i){l||(l=i);var a=(i-l)/r,s=K((function(e,t){return pe.apply(void 0,ie(t).concat([n(a)]))}),d);if(o(se(se(se({},e),t),s)),a<1)p=requestAnimationFrame(f);else{var c=K((function(e,t){return pe.apply(void 0,ie(t).concat([n(1)]))}),d);o(se(se(se({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(p)}}};function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}var ve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function be(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ae(r.key),r)}}function Ae(e){var t=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ge(t)?t:String(t)}function Ee(e,t){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ee(e,t)}function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var o=Pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){if(t&&("object"===ge(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}var Oe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}(a,e);var t,n,o,i=ke(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=i.call(this,e,t)).props,o=r.isActive,s=r.attributeName,l=r.from,c=r.to,d=r.steps,u=r.children,p=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(_e(n)),n.changeStyle=n.changeStyle.bind(_e(n)),!o||p<=0)return n.state={style:{}},"function"===typeof u&&(n.state={style:c}),Ce(n);if(d&&d.length)n.state={style:d[0].style};else if(l){if("function"===typeof u)return n.state={style:l},Ce(n);n.state={style:s?Ne({},s,l):l}}else n.state={style:{}};return n}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,o=t.attributeName,i=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(I(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||i?s:e.to;if(this.state&&l){var u={style:o?Ne({},o,d):d};(o&&l[o]!==d||!o&&l!==d)&&this.setState(u)}this.runAnimation(je(je({},this.props),{},{from:d,begin:0}))}}else{var p={style:o?Ne({},o,a):a};this.state&&l&&(o&&l[o]!==a||!o&&l!==a)&&this.setState(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,o=e.duration,i=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=me(n,r,re(i),o,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},o,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,o=e.onAnimationStart,i=n[0],a=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([o].concat(be(n.reduce((function(e,r,o){if(0===o)return e;var i=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,d=r.onAnimationEnd,u=o>0?n[o-1]:r,p=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(be(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:i,easing:s}),i]);var f=G(p,i,s),h=je(je(je({},u.style),l),{},{transition:f});return[].concat(be(e),[h,i,d]).filter(q)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=z());var t=e.begin,n=e.duration,r=e.attributeName,o=e.to,i=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var u=r?Ne({},r,o):o,p=G(Object.keys(u),n,i);d.start([a,t,je(je({},u),{},{transition:p}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),o=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,xe(e,ve)),a=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!o||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,o=void 0===n?{}:n,a=t.className;return(0,r.cloneElement)(e,je(je({},i),{},{style:je(je({},o),s),className:a}))};return 1===a?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return l(e)})))}}])&&Se(t.prototype,n),o&&Se(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);Oe.displayName="Animate",Oe.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Oe.propTypes={from:i().oneOfType([i().object,i().string]),to:i().oneOfType([i().object,i().string]),attributeName:i().string,duration:i().number,begin:i().number,easing:i().oneOfType([i().string,i().func]),steps:i().arrayOf(i().shape({duration:i().number.isRequired,style:i().object.isRequired,easing:i().oneOfType([i().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),i().func]),properties:i().arrayOf("string"),onAnimationEnd:i().func})),children:i().oneOfType([i().node,i().func]),isActive:i().bool,canBegin:i().bool,onAnimationEnd:i().func,shouldReAnimate:i().bool,onAnimationStart:i().func,onAnimationReStart:i().func};const Te=Oe},12206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,s=n[0],l=n[n.length-1],c=a();if(e===c){if(!o)return;r=l}l!==c||o||(r=s);s===c&&o&&(r=l);if(r)return t.preventDefault(),void r.focus();var d=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==d||"Chrome"==d[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=n.indexOf(c);u>-1&&(u+=o?-1:1);if("undefined"===typeof(r=n[u]))return t.preventDefault(),void(r=o?l:s).focus();t.preventDefault(),r.focus()};var r,o=n(34682),i=(r=o)&&r.__esModule?r:{default:r};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?a(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},12322:(e,t,n)=>{var r=n(16913),o=n(85990),i=n(22761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},12460:(e,t,n)=>{"use strict";var r=n(55758).longestPath,o=n(23088),i=n(24501);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:s(e);break;case"tight-tree":!function(e){r(e),o(e)}(e);break;case"longest-path":a(e)}};var a=r;function s(e){i(e)}},12536:(e,t,n)=>{var r=n(50149),o=n(52969),i=n(9096),a=n(38883),s=n(60320),l=n(47574),c=n(65893),d=n(33279),u=n(54052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return u(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[d];var p=-1;t=r(t,l(i));var f=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},12622:(e,t,n)=>{var r=n(70705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},12759:(e,t,n)=>{var r=n(99421),o=n(45652),i=n(9096),a=n(66487),s=n(54052);e.exports=function(e,t,n){var l=s(e)?r:a,c=arguments.length<3;return l(e,i(t,4),n,c,o)}},13028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},13390:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(89379),o=n(80045),i=(n(65043),n(70579));const a=["children","className"],s=e=>{let{children:t,className:n=""}=e,s=(0,o.A)(e,a);return(0,i.jsx)("button",(0,r.A)((0,r.A)({className:"px-4 py-2 rounded-md bg-emerald-600 text-white hover:bg-emerald-700 shadow ".concat(n)},s),{},{children:t}))}},13440:(e,t,n)=>{var r=n(56552)["__core-js_shared__"];e.exports=r},13809:(e,t,n)=>{"use strict";function r(e){return function(){return e}}n.d(t,{A:()=>r})},14079:(e,t,n)=>{var r=n(88259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},14202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,m(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:N.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+C(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),_(a,t,o,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+C(s=e[c],c);l+=_(s,t,o,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=_(s=s.value,t,o,d=i+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},M={transition:null},I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:M,ReactCurrentOwner:N};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.2.0"},14459:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},14657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},14735:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r="undefined"!==typeof window},15029:(e,t,n)=>{var r=n(26989),o=n(33097),i=n(53366),a=n(62597),s=n(9417),l=n(91310),c=n(70914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},15193:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},15797:(e,t,n)=>{var r=n(64816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},15857:(e,t,n)=>{var r=n(20819),o=n(55636),i=n(46350);e.exports=function(e){return i(o(e,void 0,r),e+"")}},16095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},16388:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("mouse-pointer-click",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]])},16399:(e,t,n)=>{var r=n(5538),o=n(43668),i=n(69987),a=n(45752),s=n(26924),l=n(54052),c=n(44543),d=n(51268),u="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var x=l(e),b=l(t),y=x?p:s(e),w=b?p:s(t),j=(y=y==u?f:y)==f,N=(w=w==u?f:w)==f,S=y==w;if(S&&c(e)){if(!c(t))return!1;x=!0,j=!1}if(S&&!j)return v||(v=new r),x||d(e)?o(e,t,n,m,g,v):i(e,t,y,n,m,g,v);if(!(1&n)){var A=j&&h.call(e,"__wrapped__"),E=N&&h.call(t,"__wrapped__");if(A||E){var k=A?e.value():e,C=E?t.value():t;return v||(v=new r),g(k,C,n,m,v)}}return!!S&&(v||(v=new r),a(e,t,n,m,g,v))}},16599:(e,t,n)=>{var r=n(19841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,d=r(t);if(!l&&!d&&!a&&e>t||a&&s&&c&&!l&&!d||o&&s&&c||!n&&c||!i)return 1;if(!o&&!a&&!d&&e<t||d&&n&&i&&!o&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}},16704:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var r=n(77237),o=n(55962),i=n(30482);function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.bN;return(0,r.useSyncExternalStoreWithSelector)((0,o._)((t=>e.subscribe(s,t))),(0,o._)((()=>e.state)),(0,o._)((()=>e.state)),(0,o._)(t),n)}function s(e){return e}},16794:(e,t,n)=>{"use strict";n.d(t,{$x:()=>c,El:()=>l,O_:()=>s,Uw:()=>a});var r=n(65043);let o=(0,r.createContext)(null);o.displayName="OpenClosedContext";var i,a=((i=a||{})[i.Open=1]="Open",i[i.Closed=2]="Closed",i[i.Closing=4]="Closing",i[i.Opening=8]="Opening",i);function s(){return(0,r.useContext)(o)}function l(e){let{value:t,children:n}=e;return r.createElement(o.Provider,{value:t},n)}function c(e){let{children:t}=e;return r.createElement(o.Provider,{value:null},t)}},16913:(e,t,n)=>{var r=n(9812),o=n(34552),i=n(16095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},17002:(e,t,n)=>{var r=n(27676),o=n(24746),i=n(9096),a=n(54052),s=n(60929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},17213:(e,t,n)=>{"use strict";n.d(t,{A3:()=>p,Pu:()=>u});var r=n(6015);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={widthCache:{},cacheCount:0},c={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d="recharts_measurement_span";var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||r.m.isSsr)return{width:0,height:0};var n=function(e){var t=a({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),o=JSON.stringify({text:e,copyStyle:n});if(l.widthCache[o])return l.widthCache[o];try{var i=document.getElementById(d);i||((i=document.createElement("span")).setAttribute("id",d),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=a(a({},c),n);Object.assign(i.style,s),i.textContent="".concat(e);var u=i.getBoundingClientRect(),p={width:u.width,height:u.height};return l.widthCache[o]=p,++l.cacheCount>2e3&&(l.cacheCount=0,l.widthCache={}),p}catch(f){return{width:0,height:0}}},p=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}}},17283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,o),!0;case 5:return d.fn.call(d.context,t,r,o,i),!0;case 6:return d.fn.call(d.context,t,r,o,i,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,o);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},17287:(e,t,n)=>{"use strict";n.d(t,{QQ:()=>s,VU:()=>c,XC:()=>p,_U:()=>u,j2:()=>d});var r=n(65043),o=n(46686),i=n.n(o);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],l=["points","pathLength"],c={svg:["viewBox","children"],polygon:l,polyline:l},d=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],u=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!i()(n))return null;var o={};return Object.keys(n).forEach((function(e){d.includes(e)&&(o[e]=t||function(t){return n[e](n,t)})})),o},p=function(e,t,n){if(!i()(e)||"object"!==a(e))return null;var r=null;return Object.keys(e).forEach((function(o){var i=e[o];d.includes(o)&&"function"===typeof i&&(r||(r={}),r[o]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))})),r}},17347:(e,t,n)=>{"use strict";n.d(t,{$9:()=>f,C0:()=>g,Jy:()=>h,QX:()=>v,T9:()=>s,W9:()=>m,bR:()=>d,jD:()=>u,qT:()=>l,td:()=>c});var r=n(35870);async function o(e,t,n){var o;let i;for(const l of t)try{if("get"===e)return await r.default.get(l);if("post"===e)return await r.default.post(l,n);if("put"===e)return await r.default.put(l,n);if("delete"===e)return await r.default.delete(l);throw new Error("Unsupported method: ".concat(e))}catch(s){var a;const e=null===s||void 0===s||null===(a=s.response)||void 0===a?void 0:a.status;if(404===e||405===e){i=s;continue}throw s}throw null!==(o=i)&&void 0!==o?o:new Error("No valid API path responded successfully.")}const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("get",t.flat())},a=(e,t)=>o("put",e,t),s=()=>i(["/plan","/Plan","/plans","/Plans"]),l=e=>((e,t)=>o("post",e,t))(["/Plan/Create","/plan/Create","/plan","/Plan"],e),c=(e,t)=>a(["/plan/".concat(e),"/Plan/".concat(e),"/plans/".concat(e),"/Plans/".concat(e)],t),d=e=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("delete",t.flat())}(["/plan/".concat(e),"/Plan/".concat(e),"/plans/".concat(e),"/Plans/".concat(e)]),u=e=>i(["/plan/".concat(e,"/permissions"),"/Plan/".concat(e,"/permissions")]);function p(e){if(!Array.isArray(e))return[];const t=new Set(e.filter(Boolean).map((e=>String(e).trim())).filter((e=>e.length>0)));return Array.from(t)}const f=function(e,t){let n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Array.isArray(t))n=t;else if(t&&"object"===typeof t){var o,i;n=null!==(o=null!==(i=t.permissionIds)&&void 0!==i?i:t.enabledPermissionIds)&&void 0!==o?o:[],"boolean"===typeof t.replaceAll&&(r=t.replaceAll)}else n=[];return a(["/plan/".concat(e,"/permissions"),"/Plan/".concat(e,"/permissions")],{permissionIds:p(n),replaceAll:r})},h=e=>i(["/admin/plans/".concat(e,"/quotas"),"/plans/".concat(e,"/quotas"),"/Plans/".concat(e,"/quotas")]),m=(e,t)=>a(["/admin/plans/".concat(e,"/quotas"),"/plans/".concat(e,"/quotas"),"/Plans/".concat(e,"/quotas")],t),g=()=>i(["/businesses/approved","/business/approved"]),v=(e,t)=>a(["/businesses/".concat(e,"/plan"),"/business/".concat(e,"/plan")],{planId:t})},17371:(e,t,n)=>{"use strict";n.d(t,{i:()=>S});var r,o,i,a,s,l,c,d,u,p,f,h,m,g,v=n(57528);const x=Math.PI,b=2*x,y=1e-6,w=b-y;function j(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class N{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?j:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return j;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(r||(r=(0,v.A)(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(o||(o=(0,v.A)(["Z"]))))}lineTo(e,t){this._append(i||(i=(0,v.A)(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(a||(a=(0,v.A)(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,o,i){this._append(s||(s=(0,v.A)(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+o,this._y1=+i)}arcTo(e,t,n,r,o){if(e=+e,t=+t,n=+n,r=+r,(o=+o)<0)throw new Error("negative radius: ".concat(o));let i=this._x1,a=this._y1,s=n-e,p=r-t,f=i-e,h=a-t,m=f*f+h*h;if(null===this._x1)this._append(l||(l=(0,v.A)(["M",",",""])),this._x1=e,this._y1=t);else if(m>y)if(Math.abs(h*s-p*f)>y&&o){let l=n-i,c=r-a,g=s*s+p*p,b=l*l+c*c,w=Math.sqrt(g),j=Math.sqrt(m),N=o*Math.tan((x-Math.acos((g+m-b)/(2*w*j)))/2),S=N/j,A=N/w;Math.abs(S-1)>y&&this._append(d||(d=(0,v.A)(["L",",",""])),e+S*f,t+S*h),this._append(u||(u=(0,v.A)(["A",",",",0,0,",",",",",""])),o,o,+(h*l>f*c),this._x1=e+A*s,this._y1=t+A*p)}else this._append(c||(c=(0,v.A)(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,o,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,d=1^i,u=i?r-o:o-r;null===this._x1?this._append(p||(p=(0,v.A)(["M",",",""])),l,c):(Math.abs(this._x1-l)>y||Math.abs(this._y1-c)>y)&&this._append(f||(f=(0,v.A)(["L",",",""])),l,c),n&&(u<0&&(u=u%b+b),u>w?this._append(h||(h=(0,v.A)(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-a,t-s,n,n,d,this._x1=l,this._y1=c):u>y&&this._append(m||(m=(0,v.A)(["A",",",",0,",",",",",",",""])),n,n,+(u>=x),d,this._x1=e+n*Math.cos(o),this._y1=t+n*Math.sin(o)))}rect(e,t,n,r){this._append(g||(g=(0,v.A)(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function S(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new N(t)}N.prototype},17529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},17869:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r=function(e){return null};r.displayName="Cell"},17938:(e,t,n)=>{var r;try{r=n(79207)}catch(o){}r||(r=window.graphlib),e.exports=r},18328:(e,t,n)=>{"use strict";function r(e){return"object"===typeof e&&null!==e}n.d(t,{G:()=>r})},18630:(e,t,n)=>{var r=n(61516),o=n(6806),i=n(18962),a=n(11295),s=n(38710);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},18808:(e,t,n)=>{var r=n(95750);e.exports=function(e){var t=0,n=[],o={},i=[];function a(s){var l=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(o,e)?o[e].onStack&&(l.lowlink=Math.min(l.lowlink,o[e].index)):(a(e),l.lowlink=Math.min(l.lowlink,o[e].lowlink))})),l.lowlink===l.index){var c,d=[];do{c=n.pop(),o[c].onStack=!1,d.push(c)}while(s!==c);i.push(d)}}return e.nodes().forEach((function(e){r.has(o,e)||a(e)})),i}},18902:(e,t,n)=>{var r=n(64816),o=n(86179),i=n(46704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},18962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},19233:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},19841:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},19853:(e,t,n)=>{var r=n(26989);e.exports=function(e,t){return r(e,t)}},20073:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},20191:(e,t,n)=>{"use strict";var r=n(95750);e.exports=i;var o="\0";function i(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function l(e,t,n,o){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(r.isUndefined(o)?"\0":o)}function c(e,t){return l(e,t.v,t.w,t.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._in[t])}))},i.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._out[t])}))},i.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,(function(e){n.length>1?o.setNode(e,t):o.setNode(e)})),this},i.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=o,this._children[e]={},this._children[o][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return r.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=o;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==o)return t}},i.prototype.children=function(e){if(r.isUndefined(e)&&(e=o),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===o)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),r.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},i.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,(function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},i.prototype.setEdge=function(){var e,t,n,o,i=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var c=l(this._isDirected,e,t,n);if(r.has(this._edgeLabels,c))return i&&(this._edgeLabels[c]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=i?o:this._defaultEdgeLabelFn(e,t,n);var d=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};r&&(s.name=r);return s}(this._isDirected,e,t,n);return e=d.v,t=d.w,Object.freeze(d),this._edgeObjs[c]=d,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][c]=d,this._out[e][c]=d,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},i.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.v===t})):o}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.w===t})):o}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},20310:(e,t,n)=>{var r=n(21817),o=n(85990),i=n(36140);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},20449:(e,t,n)=>{var r=n(26924),o=n(22761);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},20816:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(82284);function o(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},20819:(e,t,n)=>{var r=n(80755);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},20977:(e,t,n)=>{var r=n(9096),o=n(64416);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},21327:(e,t,n)=>{"use strict";n.d(t,{s:()=>F});var r=n(65043),o=n(11629),i=n.n(o),a=n(58387),s=n(155),l=n(94794),c=n(41985),d=n(17287);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function m(e,t,n){return t=v(t),function(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function b(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var w=32,j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),n=t,o=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,o=w/6,i=w/3,a=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:w,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(w,"M").concat(2*i,",").concat(n,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(w,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(c.i,{fill:a,cx:n,cy:n,size:w,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,o=t.iconSize,c=t.layout,u=t.formatter,f=t.inactiveColor,h={x:0,y:0,width:w,height:w},m={display:"horizontal"===c?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var c=t.formatter||u,v=(0,a.A)(b(b({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var x=i()(t.value)?null:t.value;(0,s.R)(!i()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var y=t.inactive?f:t.color;return r.createElement("li",p({className:v,style:m,key:"legend-item-".concat(n)},(0,d.XC)(e.props,t,n)),r.createElement(l.u,{width:o,height:o,viewBox:h,style:g},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},c?c(x,t,n):x))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,o=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?o:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],o&&h(n.prototype,o),u&&h(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,u}(r.PureComponent);b(j,"displayName","Legend"),b(j,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var N=n(76307),S=n(22598);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var E=["ref"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function P(e,t,n){return t=T(t),function(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,O()?Reflect.construct(t,n||[],T(e).constructor):t.apply(e,n))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function I(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function L(e){return e.value}var F=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return I(e=P(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(t,e),n=t,i=[{key:"getWithHeight",value:function(e,t){var n=C(C({},this.defaultProps),e.props).layout;return"vertical"===n&&(0,N.Et)(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(o=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?C({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,o=r.layout,i=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===o?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),C(C({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,o=t.width,i=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=C(C({position:"absolute",width:o||"auto",height:i||"auto"},this.getDefaultPosition(a)),a);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=D(t,E);return r.createElement(j,n)}(n,C(C({},this.props),{},{payload:(0,S.s)(l,s,L)})))}}])&&_(n.prototype,o),i&&_(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);I(F,"displayName","Legend"),I(F,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"})},21363:(e,t,n)=>{"use strict";n.d(t,{H:()=>i,f:()=>o});var r=n(35870);async function o(e){let{draftId:t,language:n="en_US",mediaType:o="IMAGE",file:i,sourceUrl:a,fileName:s}=e;const l=new FormData;l.append("DraftId",t),l.append("Language",n),l.append("MediaType",o),i&&l.append("File",i),a&&l.append("SourceUrl",a),s&&l.append("FileName",s);const{data:c}=await r.default.post("/template-builder/uploads/header",l,{headers:{"Content-Type":"multipart/form-data"},__silentToast:!0});return c}async function i(e){let{mediaType:t="IMAGE",file:n,sourceUrl:o,fileName:i}=e;const a=new FormData;a.append("MediaType",t),n&&a.append("File",n),o&&a.append("SourceUrl",o),i&&a.append("FileName",i);const{data:s}=await r.default.post("/template-builder/uploads/standalone",a,{headers:{"Content-Type":"multipart/form-data"},__silentToast:!0});return s}},21488:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(65043);function o(e,t){return(0,r.useMemo)((()=>{var n;if(e.type)return e.type;let r=null!=(n=e.as)?n:"button";return"string"==typeof r&&"button"===r.toLowerCase()||"BUTTON"===(null==t?void 0:t.tagName)&&!t.hasAttribute("type")?"button":void 0}),[e.type,e.as,t])}},21817:(e,t,n)=>{var r=n(46686),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},21981:(e,t,n)=>{"use strict";n.d(t,{r:()=>l,s:()=>d});var r,o=n(65043),i=n(44113),a=n(67288),s=((r=s||{})[r.Ignore=0]="Ignore",r[r.Select=1]="Select",r[r.Close=2]="Close",r);const l={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},c=200;function d(e,t){let{trigger:n,action:r,close:s,select:l}=t,d=(0,o.useRef)(null);(0,a.z)(e&&null!==n,"pointerdown",(e=>{i.Ll(null==e?void 0:e.target)&&null!=n&&n.contains(e.target)&&(d.current=new Date)})),(0,a.z)(e&&null!==n,"pointerup",(e=>{if(null===d.current||!i.Lk(e.target))return;let t=r(e),n=(new Date).getTime()-d.current.getTime();switch(d.current=null,t.kind){case 0:return;case 1:n>c&&(l(t.target),s());break;case 2:s()}}),{capture:!0})}},22024:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},22165:(e,t,n)=>{var r=n(45652);e.exports=function(e,t){var n;return r(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}},22541:e=>{e.exports=function(e){return function(){return e}}},22598:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(20977),o=n.n(r),i=n(11629),a=n.n(i);function s(e,t,n){return!0===t?o()(e,n):a()(t)?o()(e,t):e}},22616:(e,t,n)=>{var r=n(94008),o=n(15857)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},22662:(e,t,n)=>{var r=n(95575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},22717:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(65043),o=n(55962);function i(e,t){let n=(0,r.useRef)([]),i=(0,o._)(e);(0,r.useEffect)((()=>{let e=[...n.current];for(let[r,o]of t.entries())if(n.current[r]!==o){let r=i(t,e);return n.current=t,r}}),[i,...t])}},22761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},22777:(e,t,n)=>{var r=n(15193),o=n(22761),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},22786:(e,t,n)=>{"use strict";var r=n(78208),o=n(65641);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,a=t.v,s=e.node(a).rank,l=t.w,c=e.node(l).rank,d=t.name,u=e.edge(t),p=u.labelRank;if(c===s+1)return;for(e.removeEdge(t),i=0,++s;s<c;++i,++s)u.points=[],r={width:0,height:0,edgeLabel:u,edgeObj:t,rank:s},n=o.addDummyNode(e,"edge",r,"_d"),s===p&&(r.width=u.width,r.height=u.height,r.dummy="edge-label",r.labelpos=u.labelpos),e.setEdge(a,n,{weight:u.weight},d),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,l,{weight:u.weight},d)}(e,t)}))},undo:function(e){r.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}))}}},22794:(e,t,n)=>{var r=n(79742),o=n(97498),i=n(9096);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},22925:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]])},22929:(e,t,n)=>{var r=n(56552).Uint8Array;e.exports=r},22963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(45765),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},23057:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(65043),o=n(78518);function i(){let[e]=(0,r.useState)(o.e);return(0,r.useEffect)((()=>()=>e.dispose()),[e]),e}},23088:(e,t,n)=>{"use strict";var r=n(78208),o=n(17938).Graph,i=n(55758).slack;function a(e,t){return r.forEach(e.nodes(),(function n(o){r.forEach(t.nodeEdges(o),(function(r){var a=r.v,s=o===a?r.w:a;e.hasNode(s)||i(t,r)||(e.setNode(s,{}),e.setEdge(o,s,{}),n(s))}))})),e.nodeCount()}function s(e,t){return r.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function l(e,t,n){r.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,r=new o({directed:!1}),c=e.nodes()[0],d=e.nodeCount();r.setNode(c,{});for(;a(r,e)<d;)t=s(r,e),n=r.hasNode(t.v)?i(e,t):-i(e,t),l(r,e,n);return r}},23253:(e,t,n)=>{var r=n(5538),o=n(63868),i=n(94258),a=n(83223),s=n(46686),l=n(30474),c=n(53737);e.exports=function e(t,n,d,u,p){t!==n&&i(n,(function(i,l){if(p||(p=new r),s(i))a(t,n,l,d,e,u,p);else{var f=u?u(c(t,l),i,l+"",t,n,p):void 0;void 0===f&&(f=i),o(t,l,f)}}),l)}},23546:(e,t,n)=>{"use strict";n.d(t,{N:()=>b});var r=n(70579),o=n(65043),i=n(2190),a=n(34930),s=n(40293),l=n(89379),c=n(9674),d=n(8676),u=n(91051);class p extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=(0,d.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f(e){let{children:t,isPresent:n,anchorX:i,root:a}=e;const s=(0,o.useId)(),l=(0,o.useRef)(null),c=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,o.useContext)(u.Q);return(0,o.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:o,right:u}=c.current;if(n||!l.current||!e||!t)return;const p="left"===i?"left: ".concat(o):"right: ".concat(u);l.current.dataset.motionPopId=s;const f=document.createElement("style");d&&(f.nonce=d);const h=null!==a&&void 0!==a?a:document.head;return h.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(p,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{h.contains(f)&&h.removeChild(f)}}),[n]),(0,r.jsx)(p,{isPresent:n,childRef:l,sizeRef:c,children:o.cloneElement(t,{ref:l})})}const h=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:s,custom:d,presenceAffectsLayout:u,mode:p,anchorX:h,root:g}=e;const v=(0,a.M)(m),x=(0,o.useId)();let b=!0,y=(0,o.useMemo)((()=>(b=!1,{id:x,initial:n,isPresent:i,custom:d,onExitComplete:e=>{v.set(e,!0);for(const t of v.values())if(!t)return;s&&s()},register:e=>(v.set(e,!1),()=>v.delete(e))})),[i,v,s]);return u&&b&&(y=(0,l.A)({},y)),(0,o.useMemo)((()=>{v.forEach(((e,t)=>v.set(t,!1)))}),[i]),o.useEffect((()=>{!i&&!v.size&&s&&s()}),[i]),"popLayout"===p&&(t=(0,r.jsx)(f,{isPresent:i,anchorX:h,root:g,children:t})),(0,r.jsx)(c.t.Provider,{value:y,children:t})};function m(){return new Map}var g=n(28917);const v=e=>e.key||"";function x(e){const t=[];return o.Children.forEach(e,(e=>{(0,o.isValidElement)(e)&&t.push(e)})),t}const b=e=>{let{children:t,custom:n,initial:l=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:p=!1,anchorX:f="left",root:m}=e;const[b,y]=(0,g.xQ)(p),w=(0,o.useMemo)((()=>x(t)),[t]),j=p&&!b?[]:w.map(v),N=(0,o.useRef)(!0),S=(0,o.useRef)(w),A=(0,a.M)((()=>new Map)),[E,k]=(0,o.useState)(w),[C,_]=(0,o.useState)(w);(0,s.E)((()=>{N.current=!1,S.current=w;for(let e=0;e<C.length;e++){const t=v(C[e]);j.includes(t)?A.delete(t):!0!==A.get(t)&&A.set(t,!1)}}),[C,j.length,j.join("-")]);const P=[];if(w!==E){let e=[...w];for(let t=0;t<C.length;t++){const n=C[t],r=v(n);j.includes(r)||(e.splice(t,0,n),P.push(n))}return"wait"===u&&P.length&&(e=P),_(x(e)),k(w),null}const{forceRender:O}=(0,o.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:C.map((e=>{const t=v(e),o=!(p&&!b)&&(w===C||j.includes(t));return(0,r.jsx)(h,{isPresent:o,initial:!(N.current&&!l)&&void 0,custom:n,presenceAffectsLayout:d,mode:u,root:m,onExitComplete:o?void 0:()=>{if(!A.has(t))return;A.set(t,!0);let e=!0;A.forEach((t=>{t||(e=!1)})),e&&(null===O||void 0===O||O(),_(S.current),p&&(null===y||void 0===y||y()),c&&c())},anchorX:f,children:e},t)}))})}},23781:(e,t,n)=>{var r=n(9417),o=n(28673);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},24190:(e,t,n)=>{var r=n(61340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},24501:(e,t,n)=>{"use strict";var r=n(78208),o=n(23088),i=n(55758).slack,a=n(55758).longestPath,s=n(17938).alg.preorder,l=n(17938).alg.postorder,c=n(65641).simplify;function d(e){e=c(e),a(e);var t,n=o(e);for(f(n),u(n,e);t=m(n);)v(n,e,t,g(n,e,t))}function u(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=p(e,t,n)}(e,t,n)}))}function p(e,t,n){var o=e.node(n).parent,i=!0,a=t.edge(n,o),s=0;return a||(i=!1,a=t.edge(o,n)),s=a.weight,r.forEach(t.nodeEdges(n),(function(r){var a=r.v===n,l=a?r.w:r.v;if(l!==o){var c=a===i,d=t.edge(r).weight;if(s+=c?d:-d,function(e,t,n){return e.hasEdge(t,n)}(e,n,l)){var u=e.edge(n,l).cutvalue;s+=c?-u:u}}})),s}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),h(e,{},1,t)}function h(e,t,n,o,i){var a=n,s=e.node(o);return t[o]=!0,r.forEach(e.neighbors(o),(function(i){r.has(t,i)||(n=h(e,t,n,i,o))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function m(e){return r.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function g(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var s=e.node(o),l=e.node(a),c=s,d=!1;s.lim>l.lim&&(c=l,d=!0);var u=r.filter(t.edges(),(function(t){return d===x(e,e.node(t.v),c)&&d!==x(e,e.node(t.w),c)}));return r.minBy(u,(function(e){return i(t,e)}))}function v(e,t,n,o){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(o.v,o.w,{}),f(e),u(e,t),function(e,t){var n=r.find(e.nodes(),(function(e){return!t.node(e).parent})),o=s(e,n);o=o.slice(1),r.forEach(o,(function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}(e,t)}function x(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=d,d.initLowLimValues=f,d.initCutValues=u,d.calcCutValue=p,d.leaveEdge=m,d.enterEdge=g,d.exchangeEdges=v},24597:(e,t,n)=>{var r=n(52587),o=n(9096),i=n(22165),a=n(54052),s=n(60929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},24746:(e,t,n)=>{var r=n(45652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,o){return n=!!t(e,r,o)})),n}},25051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},25111:(e,t,n)=>{var r=n(33279);e.exports=function(e){return"function"==typeof e?e:r}},26600:(e,t,n)=>{var r=n(87937)(n(56552),"WeakMap");e.exports=r},26727:(e,t,n)=>{var r=n(86983),o=n(28673);e.exports=function(e){return null==e?[]:r(e,o(e))}},26773:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("file-code-2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]])},26924:(e,t,n)=>{var r=n(97685),o=n(85204),i=n(65387),a=n(72070),s=n(26600),l=n(16913),c=n(96996),d="[object Map]",u="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=c(r),g=c(o),v=c(i),x=c(a),b=c(s),y=l;(r&&y(new r(new ArrayBuffer(1)))!=h||o&&y(new o)!=d||i&&y(i.resolve())!=u||a&&y(new a)!=p||s&&y(new s)!=f)&&(y=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case g:return d;case v:return u;case x:return p;case b:return f}return t}),e.exports=y},26945:(e,t,n)=>{var r=n(95750);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},26989:(e,t,n)=>{var r=n(16399),o=n(22761);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,s))}},27033:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},27165:(e,t,n)=>{"use strict";n.d(t,{g:()=>d});var r=n(21327),o=n(71845),i=n(240);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,c=(0,i.BU)(t,r.s);if(!c)return null;var d,u=r.s.defaultProps,p=void 0!==u?l(l({},u),c.props):{};return d=c.props&&c.props.payload?c.props&&c.props.payload:"children"===s?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,o=r.sectors||r.data||[];return e.concat(o.map((function(e){return{type:c.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?l(l({},n),t.props):{},i=r.dataKey,a=r.name,s=r.legendType;return{inactive:r.hide,dataKey:i,type:p.iconType||s||"square",color:(0,o.Ps)(t),value:a||i,payload:r}})),l(l(l({},p),r.s.getWithHeight(c,a)),{},{payload:d,item:c})}},27234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,d=e[c];if(0>i(l,n))c<o&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,y(e),!m)if(null!==r(c))m=!0,M(j);else{var t=r(d);null!==t&&I(w,t.startTime-e)}}function j(e,n){m=!1,g&&(g=!1,x(E),E=-1),h=!0;var i=f;try{for(y(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!_());){var a=p.callback;if("function"===typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&o(c),y(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&I(w,u.startTime-n),l=!1}return l}finally{p=null,f=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,A=null,E=-1,k=5,C=-1;function _(){return!(t.unstable_now()-C<k)}function P(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?N():(S=!1,A=null)}}else S=!1}if("function"===typeof b)N=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,T=O.port2;O.port1.onmessage=P,N=function(){T.postMessage(null)}}else N=function(){v(P,0)};function M(e){A=e,S||(S=!0,N())}function I(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,M(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(g?(x(E),E=-1):g=!0,I(w,i-a))):(e.sortIndex=s,n(c,e),m||h||(m=!0,M(j))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},27449:(e,t,n)=>{var r=n(52969),o=n(9261),i=n(35324);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],d=r(e,c);n(d,c)&&o(l,i(c,e),d)}return l}},27615:(e,t,n)=>{var r=n(95575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},27676:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},27760:e=>{e.exports=function(e){return this.__data__.get(e)}},27894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},28006:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},28189:(e,t,n)=>{var r=n(53871);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},28325:(e,t,n)=>{var r=n(22541),o=n(5654),i=n(33279),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},28582:(e,t,n)=>{e.exports={components:n(35992),dijkstra:n(75822),dijkstraAll:n(78976),findCycles:n(30247),floydWarshall:n(26945),isAcyclic:n(49825),postorder:n(51896),preorder:n(30127),prim:n(86368),tarjan:n(18808),topsort:n(38353)}},28605:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>k,ZL:()=>C,k2:()=>A});var r=n(89379),o=n(80045),i=n(65043),a=n(97950),s=n(55962),l=n(77248),c=n(70668),d=n(59561),u=n(86170),p=n(59358),f=n(91402),h=n(44113),m=n(10766),g=n(5641);const v=["ownerDocument"],x=["enabled","ownerDocument"],b=["target"];let y=i.Fragment,w=(0,g.FX)((function(e,t){let{ownerDocument:n=null}=e,r=(0,o.A)(e,v),s=(0,i.useRef)(null),x=(0,p.P)((0,p.a)((e=>{s.current=e})),t),b=(0,d.g)(s),w=null!=n?n:b,j=function(e){let t=(0,f.S)(),n=(0,i.useContext)(N),[r,o]=(0,i.useState)((()=>{var r;if(!t&&null!==n)return null!=(r=n.current)?r:null;if(m._.isServer)return null;let o=null==e?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(null===e)return null;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}));return(0,i.useEffect)((()=>{null!==r&&(null!=e&&e.body.contains(r)||null==e||e.body.appendChild(r))}),[r,e]),(0,i.useEffect)((()=>{t||null!==n&&o(n.current)}),[n,o,t]),r}(w),[A]=(0,i.useState)((()=>{var e;return m._.isServer?null:null!=(e=null==w?void 0:w.createElement("div"))?e:null})),E=(0,i.useContext)(S),k=(0,u.g)();(0,l.s)((()=>{!j||!A||j.contains(A)||(A.setAttribute("data-headlessui-portal",""),j.appendChild(A))}),[j,A]),(0,l.s)((()=>{if(A&&E)return E.register(A)}),[E,A]),(0,c.X)((()=>{var e;!j||!A||(h.Ll(A)&&j.contains(A)&&j.removeChild(A),j.childNodes.length<=0&&(null==(e=j.parentElement)||e.removeChild(j)))}));let C=(0,g.Ci)();return k&&j&&A?(0,a.createPortal)(C({ourProps:{ref:x},theirProps:r,slot:{},defaultTag:y,name:"Portal"}),A):null}));let j=i.Fragment,N=(0,i.createContext)(null);let S=(0,i.createContext)(null);function A(){let e=(0,i.useContext)(S),t=(0,i.useRef)([]),n=(0,s._)((n=>(t.current.push(n),e&&e.register(n),()=>r(n)))),r=(0,s._)((n=>{let r=t.current.indexOf(n);-1!==r&&t.current.splice(r,1),e&&e.unregister(n)})),o=(0,i.useMemo)((()=>({register:n,unregister:r,portals:t})),[n,r,t]);return[t,(0,i.useMemo)((()=>function(e){let{children:t}=e;return i.createElement(S.Provider,{value:o},t)}),[o])]}let E=(0,g.FX)((function(e,t){let n=(0,p.P)(t),{enabled:a=!0,ownerDocument:s}=e,l=(0,o.A)(e,x),c=(0,g.Ci)();return a?i.createElement(w,(0,r.A)((0,r.A)({},l),{},{ownerDocument:s,ref:n})):c({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:y,name:"Portal"})})),k=(0,g.FX)((function(e,t){let{target:n}=e,r=(0,o.A)(e,b),a={ref:(0,p.P)(t)},s=(0,g.Ci)();return i.createElement(N.Provider,{value:n},s({ourProps:a,theirProps:r,defaultTag:j,name:"Popover.Group"}))})),C=Object.assign(E,{Group:k})},28646:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},28673:(e,t,n)=>{var r=n(73204),o=n(83713),i=n(6571);e.exports=function(e){return i(e)?r(e):o(e)}},28917:(e,t,n)=>{"use strict";n.d(t,{xQ:()=>i});var r=n(65043),o=n(9674);function i(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(o.t);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,s=(0,r.useId)();(0,r.useEffect)((()=>{if(e)return a(s)}),[e]);const l=(0,r.useCallback)((()=>e&&i&&i(s)),[s,i,e]);return!n&&i?[!1,l]:[!0]}},29075:(e,t,n)=>{var r=n(96614),o=n(56326);e.exports=function(e,t){return r(e,o(e),t)}},29350:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},29461:(e,t,n)=>{"use strict";e.exports=n(72330)},29935:(e,t,n)=>{var r=n(61340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},30127:(e,t,n)=>{var r=n(2125);e.exports=function(e,t){return r(e,t,"pre")}},30247:(e,t,n)=>{var r=n(95750),o=n(18808);e.exports=function(e){return r.filter(o(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},30450:(e,t,n)=>{var r=n(80755),o=n(55647),i=n(64416),a=n(76272),s=o((function(e){return i(r(e,1,a,!0))}));e.exports=s},30474:(e,t,n)=>{var r=n(73204),o=n(58122),i=n(6571);e.exports=function(e){return i(e)?r(e,!0):o(e)}},30482:(e,t,n)=>{"use strict";n.d(t,{bN:()=>m,u5:()=>h,vA:()=>x});var r,o,i,a=n(81823),s=n(78518),l=Object.defineProperty,c=(e,t,n)=>(((e,t,n)=>{t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),d=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},u=(e,t,n)=>(d(e,t,"read from private field"),n?n.call(e):t.get(e)),p=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},f=(e,t,n,r)=>(d(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class h{constructor(e){p(this,r,{}),p(this,o,new a.G((()=>new Set))),p(this,i,new Set),c(this,"disposables",(0,s.e)()),f(this,r,e)}dispose(){this.disposables.dispose()}get state(){return u(this,r)}subscribe(e,t){let n={selector:e,callback:t,current:e(u(this,r))};return u(this,i).add(n),this.disposables.add((()=>{u(this,i).delete(n)}))}on(e,t){return u(this,o).get(e).add(t),this.disposables.add((()=>{u(this,o).get(e).delete(t)}))}send(e){let t=this.reduce(u(this,r),e);if(t!==u(this,r)){f(this,r,t);for(let e of u(this,i)){let t=e.selector(u(this,r));m(e.current,t)||(e.current=t,e.callback(t))}for(let t of u(this,o).get(e.type))t(u(this,r),e)}}}function m(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&g(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&g(e.entries(),t.entries()):!(!v(e)||!v(t))&&g(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function g(e,t){for(;;){let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}}function v(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function x(e){let[t,n]=e(),r=(0,s.e)();return function(){t(...arguments),r.dispose(),r.microTask(n)}}r=new WeakMap,o=new WeakMap,i=new WeakMap},31163:(e,t,n)=>{var r=n(55647),o=n(93211),i=n(60929),a=n(30474),s=Object.prototype,l=s.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&i(t[0],t[1],c)&&(r=1);++n<r;)for(var d=t[n],u=a(d),p=-1,f=u.length;++p<f;){var h=u[p],m=e[h];(void 0===m||o(m,s[h])&&!l.call(e,h))&&(e[h]=d[h])}return e}));e.exports=c},31170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},31387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var o;n.d(t,{AO:()=>u,B6:()=>C,Gh:()=>I,HS:()=>R,Oi:()=>s,Rr:()=>p,pX:()=>z,pb:()=>P,rc:()=>o,tH:()=>B,ue:()=>m,yD:()=>M,zR:()=>a}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));const i="popstate";function a(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return d("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,e)}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,o){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,a){void 0===a&&(a={});let{window:l=document.defaultView,v5Compat:p=!1}=a,f=l.history,h=o.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function x(){h=o.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:h,location:y.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(r({},f.state,{idx:g}),""));let y={get action(){return h},get location(){return e(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(i,x),m=e,()=>{l.removeEventListener(i,x),m=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=o.Push;let r=d(y.location,e,t);n&&n(r,e),g=v()+1;let i=c(r,g),a=y.createHref(r);try{f.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(a)}p&&m&&m({action:h,location:y.location,delta:1})},replace:function(e,t){h=o.Replace;let r=d(y.location,e,t);n&&n(r,e),g=v();let i=c(r,g),a=y.createHref(r);f.replaceState(i,"",a),p&&m&&m({action:h,location:y.location,delta:0})},go:e=>f.go(e)};return y}var h;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let o=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==o)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=_(o);a=k(i[s],e,r)}return a}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=R([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))o(e,t,r);else o(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=x(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,y=3,w=2,j=1,N=10,S=-2,A=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=S),t&&(r+=w),n.filter((e=>!A(e))).reduce(((e,t)=>e+(b.test(t)?y:""===t?j:N)),r)}function k(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),a.push({params:o,pathname:R([i,d.pathname]),pathnameBase:D(R([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=R([i,d.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function _(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function T(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=T(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function I(e,t,n,o){let i;void 0===o&&(o=!1),"string"===typeof e?i=p(e):(i=r({},e),s(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),s(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),s(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let a,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)a=n;else{let e=t.length-1;if(!o&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?p(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:L(r),hash:F(o)}}(i,a),u=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!f||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class B extends Error{}function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],V=(new Set(U),["get",...U]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},32520:(e,t,n)=>{var r=n(75816),o=n(9096),i=n(99140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},32959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},33097:(e,t,n)=>{var r=n(52969);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},33279:e=>{e.exports=function(e){return e}},33411:(e,t,n)=>{var r=n(50149),o=n(9096),i=n(38883),a=n(54052);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},34428:(e,t,n)=>{var r=n(95750);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},34446:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(10766);function o(e){var t,n;return r._.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?null!=(n=null==(t=e.current)?void 0:t.ownerDocument)?n:document:null:document}},34537:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},34552:(e,t,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},34677:(e,t,n)=>{var r=n(23253),o=n(84570)((function(e,t,n){r(e,t,n)}));e.exports=o},34682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(s)};var n="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var o=window.getComputedStyle(e),i=o.getPropertyValue("display");return t?i!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,o):i===n}catch(a){return console.warn("Failed to inspect element style"),!1}}function a(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),i(t))return!1;t=t.parentNode}return!0}(e)}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&a(e,!n)}e.exports=t.default},34724:(e,t,n)=>{var r=n(10396)("length");e.exports=r},34781:(e,t,n)=>{"use strict";n.d(t,{BD:()=>d,Bm:()=>m,CU:()=>j,Fh:()=>g,MZ:()=>h,Me:()=>u,Uo:()=>s,p9:()=>w,pW:()=>x,wl:()=>y});var r=n(78518),o=n(44113),i=n(43880),a=n(34446);let s=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>"".concat(e,":not([tabindex='-1'])"))).join(","),l=["[data-autofocus]"].map((e=>"".concat(e,":not([tabindex='-1'])"))).join(",");var c,d=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(d||{}),u=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(u||{}),p=((c=p||{})[c.Previous=-1]="Previous",c[c.Next=1]="Next",c);function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(s)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var h=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(h||{});function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n;return e!==(null==(n=(0,a.T)(e))?void 0:n.body)&&(0,i.Y)(t,{0:()=>e.matches(s),1(){let t=e;for(;null!==t;){if(t.matches(s))return!0;t=t.parentElement}return!1}})}function g(e){let t=(0,a.T)(e);(0,r.e)().nextFrame((()=>{t&&o.Lk(t.activeElement)&&!m(t.activeElement,0)&&x(e)}))}var v=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(v||{});function x(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let b=["textarea","input"].join(",");function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort(((e,n)=>{let r=t(e),o=t(n);if(null===r||null===o)return 0;let i=r.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function w(e,t){return j(f(),t,{relativeTo:e})}function j(e,t){let{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?y(e):e:64&t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(l)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}(e):f(e);o.length>0&&a.length>1&&(a=a.filter((e=>!o.some((t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))))),r=null!=r?r:i.activeElement;let s,c=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,a.indexOf(r))-1;if(4&t)return Math.max(0,a.indexOf(r))+1;if(8&t)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},p=0,h=a.length;do{if(p>=h||p+h<=0)return 0;let e=d+p;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}s=a[e],null==s||s.focus(u),p+=c}while(s!==i.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,b))&&n}(s)&&s.select(),2}},34841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)o(e,n[t]);var i=document.body;for(var a in r)o(i,r[a]);n={},r={}},t.log=function(){0};var n={},r={};function o(e,t){e.classList.remove(t)}t.add=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),o.add(e)}));var o,i},t.remove=function(e,t){return o=e.classList,i="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&o.remove(e)}));var o,i}},34930:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var r=n(65043);function o(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},35087:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},35146:(e,t,n)=>{var r=n(78208),o=n(65641);function i(e,t,n,a,s,l,c){var d=e.children(c);if(d.length){var u=o.addBorderNode(e,"_bt"),p=o.addBorderNode(e,"_bb"),f=e.node(c);e.setParent(u,c),f.borderTop=u,e.setParent(p,c),f.borderBottom=p,r.forEach(d,(function(r){i(e,t,n,a,s,l,r);var o=e.node(r),d=o.borderTop?o.borderTop:r,f=o.borderBottom?o.borderBottom:r,h=o.borderTop?a:2*a,m=d!==f?1:s-l[c]+1;e.setEdge(u,d,{weight:h,minlen:m,nestingEdge:!0}),e.setEdge(f,p,{weight:h,minlen:m,nestingEdge:!0})})),e.parent(c)||e.setEdge(t,u,{weight:0,minlen:s+l[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=o.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,(function(e){n(e,i+1)})),t[o]=i}return r.forEach(e.children(),(function(e){n(e,1)})),t}(e),a=r.max(r.values(n))-1,s=2*a+1;e.graph().nestingRoot=t,r.forEach(e.edges(),(function(t){e.edge(t).minlen*=s}));var l=function(e){return r.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;r.forEach(e.children(),(function(r){i(e,t,s,l,a,n,r)})),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},35186:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,h:()=>c});class r extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(o(this,e))}has(e){return super.has(o(this,e))}set(e,t){return super.set(i(this,e),t)}delete(e){return super.delete(a(this,e))}}Set;function o(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):t}function i(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):(n.set(o,t),t)}function a(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)&&(t=n.get(o),n.delete(o)),t}function s(e){return null!==e&&"object"===typeof e?e.valueOf():e}var l=n(94402);const c=Symbol("implicit");function d(){var e=new r,t=[],n=[],o=c;function i(r){let i=e.get(r);if(void 0===i){if(o!==c)return o;e.set(r,i=t.push(r)-1)}return n[i%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new r;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return d(t,n).unknown(o)},l.C.apply(i,arguments),i}},35268:(e,t,n)=>{var r=n(79160);e.exports=function(e){return r(e)&&e!=+e}},35324:(e,t,n)=>{var r=n(54052),o=n(62597),i=n(14079),a=n(41069);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},35428:(e,t,n)=>{var r=n(16913),o=n(56173),i=n(22761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},35475:(e,t,n)=>{"use strict";var r,o;n.d(t,{Kd:()=>g,N_:()=>b,k2:()=>y,ok:()=>S});var i=n(65043),a=n(97950),s=n(73216),l=n(31387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function u(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const p=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(A){}const h=i.createContext({isTransitioning:!1});new Map;const m=(r||(r=n.t(i,2))).startTransition;(o||(o=n.t(a,2))).flushSync,(r||(r=n.t(i,2))).useId;function g(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();null==a.current&&(a.current=(0,l.zR)({window:o,v5Compat:!0}));let c=a.current,[d,u]=i.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},f=i.useCallback((e=>{p&&m?m((()=>u(e))):u(e)}),[u,p]);return i.useLayoutEffect((()=>c.listen(f)),[c,f]),i.useEffect((()=>(0,s.V8)(r)),[r]),i.createElement(s.Ix,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const v="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:g,viewTransition:b}=e,y=d(e,p),{basename:w}=i.useContext(s.jb),j=!1;if("string"===typeof m&&x.test(m)&&(n=m,v))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=(0,l.pb)(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:j=!0}catch(A){}let N=(0,s.$P)(m,{relative:o}),S=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:c,viewTransition:d}=void 0===t?{}:t,u=(0,s.Zp)(),p=(0,s.zy)(),f=(0,s.x$)(e,{relative:c});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(p)===(0,l.AO)(f);u(e,{replace:n,state:o,preventScrollReset:a,relative:c,viewTransition:d})}}),[p,u,f,r,o,n,e,a,c,d])}(m,{replace:u,state:f,target:h,preventScrollReset:g,relative:o,viewTransition:b});return i.createElement("a",c({},y,{href:n||N,onClick:j||a?r:function(e){r&&r(e),e.defaultPrevented||S(e)},ref:t,target:h}))}));const y=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:a=!1,style:u,to:p,viewTransition:m,children:g}=e,v=d(e,f),x=(0,s.x$)(p,{relative:v.relative}),y=(0,s.zy)(),j=i.useContext(s.Rq),{navigator:S,basename:A}=i.useContext(s.jb),E=null!=j&&function(e,t){void 0===t&&(t={});let n=i.useContext(h);null==n&&(0,l.Oi)(!1);let{basename:r}=N(w.useViewTransitionState),o=(0,s.x$)(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=(0,l.pb)(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=(0,l.pb)(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=(0,l.B6)(o.pathname,c)||null!=(0,l.B6)(o.pathname,a)}(x)&&!0===m,k=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,C=y.pathname,_=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(C=C.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&A&&(_=(0,l.pb)(_,A)||_);const P="/"!==k&&k.endsWith("/")?k.length-1:k.length;let O,T=C===k||!a&&C.startsWith(k)&&"/"===C.charAt(P),M=null!=_&&(_===k||!a&&_.startsWith(k)&&"/"===_.charAt(k.length)),I={isActive:T,isPending:M,isTransitioning:E},R=T?n:void 0;O="function"===typeof o?o(I):[o,T?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof u?u(I):u;return i.createElement(b,c({},v,{"aria-current":R,className:O,ref:t,style:D,to:p,viewTransition:m}),"function"===typeof g?g(I):g)}));var w,j;function N(e){let t=i.useContext(s.sp);return t||(0,l.Oi)(!1),t}function S(e){let t=i.useRef(u(e)),n=i.useRef(!1),r=(0,s.zy)(),o=i.useMemo((()=>function(e,t){let n=u(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=(0,s.Zp)(),l=i.useCallback(((e,t)=>{const r=u("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(w||(w={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(j||(j={}))},35640:(e,t,n)=>{var r=n(83713),o=n(26924),i=n(6571),a=n(90620),s=n(91632);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},35702:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof window}function o(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function i(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function a(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return!!r()&&(e instanceof Node||e instanceof i(e).Node)}function l(e){return!!r()&&(e instanceof Element||e instanceof i(e).Element)}function c(e){return!!r()&&(e instanceof HTMLElement||e instanceof i(e).HTMLElement)}function d(e){return!(!r()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof i(e).ShadowRoot)}function u(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=x(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function p(e){return["table","td","th"].includes(o(e))}function f(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function h(e){const t=g(),n=l(e)?x(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function m(e){let t=y(e);for(;c(t)&&!v(t);){if(h(t))return t;if(f(t))return null;t=y(t)}return null}function g(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function v(e){return["html","body","#document"].includes(o(e))}function x(e){return i(e).getComputedStyle(e)}function b(e){return l(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function y(e){if("html"===o(e))return e;const t=e.assignedSlot||e.parentNode||d(e)&&e.host||a(e);return d(t)?t.host:t}function w(e){const t=y(e);return v(t)?e.ownerDocument?e.ownerDocument.body:e.body:c(t)&&u(t)?t:w(t)}function j(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=w(e),a=o===(null==(r=e.ownerDocument)?void 0:r.body),s=i(o);if(a){const e=N(s);return t.concat(s,s.visualViewport||[],u(o)?o:[],e&&n?j(e):[])}return t.concat(o,j(o,[],n))}function N(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}n.d(t,{$4:()=>y,CP:()=>b,L9:()=>x,Lv:()=>p,Tc:()=>g,Tf:()=>f,ZU:()=>u,_m:()=>N,ep:()=>a,eu:()=>v,gJ:()=>m,mq:()=>o,sQ:()=>h,sb:()=>c,v9:()=>j,vq:()=>l,zk:()=>i})},35746:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},35870:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TOKEN_KEY:()=>s,default:()=>x});var r=n(79722),o=n(57488),i=n(63610);const a=function(e){const t=(e||"").replace(/\/+$/,"");return t.endsWith("/api")?t:"".concat(t,"/api")}("https://api.xplorebyte.com/api".trim()||"http://localhost:7113/api"),s="xbyte_token",l="X-Business-Id",c=r.A.create({baseURL:a,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});function d(e){const t=function(e){try{const t=String(e||"").split(".");if(t.length<2)return null;const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=n+"===".slice((n.length+3)%4),o=decodeURIComponent(atob(r).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join(""));return JSON.parse(o)}catch(t){return null}}(e),n=String(function(e){if(!e)return null;const t=e.role||e.Role||e.userRole||e.UserRole||e["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"];if("string"===typeof t)return t;const n=e.roles||e.Roles;return Array.isArray(n)&&n.length>0?n[0]:null}(t)||"").toLowerCase();return"admin"===n||"superadmin"===n}c.interceptors.request.use((e=>{var t,n,r;const o=localStorage.getItem(s);o&&(e.headers.Authorization="Bearer ".concat(o));if(!(!0===(null===e||void 0===e?void 0:e.__skipBizHeader)||"1"===(null===e||void 0===e||null===(t=e.headers)||void 0===t?void 0:t["x-skip-biz-header"])||1===(null===e||void 0===e||null===(n=e.headers)||void 0===n?void 0:n["x-skip-biz-header"])||!0===(null===e||void 0===e||null===(r=e.headers)||void 0===r?void 0:r["x-skip-biz-header"]))&&o&&d(o)){const t=function(){try{const e=localStorage.getItem("sa_selectedBusinessId");return e&&String(e).trim()?String(e).trim():null}catch(e){return null}}();t?e.headers[l]=t:e.headers&&e.headers[l]&&delete e.headers[l]}return e}));const u=["/login","/signup","/pending-approval","/profile-completion"],p=()=>u.some((e=>{var t;return((null===(t=window.location)||void 0===t?void 0:t.pathname)||"").startsWith(e)}));let f=!1,h=!1;const m=["trialexpired","pastdue","suspended","cancelled","expired","noactivesubscription","noplan","paymentrequired"];function g(e){if(null===e||void 0===e||!e.response)return!1;const{status:t,data:n}=e.response;if(403!==t||!n)return!1;if(!1!==n.ok)return!1;const r=String(n.status||n.code||n.errorCode||"").toLowerCase();return!!r&&m.includes(r)}const v=["featuredenied","feature_denied","featuredisabled","feature_disabled","permissiondenied","permission_denied","forbidden_feature"];c.interceptors.response.use((e=>e),(e=>{var t,n,r,a,l,c,d;const u=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status,m=(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===e||void 0===e?void 0:e.message)||"\u274c Something went wrong.",x=(null===e||void 0===e?void 0:e.config)||{},b=x.__silentToast||x.__silent||(null===(a=x.headers)||void 0===a?void 0:a["x-suppress-toast"]),y=b||x.__silent401||(null===(l=x.headers)||void 0===l?void 0:l["x-suppress-401-toast"])||p(),w=b||x.__silent403||(null===(c=x.headers)||void 0===c?void 0:c["x-suppress-403-toast"])||p(),j=b||x.__silent429||(null===(d=x.headers)||void 0===d?void 0:d["x-suppress-429-toast"])||!1,N="string"===typeof x.url&&(x.url.includes("/auth/login")||x.url.includes("/auth/signup"));if(401===u){if(N)return Promise.reject(e);localStorage.removeItem(s);try{sessionStorage.setItem("auth_last_reason","session-expired")}catch(k){}if(y||f||(o.oR.error("\u23f0 Session expired. Please log in again."),f=!0,setTimeout((()=>f=!1),2e3)),!y&&!p()){var S,A,E;const e=encodeURIComponent(((null===(S=window.location)||void 0===S?void 0:S.pathname)||"")+((null===(A=window.location)||void 0===A?void 0:A.search)||"")+((null===(E=window.location)||void 0===E?void 0:E.hash)||""));window.location.href="/login?reason=session-expired&redirectTo=".concat(e)}return Promise.reject(e)}return 403===u?(g(e)?function(e,t){var n;let{suppress403:r}=t;const{data:i}=e.response||{},a=(null===i||void 0===i?void 0:i.message)||"Your subscription does not allow access to this feature.",s=(null===(n=window.location)||void 0===n?void 0:n.pathname)||"",l=s.startsWith("/app/settings/billing")||s.startsWith("/app/payment/status");r||f||(o.oR.error(a,{toastId:"subscription-403"}),f=!0,setTimeout((()=>f=!1),1500)),r||p()||l||setTimeout((()=>{window.location.href="/app/settings/billing"}),800)}(e,{suppress403:w}):function(e){if(null===e||void 0===e||!e.response)return!1;const{status:t,data:n}=e.response;if(403!==t||!n)return!1;if(g(e))return!1;const r=e=>String(e||"").toLowerCase(),o=r(n.code||n.errorCode||n.status||n.reason);if(v.includes(o))return!0;const i=r(n.message);return!!i&&(i.includes("feature")&&(i.includes("denied")||i.includes("disabled"))||i.includes("permission")&&i.includes("denied"))}(e)?function(e,t){var n,r;let{suppress403:a}=t;const s=(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||{},l=s.featureCode||s.permissionCode||s.code||s.errorCode||s.reason||null,c=(null===s||void 0===s?void 0:s.message)||"This feature isn\u2019t available on your current plan. Upgrade to continue.";a||f||(o.oR.warn(c,{toastId:"feature-403",autoClose:4e3}),f=!0,setTimeout((()=>f=!1),1500));try{(0,i.Y)({reason:"feature",code:l})}catch(h){}const d=(null===(r=window.location)||void 0===r?void 0:r.pathname)||"",u=d.startsWith("/app/settings/billing")||d.startsWith("/app/payment/status");a||p()||u||setTimeout((()=>{window.location.href="/app/settings/billing?source=feature"}),800)}(e,{suppress403:w}):w||f||(o.oR.error("\u26d4 Access denied."),f=!0,setTimeout((()=>f=!1),2e3)),Promise.reject(e)):function(e){return!(null===e||void 0===e||!e.response)&&429===e.response.status}(e)?(function(e,t){var n,r;let{suppress429:a}=t;const s=(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||{},l=String(s.reason||"").toUpperCase()||"QUOTA_LIMIT",c=s.quotaKey||s.key||s.code||null,d=(null===s||void 0===s?void 0:s.message)||(c?"Limit reached for ".concat(c,". Consider upgrading your plan."):"You're out of quota for this action. Consider upgrading your plan.");a||h||(o.oR.warn(d,{toastId:"quota-429",autoClose:5e3}),h=!0,setTimeout((()=>h=!1),1500));try{(0,i.Y)({reason:"quota",code:c||l})}catch(g){}try{var u;sessionStorage.setItem("last_quota_denial",JSON.stringify({at:(new Date).toISOString(),reason:l,quotaKey:c,path:(null===e||void 0===e||null===(u=e.config)||void 0===u?void 0:u.url)||""}))}catch(v){}const f=(null===(r=window.location)||void 0===r?void 0:r.pathname)||"",m=f.startsWith("/app/settings/billing")||f.startsWith("/app/payment/status");a||p()||m||setTimeout((()=>{window.location.href="/app/settings/billing?source=quota"}),800)}(e,{suppress429:j}),Promise.reject(e)):(b||f||(o.oR.error(m),f=!0,setTimeout((()=>f=!1),1500)),Promise.reject(e))}));const x=c},35885:(e,t,n)=>{"use strict";n.d(t,{ll:()=>C,rD:()=>I,__:()=>_,UU:()=>T,cY:()=>P,BN:()=>O,Ej:()=>M});var r=n(89379),o=n(55e3),i=n(80045);const a=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],s=["mainAxis","crossAxis","limiter"],l=["apply"];function c(e,t,n){let{reference:r,floating:i}=e;const a=(0,o.TV)(t),s=(0,o.Dz)(t),l=(0,o.sq)(s),c=(0,o.C0)(t),d="y"===a,u=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let h;switch(c){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-i.width,y:p};break;default:h={x:r.x,y:r.y}}switch((0,o.Sg)(t)){case"start":h[s]-=f*(n&&d?-1:1);break;case"end":h[s]+=f*(n&&d?-1:1)}return h}async function d(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=(0,o._3)(t,e),m=(0,o.nI)(h),g=l[f?"floating"===p?"reference":"floating":p],v=(0,o.B1)(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(g)))||n?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x="floating"===p?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating)),y=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},w=(0,o.B1)(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-w.top+m.top)/y.y,bottom:(w.bottom-v.bottom+m.bottom)/y.y,left:(v.left-w.left+m.left)/y.x,right:(w.right-v.right+m.right)/y.x}}var u=n(35702);function p(e){const t=(0,u.L9)(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=(0,u.sb)(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,l=(0,o.LI)(n)!==a||(0,o.LI)(r)!==s;return l&&(n=a,r=s),{width:n,height:r,$:l}}function f(e){return(0,u.vq)(e)?e:e.contextElement}function h(e){const t=f(e);if(!(0,u.sb)(t))return(0,o.Jx)(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=p(t);let s=(a?(0,o.LI)(n.width):n.width)/r,l=(a?(0,o.LI)(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}const m=(0,o.Jx)(0);function g(e){const t=(0,u.zk)(e);return(0,u.Tc)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:m}function v(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=f(e);let s=(0,o.Jx)(1);t&&(r?(0,u.vq)(r)&&(s=h(r)):s=h(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,u.zk)(e))&&t}(a,n,r)?g(a):(0,o.Jx)(0);let c=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,p=i.width/s.x,m=i.height/s.y;if(a){const e=(0,u.zk)(a),t=r&&(0,u.vq)(r)?(0,u.zk)(r):r;let n=e,o=(0,u._m)(n);for(;o&&r&&t!==n;){const e=h(o),t=o.getBoundingClientRect(),r=(0,u.L9)(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,p*=e.x,m*=e.y,c+=i,d+=a,n=(0,u.zk)(o),o=(0,u._m)(n)}}return(0,o.B1)({width:p,height:m,x:c,y:d})}function x(e,t){const n=(0,u.CP)(e).scrollLeft;return t?t.left+n:v((0,u.ep)(e)).left+n}function b(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:x(e,r)),y:r.top+t.scrollTop}}function y(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=(0,u.zk)(e),r=(0,u.ep)(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=(0,u.Tc)();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=(0,u.ep)(e),n=(0,u.CP)(e),r=e.ownerDocument.body,i=(0,o.T9)(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=(0,o.T9)(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+x(e);const l=-n.scrollTop;return"rtl"===(0,u.L9)(r).direction&&(s+=(0,o.T9)(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}((0,u.ep)(e));else if((0,u.vq)(t))r=function(e,t){const n=v(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=(0,u.sb)(e)?h(e):(0,o.Jx)(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=g(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return(0,o.B1)(r)}function w(e,t){const n=(0,u.$4)(e);return!(n===t||!(0,u.vq)(n)||(0,u.eu)(n))&&("fixed"===(0,u.L9)(n).position||w(n,t))}function j(e,t,n){const r=(0,u.sb)(t),i=(0,u.ep)(t),a="fixed"===n,s=v(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=(0,o.Jx)(0);if(r||!r&&!a)if(("body"!==(0,u.mq)(t)||(0,u.ZU)(i))&&(l=(0,u.CP)(t)),r){const e=v(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&(c.x=x(i));const d=!i||r||a?(0,o.Jx)(0):b(i,l);return{x:s.left+l.scrollLeft-c.x-d.x,y:s.top+l.scrollTop-c.y-d.y,width:s.width,height:s.height}}function N(e){return"static"===(0,u.L9)(e).position}function S(e,t){if(!(0,u.sb)(e)||"fixed"===(0,u.L9)(e).position)return null;if(t)return t(e);let n=e.offsetParent;return(0,u.ep)(e)===n&&(n=n.ownerDocument.body),n}function A(e,t){const n=(0,u.zk)(e);if((0,u.Tf)(e))return n;if(!(0,u.sb)(e)){let t=(0,u.$4)(e);for(;t&&!(0,u.eu)(t);){if((0,u.vq)(t)&&!N(t))return t;t=(0,u.$4)(t)}return n}let r=S(e,t);for(;r&&(0,u.Lv)(r)&&N(r);)r=S(r,t);return r&&(0,u.eu)(r)&&N(r)&&!(0,u.sQ)(r)?n:r||(0,u.gJ)(e)||n}const E={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=(0,u.ep)(r),l=!!t&&(0,u.Tf)(t.floating);if(r===s||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=(0,o.Jx)(1);const p=(0,o.Jx)(0),f=(0,u.sb)(r);if((f||!f&&!a)&&(("body"!==(0,u.mq)(r)||(0,u.ZU)(s))&&(c=(0,u.CP)(r)),(0,u.sb)(r))){const e=v(r);d=h(r),p.x=e.x+r.clientLeft,p.y=e.y+r.clientTop}const m=!s||f||a?(0,o.Jx)(0):b(s,c,!0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+m.x,y:n.y*d.y-c.scrollTop*d.y+p.y+m.y}},getDocumentElement:u.ep,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?(0,u.Tf)(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=(0,u.v9)(e,[],!1).filter((e=>(0,u.vq)(e)&&"body"!==(0,u.mq)(e))),o=null;const i="fixed"===(0,u.L9)(e).position;let a=i?(0,u.$4)(e):e;for(;(0,u.vq)(a)&&!(0,u.eu)(a);){const t=(0,u.L9)(a),n=(0,u.sQ)(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||(0,u.ZU)(a)&&!n&&w(e,a))?r=r.filter((e=>e!==a)):o=t,a=(0,u.$4)(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],l=a.reduce(((e,n)=>{const r=y(t,n,i);return e.top=(0,o.T9)(r.top,e.top),e.right=(0,o.jk)(r.right,e.right),e.bottom=(0,o.jk)(r.bottom,e.bottom),e.left=(0,o.T9)(r.left,e.left),e}),y(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:A,getElementRects:async function(e){const t=this.getOffsetParent||A,n=this.getDimensions,r=await n(e.floating);return{reference:j(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=p(e);return{width:t,height:n}},getScale:h,isElement:u.vq,isRTL:function(e){return"rtl"===(0,u.L9)(e).direction}};function k(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function C(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l="function"===typeof ResizeObserver,layoutShift:c="function"===typeof IntersectionObserver,animationFrame:d=!1}=i,p=f(e),h=a||s?[...p?(0,u.v9)(p):[],...(0,u.v9)(t)]:[];h.forEach((e=>{a&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const m=p&&c?function(e,t){let n,i=null;const a=(0,u.ep)(e);function s(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function l(c,d){void 0===c&&(c=!1),void 0===d&&(d=1),s();const u=e.getBoundingClientRect(),{left:p,top:f,width:h,height:m}=u;if(c||t(),!h||!m)return;const g={rootMargin:-(0,o.RI)(f)+"px "+-(0,o.RI)(a.clientWidth-(p+h))+"px "+-(0,o.RI)(a.clientHeight-(f+m))+"px "+-(0,o.RI)(p)+"px",threshold:(0,o.T9)(0,(0,o.jk)(1,d))||1};let v=!0;function x(t){const r=t[0].intersectionRatio;if(r!==d){if(!v)return l();r?l(!1,r):n=setTimeout((()=>{l(!1,1e-7)}),1e3)}1!==r||k(u,e.getBoundingClientRect())||l(),v=!1}try{i=new IntersectionObserver(x,(0,r.A)((0,r.A)({},g),{},{root:a.ownerDocument}))}catch(b){i=new IntersectionObserver(x,g)}i.observe(e)}(!0),s}(p,n):null;let g,x=-1,b=null;l&&(b=new ResizeObserver((e=>{let[r]=e;r&&r.target===p&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame((()=>{var e;null==(e=b)||e.observe(t)}))),n()})),p&&!d&&b.observe(p),b.observe(t));let y=d?v(e):null;return d&&function t(){const r=v(e);y&&!k(y,r)&&n();y=r,g=requestAnimationFrame(t)}(),n(),()=>{var e;h.forEach((e=>{a&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==m||m(),null==(e=b)||e.disconnect(),b=null,d&&cancelAnimationFrame(g)}}const _=d,P=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:a,y:s,placement:l,middlewareData:c}=t,d=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=(0,o.C0)(n),l=(0,o.Sg)(n),c="y"===(0,o.TV)(n),d=["left","top"].includes(s)?-1:1,u=a&&c?-1:1,p=(0,o._3)(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}="number"===typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&"number"===typeof m&&(h="end"===l?-1*m:m),c?{x:h*u,y:f*d}:{x:f*d,y:h*u}}(t,e);return l===(null==(n=c.offset)?void 0:n.placement)&&null!=(i=c.arrow)&&i.alignmentOffset?{}:{x:a+d.x,y:s+d.y,data:(0,r.A)((0,r.A)({},d),{},{placement:l})}}}},O=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:l}=t,c=(0,o._3)(e,t),{mainAxis:u=!0,crossAxis:p=!1,limiter:f={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=c,h=(0,i.A)(c,s),m={x:n,y:a},g=await d(t,h),v=(0,o.TV)((0,o.C0)(l)),x=(0,o.PG)(v);let b=m[x],y=m[v];if(u){const e="y"===x?"bottom":"right",t=b+g["y"===x?"top":"left"],n=b-g[e];b=(0,o.qE)(t,b,n)}if(p){const e="y"===v?"bottom":"right",t=y+g["y"===v?"top":"left"],n=y-g[e];y=(0,o.qE)(t,y,n)}const w=f.fn((0,r.A)((0,r.A)({},t),{},{[x]:b,[v]:y}));return(0,r.A)((0,r.A)({},w),{},{data:{x:w.x-n,y:w.y-a,enabled:{[x]:u,[v]:p}}})}}},T=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:l,rects:c,initialPlacement:u,platform:p,elements:f}=t,h=(0,o._3)(e,t),{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0}=h,w=(0,i.A)(h,a);if(null!=(n=l.arrow)&&n.alignmentOffset)return{};const j=(0,o.C0)(s),N=(0,o.TV)(u),S=(0,o.C0)(u)===u,A=await(null==p.isRTL?void 0:p.isRTL(f.floating)),E=v||(S||!y?[(0,o.bV)(u)]:(0,o.WJ)(u)),k="none"!==b;!v&&k&&E.push(...(0,o.lP)(u,y,b,A));const C=[u,...E],_=await d(t,w),P=[];let O=(null==(r=l.flip)?void 0:r.overflows)||[];if(m&&P.push(_[j]),g){const e=(0,o.w7)(s,c,A);P.push(_[e[0]],_[e[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every((e=>e<=0))){var T,M;const e=((null==(T=l.flip)?void 0:T.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:O},reset:{placement:t}};let n=null==(M=O.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:M.placement;if(!n)switch(x){case"bestFit":{var I;const e=null==(I=O.filter((e=>{if(k){const t=(0,o.TV)(e.placement);return t===N||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:I[0];e&&(n=e);break}case"initialPlacement":n=u}if(s!==n)return{reset:{placement:n}}}return{}}}},M=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:s,rects:c,platform:u,elements:p}=t,f=(0,o._3)(e,t),{apply:h=()=>{}}=f,m=(0,i.A)(f,l),g=await d(t,m),v=(0,o.C0)(s),x=(0,o.Sg)(s),b="y"===(0,o.TV)(s),{width:y,height:w}=c.floating;let j,N;"top"===v||"bottom"===v?(j=v,N=x===(await(null==u.isRTL?void 0:u.isRTL(p.floating))?"start":"end")?"left":"right"):(N=v,j="end"===x?"top":"bottom");const S=w-g.top-g.bottom,A=y-g.left-g.right,E=(0,o.jk)(w-g[j],S),k=(0,o.jk)(y-g[N],A),C=!t.middlewareData.shift;let _=E,P=k;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(P=A),null!=(a=t.middlewareData.shift)&&a.enabled.y&&(_=S),C&&!x){const e=(0,o.T9)(g.left,0),t=(0,o.T9)(g.right,0),n=(0,o.T9)(g.top,0),r=(0,o.T9)(g.bottom,0);b?P=y-2*(0!==e||0!==t?e+t:(0,o.T9)(g.left,g.right)):_=w-2*(0!==n||0!==r?n+r:(0,o.T9)(g.top,g.bottom))}await h((0,r.A)((0,r.A)({},t),{},{availableWidth:P,availableHeight:_}));const O=await u.getDimensions(p.floating);return y!==O.width||w!==O.height?{reset:{rects:!0}}:{}}}},I=(e,t,n)=>{const o=new Map,i=(0,r.A)({platform:E},n),a=(0,r.A)((0,r.A)({},i.platform),{},{_c:o});return(async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,l=a.filter(Boolean),d=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:f}=c(u,o,d),h=o,m={},g=0;for(let v=0;v<l.length;v++){const{name:n,fn:a}=l[v],{x:x,y:b,data:y,reset:w}=await a({x:p,y:f,initialPlacement:o,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});p=null!=x?x:p,f=null!=b?b:f,m=(0,r.A)((0,r.A)({},m),{},{[n]:(0,r.A)((0,r.A)({},m[n]),y)}),w&&g<=50&&(g++,"object"===typeof w&&(w.placement&&(h=w.placement),w.rects&&(u=!0===w.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:p,y:f}=c(u,h,d))),v=-1)}return{x:p,y:f,placement:h,strategy:i,middlewareData:m}})(e,t,(0,r.A)((0,r.A)({},i),{},{platform:a}))}},35992:(e,t,n)=>{var r=n(95750);e.exports=function(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),(function(e){t=[],i(e),t.length&&o.push(t)})),o}},36140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},36210:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},36311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},36741:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},36954:(e,t,n)=>{var r=n(11629),o=n(37857),i=n(46686),a=n(96996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},37105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},37159:(e,t,n)=>{var r=n(12622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},37303:(e,t,n)=>{var r=n(40801),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},37507:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r,o=((r=o||{}).Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.Delete="Delete",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab",r)},37719:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},37857:(e,t,n)=>{var r=n(13440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},38268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},38326:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},38353:(e,t,n)=>{var r=n(95750);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))})),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=new Error},38419:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>()=>e},38541:(e,t,n)=>{var r=n(9812),o=n(50149),i=n(54052),a=n(19841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},38643:(e,t,n)=>{"use strict";n.d(t,{y:()=>H});var r=n(65043),o=n(58387),i=n(11744),a=n(19853),s=n.n(a),l=n(79686),c=n.n(l),d=n(94020),u=n(38813),p=n(17869),f=n(81519),h=n(76307),m=n(240),g=n(6015),v=n(71845),x=n(17287),b=n(3404),y=n(70879),w=["x","y"];function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t){var n=e.x,r=e.y,o=k(e,w),i="".concat(n),a=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||o.height),d=parseInt(c,10),u="".concat(t.width||o.width),p=parseInt(u,10);return A(A(A(A(A({},t),o),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function _(e){return r.createElement(y.yp,N({shapeType:"rectangle",propTransformer:C,activeClassName:"recharts-active-bar"},e))}var P,O=["value","background"];function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function F(e,t,n){return t=z(t),function(e,t){if(t&&("object"===T(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B()?Reflect.construct(t,n||[],z(e).constructor):t.apply(e,n))}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function V(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}var H=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return V(e=F(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),V(e,"id",(0,h.NF)("recharts-bar-")),V(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),V(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(t,e),n=t,l=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(a=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,o=n.shape,i=n.dataKey,a=n.activeIndex,s=n.activeBar,l=(0,m.J9)(this.props,!1);return e&&e.map((function(e,n){var c=n===a,u=c?s:o,p=D(D(D({},l),e),{},{isActive:c,option:u,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(d.W,I({className:"recharts-bar-rectangle"},(0,x.XC)(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),r.createElement(_,p))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,o=t.layout,a=t.isAnimationActive,s=t.animationBegin,l=t.animationDuration,c=t.animationEasing,u=t.animationId,p=this.state.prevData;return r.createElement(i.Ay,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,a=n.map((function(e,t){var n=p&&p[t];if(n){var r=(0,h.Dj)(n.x,e.x),a=(0,h.Dj)(n.y,e.y),s=(0,h.Dj)(n.width,e.width),l=(0,h.Dj)(n.height,e.height);return D(D({},e),{},{x:r(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===o){var c=(0,h.Dj)(0,e.height)(i);return D(D({},e),{},{y:e.y+e.height-c,height:c})}var d=(0,h.Dj)(0,e.width)(i);return D(D({},e),{},{width:d})}));return r.createElement(d.W,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&s()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,o=t.dataKey,i=t.activeIndex,a=(0,m.J9)(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,l=M(t,O);if(!s)return null;var c=D(D(D(D(D({},l),{},{fill:"#eee"},s),a),(0,x.XC)(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:o,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(_,I({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,o=n.data,i=n.xAxis,a=n.yAxis,s=n.layout,l=n.children,c=(0,m.aS)(l,u.u);if(!c)return null;var p="vertical"===s?o[0].height/2:o[0].width/2,f=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:(0,v.kr)(e,t)}},h={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(d.W,h,c.map((function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:o,xAxis:i,yAxis:a,layout:s,offset:p,dataPointFormatter:f})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,a=e.xAxis,s=e.yAxis,l=e.left,u=e.top,p=e.width,h=e.height,m=e.isAnimationActive,g=e.background,v=e.id;if(t||!n||!n.length)return null;var x=this.state.isAnimationFinished,b=(0,o.A)("recharts-bar",i),y=a&&a.allowDataOverflow,w=s&&s.allowDataOverflow,j=y||w,N=c()(v)?this.id:v;return r.createElement(d.W,{className:b},y||w?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(N)},r.createElement("rect",{x:y?l:l-p/2,y:w?u:u-h/2,width:y?p:2*p,height:w?h:2*h}))):null,r.createElement(d.W,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!m||x)&&f.Z.renderCallByParent(this.props,n))}}])&&L(n.prototype,a),l&&L(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,l}(r.PureComponent);P=H,V(H,"displayName","Bar"),V(H,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!g.m.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),V(H,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,o=e.bandSize,i=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,f=e.offset,g=(0,v.xi)(r,n);if(!g)return null;var x=t.layout,y=n.type.defaultProps,w=void 0!==y?D(D({},y),n.props):n.props,j=w.dataKey,N=w.children,S=w.minPointSize,A="horizontal"===x?a:i,E=c?A.scale.domain():null,k=(0,v.DW)({numericAxis:A}),C=(0,m.aS)(N,p.f),_=u.map((function(e,t){var r,u,p,f,m,y;c?r=(0,v._f)(c[d+t],E):(r=(0,v.kr)(e,j),Array.isArray(r)||(r=[k,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var o=(0,h.Et)(n)||(0,h.uy)(n);return o?e(n,r):(o||(0,b.A)(!1),t)}}(S,P.defaultProps.minPointSize)(r[1],t);if("horizontal"===x){var N,A=[a.scale(r[0]),a.scale(r[1])],_=A[0],O=A[1];u=(0,v.y2)({axis:i,ticks:s,bandSize:o,offset:g.offset,entry:e,index:t}),p=null!==(N=null!==O&&void 0!==O?O:_)&&void 0!==N?N:void 0,f=g.size;var T=_-O;if(m=Number.isNaN(T)?0:T,y={x:u,y:a.y,width:f,height:a.height},Math.abs(w)>0&&Math.abs(m)<Math.abs(w)){var M=(0,h.sA)(m||w)*(Math.abs(w)-Math.abs(m));p-=M,m+=M}}else{var I=[i.scale(r[0]),i.scale(r[1])],R=I[0],L=I[1];if(u=R,p=(0,v.y2)({axis:a,ticks:l,bandSize:o,offset:g.offset,entry:e,index:t}),f=L-R,m=g.size,y={x:i.x,y:p,width:i.width,height:m},Math.abs(w)>0&&Math.abs(f)<Math.abs(w))f+=(0,h.sA)(f||w)*(Math.abs(w)-Math.abs(f))}return D(D(D({},e),{},{x:u,y:p,width:f,height:m,value:c?r:r[1],payload:e,background:y},C&&C[t]&&C[t].props),{},{tooltipPayload:[(0,v.zb)(n,e)],tooltipPosition:{x:u+f/2,y:p+m/2}})}));return D({data:_,layout:x},f)}))},38710:(e,t,n)=>{var r=n(61516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},38813:(e,t,n)=>{"use strict";n.d(t,{u:()=>y});var r=n(65043),o=n(3404),i=n(94020),a=n(240),s=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function h(e,t,n){return t=g(t),function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],g(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function x(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),n=t,(l=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,l=e.width,u=e.dataKey,f=e.data,h=e.dataPointFormatter,m=e.xAxis,g=e.yAxis,v=p(e,s),x=(0,a.J9)(v,!1);"x"===this.props.direction&&"number"!==m.type&&(0,o.A)(!1);var b=f.map((function(e){var o=h(e,u),a=o.x,s=o.y,p=o.value,f=o.errorVal;if(!f)return null;var v,b,y=[];if(Array.isArray(f)){var w=d(f,2);v=w[0],b=w[1]}else v=b=f;if("vertical"===n){var j=m.scale,N=s+t,S=N+l,A=N-l,E=j(p-v),k=j(p+b);y.push({x1:k,y1:S,x2:k,y2:A}),y.push({x1:E,y1:N,x2:k,y2:N}),y.push({x1:E,y1:S,x2:E,y2:A})}else if("horizontal"===n){var C=g.scale,_=a+t,P=_-l,O=_+l,T=C(p-v),M=C(p+b);y.push({x1:P,y1:M,x2:O,y2:M}),y.push({x1:_,y1:T,x2:_,y2:M}),y.push({x1:P,y1:T,x2:O,y2:T})}return r.createElement(i.W,c({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},x),y.map((function(e){return r.createElement("line",c({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(i.W,{className:"recharts-errorBars"},b)}}])&&f(n.prototype,l),u&&f(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l,u}(r.Component);x(y,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),x(y,"displayName","ErrorBar")},38883:(e,t,n)=>{var r=n(45652),o=n(6571);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},39115:(e,t,n)=>{var r=n(45967),o=n(36311),i=n(50715);e.exports=function(e){return o(e)?i(e):r(e)}},39256:(e,t,n)=>{var r=n(86532),o=n(23781),i=n(91310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},39292:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},39558:(e,t,n)=>{"use strict";var r=n(78208),o=n(17938).Graph,i=n(65641);function a(e,t){var n={};return r.reduce(t,(function(t,o){var i=0,a=0,s=t.length,c=r.last(o);return r.forEach(o,(function(t,d){var u=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),p=u?e.node(u).order:s;(u||t===c)&&(r.forEach(o.slice(a,d+1),(function(t){r.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||p<a)||o.dummy&&e.node(t).dummy||l(n,r,t)}))})),a=d+1,i=p)})),o})),n}function s(e,t){var n={};function o(t,o,i,a,s){var c;r.forEach(r.range(o,i),(function(o){c=t[o],e.node(c).dummy&&r.forEach(e.predecessors(c),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&l(n,t,c)}))}))}return r.reduce(t,(function(t,n){var i,a=-1,s=0;return r.forEach(n,(function(r,l){if("border"===e.node(r).dummy){var c=e.predecessors(r);c.length&&(i=e.node(c[0]).order,o(n,s,l,a,i),s=l,a=i)}o(n,s,n.length,i,t.length)})),n})),n}function l(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function c(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function d(e,t,n,o){var i={},a={},s={};return r.forEach(t,(function(e){r.forEach(e,(function(e,t){i[e]=e,a[e]=e,s[e]=t}))})),r.forEach(t,(function(e){var t=-1;r.forEach(e,(function(e){var l=o(e);if(l.length){l=r.sortBy(l,(function(e){return s[e]}));for(var d=(l.length-1)/2,u=Math.floor(d),p=Math.ceil(d);u<=p;++u){var f=l[u];a[e]===e&&t<s[f]&&!c(n,e,f)&&(a[f]=e,a[e]=i[e]=i[f],t=s[f])}}}))})),{root:i,align:a}}function u(e,t,n,i,a){var s={},l=function(e,t,n,i){var a=new o,s=e.graph(),l=function(e,t,n){return function(o,i,a){var s,l=o.node(i),c=o.node(a),d=0;if(d+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=-l.width/2;break;case"r":s=l.width/2}if(s&&(d+=n?s:-s),s=0,d+=(l.dummy?t:e)/2,d+=(c.dummy?t:e)/2,d+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(d+=n?s:-s),s=0,d}}(s.nodesep,s.edgesep,i);return r.forEach(t,(function(t){var o;r.forEach(t,(function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(l(e,t,o),s||0))}o=t}))})),a}(e,t,n,a),c=a?"borderLeft":"borderRight";function d(e,t){for(var n=l.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return d((function(e){s[e]=l.inEdges(e).reduce((function(e,t){return Math.max(e,s[t.v]+l.edge(t))}),0)}),l.predecessors.bind(l)),d((function(t){var n=l.outEdges(t).reduce((function(e,t){return Math.min(e,s[t.w]-l.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[t]=Math.max(s[t],n))}),l.successors.bind(l)),r.forEach(i,(function(e){s[e]=s[n[e]]})),s}function p(e,t){return r.minBy(r.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,(function(t,r){var i=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)})),n-o}))}function f(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,l=n+a,c=e[l];if(c!==t){var d=r.values(c);(s="l"===a?o-r.min(d):i-r.max(d))&&(e[l]=r.mapValues(c,(function(e){return e+s})))}}))}))}function h(e,t){return r.mapValues(e.ul,(function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2}))}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),s(e,n)),l={};r.forEach(["u","d"],(function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(t=r.map(t,(function(e){return r.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=d(e,t,o,a),c=u(e,t,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(e){return-e}))),l[i+n]=c}))}));var c=p(e,l);return f(l,c),h(l,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:l,hasConflict:c,verticalAlignment:d,horizontalCompaction:u,alignCoordinates:f,findSmallestWidthAlignment:p,balance:h}},39676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,o,i){for(var a=-1,s=n(t((r-e)/(o||1)),0),l=Array(s);s--;)l[i?s:++a]=e,e+=o;return l}},40293:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(65043);const o=n(14735).B?r.useLayoutEffect:r.useEffect},40614:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},40644:e=>{e.exports=function(e){return e!==e}},40801:(e,t,n)=>{var r=n(61141),o=n(46686),i=n(19841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},41069:(e,t,n)=>{var r=n(38541);e.exports=function(e){return null==e?"":r(e)}},41497:(e,t,n)=>{"use strict";var r=n(13218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},41558:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},41680:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},41740:(e,t,n)=>{var r=n(97132);e.exports=function(e){return r(e,4)}},41875:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(65043),o=n(74347);function i(e,t,n,i){let a=(0,o.Y)(n);(0,r.useEffect)((()=>{function n(e){a.current(e)}return(e=null!=e?e:window).addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}),[e,t,i])}},41985:(e,t,n)=>{"use strict";n.d(t,{i:()=>U});var r=n(65043),o=n(643),i=n.n(o);Math.abs,Math.atan2;const a=Math.cos,s=(Math.max,Math.min,Math.sin),l=Math.sqrt,c=Math.PI,d=2*c;const u={draw(e,t){const n=l(t/c);e.moveTo(n,0),e.arc(0,0,n,0,d)}},p={draw(e,t){const n=l(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},f=l(1/3),h=2*f,m={draw(e,t){const n=l(t/h),r=n*f;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},g={draw(e,t){const n=l(t),r=-n/2;e.rect(r,r,n,n)}},v=s(c/10)/s(7*c/10),x=s(d/10)*v,b=-a(d/10)*v,y={draw(e,t){const n=l(.8908130915292852*t),r=x*n,o=b*n;e.moveTo(0,-n),e.lineTo(r,o);for(let i=1;i<5;++i){const t=d*i/5,l=a(t),c=s(t);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*o,c*r+l*o)}e.closePath()}},w=l(3),j={draw(e,t){const n=-l(t/(3*w));e.moveTo(0,2*n),e.lineTo(-w*n,-n),e.lineTo(w*n,-n),e.closePath()}},N=-.5,S=l(3)/2,A=1/l(12),E=3*(A/2+1),k={draw(e,t){const n=l(t/E),r=n/2,o=n*A,i=r,a=n*A+n,s=-i,c=a;e.moveTo(r,o),e.lineTo(i,a),e.lineTo(s,c),e.lineTo(N*r-S*o,S*r+N*o),e.lineTo(N*i-S*a,S*i+N*a),e.lineTo(N*s-S*c,S*s+N*c),e.lineTo(N*r+S*o,N*o-S*r),e.lineTo(N*i+S*a,N*a-S*i),e.lineTo(N*s+S*c,N*c-S*s),e.closePath()}};var C=n(13809),_=n(17371);l(3),l(3);var P=n(58387),O=n(240);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}var M=["type","size","sizeType"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var B={symbolCircle:u,symbolCross:p,symbolDiamond:m,symbolSquare:g,symbolStar:y,symbolTriangle:j,symbolWye:k},z=Math.PI/180,U=function(e){var t=e.type,n=void 0===t?"circle":t,o=e.size,a=void 0===o?64:o,s=e.sizeType,l=void 0===s?"area":s,c=D(D({},F(e,M)),{},{type:n,size:a,sizeType:l}),d=c.className,p=c.cx,f=c.cy,h=(0,O.J9)(c,!0);return p===+p&&f===+f&&a===+a?r.createElement("path",I({},h,{className:(0,P.A)("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(f,")"),d:function(){var e=function(e){var t="symbol".concat(i()(e));return B[t]||u}(n),t=function(e,t){let n=null,r=(0,_.i)(o);function o(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return e="function"===typeof e?e:(0,C.A)(e||u),t="function"===typeof t?t:(0,C.A)(void 0===t?64:+t),o.type=function(t){return arguments.length?(e="function"===typeof t?t:(0,C.A)(t),o):e},o.size=function(e){return arguments.length?(t="function"===typeof e?e:(0,C.A)(+e),o):t},o.context=function(e){return arguments.length?(n=null==e?null:e,o):n},o}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*z;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,l,n));return t()}()})):null};U.registerSymbol=function(e,t){B["symbol".concat(i()(e))]=t}},42489:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},42574:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},43516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},43668:(e,t,n)=>{var r=n(18902),o=n(52587),i=n(58114);e.exports=function(e,t,n,a,s,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(e),f=l.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<d;){var v=e[h],x=t[h];if(a)var b=c?a(x,v,h,t,e,l):a(v,x,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==x&&!s(v,x,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},43880:(e,t,n)=>{"use strict";function r(e,t){if(e in t){let r=t[e];for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return"function"==typeof r?r(...o):r}let a=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((e=>'"'.concat(e,'"'))).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,r),a}n.d(t,{Y:()=>r})},44113:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function o(e){return r(e)&&"tagName"in e}function i(e){return o(e)&&"accessKey"in e}function a(e){return o(e)&&"tabIndex"in e}function s(e){return o(e)&&"style"in e}function l(e){return i(e)&&"IFRAME"===e.nodeName}function c(e){return i(e)&&"INPUT"===e.nodeName}function d(e){return i(e)&&"LABEL"===e.nodeName}function u(e){return i(e)&&"FIELDSET"===e.nodeName}function p(e){return i(e)&&"LEGEND"===e.nodeName}function f(e){return!!o(e)&&e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]')}n.d(t,{A3:()=>c,Er:()=>u,Gu:()=>l,H5:()=>f,Jb:()=>p,Lk:()=>a,Ll:()=>r,kS:()=>d,pv:()=>s,sb:()=>i,vq:()=>o})},44260:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]])},44353:(e,t,n)=>{e=n.nmd(e);var r=n(56552),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},44362:(e,t,n)=>{"use strict";var r=n(78208);function o(e){r.forEach(e.nodes(),(function(t){i(e.node(t))})),r.forEach(e.edges(),(function(t){i(e.edge(t))}))}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),(function(t){a(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),(function(t){s(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(e),o(e))}}},44543:(e,t,n)=>{e=n.nmd(e);var r=n(56552),o=n(60014),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},44833:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(65043),o=n(74347);function i(e,t,n,i){let a=(0,o.Y)(n);(0,r.useEffect)((()=>{if(e)return window.addEventListener(t,n,i),()=>window.removeEventListener(t,n,i);function n(e){a.current(e)}}),[e,t,i])}},45098:(e,t,n)=>{var r=n(80726),o=n(21817),i=n(94664),a=n(9096),s=n(85990),l=n(54052),c=n(44543),d=n(11629),u=n(46686),p=n(51268);e.exports=function(e,t,n){var f=l(e),h=f||c(e)||p(e);if(t=a(t,4),null==n){var m=e&&e.constructor;n=h?f?new m:[]:u(e)&&d(m)?o(s(e)):{}}return(h?r:i)(e,(function(e,r,o){return t(n,e,r,o)})),n}},45185:e=>{e.exports="0.8.5"},45248:(e,t,n)=>{"use strict";function r(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}n.d(t,{b:()=>r})},45652:(e,t,n)=>{var r=n(94664),o=n(76516)(r);e.exports=o},45752:(e,t,n)=>{var r=n(59395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),d=c.length;if(d!=r(t).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in t:o.call(t,p)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++u<d;){var v=e[p=c[u]],x=t[p];if(i)var b=l?i(x,v,p,t,e,s):i(v,x,p,e,t,s);if(!(void 0===b?v===x||a(v,x,n,i,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},45765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(65043),a=h(i),s=h(n(97950)),l=h(n(65173)),c=h(n(91439)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(56619)),u=n(68821),p=h(u),f=n(55484);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",x=u.canUseDOM&&void 0!==s.default.createPortal,b=function(e){return document.createElement(e)},y=function(){return x?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function w(e){return e()}var j=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!x&&s.default.unmountComponentAtNode(o.node);var e=w(o.props.parentSelector);e&&e.contains(o.node)?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=y()(o,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){u.canUseDOM&&(x||(this.node=b("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!x&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(u.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!x&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(u.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return u.canUseDOM&&x?(!this.node&&x&&(this.node=b("div")),y()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){d.setElement(e)}}]),t}(i.Component);j.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(p.default),l.default.instanceOf(u.SafeHTMLCollection),l.default.instanceOf(u.SafeNodeList),l.default.arrayOf(l.default.instanceOf(p.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},j.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},j.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(j),t.default=j},45921:(e,t,n)=>{var r=n(20449),o=n(47574),i=n(56832),a=i&&i.isSet,s=a?o(a):r;e.exports=s},45967:e=>{e.exports=function(e){return e.split("")}},46297:(e,t,n)=>{var r=n(78208);e.exports=function(e,t){return r.map(t,(function(t){var n=e.inEdges(t);if(n.length){var o=r.reduce(n,(function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}}))}},46350:(e,t,n)=>{var r=n(28325),o=n(86578)(r);e.exports=o},46446:(e,t,n)=>{"use strict";n.d(t,{P:()=>cs});var r=n(65043);const o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],i=(()=>new Set(o))(),a=e=>180*e/Math.PI,s=e=>{const t=a(Math.atan2(e[1],e[0]));return c(t)},l={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:s,rotateZ:s,skewX:e=>a(Math.atan(e[1])),skewY:e=>a(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c=e=>((e%=360)<0&&(e+=360),e),d=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),u=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),p={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:d,scaleY:u,scale:e=>(d(e)+u(e))/2,rotateX:e=>c(a(Math.atan2(e[6],e[5]))),rotateY:e=>c(a(Math.atan2(-e[2],e[0]))),rotateZ:s,rotate:s,skewX:e=>a(Math.atan(e[4])),skewY:e=>a(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function f(e){return e.includes("scale")?1:0}function h(e,t){if(!e||"none"===e)return f(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,o;if(n)r=p,o=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=l,o=t}if(!o)return f(t);const i=r[t],a=o[1].split(",").map(m);return"function"===typeof i?i(a):a[i]}function m(e){return parseFloat(e.trim())}const g=e=>t=>"string"===typeof t&&t.startsWith(e),v=g("--"),x=g("var(--"),b=e=>!!x(e)&&y.test(e.split("/*")[0].trim()),y=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function w(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}const j=(e,t,n)=>e+(t-e)*n;function N(e){return void 0===e||1===e}function S(e){let{scale:t,scaleX:n,scaleY:r}=e;return!N(t)||!N(n)||!N(r)}function A(e){return S(e)||E(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function E(e){return k(e.x)||k(e.y)}function k(e){return e&&"0%"!==e}function C(e,t,n){return n+t*(e-n)}function _(e,t,n,r,o){return void 0!==o&&(e=C(e,o,r)),C(e,n,r)+t}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=_(e.min,t,n,r,o),e.max=_(e.max,t,n,r,o)}function O(e,t){let{x:n,y:r}=t;P(e.x,n.translate,n.scale,n.originPoint),P(e.y,r.translate,r.scale,r.originPoint)}const T=.999999999999,M=1.0000000000001;function I(e,t){e.min=e.min+t,e.max=e.max+t}function R(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;P(e,t,n,j(e.min,e.max,o),r)}function D(e,t){R(e.x,t.x,t.scaleX,t.scale,t.originX),R(e.y,t.y,t.scaleY,t.scale,t.originY)}function L(e,t){return w(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const F=new Set(["width","height","top","left","right","bottom",...o]);var B=n(89379);const z=(e,t,n)=>n>t?t:n<e?e:n,U={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},V=(0,B.A)((0,B.A)({},U),{},{transform:e=>z(0,1,e)}),W=(0,B.A)((0,B.A)({},U),{},{default:1}),H=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),q=H("deg"),K=H("%"),G=H("px"),Y=H("vh"),X=H("vw"),$=(()=>(0,B.A)((0,B.A)({},K),{},{parse:e=>K.parse(e)/100,transform:e=>K.transform(100*e)}))(),Z=e=>t=>t.test(e),J=[U,G,K,q,X,Y,{test:e=>"auto"===e,parse:e=>e}],Q=e=>J.find(Z(e));const ee=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),te=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function ne(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,o]=function(e){const t=te.exec(e);if(!t)return[,];const[,n,r,o]=t;return["--".concat(null!==n&&void 0!==n?n:r),o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return ee(e)?parseFloat(e):e}return b(o)?ne(o,t,n+1):o}const re=e=>e===U||e===G,oe=new Set(["x","y","z"]),ie=o.filter((e=>!oe.has(e)));const ae={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return h(n,"x")},y:(e,t)=>{let{transform:n}=t;return h(n,"y")}};ae.translateX=ae.x,ae.translateY=ae.y;const se=e=>e,le={},ce=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],de={value:null,addProjectionMetrics:null};function ue(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=ce.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(d.schedule(t),e()),l++,t(s)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,o?i=!0:(o=!0,[n,r]=[r,n],n.forEach(c),t&&de.value&&de.value.frameloop[t].push(l),l=0,n.clear(),o=!1,i&&(i=!1,d.process(e)))}};return d}(i,t?n:void 0),e)),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:p,render:f,postRender:h}=a,m=()=>{const i=le.useManualTiming?o.timestamp:performance.now();n=!1,le.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1)),o.timestamp=i,o.isProcessing=!0,s.process(o),l.process(o),c.process(o),d.process(o),u.process(o),p.process(o),f.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=ce.reduce(((t,i)=>{const s=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(m)),s.schedule(t,i,a)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<ce.length;t++)a[ce[t]].cancel(e)},state:o,steps:a}}const{schedule:pe,cancel:fe,state:he,steps:me}=ue("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:se,!0),ge=new Set;let ve=!1,xe=!1,be=!1;function ye(){if(xe){const e=Array.from(ge).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return ie.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{var n;let[r,o]=t;null===(n=e.getValue(r))||void 0===n||n.set(o)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}xe=!1,ve=!1,ge.forEach((e=>e.complete(be))),ge.clear()}function we(){ge.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(xe=!0)}))}class je{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(ge.add(this),ve||(ve=!0,pe.read(we),pe.resolveKeyframes(ye))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ge.delete(this)}cancel(){"scheduled"===this.state&&(ge.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Ne=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const Se=e=>Math.round(1e5*e)/1e5,Ae=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Ee=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,ke=(e,t)=>n=>Boolean("string"===typeof n&&Ee.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ce=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,i,a,s]=r.match(Ae);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},_e=(0,B.A)((0,B.A)({},U),{},{transform:e=>Math.round((e=>z(0,255,e))(e))}),Pe={test:ke("rgb","red"),parse:Ce("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+_e.transform(t)+", "+_e.transform(n)+", "+_e.transform(r)+", "+Se(V.transform(o))+")"}};const Oe={test:ke("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Pe.transform},Te={test:ke("hsl","hue"),parse:Ce("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+K.transform(Se(n))+", "+K.transform(Se(r))+", "+Se(V.transform(o))+")"}},Me={test:e=>Pe.test(e)||Oe.test(e)||Te.test(e),parse:e=>Pe.test(e)?Pe.parse(e):Te.test(e)?Te.parse(e):Oe.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Pe.transform(e):Te.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},Ie=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Re="number",De="color",Le=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Fe(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=t.replace(Le,(e=>(Me.test(e)?(r.color.push(i),o.push(De),n.push(Me.parse(e))):e.startsWith("var(")?(r.var.push(i),o.push("var"),n.push(e)):(r.number.push(i),o.push(Re),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:o}}function Be(e){return Fe(e).values}function ze(e){const{split:t,types:n}=Fe(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===Re?Se(e[i]):t===De?Me.transform(e[i]):e[i]}return o}}const Ue=e=>"number"===typeof e?0:Me.test(e)?Me.getAnimatableNone(e):e;const Ve={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Ae))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ie))||void 0===n?void 0:n.length)||0)>0},parse:Be,createTransformer:ze,getAnimatableNone:function(e){const t=Be(e);return ze(e)(t.map(Ue))}},We=new Set(["brightness","contrast","saturate","opacity"]);function He(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ae)||[];if(!r)return e;const o=n.replace(r,"");let i=We.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const qe=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Ke=(0,B.A)((0,B.A)({},Ve),{},{getAnimatableNone:e=>{const t=e.match(qe);return t?t.map(He).join(" "):e}}),Ge=(0,B.A)((0,B.A)({},U),{},{transform:Math.round}),Ye={rotate:q,rotateX:q,rotateY:q,rotateZ:q,scale:W,scaleX:W,scaleY:W,scaleZ:W,skew:q,skewX:q,skewY:q,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:V,originX:$,originY:$,originZ:G},Xe=(0,B.A)((0,B.A)({borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G},Ye),{},{zIndex:Ge,fillOpacity:V,strokeOpacity:V,numOctaves:Ge}),$e=(0,B.A)((0,B.A)({},Xe),{},{color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Ke,WebkitFilter:Ke}),Ze=e=>$e[e];function Je(e,t){let n=Ze(e);return n!==Ke&&(n=Ve),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Qe=new Set(["auto","none","0"]);class et extends je{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),b(n))){const r=ne(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!F.has(n)||2!==e.length)return;const[r,o]=e,i=Q(r),a=Q(o);if(i!==a)if(re(i)&&re(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else ae[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let o=0;o<e.length;o++)(null===e[o]||("number"===typeof(r=e[o])?0===r:null===r||"none"===r||"0"===r||Ne(r)))&&n.push(o);var r;n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!Qe.has(t)&&Fe(t).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=Je(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ae[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=ae[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const tt=e=>Boolean(e&&e.getVelocity);var nt=n(80045);let rt;function ot(){rt=void 0}const it={now:()=>(void 0===rt&&it.set(he.isProcessing||le.useManualTiming?he.timestamp:performance.now()),rt),set:e=>{rt=e,queueMicrotask(ot)}};function at(e,t){-1===e.indexOf(t)&&e.push(t)}function st(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class lt{constructor(){this.subscriptions=[]}add(e){return at(this.subscriptions,e),()=>st(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ct(e,t){return t?e*(1e3/t):0}const dt={current:void 0};class ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=it.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=it.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lt);const n=this.events[e].add(t);return"change"===e?()=>{n(),pe.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return dt.current&&dt.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=it.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ct(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pt(e,t){return new ut(e,t)}const ft=[...J,Me,Ve],{schedule:ht,cancel:mt}=ue(queueMicrotask,!1),gt={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vt={};for(const us in gt)vt[us]={isEnabled:e=>gt[us].some((t=>!!e[t]))};const xt=()=>({x:{min:0,max:0},y:{min:0,max:0}});var bt=n(14735);const yt={current:null},wt={current:!1};const jt=new WeakMap;function Nt(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function St(e){return"string"===typeof e||Array.isArray(e)}const At=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Et=["initial",...At];function kt(e){return Nt(e.animate)||Et.some((t=>St(e[t])))}function Ct(e){return Boolean(kt(e)||e.variants)}function _t(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Pt(e,t,n,r){if("function"===typeof t){const[o,i]=_t(r);t=t(void 0!==n?n:e.custom,o,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,i]=_t(r);t=t(void 0!==n?n:e.custom,o,i)}return t}const Ot=["willChange"],Tt=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mt{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=je,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=it.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,pe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget=(0,B.A)({},l),this.initialValues=n.initial?(0,B.A)({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=kt(n),this.isVariantNode=Ct(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=d,p=(0,nt.A)(d,Ot);for(const f in p){const e=p[f];void 0!==l[f]&&tt(e)&&e.set(l[f])}}mount(e){var t;this.current=e,jt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),wt.current||function(){if(wt.current=!0,bt.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yt.current=e.matches;e.addEventListener("change",t),t()}else yt.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||yt.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),fe(this.notifyUpdate),fe(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=i.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&pe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}));let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in vt){const t=vt[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Tt.length;n++){const t=Tt[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(tt(o))e.addValue(r,o);else if(tt(i))e.addValue(r,pt(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,pt(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=pt(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return void 0!==r&&null!==r&&("string"===typeof r&&(ee(r)||Ne(r))?r=parseFloat(r):(o=r,!ft.find(Z(o))&&Ve.test(t)&&(r=Je(e,t))),this.setBaseTarget(e,tt(r)?r.get():r)),tt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const o=Pt(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);o&&(n=o[e])}if(t&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||tt(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new lt),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){ht.render(this.render)}}class It extends Mt{constructor(){super(...arguments),this.KeyframeResolver=et}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tt(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}const Rt=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Dt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lt=o.length;function Ft(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let l=!1,c=!1;for(const o in t){const e=t[o];if(i.has(o))l=!0;else if(v(o))a[o]=e;else{const t=Rt(e,Xe[o]);o.startsWith("origin")?(c=!0,s[o]=t):r[o]=t}}if(t.transform||(l||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<Lt;a++){const s=o[a],l=e[s];if(void 0===l)continue;let c=!0;if(c="number"===typeof l?l===(s.startsWith("scale")?1:0):0===parseFloat(l),!c||n){const e=Rt(l,Xe[s]);c||(i=!1,r+="".concat(Dt[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function Bt(e,t,n,r){let{style:o,vars:i}=t;const a=e.style;let s;for(s in o)a[s]=o[s];for(s in null===r||void 0===r||r.applyProjectionStyles(a,n),i)a.setProperty(s,i[s])}const zt={};function Ut(e,t){let{layout:n,layoutId:r}=t;return i.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!zt[e]||"opacity"===e)}function Vt(e,t,n){const{style:r}=e,o={};for(const a in r){var i;(tt(r[a])||t.style&&tt(t.style[a])||Ut(a,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(a))||void 0===i?void 0:i.liveStyle))&&(o[a]=r[a])}return o}class Wt extends It{constructor(){super(...arguments),this.type="html",this.renderInstance=Bt}readValueFromInstance(e,t){var n,r;if(i.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?f(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return h(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),o=(v(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof o?o.trim():o}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return L(e,n)}build(e,t,n){Ft(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Vt(e,t,n)}}const Ht=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kt={offset:"strokeDashoffset",array:"strokeDasharray"};const Gt=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function Yt(e,t,n,r,o){let{attrX:i,attrY:a,attrScale:s,pathLength:l,pathSpacing:c=1,pathOffset:d=0}=t;if(Ft(e,(0,nt.A)(t,Gt),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:p}=e;var f,h;(u.transform&&(p.transform=u.transform,delete u.transform),p.transform||u.transformOrigin)&&(p.transformOrigin=null!==(f=u.transformOrigin)&&void 0!==f?f:"50% 50%",delete u.transformOrigin);p.transform&&(p.transformBox=null!==(h=null===o||void 0===o?void 0:o.transformBox)&&void 0!==h?h:"fill-box",delete u.transformBox);void 0!==i&&(u.x=i),void 0!==a&&(u.y=a),void 0!==s&&(u.scale=s),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?qt:Kt;e[i.offset]=G.transform(-r);const a=G.transform(t),s=G.transform(n);e[i.array]="".concat(a," ").concat(s)}(u,l,c,d,!1)}const Xt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),$t=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Zt(e,t,n){const r=Vt(e,t,n);for(const i in e)if(tt(e[i])||tt(t[i])){r[-1!==o.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class Jt extends It{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(i.has(t)){const e=Ze(t);return e&&e.default||0}return t=Xt.has(t)?t:Ht(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Zt(e,t,n)}build(e,t,n){Yt(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Bt(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Xt.has(o)?o:Ht(o),t.attrs[o])}(e,t,0,r)}mount(e){this.isSVGTag=$t(e.tagName),super.mount(e)}}const Qt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function en(e){return"string"===typeof e&&!e.includes("-")&&!!(Qt.indexOf(e)>-1||/[A-Z]/.test(e))}const tn=(e,t)=>en(e)?new Jt(t):new Wt(t,{allowProjection:e!==r.Fragment});var nn=n(70579),rn=n(2190);const on=(0,r.createContext)({strict:!1});var an=n(91051);const sn=(0,r.createContext)({});function ln(e){const{initial:t,animate:n}=function(e,t){if(kt(e)){const{initial:t,animate:n}=e;return{initial:!1===t||St(t)?t:void 0,animate:St(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(sn));return(0,r.useMemo)((()=>({initial:t,animate:n})),[cn(t),cn(n)])}function cn(e){return Array.isArray(e)?e.join(" "):e}const dn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function un(e,t,n){for(const r in t)tt(t[r])||Ut(r,n)||(e[r]=t[r])}function pn(e,t){const n={};return un(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Ft(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function fn(e,t){const n={},r=pn(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const hn=()=>(0,B.A)((0,B.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function mn(e,t,n,o){const i=(0,r.useMemo)((()=>{const n=hn();return Yt(n,t,$t(o),e.transformTemplate,e.style),(0,B.A)((0,B.A)({},n.attrs),{},{style:(0,B.A)({},n.style)})}),[t]);if(e.style){const t={};un(t,e.style,e),i.style=(0,B.A)((0,B.A)({},t),i.style)}return i}const gn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vn(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gn.has(e)}let xn=e=>!vn(e);try{"function"===typeof(bn=require("@emotion/is-prop-valid").default)&&(xn=e=>e.startsWith("on")?!vn(e):bn(e))}catch(ds){}var bn;function yn(e,t,n,o,i){let{latestValues:a}=o,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(en(e)?mn:fn)(t,a,i,e),c=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(xn(o)||!0===n&&vn(o)||!t&&!vn(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(t,"string"===typeof e,s),d=e!==r.Fragment?(0,B.A)((0,B.A)((0,B.A)({},c),l),{},{ref:n}):{},{children:u}=t,p=(0,r.useMemo)((()=>tt(u)?u.get():u),[u]);return(0,r.createElement)(e,(0,B.A)((0,B.A)({},d),{},{children:p}))}var wn=n(9674),jn=n(34930);function Nn(e){return tt(e)?e.get():e}const Sn=["transitionEnd","transition"];function An(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=Nn(i[p]);let{initial:a,animate:s}=e;const l=kt(e),c=Ct(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const u=d?s:a;if(u&&"boolean"!==typeof u&&!Nt(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=Pt(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=(0,nt.A)(r,Sn);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(o[r]=e)}for(const r in e)o[r]=e[r]}}}return o}const En=e=>(t,n)=>{const o=(0,r.useContext)(sn),i=(0,r.useContext)(wn.t),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i}=e;return{latestValues:An(t,n,r,o),renderState:i()}}(e,t,o,i);return n?a():(0,jn.M)(a)},kn=En({scrapeMotionValuesFromProps:Vt,createRenderState:dn}),Cn=En({scrapeMotionValuesFromProps:Zt,createRenderState:hn});const _n=Symbol.for("motionComponentSymbol");function Pn(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function On(e,t,n){return(0,r.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Pn(n)&&(n.current=r))}),[t])}const Tn="data-"+Ht("framerAppearId"),Mn=(0,r.createContext)({});var In=n(40293);function Rn(e,t,n,o,i){var a,s,l,c;const{visualElement:d}=(0,r.useContext)(sn),u=(0,r.useContext)(on),p=(0,r.useContext)(wn.t),f=(0,r.useContext)(an.Q).reducedMotion,h=(0,r.useRef)(null);o=o||u.renderer,!h.current&&o&&(h.current=o(e,{visualState:t,parent:d,props:n,presenceContext:p,blockInitialAnimation:!!p&&!1===p.initial,reducedMotionConfig:f}));const m=h.current,g=(0,r.useContext)(Mn);!m||m.projection||!i||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Dn(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&Pn(s),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(h.current,n,i,g);const v=(0,r.useRef)(!1);(0,r.useInsertionEffect)((()=>{m&&v.current&&m.update(n,p)}));const x=n[Tn],b=(0,r.useRef)(Boolean(x)&&!(null!==(a=(s=window).MotionHandoffIsComplete)&&void 0!==a&&a.call(s,x))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,x)));return(0,In.E)((()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())})),(0,r.useEffect)((()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask((()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,x)})),b.current=!1),m.enteringChildren=void 0)})),m}function Dn(e){if(e)return!1!==e.options.allowProjection?e.projection:Dn(e.parent)}function Ln(e){var t,n;let{forwardMotionProps:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;i&&function(e){for(const t in e)vt[t]=(0,B.A)((0,B.A)({},vt[t]),e[t])}(i);const s=en(e)?Cn:kn;function l(t,n){let i;const l=(0,B.A)((0,B.A)((0,B.A)({},(0,r.useContext)(an.Q)),t),{},{layoutId:Fn(t)}),{isStatic:c}=l,d=ln(t),u=s(t,c);if(!c&&bt.B){!function(){(0,r.useContext)(on).strict;0}();const t=function(e){const{drag:t,layout:n}=vt;if(!t&&!n)return{};const r=(0,B.A)((0,B.A)({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);i=t.MeasureLayout,d.visualElement=Rn(e,u,l,a,t.ProjectionNode)}return(0,nn.jsxs)(sn.Provider,{value:d,children:[i&&d.visualElement?(0,nn.jsx)(i,(0,B.A)({visualElement:d.visualElement},l)):null,yn(e,t,On(u,d.visualElement,n),u,c,o)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const c=(0,r.forwardRef)(l);return c[_n]=e,c}function Fn(e){let{layoutId:t}=e;const n=(0,r.useContext)(rn.L).id;return n&&void 0!==t?n+"-"+t:t}function Bn(e,t){if("undefined"===typeof Proxy)return Ln;const n=new Map,r=(n,r)=>Ln(n,r,e,t);return new Proxy(((e,t)=>r(e,t)),{get:(o,i)=>"create"===i?r:(n.has(i)||n.set(i,Ln(i,void 0,e,t)),n.get(i))})}function zn(e,t,n){const r=e.getProps();return Pt(r,t,void 0!==n?n:r.custom,e)}function Un(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const Vn=e=>Array.isArray(e),Wn=["transitionEnd","transition"];function Hn(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pt(n))}function qn(e,t){const n=e.getValue("willChange");if(r=n,Boolean(tt(r)&&r.add))return n.add(t);if(!n&&le.WillChange){const n=new le.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function Kn(e){return e.props[Tn]}function Gn(e){e.duration=0,e.type}const Yn=(e,t)=>n=>t(e(n)),Xn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Yn)},$n=e=>1e3*e,Zn=e=>e/1e3,Jn={layout:0,mainThread:0,waapi:0};function Qn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function er(e,t){return n=>n>0?t:e}const tr=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},nr=[Oe,Pe,Te];function rr(e){const t=(n=e,nr.find((e=>e.test(n))));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===Te&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=Qn(o,e,t+1/3),a=Qn(o,e,t),s=Qn(o,e,t-1/3)}else i=a=s=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:o}}(r)),r}const or=(e,t)=>{const n=rr(e),r=rr(t);if(!n||!r)return er(e,t);const o=(0,B.A)({},n);return e=>(o.red=tr(n.red,r.red,e),o.green=tr(n.green,r.green,e),o.blue=tr(n.blue,r.blue,e),o.alpha=j(n.alpha,r.alpha,e),Pe.transform(o))},ir=new Set(["none","hidden"]);function ar(e,t){return n=>j(e,t,n)}function sr(e){return"number"===typeof e?ar:"string"===typeof e?b(e)?er:Me.test(e)?or:dr:Array.isArray(e)?lr:"object"===typeof e?Me.test(e)?or:cr:er}function lr(e,t){const n=[...e],r=n.length,o=e.map(((e,n)=>sr(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function cr(e,t){const n=(0,B.A)((0,B.A)({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=sr(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const dr=(e,t)=>{const n=Ve.createTransformer(t),r=Fe(e),o=Fe(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?ir.has(e)&&!o.values.length||ir.has(t)&&!r.values.length?function(e,t){return ir.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Xn(lr(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var o;const a=t.types[i],s=e.indexes[a][r[a]],l=null!==(o=e.values[s])&&void 0!==o?o:0;n[i]=l,r[a]++}return n}(r,o),o.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),er(e,t))};function ur(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return j(e,t,n);return sr(e)(e,t)}const pr=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return pe.update(t,e)},stop:()=>fe(t),now:()=>he.isProcessing?he.timestamp:it.now()}},fr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(t/n),2);for(let i=0;i<o;i++)r+=Math.round(1e4*e(i/(o-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},hr=2e4;function mr(e){let t=0;let n=e.next(t);for(;!n.done&&t<hr;)t+=50,n=e.next(t);return t>=hr?1/0:t}function gr(e,t,n){const r=Math.max(t-5,0);return ct(n-e(r),t-r)}const vr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xr=.001;function br(e){let t,n,{duration:r=vr.duration,bounce:o=vr.bounce,velocity:i=vr.velocity,mass:a=vr.mass}=e;$n(vr.maxDuration);let s=1-o;s=z(vr.minDamping,vr.maxDamping,s),r=z(vr.minDuration,vr.maxDuration,Zn(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-i,a=wr(e,s),l=Math.exp(-n);return xr-o/a*l},n=e=>{const n=e*s*r,o=n*i+i,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=wr(Math.pow(e,2),s);return(-t(e)+xr>0?-1:1)*((o-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let o=1;o<yr;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=$n(r),isNaN(l))return{stiffness:vr.stiffness,damping:vr.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const yr=12;function wr(e,t){return e*Math.sqrt(1-t*t)}const jr=["duration","bounce"],Nr=["stiffness","damping","mass"];function Sr(e,t){return t.some((t=>void 0!==e[t]))}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:p,isResolvedFromDuration:f}=function(e){let t=(0,B.A)({velocity:vr.velocity,stiffness:vr.stiffness,damping:vr.damping,mass:vr.mass,isResolvedFromDuration:!1},e);if(!Sr(e,Nr)&&Sr(e,jr))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,i=2*z(.05,1,1-(e.bounce||0))*Math.sqrt(o);t=(0,B.A)((0,B.A)({},t),{},{mass:vr.mass,stiffness:o,damping:i})}else{const n=br(e);t=(0,B.A)((0,B.A)((0,B.A)({},t),n),{},{mass:vr.mass}),t.isResolvedFromDuration=!0}return t}((0,B.A)((0,B.A)({},n),{},{velocity:-Zn(n.velocity||0)})),h=p||0,m=c/(2*Math.sqrt(l*d)),g=a-i,v=Zn(Math.sqrt(l/d)),x=Math.abs(g)<5;let b;if(r||(r=x?vr.restSpeed.granular:vr.restSpeed.default),o||(o=x?vr.restDelta.granular:vr.restDelta.default),m<1){const e=wr(v,m);b=t=>{const n=Math.exp(-m*v*t);return a-n*((h+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-v*e)*(g+(h+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((h+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const y={calculatedDuration:f&&u||null,next:e=>{const t=b(e);if(f)s.done=e>=u;else{let n=0===e?h:0;m<1&&(n=0===e?$n(h):gr(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=o;s.done=i&&l}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(mr(y),hr),t=fr((t=>y.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return y}function Er(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const p=t[0],f={done:!1,value:p},h=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=p+m,v=void 0===s?g:s(g);v!==g&&(m=v-p);const x=e=>-m*Math.exp(-e/o),b=e=>v+x(e),y=e=>{const t=x(e),n=b(e);f.done=Math.abs(t)<=d,f.value=f.done?v:n};let w,j;const N=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=Ar({keyframes:[f.value,h(f.value)],velocity:gr(b,e,f.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,y(e),N(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&y(e),f)}}}Ar.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)((0,B.A)((0,B.A)({},e),{},{keyframes:[0,t]})),r=Math.min(mr(n),hr);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Zn(r)}}(e,100,Ar);return e.ease=t.ease,e.duration=$n(t.duration),e.type="keyframes",e};const kr=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Cr(e,t,n,r){if(e===t&&n===r)return se;const o=t=>function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=kr(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:kr(o(e),t,r)}const _r=Cr(.42,0,1,1),Pr=Cr(0,0,.58,1),Or=Cr(.42,0,.58,1),Tr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Mr=e=>t=>1-e(1-t),Ir=Cr(.33,1.53,.69,.99),Rr=Mr(Ir),Dr=Tr(Rr),Lr=e=>(e*=2)<1?.5*Rr(e):.5*(2-Math.pow(2,-10*(e-1))),Fr=e=>1-Math.sin(Math.acos(e)),Br=Mr(Fr),zr=Tr(Fr),Ur=e=>Array.isArray(e)&&"number"===typeof e[0],Vr={linear:se,easeIn:_r,easeInOut:Or,easeOut:Pr,circIn:Fr,circInOut:zr,circOut:Br,backIn:Rr,backInOut:Dr,backOut:Ir,anticipate:Lr},Wr=e=>{if(Ur(e)){e.length;const[t,n,r,o]=e;return Cr(t,n,r,o)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Vr[e]):e},Hr=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function qr(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],o=n||le.mix||ur,i=e.length-1;for(let a=0;a<i;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||se:t;n=Xn(e,n)}r.push(n)}return r}(t,r,o),l=s.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=Hr(e[r],e[r+1],n);return s[r](o)};return n?t=>c(z(e[0],e[i-1],t)):c}function Kr(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Hr(0,t,r);e.push(j(n,1,o))}}(t,e.length-1),t}function Gr(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(Wr):Wr(o),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Kr(n),t),l=qr(s,n,{ease:Array.isArray(i)?i:(c=n,d=i,c.map((()=>d||Or)).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const Yr=e=>null!==e;function Xr(e,t,n){let{repeat:r,repeatType:o="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(Yr),s=i<0||r&&"loop"!==o&&r%2===1?0:a.length-1;return s&&void 0!==n?n:a[s]}const $r={decay:Er,inertia:Er,tween:Gr,keyframes:Gr,spring:Ar};function Zr(e){"string"===typeof e.type&&(e.type=$r[e.type])}class Jr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Qr=e=>e/100;class eo extends Jr{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==it.now()&&this.tick(it.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Jn.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Zr(e);const{type:t=Gr,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=e;let{keyframes:a}=e;const s=t||Gr;s!==Gr&&"number"!==typeof a[0]&&(this.mixKeyframes=Xn(Qr,ur(a[0],a[1])),a=[0,100]);const l=s((0,B.A)((0,B.A)({},e),{},{keyframes:a}));"mirror"===o&&(this.mirroredGenerator=s((0,B.A)((0,B.A)({},e),{},{keyframes:[...a].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=mr(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:p,type:f,onUpdate:h,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let x=this.currentTime,b=n;if(d){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,p&&(n-=p/a)):"mirror"===u&&(b=i)),x=z(0,1,n)*a}const y=v?{done:!1,value:c[0]}:b.next(x);o&&(y.value=o(y.value));let{done:w}=y;v||null===s||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&f!==Er&&(y.value=Xr(c,this.options,m,this.speed)),h&&h(y.value),j&&this.finish(),y}then(e,t){return this.finished.then(e,t)}get duration(){return Zn(this.calculatedDuration)}get time(){return Zn(this.currentTime)}set time(e){var t;e=$n(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(it.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Zn(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=pr,startTime:r}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const o=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=o):null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:o),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(it.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Jn.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function to(e){let t;return()=>(void 0===t&&(t=e()),t)}const no=to((()=>void 0!==window.ScrollTimeline)),ro={};function oo(e,t){const n=to(e);return()=>{var e;return null!==(e=ro[t])&&void 0!==e?e:n()}}const io=oo((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),ao=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},so={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ao([0,.65,.55,1]),circOut:ao([.55,0,1,.45]),backIn:ao([.31,.01,.66,-.59]),backOut:ao([.33,1.53,.69,.99])};function lo(e,t){return e?"function"===typeof e?io()?fr(e,t):"ease-out":Ur(e)?ao(e):Array.isArray(e)?e.map((e=>lo(e,t)||so.easeOut)):so[e]:void 0}function co(e,t,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:a="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:n};l&&(d.offset=l);const u=lo(s,o);Array.isArray(u)&&(d.easing=u),de.value&&Jn.waapi++;const p={delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(p.pseudoElement=c);const f=e.animate(d,p);return de.value&&f.finished.finally((()=>{Jn.waapi--})),f}function uo(e){return"function"===typeof e&&"applyToOptions"in e}const po=["type"];class fo extends Jr{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:a,onComplete:s}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t}=e,n=(0,nt.A)(e,po);return uo(t)&&io()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(o=n.ease)&&void 0!==o||(n.ease="easeOut"),n);var r,o}(e);this.animation=co(t,n,r,l,o),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=Xr(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===s||void 0===s||s(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Zn(Number(n))}get time(){return Zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$n(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&no()?(this.animation.timeline=t,se):n(this)}}const ho={anticipate:Lr,backInOut:Dr,circInOut:zr};function mo(e){"string"===typeof e.ease&&e.ease in ho&&(e.ease=ho[e.ease])}const go=["motionValue","onUpdate","onComplete","element"];class vo extends fo{constructor(e){mo(e),Zr(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:o,onComplete:i,element:a}=n,s=(0,nt.A)(n,go);if(!r)return;if(void 0!==e)return void r.set(e);const l=new eo((0,B.A)((0,B.A)({},s),{},{autoplay:!1})),c=$n(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const xo=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Ve.test(e)&&"0"!==e||e.startsWith("url(")));const bo=new Set(["opacity","clipPath","filter","transform"]),yo=to((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const wo=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class jo extends Jr{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:d,element:u}=e,p=(0,nt.A)(e,wo);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=it.now();const f=(0,B.A)({autoplay:n,delay:r,type:o,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:d,element:u},p),h=(null===u||void 0===u?void 0:u.KeyframeResolver)||je;this.keyframeResolver=new h(l,((e,t,n)=>this.onKeyframesResolved(e,t,f,!n)),c,d,u),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:a,delay:s,isHandoff:l,onUpdate:c}=n;this.resolvedAt=it.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=xo(o,t),s=xo(i,t);return"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(i,'". "').concat(a?i:o,'" is not an animatable value.'),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||uo(n))&&r)}(e,o,i,a)||(!le.instantAnimations&&s||null===c||void 0===c||c(Xr(e,n,t)),e[0]=e[e.length-1],Gn(n),n.repeat=0);const d=r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,u=(0,B.A)((0,B.A)({startTime:d,finalKeyframe:t},n),{},{keyframes:e}),p=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:a,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return yo()&&r&&bo.has(r)&&("transform"!==r||!c)&&!l&&!o&&"mirror"!==i&&0!==a&&"inertia"!==s}(u)?new vo((0,B.A)((0,B.A)({},u),{},{element:u.motionValue.owner.current})):new eo(u);p.finished.then((()=>this.notifyFinished())).catch(se),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),be=!0,we(),ye(),be=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const No=e=>null!==e;const So={type:"spring",stiffness:500,damping:25,restSpeed:10},Ao={type:"keyframes",duration:.8},Eo={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ko=(e,t)=>{let{keyframes:n}=t;return n.length>2?Ao:i.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:So:Eo},Co=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const _o=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const s=Un(r,e)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=$n(l);const d=(0,B.A)((0,B.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},s),{},{delay:-c,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:d}=e,u=(0,nt.A)(e,Co);return!!Object.keys(u).length})(s)||Object.assign(d,ko(e,d)),d.duration&&(d.duration=$n(d.duration)),d.repeatDelay&&(d.repeatDelay=$n(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(Gn(d),0===d.delay&&(u=!0)),(le.instantAnimations||le.skipAnimations)&&(u=!0,Gn(d),d.delay=0),d.allowFlatten=!s.type&&!s.ease,u&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const i=e.filter(No),a=r&&"loop"!==o&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}(d.keyframes,s);if(void 0!==e)return void pe.update((()=>{d.onUpdate(e),d.onComplete()}))}return s.isSync?new eo(d):new jo(d)}},Po=["transition","transitionEnd"];function Oo(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function To(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:a}=t,s=(0,nt.A)(t,Po);r&&(i=r);const l=[],c=o&&e.animationState&&e.animationState.getState()[o];for(const u in s){var d;const t=e.getValue(u,null!==(d=e.latestValues[u])&&void 0!==d?d:null),r=s[u];if(void 0===r||c&&Oo(c,u))continue;const o=(0,B.A)({delay:n},Un(i||{},u)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!o.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const t=Kn(e);if(t){const e=window.MotionHandoffAnimation(t,u,pe);null!==e&&(o.startTime=e,p=!0)}}qn(e,u),t.start(_o(u,t,r,e.shouldReduceMotion&&F.has(u)?{type:!1}:o,e,p));const f=t.animation;f&&l.push(f)}return a&&Promise.all(l).then((()=>{pe.update((()=>{a&&function(e,t){let n=zn(e,t)||{},{transitionEnd:r={},transition:o={}}=n,i=(0,nt.A)(n,Wn);i=(0,B.A)((0,B.A)({},i),r);for(const s in i)Hn(e,s,(a=i[s],Vn(a)?a[a.length-1]||0:a));var a}(e,a)}))})),l}function Mo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(e).sort(((e,t)=>e.sortNodePosition(t))).indexOf(t),a=e.size,s=(a-1)*r;return"function"===typeof n?n(i,a):1===o?i*r:s-i*r}function Io(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=zn(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(i=r.transitionOverride);const a=o?()=>Promise.all(To(e,o,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(Io(l,t,(0,B.A)((0,B.A)({},a),{},{delay:n+("function"===typeof r?0:r)+Mo(e.variantChildren,l,r,o,i)})).then((()=>l.notify("AnimationComplete",t))));return Promise.all(s)}(e,t,n,o,a,s,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then((()=>t()))}return Promise.all([a(),s(r.delay)])}function Ro(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Do=Et.length;function Lo(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Lo(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Do;n++){const r=Et[n],o=e.props[r];(St(o)||!1===o)&&(t[r]=o)}return t}const Fo=["transition","transitionEnd"],Bo=[...At].reverse(),zo=At.length;function Uo(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>Io(e,t,r)));n=Promise.all(o)}else if("string"===typeof t)n=Io(e,t,r);else{const o="function"===typeof t?zn(e,t,r.custom):t;n=Promise.all(To(e,o,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Vo(e){let t=Uo(e),n=qo(),r=!0;const o=t=>(n,r)=>{var o;const i=zn(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=(0,nt.A)(i,Fo);n=(0,B.A)((0,B.A)((0,B.A)({},n),r),t)}return n};function i(i){const{props:a}=e,s=Lo(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<zo;t++){const p=Bo[t],f=n[p],h=void 0!==a[p]?a[p]:s[p],m=St(h),g=p===i?f.isActive:null;!1===g&&(u=t);let v=h===s[p]&&h!==a[p]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys=(0,B.A)({},d),!f.isActive&&null===g||!h&&!f.prevProp||Nt(h)||"boolean"===typeof h)continue;const x=Wo(f.prevProp,h);let b=x||p===i&&f.isActive&&!v&&m||t>u&&m,y=!1;const w=Array.isArray(h)?h:[h];let j=w.reduce(o(p),{});!1===g&&(j={});const{prevResolvedValues:N={}}=f,S=(0,B.A)((0,B.A)({},N),j),A=t=>{b=!0,c.has(t)&&(y=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=j[e],n=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Vn(t)&&Vn(n)?!Ro(t,n):t!==n,r?void 0!==t&&null!==t?A(e):c.add(e):void 0!==t&&c.has(e)?A(e):f.protectedKeys[e]=!0}f.prevProp=h,f.prevResolvedValues=j,f.isActive&&(d=(0,B.A)((0,B.A)({},d),j)),r&&e.blockInitialAnimation&&(b=!1);const E=v&&x;b&&(!E||y)&&l.push(...w.map((t=>{const n={type:p};if("string"===typeof t&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,o=zn(r,t);if(r.enteringChildren&&o){const{delayChildren:t}=o.transition||{};n.delay=Mo(r.enteringChildren,e,t)}}return{animation:t,options:n}})))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=zn(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let p=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=qo(),r=!0}}}function Wo(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Ro(t,e)}function Ho(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qo(){return{animate:Ho(!0),whileInView:Ho(),whileHover:Ho(),whileTap:Ho(),whileDrag:Ho(),whileFocus:Ho(),exit:Ho()}}class Ko{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Go=0;const Yo={animation:{Feature:class extends Ko{constructor(e){super(e),e.animationState||(e.animationState=Vo(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Ko{constructor(){super(...arguments),this.id=Go++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Xo={x:!1,y:!1};function $o(){return Xo.x||Xo.y}function Zo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Jo=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Qo(e){return{point:{x:e.pageX,y:e.pageY}}}function ei(e,t,n,r){return Zo(e,t,(e=>t=>Jo(t)&&e(t,Qo(t)))(n),r)}function ti(e){return e.max-e.min}function ni(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=j(t.min,t.max,e.origin),e.scale=ti(n)/ti(t),e.translate=j(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ri(e,t,n,r){ni(e.x,t.x,n.x,r?r.originX:void 0),ni(e.y,t.y,n.y,r?r.originY:void 0)}function oi(e,t,n){e.min=n.min+t.min,e.max=e.min+ti(t)}function ii(e,t,n){e.min=t.min-n.min,e.max=e.min+ti(t)}function ai(e,t,n){ii(e.x,t.x,n.x),ii(e.y,t.y,n.y)}function si(e){return[e("x"),e("y")]}const li=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ci=(e,t)=>Math.abs(e-t);class di{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=fi(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ci(e.x,t.x),r=ci(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=he;this.history.push((0,B.A)((0,B.A)({},r),{},{timestamp:o}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ui(t,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=fi("pointercancel"===e.type?this.lastMoveEventInfo:ui(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Jo(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const a=ui(Qo(e),this.transformPagePoint),{point:s}=a,{timestamp:l}=he;this.history=[(0,B.A)((0,B.A)({},s),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,fi(a,this.history)),this.removeListeners=Xn(ei(this.contextWindow,"pointermove",this.handlePointerMove),ei(this.contextWindow,"pointerup",this.handlePointerUp),ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fe(this.updatePoint)}}function ui(e,t){return t?{point:t(e.point)}:e}function pi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fi(e,t){let{point:n}=e;return{point:n,delta:pi(n,mi(t)),offset:pi(n,hi(t)),velocity:gi(t,.1)}}function hi(e){return e[0]}function mi(e){return e[e.length-1]}function gi(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=mi(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>$n(t)));)n--;if(!r)return{x:0,y:0};const i=Zn(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function vi(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function xi(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const bi=.35;function yi(e,t,n){return{min:wi(e,t),max:wi(e,n)}}function wi(e,t){return"number"===typeof e?e:e[t]||0}const ji=new WeakMap;class Ni{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new di(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Qo(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Xo[i]?null:(Xo[i]=!0,()=>{Xo[i]=!1}):Xo.x||Xo.y?null:(Xo.x=Xo.y=!0,()=>{Xo.x=Xo.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si((e=>{let t=this.getAxisMotionValue(e).get()||0;if(K.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ti(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&pe.postRender((()=>o(e,t))),qn(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>si((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:li(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&pe.postRender((()=>a(n,r)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Si(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?j(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?j(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&Pn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:vi(e.x,r,i),y:vi(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi;return!1===e?e=0:!0===e&&(e=bi),{x:yi(e,"left","right"),y:yi(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&si((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pn(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=L(e,n),{scroll:o}=t;return o&&(I(r.x,o.offset.x),I(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:xi(e.x,t.x),y:xi(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=w(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=si((a=>{if(!Si(a,t,this.currentDirection))return;let l=s&&s[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u=(0,B.A)((0,B.A)({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),l);return this.startAxisValueAnimation(a,u)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return qn(this.visualElement,e),n.start(_o(e,n,0,t,this.visualElement,!1))}stopAnimation(){si((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){si((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){si((t=>{const{drag:n}=this.getProps();if(!Si(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-j(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Pn(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};si((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=ti(e),o=ti(t);return o>r?n=Hr(t.min,t.max-r,e.min):r>o&&(n=Hr(e.min,e.max-o,t.min)),z(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),si((t=>{if(!Si(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(j(o,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;ji.set(this.visualElement,this);const e=ei(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Pn(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),pe.read(t);const o=Zo(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(si((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=bi,dragMomentum:a=!0}=e;return(0,B.A)((0,B.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a})}}function Si(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ai=e=>(t,n)=>{e&&pe.postRender((()=>e(t,n)))};var Ei=n(28917);const ki={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ci(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _i={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!G.test(e))return e;e=parseFloat(e)}const n=Ci(e,t.target.x),r=Ci(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Pi={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=Ve.parse(e);if(i.length>5)return o;const a=Ve.createTransformer(e),s="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+s]/=l,i[1+s]/=c;const d=j(l,c,.5);return"number"===typeof i[2+s]&&(i[2+s]/=d),"number"===typeof i[3+s]&&(i[3+s]/=d),a(i)}};let Oi=!1;class Ti extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;!function(e){for(const t in e)zt[t]=e[t],v(t)&&(zt[t].isCSSVariable=!0)}(Ii),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),Oi&&o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions((0,B.A)((0,B.A)({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),ki.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:i}=n;return i?(i.isPresent=o,Oi=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||pe.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ht.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Oi=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mi(e){const[t,n]=(0,Ei.xQ)(),o=(0,r.useContext)(rn.L);return(0,nn.jsx)(Ti,(0,B.A)((0,B.A)({},e),{},{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(Mn),isPresent:t,safeToRemove:n}))}const Ii={borderRadius:(0,B.A)((0,B.A)({},_i),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:_i,borderTopRightRadius:_i,borderBottomLeftRadius:_i,borderBottomRightRadius:_i,boxShadow:Pi};var Ri=n(18328);function Di(e){return(0,Ri.G)(e)&&"ownerSVGElement"in e}const Li=(e,t)=>e.depth-t.depth;class Fi{constructor(){this.children=[],this.isDirty=!1}add(e){at(this.children,e),this.isDirty=!0}remove(e){st(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Li),this.isDirty=!1,this.children.forEach(e)}}function Bi(e,t){const n=it.now(),r=o=>{let{timestamp:i}=o;const a=i-n;a>=t&&(fe(r),e(a-t))};return pe.setup(r,!0),()=>fe(r)}const zi=["TopLeft","TopRight","BottomLeft","BottomRight"],Ui=zi.length,Vi=e=>"string"===typeof e?parseFloat(e):e,Wi=e=>"number"===typeof e||G.test(e);function Hi(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const qi=Gi(0,.5,Br),Ki=Gi(.5,.95,se);function Gi(e,t,n){return r=>r<e?0:r>t?1:n(Hr(e,t,r))}function Yi(e,t){e.min=t.min,e.max=t.max}function Xi(e,t){Yi(e.x,t.x),Yi(e.y,t.y)}function $i(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zi(e,t,n,r,o){return e=C(e-=t,1/n,r),void 0!==o&&(e=C(e,1/o,r)),e}function Ji(e,t,n,r,o){let[i,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;K.test(t)&&(t=parseFloat(t),t=j(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=j(i.min,i.max,r);e===i&&(s-=t),e.min=Zi(e.min,t,n,s,o),e.max=Zi(e.max,t,n,s,o)}(e,t[i],t[a],t[s],t.scale,r,o)}const Qi=["x","scaleX","originX"],ea=["y","scaleY","originY"];function ta(e,t,n,r){Ji(e.x,t,Qi,n?n.x:void 0,r?r.x:void 0),Ji(e.y,t,ea,n?n.y:void 0,r?r.y:void 0)}function na(e){return 0===e.translate&&1===e.scale}function ra(e){return na(e.x)&&na(e.y)}function oa(e,t){return e.min===t.min&&e.max===t.max}function ia(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function aa(e,t){return ia(e.x,t.x)&&ia(e.y,t.y)}function sa(e){return ti(e.x)/ti(e.y)}function la(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ca{constructor(){this.members=[]}add(e){at(this.members,e),e.scheduleRender()}remove(e){if(st(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const da={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},ua=["","X","Y","Z"];let pa=0;function fa(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ha(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Kn(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",pe,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ha(r)}function ma(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=pa++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,de.value&&(da.nodes=da.calculatedTargetDeltas=da.calculatedProjections=0),this.nodes.forEach(xa),this.nodes.forEach(Aa),this.nodes.forEach(Ea),this.nodes.forEach(ba),de.addProjectionMetrics&&de.addProjectionMetrics(da)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fi)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new lt),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Di(e)&&!(Di(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const o=()=>this.root.updateBlockedByResize=!1;pe.read((()=>{r=window.innerWidth})),t(e,(()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=Bi(o,250),ki.hasAnimatedSinceResize&&(ki.hasAnimatedSinceResize=!1,this.nodes.forEach(Sa)))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||Ta,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!aa(this.targetLayout,o),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,B.A)((0,B.A)({},Un(a,"layout")),{},{onPlay:s,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||Sa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ka),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ha(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(wa);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(ja);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Na),this.nodes.forEach(ga),this.nodes.forEach(va)):this.nodes.forEach(ja),this.clearAllSnapshots();const e=it.now();he.delta=z(0,1e3/60,e-he.timestamp),he.timestamp=e,he.isProcessing=!0,me.update.process(he),me.preRender.process(he),me.render.process(he),he.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ht.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ya),this.sharedNodes.forEach(Ca)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ti(this.snapshot.measuredBox.x)||ti(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ra(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||A(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Ra((r=n).x),Ra(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(La))){const{scroll:e}=this.root;e&&(I(n.x,e.offset.x),I(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Xi(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:i}=t;t!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&Xi(n,e),I(n.x,o.offset.x),I(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Xi(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&D(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),A(e.latestValues)&&D(n,e.latestValues)}return A(this.latestValues)&&D(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Xi(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!A(e.latestValues))continue;S(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Xi(r,e.measurePageBox()),ta(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return A(this.latestValues)&&ta(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,B.A)((0,B.A)((0,B.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==he.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:i}=this.options;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=he.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ai(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Xi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,oi(a.x,s.x,l.x),oi(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Xi(this.target,this.layout.layoutBox),O(this.target,this.targetDelta)):Xi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ai(this.relativeTargetOrigin,this.target,e.target),Xi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}de.value&&da.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!S(this.parent.latestValues)&&!E(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===he.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;Xi(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,a;t.x=t.y=1;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&D(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,O(e,a)),r&&A(i.latestValues)&&D(e,i.latestValues))}t.x<M&&t.x>T&&(t.x=1),t.y<M&&t.y>T&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?($i(this.prevProjectionDelta.x,this.projectionDelta.x),$i(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ri(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&la(this.projectionDelta.x,this.prevProjectionDelta.x)&&la(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),de.value&&da.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=(0,B.A)({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(Oa));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,p;_a(i.x,e.x,n),_a(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ai(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Pa(e.x,t.x,n.x,r),Pa(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),u&&(l=this.relativeTarget,p=u,oa(l.x,p.x)&&oa(l.y,p.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Xi(u,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,i){var a,s;if(o)e.opacity=j(0,null!==(a=n.opacity)&&void 0!==a?a:1,qi(r)),e.opacityExit=j(null!==(s=t.opacity)&&void 0!==s?s:1,0,Ki(r));else if(i){var l,c;e.opacity=j(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let d=0;d<Ui;d++){const o="border".concat(zi[d],"Radius");let i=Hi(t,o),a=Hi(n,o);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||Wi(i)===Wi(a)?(e[o]=Math.max(j(Vi(i),Vi(a),r),0),(K.test(a)||K.test(i))&&(e[o]+="%")):e[o]=a)}(t.rotate||n.rotate)&&(e.rotate=j(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(fe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update((()=>{ki.hasAnimatedSinceResize=!0,Jn.layout++,this.motionValue||(this.motionValue=pt(0)),this.currentAnimation=function(e,t,n){const r=tt(e)?e:pt(e);return r.start(_o("",r,t,n)),r.animation}(this.motionValue,[0,1e3],(0,B.A)((0,B.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Jn.layout--},onComplete:()=>{Jn.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Da(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ti(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ti(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Xi(t,n),D(t,o),ri(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ca);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&fa("z",e,r,this.animationValues);for(let o=0;o<ua.length;o++)fa("rotate".concat(ua[o]),e,r,this.animationValues),fa("skew".concat(ua[o]),e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Nn(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Nn(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!A(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const o=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((o||i||a)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:a,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),o&&(r+="rotateX(".concat(o,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+="scale(".concat(s,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);n&&(i=n(o,i)),e.transform=i;const{x:a,y:s}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*a.origin,"% ").concat(100*s.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=o.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:e.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const d in zt){if(void 0===o[d])continue;const{correct:t,applyTo:n,isCSSVariable:a}=zt[d],s="none"===i?o[d]:t(o[d],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else a?this.options.visualElement.renderState.vars[d]=s:e[d]=s}this.options.layoutId&&(e.pointerEvents=r===this?Nn(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(wa),this.root.sharedNodes.clear()}}}function ga(e){e.updateLayout()}function va(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?si((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=ti(r);r.min=t[e].min,r.max=r.min+o})):Da(o,n.layoutBox,t)&&si((r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],a=ti(t[r]);o.max=o.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ri(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?ri(s,e.applyTransform(r,!0),n.measuredBox):ri(s,t,n.layoutBox);const l=!ra(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};ai(a,n.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};ai(s,t,i.layoutBox),aa(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function xa(e){de.value&&da.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ba(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ya(e){e.clearSnapshot()}function wa(e){e.clearMeasurements()}function ja(e){e.isLayoutDirty=!1}function Na(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Sa(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Aa(e){e.resolveTargetDelta()}function Ea(e){e.calcProjection()}function ka(e){e.resetSkewAndRotation()}function Ca(e){e.removeLeadSnapshot()}function _a(e,t,n){e.translate=j(t.translate,0,n),e.scale=j(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Pa(e,t,n,r){e.min=j(t.min,n.min,r),e.max=j(t.max,n.max,r)}function Oa(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ta={duration:.45,ease:[.4,0,.1,1]},Ma=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ia=Ma("applewebkit/")&&!Ma("chrome/")?Math.round:se;function Ra(e){e.min=Ia(e.min),e.max=Ia(e.max)}function Da(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=sa(t),o=sa(n),i=.2,!(Math.abs(r-o)<=i));var r,o,i}function La(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Fa=ma({attachResizeListener:(e,t)=>Zo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ba={current:void 0},za=ma({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ba.current){const e=new Fa({});e.mount(window),e.setOptions({layoutScroll:!0}),Ba.current=e}return Ba.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ua={pan:{Feature:class extends Ko{constructor(){super(...arguments),this.removePointerDownListener=se}onPointerDown(e){this.session=new di(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:li(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ai(e),onStart:Ai(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&pe.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=ei(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ko{constructor(e){super(e),this.removeGroupControls=se,this.removeListeners=se,this.controls=new Ni(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||se}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:za,MeasureLayout:Mi}};function Va(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let o=document;t&&(o=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,(0,B.A)((0,B.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function Wa(e){return!("touch"===e.pointerType||$o())}function Ha(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&pe.postRender((()=>o(t,Qo(t))))}var qa=n(8676);const Ka=(e,t)=>!!t&&(e===t||Ka(e,t.parentElement)),Ga=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Ya=new WeakSet;function Xa(e){return t=>{"Enter"===t.key&&e(t)}}function $a(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Za(e){return Jo(e)&&!$o()}function Ja(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=Va(e,n),a=e=>{const r=e.currentTarget;if(!Za(e))return;Ya.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),Ya.has(r)&&Ya.delete(r),Za(e)&&"function"===typeof i&&i(e,{success:t})},s=e=>{a(e,r===window||r===document||n.useGlobalTarget||Ka(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",s,o),window.addEventListener("pointercancel",l,o)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,o),(0,qa.s)(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Xa((()=>{if(Ya.has(n))return;$a(n,"down");const e=Xa((()=>{$a(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>$a(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,o))),t=e,Ga.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),i}function Qa(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&pe.postRender((()=>o(t,Qo(t))))}const es=["root"],ts=new WeakMap,ns=new WeakMap,rs=e=>{const t=ts.get(e.target);t&&t(e)},os=e=>{e.forEach(rs)};function is(e,t,n){const r=function(e){let{root:t}=e,n=(0,nt.A)(e,es);const r=t||document;ns.has(r)||ns.set(r,{});const o=ns.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(os,(0,B.A)({root:t},n))),o[i]}(t);return ts.set(e,n),r.observe(e),()=>{ts.delete(e),r.unobserve(e)}}const as={some:0,all:1};const ss={inView:{Feature:class extends Ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:as[r]};return is(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=Ja(e,((e,t)=>(Qa(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return Qa(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xn(Zo(this.node.current,"focus",(()=>this.onFocus())),Zo(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=Va(e,n),a=e=>{if(!Wa(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{Wa(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,o)};return r.forEach((e=>{e.addEventListener("pointerenter",a,o)})),i}(e,((e,t)=>(Ha(this.node,t,"Start"),e=>Ha(this.node,e,"End")))))}unmount(){}}}},ls={layout:{ProjectionNode:za,MeasureLayout:Mi}},cs=Bn((0,B.A)((0,B.A)((0,B.A)((0,B.A)({},Yo),ss),Ua),ls),tn)},46686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},46704:e=>{e.exports=function(e){return this.__data__.has(e)}},47251:(e,t,n)=>{var r=n(98724),o=n(97160),i=n(85204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},47574:e=>{e.exports=function(e){return function(t){return e(t)}}},48066:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(65043),o=n(80710),i=n(16704),a=n(77248);function s(e,t){let n=(0,r.useId)(),s=o.D.get(t),[l,c]=(0,i.y)(s,(0,r.useCallback)((e=>[s.selectors.isTop(e,n),s.selectors.inStack(e,n)]),[s,n]));return(0,a.s)((()=>{if(e)return s.actions.push(n),()=>s.actions.pop(n)}),[s,e,n]),!!e&&(!c||l)}},48734:(e,t,n)=>{var r=n(95575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},48895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},49791:(e,t,n)=>{var r=n(78208),o=n(46297),i=n(68396),a=n(50388);e.exports=function e(t,n,s,l){var c=t.children(n),d=t.node(n),u=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,f={};u&&(c=r.filter(c,(function(e){return e!==u&&e!==p})));var h=o(t,c);r.forEach(h,(function(n){if(t.children(n.v).length){var o=e(t,n.v,s,l);f[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var m=i(h,s);!function(e,t){r.forEach(e,(function(e){e.vs=r.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(m,f);var g=a(m,l);if(u&&(g.vs=r.flatten([u,g.vs,p],!0),t.predecessors(u).length)){var v=t.node(t.predecessors(u)[0]),x=t.node(t.predecessors(p)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+v.order+x.order)/(g.weight+2),g.weight+=2}return g}},49825:(e,t,n)=>{var r=n(38353);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},50010:(e,t,n)=>{"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{A:()=>r})},50061:e=>{e.exports=function(e,t){return e<t}},50108:(e,t,n)=>{"use strict";n.d(t,{u:()=>g});var r=n(58387),o=n(65043),i=n(79889),a=n.n(i),s=n(76307),l=n(155),c=n(240);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=(0,o.forwardRef)((function(e,t){var n=e.aspect,i=e.initialDimension,d=void 0===i?{width:-1,height:-1}:i,u=e.width,f=void 0===u?"100%":u,m=e.height,g=void 0===m?"100%":m,v=e.minWidth,x=void 0===v?0:v,b=e.minHeight,y=e.maxHeight,w=e.children,j=e.debounce,N=void 0===j?0:j,S=e.id,A=e.className,E=e.onResize,k=e.style,C=void 0===k?{}:k,_=(0,o.useRef)(null),P=(0,o.useRef)();P.current=E,(0,o.useImperativeHandle)(t,(function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})}));var O=h((0,o.useState)({containerWidth:d.width,containerHeight:d.height}),2),T=O[0],M=O[1],I=(0,o.useCallback)((function(e,t){M((function(n){var r=Math.round(e),o=Math.round(t);return n.containerWidth===r&&n.containerHeight===o?n:{containerWidth:r,containerHeight:o}}))}),[]);(0,o.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,o=n.height;I(r,o),null===(t=P.current)||void 0===t||t.call(P,r,o)};N>0&&(e=a()(e,N,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=_.current.getBoundingClientRect(),r=n.width,o=n.height;return I(r,o),t.observe(_.current),function(){t.disconnect()}}),[I,N]);var R=(0,o.useMemo)((function(){var e=T.containerWidth,t=T.containerHeight;if(e<0||t<0)return null;(0,l.R)((0,s._3)(f)||(0,s._3)(g),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",f,g),(0,l.R)(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=(0,s._3)(f)?e:f,i=(0,s._3)(g)?t:g;n&&n>0&&(r?i=r/n:i&&(r=i*n),y&&i>y&&(i=y)),(0,l.R)(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,f,g,x,b,n);var a=!Array.isArray(w)&&(0,c.Mn)(w.type).endsWith("Chart");return o.Children.map(w,(function(e){return o.isValidElement(e)?(0,o.cloneElement)(e,p({width:r,height:i},a?{style:p({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e}))}),[n,w,g,y,b,x,T,f]);return o.createElement("div",{id:S?"".concat(S):void 0,className:(0,r.A)("recharts-responsive-container",A),style:p(p({},C),{},{width:f,height:g,minWidth:x,minHeight:b,maxHeight:y}),ref:_},R)}))},50149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},50388:(e,t,n)=>{var r=n(78208),o=n(65641);function i(e,t,n){for(var o;t.length&&(o=r.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}e.exports=function(e,t){var n=o.partition(e,(function(e){return r.has(e,"barycenter")})),a=n.lhs,s=r.sortBy(n.rhs,(function(e){return-e.i})),l=[],c=0,d=0,u=0;a.sort((p=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:p?t.i-e.i:e.i-t.i})),u=i(l,s,u),r.forEach(a,(function(e){u+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,u=i(l,s,u)}));var p;var f={vs:r.flatten(l,!0)};d&&(f.barycenter=c/d,f.weight=d);return f}},50480:(e,t,n)=>{"use strict";n.d(t,{ag:()=>d,iK:()=>l});var r=n(65043),o=n(35870),i=n(65086),a=n(70579);const s=(0,r.createContext)(null);function l(e){let{children:t}=e;const{business:n}=(0,i.h)(),l=(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n?void 0:n.businessId)||null,[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null),m=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{silent:!1};if(!l)return d(null),h(null),void p(!1);try{e.silent||p(!0),h(null);const t=await o.default.get("/entitlements/".concat(l),{__silent401:!0,__silent403:!0,__silent429:!0});d(t.data||null)}catch(t){console.error("[Entitlements] fetch error",t),h(t)}finally{e.silent||p(!1)}}),[l]);(0,r.useEffect)((()=>{if(!l)return d(null),h(null),void p(!1);m({silent:!1})}),[l,m]);const{featureSet:g,featureList:v,quotaMap:x}=(0,r.useMemo)((()=>{var e;const t=c,n=(Array.isArray(null===t||void 0===t?void 0:t.grantedPermissions)?t.grantedPermissions:(null===t||void 0===t||null===(e=t.features)||void 0===e?void 0:e.map((e=>e.code)))||[]).map((e=>String(e||"").toUpperCase())),r=new Set(n),o=Array.isArray(null===t||void 0===t?void 0:t.quotas)?t.quotas:[],i=new Map;for(const a of o){const e=(a.quotaKey||a.code||a.key||a.QuotaKey||"").toUpperCase();e&&i.set(e,a)}return{featureSet:r,featureList:n,quotaMap:i}}),[c]),b=(0,r.useCallback)((e=>{if(!e)return!1;const t=String(e).toUpperCase();return g.has(t)}),[g]),y=(0,r.useCallback)((e=>{if(!c||!e)return null;if(Array.isArray(c.features)){const t=String(e).toUpperCase();return c.features.find((e=>String(e.code||"").toUpperCase()===t))||null}const t=String(e).toUpperCase();return g.has(t)?{code:t,allowed:!0}:null}),[c,g]),w=(0,r.useCallback)((e=>{if(!e)return null;const t=String(e).toUpperCase();return x.get(t)||null}),[x]),j=(0,r.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return!0;const n=String(e).toUpperCase(),r=x.get(n);if(!r)return!0;const o="number"===typeof r.remaining?r.remaining:"number"===typeof r.Remaining?r.Remaining:null;return null==o||o>=t}),[x]),N=(0,r.useMemo)((()=>({snapshot:c,loading:u,error:f,refresh:()=>m({silent:!1}),hasFeature:b,getFeature:y,getQuota:w,canSpend:j,grantedPermissions:v})),[c,u,f,m,b,y,w,j,v]);return(0,a.jsx)(s.Provider,{value:N,children:t})}function c(){const e=(0,r.useContext)(s);if(!e)throw new Error("useEntitlements must be used within an EntitlementsProvider");return e}function d(e){const{getQuota:t}=c();return e?t(e):null}},50516:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},50539:(e,t,n)=>{var r=n(79742),o=n(97498),i=n(33279);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},50551:(e,t,n)=>{"use strict";function r(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}n.d(t,{_:()=>r})},50715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+c+l+")*"),u="(?:"+[i+r+"?",r,a,s,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+u+d,"g");e.exports=function(e){return e.match(p)||[]}},50723:(e,t,n)=>{var r=n(17529),o=n(87171),i=n(9096),a=n(54052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},50781:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},50797:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},51097:(e,t,n)=>{var r=n(95750),o=n(20191);function i(e){return r.map(e.nodes(),(function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},51104:(e,t,n)=>{var r=n(96614),o=n(28673);e.exports=function(e,t){return e&&r(t,o(t),e)}},51107:(e,t,n)=>{"use strict";n.d(t,{bq:()=>s,wt:()=>l,sD:()=>a});var r=n(98493);let o=!1;function i(){return o}function a(e,t){if(!i())return!(!t||!e)&&e.contains(t);if(!e||!t)return!1;let n=t;for(;null!==n;){if(n===e)return!0;n="SLOT"===n.tagName&&n.assignedSlot?n.assignedSlot.parentNode:(0,r.Ng)(n)?n.host:n.parentNode}return!1}const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;var t;if(!i())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(null===(t=n.shadowRoot)||void 0===t?void 0:t.activeElement);)n=n.shadowRoot.activeElement;return n};function l(e){return i()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}},51153:(e,t,n)=>{"use strict";var r=n(65043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:d,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},51268:(e,t,n)=>{var r=n(35428),o=n(47574),i=n(56832),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},51419:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},51736:(e,t,n)=>{"use strict";n.d(t,{St:()=>se,UF:()=>ie,G3:()=>oe,Xc:()=>ne,TI:()=>re,zn:()=>te});var r=n(89379),o=n(20816),i=n(80045),a=n(65043),s=n.t(a,2);function l(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}var c=n(55e3),d=n(35702),u=n(97950),p=n(35885),f="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;function h(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!h(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!h(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function m(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function g(e,t){const n=m(e);return Math.round(t*n)/n}function v(e){const t=a.useRef(e);return f((()=>{t.current=e})),t}const x=(e,t)=>(0,r.A)((0,r.A)({},(0,p.cY)(e)),{},{options:[e,t]}),b=(e,t)=>(0,r.A)((0,r.A)({},(0,p.BN)(e)),{},{options:[e,t]}),y=(e,t)=>(0,r.A)((0,r.A)({},(0,p.UU)(e)),{},{options:[e,t]}),w=(e,t)=>(0,r.A)((0,r.A)({},(0,p.Ej)(e)),{},{options:[e,t]}),j=["listRef","overflowRef","onFallbackChange","offset","index","minItemsVisible","referenceOverflowThreshold","scrollRef"];const N=(0,r.A)({},s),S=N.useInsertionEffect||(e=>e());function A(e){const t=a.useRef((()=>{0}));return S((()=>{t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const E="ArrowUp",k="ArrowDown",C="ArrowLeft",_="ArrowRight";var P="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;const O=[C,_],T=[E,k];let M=!1,I=0;const R=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+I++;const D=N.useId||function(){const[e,t]=a.useState((()=>M?R():void 0));return P((()=>{null==e&&t(R())}),[]),a.useEffect((()=>{M=!0}),[]),e};function L(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const F=a.createContext(null),B=a.createContext(null),z=()=>{var e;return(null==(e=a.useContext(F))?void 0:e.id)||null},U=()=>a.useContext(B);const V="data-floating-ui-focusable";function W(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=D(),i=a.useRef({}),[s]=a.useState((()=>L())),l=null!=z(),[c,d]=a.useState(r.reference),u=A(((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),p=a.useMemo((()=>({setPositionReference:d})),[]),f=a.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);return a.useMemo((()=>({dataRef:i,open:t,onOpenChange:u,elements:f,events:s,floatingId:o,refs:p})),[t,u,f,s,o,p])}((0,r.A)((0,r.A)({},e),{},{elements:(0,r.A)({reference:null,floating:null},e.elements)})),o=e.rootContext||n,i=o.elements,[s,l]=a.useState(null),[c,x]=a.useState(null),b=(null==i?void 0:i.domReference)||s,y=a.useRef(null),w=U();P((()=>{b&&(y.current=b)}),[b]);const j=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:d,open:x}=e,[b,y]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,j]=a.useState(o);h(w,o)||j(o);const[N,S]=a.useState(null),[A,E]=a.useState(null),k=a.useCallback((e=>{e!==O.current&&(O.current=e,S(e))}),[]),C=a.useCallback((e=>{e!==T.current&&(T.current=e,E(e))}),[]),_=s||N,P=l||A,O=a.useRef(null),T=a.useRef(null),M=a.useRef(b),I=null!=d,R=v(d),D=v(i),L=v(x),F=a.useCallback((()=>{if(!O.current||!T.current)return;const e={placement:t,strategy:n,middleware:w};D.current&&(e.platform=D.current),(0,p.rD)(O.current,T.current,e).then((e=>{const t=(0,r.A)((0,r.A)({},e),{},{isPositioned:!1!==L.current});B.current&&!h(M.current,t)&&(M.current=t,u.flushSync((()=>{y(t)})))}))}),[w,t,n,D,L]);f((()=>{!1===x&&M.current.isPositioned&&(M.current.isPositioned=!1,y((e=>(0,r.A)((0,r.A)({},e),{},{isPositioned:!1}))))}),[x]);const B=a.useRef(!1);f((()=>(B.current=!0,()=>{B.current=!1})),[]),f((()=>{if(_&&(O.current=_),P&&(T.current=P),_&&P){if(R.current)return R.current(_,P,F);F()}}),[_,P,F,R,I]);const z=a.useMemo((()=>({reference:O,floating:T,setReference:k,setFloating:C})),[k,C]),U=a.useMemo((()=>({reference:_,floating:P})),[_,P]),V=a.useMemo((()=>{const e={position:n,left:0,top:0};if(!U.floating)return e;const t=g(U.floating,b.x),o=g(U.floating,b.y);return c?(0,r.A)((0,r.A)({},e),{},{transform:"translate("+t+"px, "+o+"px)"},m(U.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:o}}),[n,c,U.floating,b.x,b.y]);return a.useMemo((()=>(0,r.A)((0,r.A)({},b),{},{update:F,refs:z,elements:U,floatingStyles:V})),[b,F,z,U,V])}((0,r.A)((0,r.A)({},e),{},{elements:(0,r.A)((0,r.A)({},i),c&&{reference:c})})),N=a.useCallback((e=>{const t=(0,d.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;x(t),j.refs.setReference(t)}),[j.refs]),S=a.useCallback((e=>{((0,d.vq)(e)||null===e)&&(y.current=e,l(e)),((0,d.vq)(j.refs.reference.current)||null===j.refs.reference.current||null!==e&&!(0,d.vq)(e))&&j.refs.setReference(e)}),[j.refs]),E=a.useMemo((()=>(0,r.A)((0,r.A)({},j.refs),{},{setReference:S,setPositionReference:N,domReference:y})),[j.refs,S,N]),k=a.useMemo((()=>(0,r.A)((0,r.A)({},j.elements),{},{domReference:b})),[j.elements,b]),C=a.useMemo((()=>(0,r.A)((0,r.A)((0,r.A)({},j),o),{},{refs:E,elements:k,nodeId:t})),[j,E,k,t,o]);return P((()=>{o.dataRef.current.floatingContext=C;const e=null==w?void 0:w.nodesRef.current.find((e=>e.id===t));e&&(e.context=C)})),a.useMemo((()=>(0,r.A)((0,r.A)({},j),{},{context:C,refs:E,elements:k})),[j,E,k,C])}const H="active",q="selected";function K(e,t,n){const a=new Map,s="item"===n;let l=e;if(s&&e){const{[H]:t,[q]:n}=e;l=(0,i.A)(e,[H,q].map(o.A))}return(0,r.A)((0,r.A)((0,r.A)({},"floating"===n&&{tabIndex:-1,[V]:""}),l),t.map((t=>{const r=t?t[n]:null;return"function"===typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,r]=t;var o;s&&[H,q].includes(n)||(0===n.indexOf("on")?(a.has(n)||a.set(n,[]),"function"===typeof r&&(null==(o=a.get(n))||o.push(r),e[n]=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return null==(e=a.get(n))?void 0:e.map((e=>e(...r))).find((e=>void 0!==e))})):e[n]=r)})),e):e),{}))}function G(e,t){return(0,r.A)((0,r.A)({},e),{},{rects:(0,r.A)((0,r.A)({},e.rects),{},{floating:(0,r.A)((0,r.A)({},e.rects.floating),{},{height:t})})})}const Y=e=>({name:"inner",options:e,async fn(t){const n=(0,c._3)(e,t),{listRef:o,overflowRef:a,onFallbackChange:s,offset:l=0,index:d=0,minItemsVisible:f=4,referenceOverflowThreshold:h=0,scrollRef:m}=n,g=(0,i.A)(n,j),{rects:v,elements:{floating:b}}=t,y=o.current[d],w=(null==m?void 0:m.current)||b,N=b.clientTop||w.clientTop,S=0!==b.clientTop,A=0!==w.clientTop,E=b===w;if(!y)return{};const k=(0,r.A)((0,r.A)({},t),await x(-y.offsetTop-b.clientTop-v.reference.height/2-y.offsetHeight/2-l).fn(t)),C=await(0,p.__)(G(k,w.scrollHeight+N+b.clientTop),g),_=await(0,p.__)(k,(0,r.A)((0,r.A)({},g),{},{elementContext:"reference"})),P=(0,c.T9)(0,C.top),O=k.y+P,T=(w.scrollHeight>w.clientHeight?e=>e:c.LI)((0,c.T9)(0,w.scrollHeight+(S&&E||A?2*N:0)-P-(0,c.T9)(0,C.bottom)));if(w.style.maxHeight=T+"px",w.scrollTop=P,s){const e=w.offsetHeight<y.offsetHeight*(0,c.jk)(f,o.current.length)-1||_.top>=-h||_.bottom>=-h;u.flushSync((()=>s(e)))}return a&&(a.current=await(0,p.__)(G((0,r.A)((0,r.A)({},k),{},{y:O}),w.offsetHeight+N+b.clientTop),g)),{y:O}}});var X=n(23057),$=n(55962),Z=n(77248),J=n(44113);let Q=(0,a.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Q.displayName="FloatingContext";let ee=(0,a.createContext)(null);function te(e){return(0,a.useMemo)((()=>e?"string"==typeof e?{to:e}:e:null),[e])}function ne(){return(0,a.useContext)(Q).setReference}function re(){return(0,a.useContext)(Q).getReferenceProps}function oe(){let{getFloatingProps:e,slot:t}=(0,a.useContext)(Q);return(0,a.useCallback)((function(){return Object.assign({},e(...arguments),{"data-anchor":t.anchor})}),[e,t])}function ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,a.useContext)(ee),n=(0,a.useMemo)((()=>e),[JSON.stringify(e,((e,t)=>{var n;return null!=(n=null==t?void 0:t.outerHTML)?n:t}))]);(0,Z.s)((()=>{null==t||t(null!=n?n:null)}),[t,n]);let r=(0,a.useContext)(Q);return(0,a.useMemo)((()=>[r.setFloating,e?r.styles:{}]),[r.setFloating,e,r.styles])}ee.displayName="PlacementContext";let ae=4;function se(e){let{children:t,enabled:n=!0}=e,[o,i]=(0,a.useState)(null),[s,c]=(0,a.useState)(0),d=(0,a.useRef)(null),[f,h]=(0,a.useState)(null);!function(e){(0,Z.s)((()=>{if(!e)return;let t=new MutationObserver((()=>{let t=window.getComputedStyle(e).maxHeight,n=parseFloat(t);if(isNaN(n))return;let r=parseInt(t);isNaN(r)||n!==r&&(e.style.maxHeight="".concat(Math.ceil(n),"px"))}));return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}}),[e])}(f);let m=n&&null!==o&&null!==f,{to:g="bottom",gap:v=0,offset:j=0,padding:N=0,inner:S}=function(e,t){var n,o,i;let a=le(null!=(n=null==e?void 0:e.gap)?n:"var(--anchor-gap, 0)",t),s=le(null!=(o=null==e?void 0:e.offset)?o:"var(--anchor-offset, 0)",t),l=le(null!=(i=null==e?void 0:e.padding)?i:"var(--anchor-padding, 0)",t);return(0,r.A)((0,r.A)({},e),{},{gap:a,offset:s,padding:l})}(o,f),[E,k="center"]=g.split(" ");(0,Z.s)((()=>{m&&c(0)}),[m]);let{refs:C,floatingStyles:_,context:P}=W({open:m,placement:"selection"===E?"center"===k?"bottom":"bottom-".concat(k):"center"===k?"".concat(E):"".concat(E,"-").concat(k),strategy:"absolute",transform:!1,middleware:[x({mainAxis:"selection"===E?0:v,crossAxis:j}),b({padding:N}),"selection"!==E&&y({padding:N}),"selection"===E&&S?Y((0,r.A)((0,r.A)({},S),{},{padding:N,overflowRef:d,offset:s,minItemsVisible:ae,referenceOverflowThreshold:N,onFallbackChange(e){var t,n;if(!e)return;let r=P.elements.floating;if(!r)return;let o=parseFloat(getComputedStyle(r).scrollPaddingBottom)||0,i=Math.min(ae,r.childElementCount),a=0,s=0;for(let l of null!=(n=null==(t=P.elements.floating)?void 0:t.childNodes)?n:[])if(J.sb(l)){let e=l.offsetTop,t=e+l.clientHeight+o,n=r.scrollTop,c=n+r.clientHeight;if(!(e>=n&&t<=c)){s=Math.max(0,Math.min(t,c)-Math.max(e,n)),a=l.clientHeight;break}i--}i>=1&&c((e=>{let t=a*i-s+o;return e>=t?e:t}))}})):null,w({padding:N,apply(e){let{availableWidth:t,availableHeight:n,elements:r}=e;Object.assign(r.floating.style,{overflow:"auto",maxWidth:"".concat(t,"px"),maxHeight:"min(var(--anchor-max-height, 100vh), ".concat(n,"px)")})}})].filter(Boolean),whileElementsMounted:p.ll}),[O=E,T=k]=P.placement.split("-");"selection"===E&&(O="selection");let M=(0,a.useMemo)((()=>({anchor:[O,T].filter(Boolean).join(" ")})),[O,T]),I=function(e,t){const{open:n,elements:o}=e,{enabled:i=!0,overflowRef:s,scrollRef:c,onChange:d}=t,p=A(d),f=a.useRef(!1),h=a.useRef(null),m=a.useRef(null);a.useEffect((()=>{if(!i)return;function e(e){if(e.ctrlKey||!t||null==s.current)return;const n=e.deltaY,r=s.current.top>=-.5,o=s.current.bottom>=-.5,i=t.scrollHeight-t.clientHeight,a=n<0?-1:1,c=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!o&&n<0?(e.preventDefault(),u.flushSync((()=>{p((e=>e+Math[c](n,i*a)))}))):/firefox/i.test(l())&&(t.scrollTop+=n))}const t=(null==c?void 0:c.current)||o.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{h.current=t.scrollTop,null!=s.current&&(m.current=(0,r.A)({},s.current))})),()=>{h.current=null,m.current=null,t.removeEventListener("wheel",e)}):void 0}),[i,n,o.floating,s,c,p]);const g=a.useMemo((()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const e=(null==c?void 0:c.current)||o.floating;if(s.current&&e&&f.current){if(null!==h.current){const t=e.scrollTop-h.current;(s.current.bottom<-.5&&t<-1||s.current.top<-.5&&t>1)&&u.flushSync((()=>p((e=>e+t))))}requestAnimationFrame((()=>{h.current=e.scrollTop}))}}})),[o.floating,p,s,c]);return a.useMemo((()=>i?{floating:g}:{}),[i,g])}(P,{overflowRef:d,onChange:c}),{getReferenceProps:R,getFloatingProps:D}=function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),o=a.useCallback((t=>K(t,e,"reference")),t),i=a.useCallback((t=>K(t,e,"floating")),n),s=a.useCallback((t=>K(t,e,"item")),r);return a.useMemo((()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s})),[o,i,s])}([I]),L=(0,$._)((e=>{h(e),C.setFloating(e)}));return a.createElement(ee.Provider,{value:i},a.createElement(Q.Provider,{value:{setFloating:L,setReference:C.setReference,styles:_,getReferenceProps:R,getFloatingProps:D,slot:M}},t))}function le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=(0,X.L)(),o=(0,$._)(((e,t)=>{if(null==e)return[n,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[n,null];let o=de(e,t);return[o,n=>{let i=ce(e);{let a=i.map((e=>window.getComputedStyle(t).getPropertyValue(e)));r.requestAnimationFrame((function s(){r.nextFrame(s);let l=!1;for(let[e,n]of i.entries()){let r=window.getComputedStyle(t).getPropertyValue(n);if(a[e]!==r){a[e]=r,l=!0;break}}if(!l)return;let c=de(e,t);o!==c&&(n(c),o=c)}))}return r.dispose}]}return[n,null]})),i=(0,a.useMemo)((()=>o(e,t)[0]),[e,t]),[s=i,l]=(0,a.useState)();return(0,Z.s)((()=>{let[n,r]=o(e,t);if(l(n),r)return r(l)}),[e,t]),s}function ce(e){let t=/var\((.*)\)/.exec(e);if(t){let e=t[1].indexOf(",");if(-1===e)return[t[1]];let n=t[1].slice(0,e).trim(),r=t[1].slice(e+1).trim();return r?[n,...ce(r)]:[n]}return[]}function de(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}},51774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a=[]},t.log=function(){0},t.handleBlur=c,t.handleFocus=d,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",d,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",d))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",d)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",d))};var r,o=n(34682),i=(r=o)&&r.__esModule?r:{default:r};var a=[],s=null,l=!1;function c(){l=!0}function d(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()}),0)}}},51896:(e,t,n)=>{var r=n(2125);e.exports=function(e,t){return r(e,t,"post")}},51946:(e,t,n)=>{var r=n(61340);e.exports=function(e){return r(this.__data__,e)>-1}},52074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},52103:(e,t,n)=>{"use strict";n.d(t,{DR:()=>b,pj:()=>j,rY:()=>C,yi:()=>k,Yp:()=>y,hj:()=>E,sk:()=>A,AF:()=>w,Nk:()=>S,$G:()=>N});var r=n(65043),o=n(3404),i=n(98990),a=n.n(i),s=n(17002),l=n.n(s),c=n(15797),d=n.n(c)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")})),u=n(76307);var p=(0,r.createContext)(void 0),f=(0,r.createContext)(void 0),h=(0,r.createContext)(void 0),m=(0,r.createContext)({}),g=(0,r.createContext)(void 0),v=(0,r.createContext)(0),x=(0,r.createContext)(0),b=function(e){var t=e.state,n=t.xAxisMap,o=t.yAxisMap,i=t.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=d(i);return r.createElement(p.Provider,{value:n},r.createElement(f.Provider,{value:o},r.createElement(m.Provider,{value:i},r.createElement(h.Provider,{value:u},r.createElement(g.Provider,{value:a},r.createElement(v.Provider,{value:c},r.createElement(x.Provider,{value:l},s)))))))},y=function(){return(0,r.useContext)(g)};var w=function(e){var t=(0,r.useContext)(p);null==t&&(0,o.A)(!1);var n=t[e];return null==n&&(0,o.A)(!1),n},j=function(){var e=(0,r.useContext)(p);return(0,u.lX)(e)},N=function(){var e=(0,r.useContext)(f);return a()(e,(function(e){return l()(e.domain,Number.isFinite)}))||(0,u.lX)(e)},S=function(e){var t=(0,r.useContext)(f);null==t&&(0,o.A)(!1);var n=t[e];return null==n&&(0,o.A)(!1),n},A=function(){return(0,r.useContext)(h)},E=function(){return(0,r.useContext)(m)},k=function(){return(0,r.useContext)(x)},C=function(){return(0,r.useContext)(v)}},52587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},52866:(e,t,n)=>{var r=n(52969);e.exports=function(e){return function(t){return r(t,e)}}},52969:(e,t,n)=>{var r=n(35324),o=n(70914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},53366:(e,t,n)=>{var r=n(27894),o=n(99057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},53737:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},53763:(e,t,n)=>{"use strict";e.exports=n(54983)},53871:e=>{e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},54052:e=>{var t=Array.isArray;e.exports=t},54160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},54320:(e,t,n)=>{var r=n(83713),o=n(26924),i=n(22777),a=n(54052),s=n(6571),l=n(44543),c=n(36140),d=n(51268),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},54373:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>$n});var r=n(89379);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n(80045),l=n(65043),c=n.t(l,2),d=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var u=n(58168);var p=n(20816);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,p.A)(r.key),r)}}var h=n(63662);function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var v=n(82284);function x(e,t){if(t&&("object"==(0,v.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),w=Math.abs,j=String.fromCharCode,N=Object.assign;function S(e){return e.trim()}function A(e,t,n){return e.replace(t,n)}function E(e,t){return e.indexOf(t)}function k(e,t){return 0|e.charCodeAt(t)}function C(e,t,n){return e.slice(t,n)}function _(e){return e.length}function P(e){return e.length}function O(e,t){return t.push(e),e}var T=1,M=1,I=0,R=0,D=0,L="";function F(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:T,column:M,length:a,return:""}}function B(e,t){return N(F("",null,null,"",null,null,0),e,{length:-e.length},t)}function z(){return D=R>0?k(L,--R):0,M--,10===D&&(M=1,T--),D}function U(){return D=R<I?k(L,R++):0,M++,10===D&&(M=1,T++),D}function V(){return k(L,R)}function W(){return R}function H(e,t){return C(L,e,t)}function q(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K(e){return T=M=1,I=_(L=e),R=0,[]}function G(e){return L="",e}function Y(e){return S(H(R-1,Z(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(D=V())&&D<33;)U();return q(e)>2||q(D)>3?"":" "}function $(e,t){for(;--t&&U()&&!(D<48||D>102||D>57&&D<65||D>70&&D<97););return H(e,W()+(t<6&&32==V()&&32==U()))}function Z(e){for(;U();)switch(D){case e:return R;case 34:case 39:34!==e&&39!==e&&Z(D);break;case 40:41===e&&Z(e);break;case 92:U()}return R}function J(e,t){for(;U()&&e+D!==57&&(e+D!==84||47!==V()););return"/*"+H(t,R-1)+"*"+j(47===e?e:U())}function Q(e){for(;!q(V());)U();return H(e,R)}var ee="-ms-",te="-moz-",ne="-webkit-",re="comm",oe="rule",ie="decl",ae="@keyframes";function se(e,t){for(var n="",r=P(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function le(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ie:return e.return=e.return||e.value;case re:return"";case ae:return e.return=e.value+"{"+se(e.children,r)+"}";case oe:e.value=e.props.join(",")}return _(n=se(e.children,r))?e.return=e.value+"{"+n+"}":""}function ce(e){return G(de("",null,null,null,[""],e=K(e),0,[0],e))}function de(e,t,n,r,o,i,a,s,l){for(var c=0,d=0,u=a,p=0,f=0,h=0,m=1,g=1,v=1,x=0,b="",y=o,w=i,N=r,S=b;g;)switch(h=x,x=U()){case 40:if(108!=h&&58==k(S,u-1)){-1!=E(S+=A(Y(x),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=Y(x);break;case 9:case 10:case 13:case 32:S+=X(h);break;case 92:S+=$(W()-1,7);continue;case 47:switch(V()){case 42:case 47:O(pe(J(U(),W()),t,n),l);break;default:S+="/"}break;case 123*m:s[c++]=_(S)*v;case 125*m:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+d:-1==v&&(S=A(S,/\f/g,"")),f>0&&_(S)-u&&O(f>32?fe(S+";",r,n,u-1):fe(A(S," ","")+";",r,n,u-2),l);break;case 59:S+=";";default:if(O(N=ue(S,t,n,c,d,o,s,b,y=[],w=[],u),i),123===x)if(0===d)de(S,t,N,N,y,i,u,s,w);else switch(99===p&&110===k(S,3)?100:p){case 100:case 108:case 109:case 115:de(e,N,N,r&&O(ue(e,N,N,0,0,o,s,b,o,y=[],u),w),o,w,u,s,r?y:w);break;default:de(S,N,N,N,[""],w,0,s,w)}}c=d=f=0,m=v=1,b=S="",u=a;break;case 58:u=1+_(S),f=h;default:if(m<1)if(123==x)--m;else if(125==x&&0==m++&&125==z())continue;switch(S+=j(x),x*m){case 38:v=d>0?1:(S+="\f",-1);break;case 44:s[c++]=(_(S)-1)*v,v=1;break;case 64:45===V()&&(S+=Y(U())),p=V(),d=u=_(b=S+=Q(W())),x++;break;case 45:45===h&&2==_(S)&&(m=0)}}return i}function ue(e,t,n,r,o,i,a,s,l,c,d){for(var u=o-1,p=0===o?i:[""],f=P(p),h=0,m=0,g=0;h<r;++h)for(var v=0,x=C(e,u+1,u=w(m=a[h])),b=e;v<f;++v)(b=S(m>0?p[v]+" "+x:A(x,/&\f/g,p[v])))&&(l[g++]=b);return F(e,t,n,0===o?oe:s,l,c,d)}function pe(e,t,n){return F(e,t,n,re,j(D),C(e,2,-2),0)}function fe(e,t,n,r){return F(e,t,n,ie,C(e,0,r),C(e,r+1,-1),r)}var he=function(e,t,n){for(var r=0,o=0;r=o,o=V(),38===r&&12===o&&(t[n]=1),!q(o);)U();return H(e,R)},me=function(e,t){return G(function(e,t){var n=-1,r=44;do{switch(q(r)){case 0:38===r&&12===V()&&(t[n]=1),e[n]+=he(R-1,t,n);break;case 2:e[n]+=Y(r);break;case 4:if(44===r){e[++n]=58===V()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=j(r)}}while(r=U());return e}(K(e),t))},ge=new WeakMap,ve=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ge.get(n))&&!r){ge.set(e,!0);for(var o=[],i=me(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},xe=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function be(e,t){switch(function(e,t){return 45^k(e,0)?(((t<<2^k(e,0))<<2^k(e,1))<<2^k(e,2))<<2^k(e,3):0}(e,t)){case 5103:return ne+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ne+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ne+e+te+e+ee+e+e;case 6828:case 4268:return ne+e+ee+e+e;case 6165:return ne+e+ee+"flex-"+e+e;case 5187:return ne+e+A(e,/(\w+).+(:[^]+)/,ne+"box-$1$2"+ee+"flex-$1$2")+e;case 5443:return ne+e+ee+"flex-item-"+A(e,/flex-|-self/,"")+e;case 4675:return ne+e+ee+"flex-line-pack"+A(e,/align-content|flex-|-self/,"")+e;case 5548:return ne+e+ee+A(e,"shrink","negative")+e;case 5292:return ne+e+ee+A(e,"basis","preferred-size")+e;case 6060:return ne+"box-"+A(e,"-grow","")+ne+e+ee+A(e,"grow","positive")+e;case 4554:return ne+A(e,/([^-])(transform)/g,"$1"+ne+"$2")+e;case 6187:return A(A(A(e,/(zoom-|grab)/,ne+"$1"),/(image-set)/,ne+"$1"),e,"")+e;case 5495:case 3959:return A(e,/(image-set\([^]*)/,ne+"$1$`$1");case 4968:return A(A(e,/(.+:)(flex-)?(.*)/,ne+"box-pack:$3"+ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ne+e+e;case 4095:case 3583:case 4068:case 2532:return A(e,/(.+)-inline(.+)/,ne+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_(e)-1-t>6)switch(k(e,t+1)){case 109:if(45!==k(e,t+4))break;case 102:return A(e,/(.+:)(.+)-([^]+)/,"$1"+ne+"$2-$3$1"+te+(108==k(e,t+3)?"$3":"$2-$3"))+e;case 115:return~E(e,"stretch")?be(A(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==k(e,t+1))break;case 6444:switch(k(e,_(e)-3-(~E(e,"!important")&&10))){case 107:return A(e,":",":"+ne)+e;case 101:return A(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ne+(45===k(e,14)?"inline-":"")+"box$3$1"+ne+"$2$3$1"+ee+"$2box$3")+e}break;case 5936:switch(k(e,t+11)){case 114:return ne+e+ee+A(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ne+e+ee+A(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ne+e+ee+A(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ne+e+ee+e+e}return e}var ye=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ie:e.return=be(e.value,e.length);break;case ae:return se([B(e,{value:A(e.value,"@","@"+ne)})],r);case oe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return se([B(e,{props:[A(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return se([B(e,{props:[A(t,/:(plac\w+)/,":"+ne+"input-$1")]}),B(e,{props:[A(t,/:(plac\w+)/,":-moz-$1")]}),B(e,{props:[A(t,/:(plac\w+)/,ee+"input-$1")]})],r)}return""}))}}],we=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,i=e.stylisPlugins||ye,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c,d=[le,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],u=function(e){var t=P(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}([ve,xe].concat(i,d));o=function(e,t,n,r){l=n,se(ce(e?e+"{"+t.styles+"}":t.styles),u),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new y({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return p.sheet.hydrate(s),p};var je=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var Ne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Se(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ae=/[A-Z]|^ms/g,Ee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ke=function(e){return 45===e.charCodeAt(1)},Ce=function(e){return null!=e&&"boolean"!==typeof e},_e=Se((function(e){return ke(e)?e:e.replace(Ae,"-$&").toLowerCase()})),Pe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ee,(function(e,t,n){return Te={name:t,styles:n,next:Te},t}))}return 1===Ne[e]||ke(e)||"number"!==typeof t||0===t?t:t+"px"};function Oe(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return Te={name:o.name,styles:o.styles,next:Te},o.name;var i=n;if(void 0!==i.styles){var a=i.next;if(void 0!==a)for(;void 0!==a;)Te={name:a.name,styles:a.styles,next:Te},a=a.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Oe(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!==typeof a){var s=a;null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":Ce(s)&&(r+=_e(i)+":"+Pe(i,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=Oe(e,t,a);switch(i){case"animation":case"animationName":r+=_e(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var c=0;c<a.length;c++)Ce(a[c])&&(r+=_e(i)+":"+Pe(i,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=Te,l=n(e);return Te=s,Oe(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var Te,Me=/label:\s*([^\s;{]+)\s*(;|$)/g;function Ie(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";Te=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=Oe(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++){if(o+=Oe(n,t,e[a]),r)o+=i[a]}Me.lastIndex=0;for(var s,l="";null!==(s=Me.exec(o));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:Te}}var Re=!!c.useInsertionEffect&&c.useInsertionEffect,De=Re||function(e){return e()},Le=(Re||l.useLayoutEffect,l.createContext("undefined"!==typeof HTMLElement?we({key:"css"}):null)),Fe=(Le.Provider,function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(Le);return e(t,r,n)}))}),Be=l.createContext({});var ze={}.hasOwnProperty,Ue="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ve=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return je(t,n,r),De((function(){return function(e,t,n){je(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,n,r)})),null},We=Fe((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[Ue],i=[r],a="";"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(t.registered,i,e.className):null!=e.className&&(a=e.className+" ");var s=Ie(i,void 0,l.useContext(Be));a+=t.key+"-"+s.name;var c={};for(var d in e)ze.call(e,d)&&"css"!==d&&d!==Ue&&(c[d]=e[d]);return c.className=a,n&&(c.ref=n),l.createElement(l.Fragment,null,l.createElement(Ve,{cache:t,serialized:s,isStringTag:"string"===typeof o}),l.createElement(o,c))})),He=We,qe=(n(80219),function(e,t){var n=arguments;if(null==t||!ze.call(t,"css"))return l.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=He,o[1]=function(e,t){var n={};for(var r in t)ze.call(t,r)&&(n[r]=t[r]);return n[Ue]=e,n}(e,t);for(var i=2;i<r;i++)o[i]=n[i];return l.createElement.apply(null,o)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(qe||(qe={}));function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ie(t)}var Ge=n(57528),Ye=n(64467),Xe=n(97950),$e=n(35885),Ze=l.useLayoutEffect,Je=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Qe=function(){};function et(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function tt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&i.push("".concat(et(e,a)));return i.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var nt=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,v.A)(e)&&null!==e?[e]:[];var t},rt=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=(0,s.A)(e,Je);return(0,r.A)({},t)},ot=function(e,t,n){var r=e.cx,o=e.getStyles,i=e.getClassNames,a=e.className;return{css:o(t,e),className:r(null!==n&&void 0!==n?n:{},i(t,e),a)}};function it(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function at(e){return it(e)?window.pageYOffset:e.scrollTop}function st(e,t){it(e)?window.scrollTo(0,t):e.scrollTop=t}function lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qe,o=at(e),i=t-o,a=0;!function t(){var s=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(a+=10,o,i,n);st(e,s),a<n?window.requestAnimationFrame(t):r(e)}()}function ct(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?st(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&st(e,Math.max(t.offsetTop-o,0))}function dt(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var ut=!1,pt={get passive(){return ut=!0}},ft="undefined"!==typeof window?window:{};ft.addEventListener&&ft.removeEventListener&&(ft.addEventListener("p",Qe,pt),ft.removeEventListener("p",Qe,!1));var ht=ut;function mt(e){return null!=e}function gt(e,t,n){return e?t:n}var vt=["children","innerProps"],xt=["children","innerProps"];function bt(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,i=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d,u=l.getBoundingClientRect().height,p=n.getBoundingClientRect(),f=p.bottom,h=p.height,m=p.top,g=n.offsetParent.getBoundingClientRect().top,v=a?window.innerHeight:it(d=l)?window.innerHeight:d.clientHeight,x=at(l),b=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),w=g-y,j=v-m,N=w+x,S=u-x-m,A=f-v+x+b,E=x+m-y,k=160;switch(o){case"auto":case"bottom":if(j>=h)return{placement:"bottom",maxHeight:t};if(S>=h&&!a)return i&&lt(l,A,k),{placement:"bottom",maxHeight:t};if(!a&&S>=r||a&&j>=r)return i&&lt(l,A,k),{placement:"bottom",maxHeight:a?j-b:S-b};if("auto"===o||a){var C=t,_=a?w:N;return _>=r&&(C=Math.min(_-b-s,t)),{placement:"top",maxHeight:C}}if("bottom"===o)return i&&st(l,A),{placement:"bottom",maxHeight:t};break;case"top":if(w>=h)return{placement:"top",maxHeight:t};if(N>=h&&!a)return i&&lt(l,E,k),{placement:"top",maxHeight:t};if(!a&&N>=r||a&&w>=r){var P=t;return(!a&&N>=r||a&&w>=r)&&(P=a?w-y:N-y),i&&lt(l,E,k),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}var yt,wt=function(e){return"auto"===e?"bottom":e},jt=(0,l.createContext)(null),Nt=function(e){var t=e.children,n=e.minMenuHeight,o=e.maxMenuHeight,i=e.menuPlacement,s=e.menuPosition,c=e.menuShouldScrollIntoView,d=e.theme,u=((0,l.useContext)(jt)||{}).setPortalPlacement,p=(0,l.useRef)(null),f=a((0,l.useState)(o),2),h=f[0],m=f[1],g=a((0,l.useState)(null),2),v=g[0],x=g[1],b=d.spacing.controlHeight;return Ze((function(){var e=p.current;if(e){var t="fixed"===s,r=bt({maxHeight:o,menuEl:e,minHeight:n,placement:i,shouldScroll:c&&!t,isFixedPosition:t,controlHeight:b});m(r.maxHeight),x(r.placement),null===u||void 0===u||u(r.placement)}}),[o,i,s,c,n,u,b]),t({ref:p,placerProps:(0,r.A)((0,r.A)({},e),{},{placement:v||wt(i),maxHeight:h})})},St=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return qe("div",(0,u.A)({},ot(e,"menu",{menu:!0}),{ref:n},r),t)},At=function(e,t){var n=e.theme,o=n.spacing.baseUnit,i=n.colors;return(0,r.A)({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*o,"px ").concat(3*o,"px")})},Et=At,kt=At,Ct=["size"],_t=["innerProps","isRtl","size"];var Pt={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ot=function(e){var t=e.size,n=(0,s.A)(e,Ct);return qe("svg",(0,u.A)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Pt},n))},Tt=function(e){return qe(Ot,(0,u.A)({size:20},e),qe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Mt=function(e){return qe(Ot,(0,u.A)({size:20},e),qe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},It=function(e,t){var n=e.isFocused,o=e.theme,i=o.spacing.baseUnit,a=o.colors;return(0,r.A)({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*i,":hover":{color:n?a.neutral80:a.neutral40}})},Rt=It,Dt=It,Lt=function(){var e=Ke.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(yt||(yt=(0,Ge.A)(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),Ft=function(e){var t=e.delay,n=e.offset;return qe("span",{css:Ke({animation:"".concat(Lt," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Bt=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.innerRef,i=e.innerProps,a=e.menuIsOpen;return qe("div",(0,u.A)({ref:o},ot(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),i,{"aria-disabled":n||void 0}),t)},zt=["data"],Ut=function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.getClassNames,i=e.Heading,a=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return qe("div",(0,u.A)({},ot(e,"group",{group:!0}),s),qe(i,(0,u.A)({},a,{selectProps:d,theme:c,getStyles:r,getClassNames:o,cx:n}),l),qe("div",null,t))},Vt=["innerRef","isDisabled","isHidden","inputClassName"],Wt={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Ht={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":(0,r.A)({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Wt)},qt=function(e){return(0,r.A)({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Wt)},Kt=function(e){var t=e.children,n=e.innerProps;return qe("div",n,t)};var Gt=function(e){var t=e.children,n=e.components,o=e.data,i=e.innerProps,a=e.isDisabled,s=e.removeProps,l=e.selectProps,c=n.Container,d=n.Label,u=n.Remove;return qe(c,{data:o,innerProps:(0,r.A)((0,r.A)({},ot(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:l},qe(d,{data:o,innerProps:(0,r.A)({},ot(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),qe(u,{data:o,innerProps:(0,r.A)((0,r.A)({},ot(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:l}))},Yt={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return qe("div",(0,u.A)({},ot(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||qe(Tt,null))},Control:Bt,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return qe("div",(0,u.A)({},ot(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||qe(Mt,null))},DownChevron:Mt,CrossIcon:Tt,Group:Ut,GroupHeading:function(e){var t=rt(e);t.data;var n=(0,s.A)(t,zt);return qe("div",(0,u.A)({},ot(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return qe("div",(0,u.A)({},ot(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return qe("span",(0,u.A)({},t,ot(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=rt(e),o=r.innerRef,i=r.isDisabled,a=r.isHidden,l=r.inputClassName,c=(0,s.A)(r,Vt);return qe("div",(0,u.A)({},ot(e,"input",{"input-container":!0}),{"data-value":n||""}),qe("input",(0,u.A)({className:t({input:!0},l),ref:o,style:qt(a),disabled:i},c)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,o=e.size,i=void 0===o?4:o,a=(0,s.A)(e,_t);return qe("div",(0,u.A)({},ot((0,r.A)((0,r.A)({},a),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),qe(Ft,{delay:0,offset:n}),qe(Ft,{delay:160,offset:!0}),qe(Ft,{delay:320,offset:!n}))},Menu:St,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,o=e.isMulti;return qe("div",(0,u.A)({},ot(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,o=e.controlElement,i=e.innerProps,s=e.menuPlacement,c=e.menuPosition,d=(0,l.useRef)(null),p=(0,l.useRef)(null),f=a((0,l.useState)(wt(s)),2),h=f[0],m=f[1],g=(0,l.useMemo)((function(){return{setPortalPlacement:m}}),[]),v=a((0,l.useState)(null),2),x=v[0],b=v[1],y=(0,l.useCallback)((function(){if(o){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),t="fixed"===c?0:window.pageYOffset,n=e[h]+t;n===(null===x||void 0===x?void 0:x.offset)&&e.left===(null===x||void 0===x?void 0:x.rect.left)&&e.width===(null===x||void 0===x?void 0:x.rect.width)||b({offset:n,rect:e})}}),[o,c,h,null===x||void 0===x?void 0:x.offset,null===x||void 0===x?void 0:x.rect.left,null===x||void 0===x?void 0:x.rect.width]);Ze((function(){y()}),[y]);var w=(0,l.useCallback)((function(){"function"===typeof p.current&&(p.current(),p.current=null),o&&d.current&&(p.current=(0,$e.ll)(o,d.current,y,{elementResize:"ResizeObserver"in window}))}),[o,y]);Ze((function(){w()}),[w]);var j=(0,l.useCallback)((function(e){d.current=e,w()}),[w]);if(!t&&"fixed"!==c||!x)return null;var N=qe("div",(0,u.A)({ref:j},ot((0,r.A)((0,r.A)({},e),{},{offset:x.offset,position:c,rect:x.rect}),"menuPortal",{"menu-portal":!0}),i),n);return qe(jt.Provider,{value:g},t?(0,Xe.createPortal)(N,t):N)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,o=e.innerProps,i=(0,s.A)(e,xt);return qe("div",(0,u.A)({},ot((0,r.A)((0,r.A)({},i),{},{children:n,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,o=e.innerProps,i=(0,s.A)(e,vt);return qe("div",(0,u.A)({},ot((0,r.A)((0,r.A)({},i),{},{children:n,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),n)},MultiValue:Gt,MultiValueContainer:Kt,MultiValueLabel:Kt,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return qe("div",(0,u.A)({role:"button"},n),t||qe(Tt,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.isSelected,i=e.innerRef,a=e.innerProps;return qe("div",(0,u.A)({},ot(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":o}),{ref:i,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return qe("div",(0,u.A)({},ot(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,o=e.isRtl;return qe("div",(0,u.A)({},ot(e,"container",{"--is-disabled":r,"--is-rtl":o}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return qe("div",(0,u.A)({},ot(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,o=e.hasValue;return qe("div",(0,u.A)({},ot(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":o}),n),t)}},Xt=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function $t(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||Xt(r)&&Xt(o)))return!1;var r,o;return!0}for(var Zt={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Jt=function(e){return qe("span",(0,u.A)({css:Zt},e))},Qt={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,o=e.context,i=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,o=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return"option ".concat(r,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,o=e.label,i=void 0===o?"":o,a=e.selectValue,s=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(i," focused, ").concat(d(a,n),".");if("menu"===t&&c){var u=s?" disabled":"",p="".concat(l?" selected":"").concat(u);return"".concat(i).concat(p,", ").concat(d(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},en=function(e){var t=e.ariaSelection,n=e.focusedOption,o=e.focusedValue,i=e.focusableOptions,a=e.isFocused,s=e.selectValue,c=e.selectProps,d=e.id,u=e.isAppleDevice,p=c.ariaLiveMessages,f=c.getOptionLabel,h=c.inputValue,m=c.isMulti,g=c.isOptionDisabled,v=c.isSearchable,x=c.menuIsOpen,b=c.options,y=c.screenReaderStatus,w=c.tabSelectsValue,j=c.isLoading,N=c["aria-label"],S=c["aria-live"],A=(0,l.useMemo)((function(){return(0,r.A)((0,r.A)({},Qt),p||{})}),[p]),E=(0,l.useMemo)((function(){var e,n="";if(t&&A.onChange){var o=t.option,i=t.options,a=t.removedValue,l=t.removedValues,c=t.value,d=a||o||(e=c,Array.isArray(e)?null:e),u=d?f(d):"",p=i||l||void 0,h=p?p.map(f):[],m=(0,r.A)({isDisabled:d&&g(d,s),label:u,labels:h},t);n=A.onChange(m)}return n}),[t,A,g,s,f]),k=(0,l.useMemo)((function(){var e="",t=n||o,r=!!(n&&s&&s.includes(n));if(t&&A.onFocus){var a={focused:t,label:f(t),isDisabled:g(t,s),isSelected:r,options:i,context:t===n?"menu":"value",selectValue:s,isAppleDevice:u};e=A.onFocus(a)}return e}),[n,o,f,g,A,i,s,u]),C=(0,l.useMemo)((function(){var e="";if(x&&b.length&&!j&&A.onFilter){var t=y({count:i.length});e=A.onFilter({inputValue:h,resultsMessage:t})}return e}),[i,h,x,A,b,y,j]),_="initial-input-focus"===(null===t||void 0===t?void 0:t.action),P=(0,l.useMemo)((function(){var e="";if(A.guidance){var t=o?"value":x?"menu":"input";e=A.guidance({"aria-label":N,context:t,isDisabled:n&&g(n,s),isMulti:m,isSearchable:v,tabSelectsValue:w,isInitialFocus:_})}return e}),[N,n,o,m,g,v,x,A,s,w,_]),O=qe(l.Fragment,null,qe("span",{id:"aria-selection"},E),qe("span",{id:"aria-focused"},k),qe("span",{id:"aria-results"},C),qe("span",{id:"aria-guidance"},P));return qe(l.Fragment,null,qe(Jt,{id:d},_&&O),qe(Jt,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!_&&O))},tn=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],nn=new RegExp("["+tn.map((function(e){return e.letters})).join("")+"]","g"),rn={},on=0;on<tn.length;on++)for(var an=tn[on],sn=0;sn<an.letters.length;sn++)rn[an.letters[sn]]=an.base;var ln=function(e){return e.replace(nn,(function(e){return rn[e]}))},cn=function(e,t){void 0===t&&(t=$t);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}(ln),dn=function(e){return e.replace(/^\s+|\s+$/g,"")},un=function(e){return"".concat(e.label," ").concat(e.value)},pn=["innerRef"];function fn(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Object.entries(e).filter((function(e){var t=a(e,1)[0];return!n.includes(t)}));return o.reduce((function(e,t){var n=a(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}((0,s.A)(e,pn),"onExited","in","enter","exit","appear");return qe("input",(0,u.A)({ref:t},n,{css:Ke({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var hn=["boxSizing","height","overflow","paddingRight","position"],mn={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function gn(e){e.cancelable&&e.preventDefault()}function vn(e){e.stopPropagation()}function xn(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function bn(){return"ontouchstart"in window||navigator.maxTouchPoints}var yn=!("undefined"===typeof window||!window.document||!window.document.createElement),wn=0,jn={capture:!1,passive:!1};var Nn=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Sn={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function An(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,a=(0,l.useRef)(!1),s=(0,l.useRef)(!1),c=(0,l.useRef)(0),d=(0,l.useRef)(null),u=(0,l.useCallback)((function(e,t){if(null!==d.current){var l=d.current,c=l.scrollTop,u=l.scrollHeight,p=l.clientHeight,f=d.current,h=t>0,m=u-p-c,g=!1;m>t&&a.current&&(r&&r(e),a.current=!1),h&&s.current&&(i&&i(e),s.current=!1),h&&t>m?(n&&!a.current&&n(e),f.scrollTop=u,g=!0,a.current=!0):!h&&-t>c&&(o&&!s.current&&o(e),f.scrollTop=0,g=!0,s.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[n,r,o,i]),p=(0,l.useCallback)((function(e){u(e,e.deltaY)}),[u]),f=(0,l.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),h=(0,l.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;u(e,t)}),[u]),m=(0,l.useCallback)((function(e){if(e){var t=!!ht&&{passive:!1};e.addEventListener("wheel",p,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",h,t)}}),[h,f,p]),g=(0,l.useCallback)((function(e){e&&(e.removeEventListener("wheel",p,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",h,!1))}),[h,f,p]);return(0,l.useEffect)((function(){if(t){var e=d.current;return m(e),function(){g(e)}}}),[t,m,g]),function(e){d.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),i=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,o=(0,l.useRef)({}),i=(0,l.useRef)(null),a=(0,l.useCallback)((function(e){if(yn){var t=document.body,n=t&&t.style;if(r&&hn.forEach((function(e){var t=n&&n[e];o.current[e]=t})),r&&wn<1){var i=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+i||0;Object.keys(mn).forEach((function(e){var t=mn[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&bn()&&(t.addEventListener("touchmove",gn,jn),e&&(e.addEventListener("touchstart",xn,jn),e.addEventListener("touchmove",vn,jn))),wn+=1}}),[r]),s=(0,l.useCallback)((function(e){if(yn){var t=document.body,n=t&&t.style;wn=Math.max(wn-1,0),r&&wn<1&&hn.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&bn()&&(t.removeEventListener("touchmove",gn,jn),e&&(e.removeEventListener("touchstart",xn,jn),e.removeEventListener("touchmove",vn,jn)))}}),[r]);return(0,l.useEffect)((function(){if(t){var e=i.current;return a(e),function(){s(e)}}}),[t,a,s]),function(e){i.current=e}}({isEnabled:n});return qe(l.Fragment,null,n&&qe("div",{onClick:Nn,css:Sn}),t((function(e){o(e),i(e)})))}var En={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},kn=function(e){var t=e.name,n=e.onFocus;return qe("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:En,value:"",onChange:function(){}})};function Cn(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function _n(){return Cn(/^Mac/i)}function Pn(){return Cn(/^iPhone/i)||Cn(/^iPad/i)||_n()&&navigator.maxTouchPoints>1}var On={clearIndicator:Dt,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,o=e.isFocused,i=e.theme,a=i.colors,s=i.borderRadius,l=i.spacing;return(0,r.A)({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:o?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:o?a.primary:a.neutral30}})},dropdownIndicator:Rt,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,o=n.colors,i=n.spacing;return(0,r.A)({label:"group",cursor:"default",display:"block"},t?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,o=e.theme,i=o.spacing.baseUnit,a=o.colors;return(0,r.A)({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,o=e.value,i=e.theme,a=i.spacing,s=i.colors;return(0,r.A)((0,r.A)({visibility:n?"hidden":"visible",transform:o?"translateZ(0)":""},Ht),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,o=e.size,i=e.theme,a=i.colors,s=i.spacing.baseUnit;return(0,r.A)({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*s})},loadingMessage:kt,menu:function(e,t){var n,o=e.placement,i=e.theme,a=i.borderRadius,s=i.spacing,l=i.colors;return(0,r.A)((n={label:"menu"},(0,Ye.A)(n,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(o),"100%"),(0,Ye.A)(n,"position","absolute"),(0,Ye.A)(n,"width","100%"),(0,Ye.A)(n,"zIndex",1),n),t?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var n=e.maxHeight,o=e.theme.spacing.baseUnit;return(0,r.A)({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:o,paddingTop:o})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,o=n.spacing,i=n.borderRadius,a=n.colors;return(0,r.A)({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:o.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,o=n.borderRadius,i=n.colors,a=e.cropWithEllipsis;return(0,r.A)({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:o/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,o=n.spacing,i=n.borderRadius,a=n.colors,s=e.isFocused;return(0,r.A)({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:Et,option:function(e,t){var n=e.isDisabled,o=e.isFocused,i=e.isSelected,a=e.theme,s=a.spacing,l=a.colors;return(0,r.A)({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?l.primary:o?l.primary25:"transparent",color:n?l.neutral20:i?l.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?l.primary:l.primary50}})},placeholder:function(e,t){var n=e.theme,o=n.spacing,i=n.colors;return(0,r.A)({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,o=e.theme,i=o.spacing,a=o.colors;return(0,r.A)({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,o=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return(0,r.A)({alignItems:"center",display:o&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var Tn,Mn={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},In={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:dt(),captureMenuScroll:!dt(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=(0,r.A)({ignoreCase:!0,ignoreAccents:!0,stringify:un,trim:!0,matchFrom:"any"},Tn),o=n.ignoreCase,i=n.ignoreAccents,a=n.stringify,s=n.trim,l=n.matchFrom,c=s?dn(t):t,d=s?dn(a(e)):a(e);return o&&(c=c.toLowerCase(),d=d.toLowerCase()),i&&(c=cn(c),d=ln(d)),"start"===l?d.substr(0,c.length)===c:d.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Rn(e,t,n,r){return{type:"option",data:t,isDisabled:Wn(e,t,n),isSelected:Hn(e,t,n),label:Un(e,t),value:Vn(e,t),index:r}}function Dn(e,t){return e.options.map((function(n,r){if("options"in n){var o=n.options.map((function(n,r){return Rn(e,n,t,r)})).filter((function(t){return Bn(e,t)}));return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var i=Rn(e,n,t,r);return Bn(e,i)?i:void 0})).filter(mt)}function Ln(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,b(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Fn(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,b(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function Bn(e,t){var n=e.inputValue,r=void 0===n?"":n,o=t.data,i=t.isSelected,a=t.label,s=t.value;return(!Kn(e)||!i)&&qn(e,{label:a,value:s,data:o},r)}var zn=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},Un=function(e,t){return e.getOptionLabel(t)},Vn=function(e,t){return e.getOptionValue(t)};function Wn(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Hn(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Vn(e,t);return n.some((function(t){return Vn(e,t)===r}))}function qn(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Kn=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Gn=1,Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,h.A)(e,t)}(a,e);var t,n,o,i=function(e){var t=g();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}(a);function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=_n()||Pn(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,o=r.onChange,i=r.name;n.name=i,t.ariaOnChange(e,n),o(e,n)},t.setValue=function(e,n,r){var o=t.props,i=o.closeMenuOnSelect,a=o.isMulti,s=o.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),i&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,o=n.isMulti,i=n.name,a=t.state.selectValue,s=o&&t.isOptionSelected(e,a),l=t.isOptionDisabled(e,a);if(s){var c=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:i});o?t.setValue([].concat(b(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,o=t.getOptionValue(e),i=r.filter((function(e){return t.getOptionValue(e)!==o})),a=gt(n,i,i[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(gt(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],o=n.slice(0,n.length-1),i=gt(e,o,o[0]||null);r&&t.onChange(i,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return zn(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return Fn(Dn(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tt.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return Un(t.props,e)},t.getOptionValue=function(e){return Vn(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,o=On[e](n,r);o.boxSizing="border-box";var i=t.props.styles[e];return i?i(o,n):o},t.getClassNames=function(e,n){var r,o;return null===(r=(o=t.props.classNames)[e])||void 0===r?void 0:r.call(o,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,(0,r.A)((0,r.A)({},Yt),e.components);var e},t.buildCategorizedOptions=function(){return Dn(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return Ln(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:(0,r.A)({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,o=n.menuIsOpen;t.focusInput(),o?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&it(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var o=Math.abs(r.clientX-t.initialTouchX),i=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=o>5||i>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return Kn(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,o=n.backspaceRemovesValue,i=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,d=n.onKeyDown,u=n.tabSelectsValue,p=n.openMenuOnFocus,f=t.state,h=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!l&&("function"!==typeof d||(d(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)t.removeValue(m);else{if(!o)return;r?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!u||!h||p&&t.isOptionSelected(h,g))return;t.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(t.isComposing)return;t.selectOption(h);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):s&&i&&t.clearValue();break;case" ":if(a)return;if(!c){t.openMenu("first");break}if(!h)return;t.selectOption(h);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++Gn),t.state.selectValue=nt(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),o=t.buildFocusableOptions(),s=o.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=o[s],t.state.focusedOptionId=zn(n,o[s])}return t}return t=a,n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ct(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&r&&!e.menuIsOpen)&&this.focusInput(),o&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):o||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ct(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,o=n.isFocused,i=this.buildFocusableOptions(),a="first"===e?0:i.length-1;if(!this.props.isMulti){var s=i.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:i[a],focusedOptionId:this.getFocusedOptionId(i[a])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=n.indexOf(r);r||(o=-1);var i=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===o?0:-1===o?i:o-1;break;case"next":o>-1&&o<i&&(a=o+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var o=0,i=r.indexOf(n);n||(i=-1),"up"===e?o=i>0?i-1:r.length-1:"down"===e?o=(i+1)%r.length:"pageup"===e?(o=i-t)<0&&(o=0):"pagedown"===e?(o=i+t)>r.length-1&&(o=r.length-1):"last"===e&&(o=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[o],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[o])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Mn):(0,r.A)((0,r.A)({},Mn),this.props.theme):Mn}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,o=this.getValue,i=this.selectOption,a=this.setValue,s=this.props,l=s.isMulti,c=s.isRtl,d=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:o,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:d,selectOption:i,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Wn(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Hn(this.props,e,t)}},{key:"filterOption",value:function(e,t){return qn(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,o=e.inputId,i=e.inputValue,a=e.tabIndex,s=e.form,c=e.menuIsOpen,d=e.required,p=this.getComponents().Input,f=this.state,h=f.inputIsHidden,m=f.ariaSelection,g=this.commonProps,v=o||this.getElementId("input"),x=(0,r.A)((0,r.A)((0,r.A)({"aria-autocomplete":"list","aria-expanded":c,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},c&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===m||void 0===m?void 0:m.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?l.createElement(p,(0,u.A)({},g,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:t,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:i},x)):l.createElement(fn,(0,u.A)({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Qe,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:s,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,o=t.MultiValueLabel,i=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,c=this.commonProps,d=this.props,p=d.controlShouldRenderValue,f=d.isDisabled,h=d.isMulti,m=d.inputValue,g=d.placeholder,v=this.state,x=v.selectValue,b=v.focusedValue,y=v.isFocused;if(!this.hasValue()||!p)return m?null:l.createElement(s,(0,u.A)({},c,{key:"placeholder",isDisabled:f,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),g);if(h)return x.map((function(t,a){var s=t===b,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return l.createElement(n,(0,u.A)({},c,{components:{Container:r,Label:o,Remove:i},isFocused:s,isDisabled:f,key:d,index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(m)return null;var w=x[0];return l.createElement(a,(0,u.A)({},c,{data:w,isDisabled:f}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(e,(0,u.A)({},t,{innerProps:a,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;return e&&o?l.createElement(e,(0,u.A)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:i})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,o=this.props.isDisabled,i=this.state.isFocused;return l.createElement(n,(0,u.A)({},r,{isDisabled:o,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(e,(0,u.A)({},t,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,o=t.Menu,i=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,p=this.commonProps,f=this.state.focusedOption,h=this.props,m=h.captureMenuScroll,g=h.inputValue,v=h.isLoading,x=h.loadingMessage,b=h.minMenuHeight,y=h.maxMenuHeight,w=h.menuIsOpen,j=h.menuPlacement,N=h.menuPosition,S=h.menuPortalTarget,A=h.menuShouldBlockScroll,E=h.menuShouldScrollIntoView,k=h.noOptionsMessage,C=h.onMenuScrollToTop,_=h.onMenuScrollToBottom;if(!w)return null;var P,O=function(t,n){var r=t.type,o=t.data,i=t.isDisabled,a=t.isSelected,s=t.label,c=t.value,h=f===o,m=i?void 0:function(){return e.onOptionHover(o)},g=i?void 0:function(){return e.selectOption(o)},v="".concat(e.getElementId("option"),"-").concat(n),x={id:v,onClick:g,onMouseMove:m,onMouseOver:m,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:a};return l.createElement(d,(0,u.A)({},p,{innerProps:x,data:o,isDisabled:i,isSelected:a,key:v,label:s,type:r,value:c,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map((function(t){if("group"===t.type){var o=t.data,i=t.options,a=t.index,s="".concat(e.getElementId("group"),"-").concat(a),c="".concat(s,"-heading");return l.createElement(n,(0,u.A)({},p,{key:s,data:o,options:i,Heading:r,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return O(e,"".concat(a,"-").concat(e.index))})))}if("option"===t.type)return O(t,"".concat(t.index))}));else if(v){var T=x({inputValue:g});if(null===T)return null;P=l.createElement(s,p,T)}else{var M=k({inputValue:g});if(null===M)return null;P=l.createElement(c,p,M)}var I={minMenuHeight:b,maxMenuHeight:y,menuPlacement:j,menuPosition:N,menuShouldScrollIntoView:E},R=l.createElement(Nt,(0,u.A)({},p,I),(function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return l.createElement(o,(0,u.A)({},p,I,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:a}),l.createElement(An,{captureEnabled:m,onTopArrive:C,onBottomArrive:_,lockEnabled:A},(function(t){return l.createElement(i,(0,u.A)({},p,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:e.getElementId("listbox")},isLoading:v,maxHeight:s,focusedOption:f}),P)})))}));return S||"fixed"===N?l.createElement(a,(0,u.A)({},p,{appendTo:S,controlElement:this.controlRef,menuPlacement:j,menuPosition:N}),R):R}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,i=t.name,a=t.required,s=this.state.selectValue;if(a&&!this.hasValue()&&!r)return l.createElement(kn,{name:i,onFocus:this.onValueInputFocus});if(i&&!r){if(o){if(n){var c=s.map((function(t){return e.getOptionValue(t)})).join(n);return l.createElement("input",{name:i,type:"hidden",value:c})}var d=s.length>0?s.map((function(t,n){return l.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})})):l.createElement("input",{name:i,type:"hidden",value:""});return l.createElement("div",null,d)}var u=s[0]?this.getOptionValue(s[0]):"";return l.createElement("input",{name:i,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,o=t.focusedValue,i=t.isFocused,a=t.selectValue,s=this.getFocusableOptions();return l.createElement(en,(0,u.A)({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:o,isFocused:i,selectValue:a,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,i=this.props,a=i.className,s=i.id,c=i.isDisabled,d=i.menuIsOpen,p=this.state.isFocused,f=this.commonProps=this.getCommonProps();return l.createElement(r,(0,u.A)({},f,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:p}),this.renderLiveRegion(),l.createElement(t,(0,u.A)({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:p,menuIsOpen:d}),l.createElement(o,(0,u.A)({},f,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),l.createElement(n,(0,u.A)({},f,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,o=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,s=t.isFocused,l=t.prevWasFocused,c=t.instancePrefix,d=e.options,u=e.value,p=e.menuIsOpen,f=e.inputValue,h=e.isMulti,m=nt(u),g={};if(n&&(u!==n.value||d!==n.options||p!==n.menuIsOpen||f!==n.inputValue)){var v=p?function(e,t){return Ln(Dn(e,t))}(e,m):[],x=p?Fn(Dn(e,m),"".concat(c,"-option")):[],b=o?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,m):null,y=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,v);g={selectValue:m,focusedOption:y,focusedOptionId:zn(x,y),focusableOptionsWithIds:x,focusedValue:b,clearFocusValueOnUpdate:!1}}var w=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},j=a,N=s&&l;return s&&!N&&(j={value:gt(h,m,m[0]||null),options:m,action:"initial-input-focus"},N=!l),"initial-input-focus"===(null===a||void 0===a?void 0:a.action)&&(j=null),(0,r.A)((0,r.A)((0,r.A)({},g),w),{},{prevProps:e,ariaSelection:j,prevWasFocused:N})}}],n&&f(t.prototype,n),o&&f(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(l.Component);Yn.defaultProps=In;var Xn=(0,l.forwardRef)((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,o=e.defaultMenuIsOpen,i=void 0!==o&&o,c=e.defaultValue,u=void 0===c?null:c,p=e.inputValue,f=e.menuIsOpen,h=e.onChange,m=e.onInputChange,g=e.onMenuClose,v=e.onMenuOpen,x=e.value,b=(0,s.A)(e,d),y=a((0,l.useState)(void 0!==p?p:n),2),w=y[0],j=y[1],N=a((0,l.useState)(void 0!==f?f:i),2),S=N[0],A=N[1],E=a((0,l.useState)(void 0!==x?x:u),2),k=E[0],C=E[1],_=(0,l.useCallback)((function(e,t){"function"===typeof h&&h(e,t),C(e)}),[h]),P=(0,l.useCallback)((function(e,t){var n;"function"===typeof m&&(n=m(e,t)),j(void 0!==n?n:e)}),[m]),O=(0,l.useCallback)((function(){"function"===typeof v&&v(),A(!0)}),[v]),T=(0,l.useCallback)((function(){"function"===typeof g&&g(),A(!1)}),[g]),M=void 0!==p?p:w,I=void 0!==f?f:S,R=void 0!==x?x:k;return(0,r.A)((0,r.A)({},b),{},{inputValue:M,menuIsOpen:I,onChange:_,onInputChange:P,onMenuClose:T,onMenuOpen:O,value:R})}(e);return l.createElement(Yn,(0,u.A)({ref:t},n))})),$n=Xn},54530:(e,t,n)=>{"use strict";function r(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function o(){return r()||/Android/gi.test(window.navigator.userAgent)}n.d(t,{Fr:()=>o,un:()=>r})},54983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case i:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===s||e===a||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===x||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v)},t.typeOf=w},55e3:(e,t,n)=>{"use strict";n.d(t,{B1:()=>A,C0:()=>f,Dz:()=>x,Jx:()=>l,LI:()=>a,PG:()=>m,RI:()=>s,Sg:()=>h,T9:()=>i,TV:()=>v,WJ:()=>y,_3:()=>p,bV:()=>N,jk:()=>o,lP:()=>j,nI:()=>S,qE:()=>u,sq:()=>g,w7:()=>b});var r=n(89379);const o=Math.min,i=Math.max,a=Math.round,s=Math.floor,l=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},d={start:"end",end:"start"};function u(e,t,n){return i(e,o(t,n))}function p(e,t){return"function"===typeof e?e(t):e}function f(e){return e.split("-")[0]}function h(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function v(e){return["top","bottom"].includes(f(e))?"y":"x"}function x(e){return m(v(e))}function b(e,t,n){void 0===n&&(n=!1);const r=h(e),o=x(e),i=g(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=N(a)),[a,N(a)]}function y(e){const t=N(e);return[w(e),t,w(t)]}function w(e){return e.replace(/start|end/g,(e=>d[e]))}function j(e,t,n,r){const o=h(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(f(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(w)))),i}function N(e){return e.replace(/left|right|bottom|top/g,(e=>c[e]))}function S(e){return"number"!==typeof e?function(e){return(0,r.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function A(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}},55119:(e,t,n)=>{var r=n(96614),o=n(30474);e.exports=function(e,t){return e&&r(t,o(t),e)}},55484:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},55491:(e,t,n)=>{var r=n(80726),o=n(45652),i=n(25111),a=n(54052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},55636:(e,t,n)=>{var r=n(31170),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),r(e,this,c)}}},55647:(e,t,n)=>{var r=n(33279),o=n(55636),i=n(46350);e.exports=function(e,t){return i(o(e,t,r),e+"")}},55758:(e,t,n)=>{"use strict";var r=n(78208);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),(function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},55906:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},55962:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(65043),o=n(74347);let i=function(e){let t=(0,o.Y)(e);return r.useCallback((function(){return t.current(...arguments)}),[t])}},56099:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},56173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},56326:(e,t,n)=>{var r=n(48895),o=n(85990),i=n(69621),a=n(57828),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},56434:(e,t,n)=>{var r=n(97132);e.exports=function(e){return r(e,5)}},56552:(e,t,n)=>{var r=n(37105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},56619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){0},t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=c(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=c(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,o=n(96440),i=(r=o)&&r.__esModule?r:{default:r},a=n(68821);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},56832:(e,t,n)=>{e=n.nmd(e);var r=n(37105),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},56874:(e,t,n)=>{var r=n(12622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},57488:(e,t,n)=>{"use strict";n.d(t,{N9:()=>q,oR:()=>R});var r=n(80045),o=n(89379),i=n(65043),a=n(58387);const s=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var l=e=>"number"==typeof e&&!isNaN(e),c=e=>"string"==typeof e,d=e=>"function"==typeof e,u=e=>c(e)||d(e)?e:null,p=(e,t)=>!1===e||l(e)&&e>0?e:t,f=e=>(0,i.isValidElement)(e)||c(e)||d(e)||l(e);function h(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:p,playToast:f}=e,h=r?"".concat(t,"--").concat(l):t,m=r?"".concat(n,"--").concat(l):n,g=(0,i.useRef)(0);return(0,i.useLayoutEffect)((()=>{let e=u.current,t=h.split(" "),n=r=>{r.target===u.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,i.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=r+"px",o.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)}))}))}(e,d,a):d()};p||(c?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[p]),i.createElement(i.Fragment,null,s)}}function m(e,t){return{content:g(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i.isValidElement)(e)&&!c(e.type)?(0,i.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):d(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function v(e){let{delay:t,isRunning:n,closeToast:r,type:s="default",hide:l,className:c,controlledProgress:u,progress:p,rtl:f,isIn:h,theme:m}=e,g=l||u&&0===p,v={animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};u&&(v.transform="scaleX(".concat(p,")"));let x=(0,a.A)("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":f}),b=d(c)?c({rtl:f,type:s,defaultClassName:x}):(0,a.A)(x,c),y={[u&&p>=1?"onTransitionEnd":"onAnimationEnd"]:u&&p<1?null:()=>{h&&r()}};return i.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},i.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(m," Toastify__progress-bar--").concat(s)}),i.createElement("div",(0,o.A)({role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:b,style:v},y)))}var x=1,b=()=>"".concat(x++);function y(e,t,n){let r=1,i=0,a=[],s=[],c=t,d=new Map,h=new Set,g=()=>{s=Array.from(d.values()),h.forEach((e=>e()))},v=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},x=e=>{if(null==e)d.forEach(v);else{let t=d.get(e);t&&v(t)}g()},b=e=>{var t,r;let{toastId:o,updateId:i}=e.props,a=null==i;e.staleId&&d.delete(e.staleId),e.isActive=!0,d.set(o,e),g(),n(m(e,a?"added":"updated")),a&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:c,observe:e=>(h.add(e),()=>h.delete(e)),toggle:(e,t)=>{d.forEach((n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))}))},removeToast:x,toasts:d,clearQueue:()=>{i-=a.length,a=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:r,updateId:o}=t,i=n?n!==e:1!==e,a=d.has(r)&&null==o;return i||a})(s))return;let{toastId:h,updateId:v,data:y,staleId:w,delay:j}=s,N=null==v;N&&i++;let S=(0,o.A)((0,o.A)((0,o.A)({},c),{},{style:c.toastStyle,key:r++},Object.fromEntries(Object.entries(s).filter((e=>{let[t,n]=e;return null!=n})))),{},{toastId:h,updateId:v,data:y,isIn:!1,className:u(s.className||c.toastClassName),progressClassName:u(s.progressClassName||c.progressClassName),autoClose:!s.isLoading&&p(s.autoClose,c.autoClose),closeToast(e){d.get(h).removalReason=e,x(h)},deleteToast(){let e=d.get(h);if(null!=e){if(n(m(e,"removed")),d.delete(h),i--,i<0&&(i=0),a.length>0)return void b(a.shift());g()}}});S.closeButton=c.closeButton,!1===s.closeButton||f(s.closeButton)?S.closeButton=s.closeButton:!0===s.closeButton&&(S.closeButton=!f(c.closeButton)||c.closeButton);let A={content:t,props:S,staleId:w};c.limit&&c.limit>0&&i>c.limit&&N?a.push(A):l(j)?setTimeout((()=>{b(A)}),j):b(A)},setProps(e){c=e},setToggle:(e,t)=>{let n=d.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=d.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var w=new Map,j=[],N=new Set,S=e=>N.forEach((t=>t(e))),A=()=>w.size>0;function E(e,t){var n;if(t)return!(null==(n=w.get(t))||!n.isToastActive(e));let r=!1;return w.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function k(e){if(A()){if(null==e||(e=>c(e)||l(e))(e))w.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=w.get(e.containerId);t?t.removeToast(e.id):w.forEach((t=>{t.removeToast(e.id)}))}}else j=j.filter((t=>null!=e&&t.options.toastId!==e))}function C(e,t){f(e)&&(A()||j.push({content:e,options:t}),w.forEach((n=>{n.buildToast(e,t)})))}function _(e,t){w.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function P(e){let t=e.containerId||1;return{subscribe(n){let r=y(t,e,S);w.set(t,r);let o=r.observe(n);return j.forEach((e=>C(e.content,e.options))),j=[],()=>{o(),w.delete(t)}},setProps(e){var n;null==(n=w.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=w.get(t))?void 0:e.getSnapshot()}}}function O(e){return e&&(c(e.toastId)||l(e.toastId))?e.toastId:b()}function T(e,t){return C(e,t),t.toastId}function M(e,t){return(0,o.A)((0,o.A)({},t),{},{type:t&&t.type||e,toastId:O(t)})}function I(e){return(t,n)=>T(t,M(e,n))}function R(e,t){return T(e,M("default",t))}function D(e){let[t,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1),a=(0,i.useRef)(null),s=(0,i.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:p}=e;function f(){n(!0)}function h(){n(!1)}function m(n){let r=a.current;if(s.canDrag&&r){s.didMove=!0,t&&h(),"x"===e.draggableDirection?s.delta=n.clientX-s.start:s.delta=n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1);let o="x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))");r.style.transform="translate3d(".concat(o,",0)"),r.style.opacity="".concat(1-Math.abs(s.delta/s.removalDistance))}}function g(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",g);let t=a.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=w.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,i.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",f),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",h)}}),[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",g);let n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:o,right:i}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=o&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?h():f()}};return l&&c&&(v.onMouseEnter=h,e.stacked||(v.onMouseLeave=f)),p&&(v.onClick=e=>{u&&u(e),s.canCloseOnClick&&d(!0)}),{playToast:f,pauseToast:h,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:v}}R.loading=(e,t)=>T(e,M("default",(0,o.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),R.promise=function(e,t,n){let r,{pending:i,error:a,success:s}=t;i&&(r=c(i)?R.loading(i,n):R.loading(i.render,(0,o.A)((0,o.A)({},n),i)));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(e,t,i)=>{if(null==t)return void R.dismiss(r);let a=(0,o.A)((0,o.A)((0,o.A)({type:e},l),n),{},{data:i}),s=c(t)?{render:t}:t;return r?R.update(r,(0,o.A)((0,o.A)({},a),s)):R(s.render,(0,o.A)((0,o.A)({},a),s)),i},p=d(e)?e():e;return p.then((e=>u("success",s,e))).catch((e=>u("error",a,e))),p},R.success=I("success"),R.info=I("info"),R.error=I("error"),R.warning=I("warning"),R.warn=R.warning,R.dark=(e,t)=>T(e,M("default",(0,o.A)({theme:"dark"},t))),R.dismiss=function(e){k(e)},R.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},R.isActive=E,R.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=w.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,a=(0,o.A)((0,o.A)((0,o.A)({delay:100},r),t),{},{toastId:t.toastId||e,updateId:b()});a.toastId!==e&&(a.staleId=e);let s=a.render||i;delete a.render,T(s,a)}},R.done=e=>{R.update(e,{progress:1})},R.onChange=function(e){return N.add(e),()=>{N.delete(e)}},R.play=e=>_(!0,e),R.pause=e=>_(!1,e);var L="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,F=e=>{let{theme:t,type:n,isLoading:a}=e,l=(0,r.A)(e,s);return i.createElement("svg",(0,o.A)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},l))};var B={info:function(e){return i.createElement(F,(0,o.A)({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(F,(0,o.A)({},e),i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(F,(0,o.A)({},e),i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(F,(0,o.A)({},e),i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function z(e){let{theme:t,type:n,isLoading:r,icon:a}=e,s=null,l={theme:t,type:n};return!1===a||(d(a)?s=a((0,o.A)((0,o.A)({},l),{},{isLoading:r})):(0,i.isValidElement)(a)?s=(0,i.cloneElement)(a,l):r?s=B.spinner():(e=>e in B)(n)&&(s=B[n](l))),s}var U=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:l}=D(e),{closeButton:c,children:u,autoClose:p,onClick:f,type:h,hideProgressBar:m,closeToast:x,transition:b,position:y,className:w,style:j,progressClassName:N,updateId:S,role:A,progress:E,rtl:k,toastId:C,deleteToast:_,isIn:P,isLoading:O,closeOnClick:T,theme:M,ariaLabel:I}=e,R=(0,a.A)("Toastify__toast","Toastify__toast-theme--".concat(M),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":T}),L=d(w)?w({rtl:k,position:y,type:h,defaultClassName:R}):(0,a.A)(R,w),F=z(e),B=!!E||!p,U={closeToast:x,type:h,theme:M},V=null;return!1===c||(V=d(c)?c(U):(0,i.isValidElement)(c)?(0,i.cloneElement)(c,U):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return i.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(U)),i.createElement(b,{isIn:P,done:_,position:y,preventExitTransition:n,nodeRef:r,playToast:l},i.createElement("div",(0,o.A)((0,o.A)({id:C,tabIndex:0,onClick:f,"data-in":P,className:L},s),{},{style:j,ref:r},P&&{role:A,"aria-label":I}),null!=F&&i.createElement("div",{className:(0,a.A)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},F),g(u,e,!t),V,!e.customProgressBar&&i.createElement(v,(0,o.A)((0,o.A)({},S&&!B?{key:"p-".concat(S)}:{}),{},{rtl:k,theme:M,delay:p,isRunning:t,isIn:P,closeToast:x,hide:m,type:h,className:N,controlledProgress:B,progress:E||0}))))},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},W=h(V("bounce",!0)),H=(h(V("slide",!0)),h(V("zoom")),h(V("flip")),{position:"top-right",transition:W,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function q(e){let t=(0,o.A)((0,o.A)({},H),e),n=e.stacked,[r,s]=(0,i.useState)(!0),l=(0,i.useRef)(null),{getToastToRender:c,isToastActive:p,count:f}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:o}=(0,i.useRef)(P(e)).current;o(e);let a=null==(t=(0,i.useSyncExternalStore)(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!a)return[];let n=new Map;return e.newestOnTop&&a.reverse(),a.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:E,count:null==a?void 0:a.length}}(t),{className:h,style:m,rtl:g,containerId:v,hotKeys:x}=t;function b(e){let t=(0,a.A)("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":g});return d(h)?h({position:e,rtl:g,defaultClassName:t}):(0,a.A)(t,u(h))}function y(){n&&(s(!0),R.play())}return L((()=>{var e;if(n){let n=l.current.querySelectorAll('[data-in="true"]'),o=12,i=null==(e=t.position)?void 0:e.includes("top"),a=0,s=0;Array.from(n).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(r)),n.dataset.pos||(n.dataset.pos=i?"top":"bot");let l=a*(r?.2:1)+(r?0:o*t);n.style.setProperty("--y","".concat(i?l:-1*l,"px")),n.style.setProperty("--g","".concat(o)),n.style.setProperty("--s","".concat(1-(r?s:0))),a+=n.offsetHeight,s+=.025}))}}),[r,f,n]),(0,i.useEffect)((()=>{function e(e){var t;let n=l.current;x(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),s(!1),R.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(s(!0),R.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[x]),i.createElement("section",{ref:l,className:"Toastify",id:v,onMouseEnter:()=>{n&&(s(!1),R.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c(((e,t)=>{let r=t.length?(0,o.A)({},m):(0,o.A)((0,o.A)({},m),{},{pointerEvents:"none"});return i.createElement("div",{tabIndex:-1,className:b(e),"data-stacked":n,style:r,key:"c-".concat(e)},t.map((e=>{let{content:t,props:r}=e;return i.createElement(U,(0,o.A)((0,o.A)({},r),{},{stacked:n,collapseAll:y,isIn:p(r.toastId,r.containerId),key:"t-".concat(r.key)}),t)})))})))}},57528:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{A:()=>r})},57676:(e,t,n)=>{var r=n(28189),o=n(36311),i=n(39115),a=n(41069);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},57828:e=>{e.exports=function(){return[]}},57856:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},57887:(e,t,n)=>{var r=n(5791),o=n(47574),i=n(56832),a=i&&i.isMap,s=a?o(a):r;e.exports=s},57922:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},57956:(e,t,n)=>{"use strict";n.d(t,{o:()=>U});var r=n(65043);const o="undefined"!==typeof document?r.useLayoutEffect:()=>{};function i(e){const t=(0,r.useRef)(null);return o((()=>{t.current=e}),[e]),(0,r.useCallback)((function(){const e=t.current;return null===e||void 0===e?void 0:e(...arguments)}),[])}function a(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function s(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function l(e){let t=(0,r.useRef)({isFocused:!1,observer:null});o((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]);let n=i((t=>{null===e||void 0===e||e(t)}));return(0,r.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,o=e=>{if(t.current.isFocused=!1,r.disabled){let t=a(e);n(t)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver((()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}})),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}}),[n])}let c=!1;function d(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent))}function u(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function p(e){let t=null;return()=>(null==t&&(t=e()),t)}const f=p((function(){return u(/^Mac/i)})),h=p((function(){return u(/^iPhone/i)})),m=p((function(){return u(/^iPad/i)||f()&&navigator.maxTouchPoints>1})),g=p((function(){return h()||m()})),v=(p((function(){return f()||g()})),p((function(){return d(/AppleWebKit/i)&&!v()})),p((function(){return d(/Chrome/i)}))),x=p((function(){return d(/Android/i)}));p((function(){return d(/Firefox/i)}));var b=n(98493);let y=null,w=new Set,j=new Map,N=!1,S=!1;const A={Tab:!0,Escape:!0};function E(e,t){for(let n of w)n(e,t)}function k(e){N=!0,function(e){return!(e.metaKey||!f()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(y="keyboard",E("keyboard",e))}function C(e){y="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(N=!0,E("pointer",e))}function _(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||(x()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType))&&(N=!0,y="virtual")}function P(e){e.target!==window&&e.target!==document&&!c&&e.isTrusted&&(N||S||(y="virtual",E("virtual",e)),N=!1,S=!1)}function O(){c||(N=!1,S=!0)}function T(e){if("undefined"===typeof window||j.get((0,b.mD)(e)))return;const t=(0,b.mD)(e),n=(0,b.TW)(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){N=!0,r.apply(this,arguments)},n.addEventListener("keydown",k,!0),n.addEventListener("keyup",k,!0),n.addEventListener("click",_,!0),t.addEventListener("focus",P,!0),t.addEventListener("blur",O,!1),"undefined"!==typeof PointerEvent&&(n.addEventListener("pointerdown",C,!0),n.addEventListener("pointermove",C,!0),n.addEventListener("pointerup",C,!0)),t.addEventListener("beforeunload",(()=>{M(e)}),{once:!0}),j.set(t,{focus:r})}const M=(e,t)=>{const n=(0,b.mD)(e),r=(0,b.TW)(e);t&&r.removeEventListener("DOMContentLoaded",t),j.has(n)&&(n.HTMLElement.prototype.focus=j.get(n).focus,r.removeEventListener("keydown",k,!0),r.removeEventListener("keyup",k,!0),r.removeEventListener("click",_,!0),n.removeEventListener("focus",P,!0),n.removeEventListener("blur",O,!1),"undefined"!==typeof PointerEvent&&(r.removeEventListener("pointerdown",C,!0),r.removeEventListener("pointermove",C,!0),r.removeEventListener("pointerup",C,!0)),j.delete(n))};function I(){return"pointer"!==y}"undefined"!==typeof document&&function(e){const t=(0,b.TW)(e);let n;"loading"!==t.readyState?T(e):(n=()=>{T(e)},t.addEventListener("DOMContentLoaded",n))}();const R=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function D(e,t,n){T(),(0,r.useEffect)((()=>{let t=(t,r)=>{(function(e,t,n){let r=(0,b.TW)(null===n||void 0===n?void 0:n.target);const o="undefined"!==typeof window?(0,b.mD)(null===n||void 0===n?void 0:n.target).HTMLInputElement:HTMLInputElement,i="undefined"!==typeof window?(0,b.mD)(null===n||void 0===n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a="undefined"!==typeof window?(0,b.mD)(null===n||void 0===n?void 0:n.target).HTMLElement:HTMLElement,s="undefined"!==typeof window?(0,b.mD)(null===n||void 0===n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||r.activeElement instanceof o&&!R.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof a&&r.activeElement.isContentEditable)&&"keyboard"===t&&n instanceof s&&!A[n.key])})(!!(null===n||void 0===n?void 0:n.isTextInput),t,r)&&e(I())};return w.add(t),()=>{w.delete(t)}}),t)}var L=n(51107);function F(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:i}=e;const a=(0,r.useCallback)((e=>{if(e.target===e.currentTarget)return o&&o(e),i&&i(!1),!0}),[o,i]),s=l(a),c=(0,r.useCallback)((e=>{const t=(0,b.TW)(e.target),r=t?(0,L.bq)(t):(0,L.bq)();e.target===e.currentTarget&&r===(0,L.wt)(e.nativeEvent)&&(n&&n(e),i&&i(!0),s(e))}),[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||o)?c:void 0,onBlur:t||!o&&!i?void 0:a}}}var B=n(62417);function z(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:i}=e,c=(0,r.useRef)({isFocusWithin:!1}),{addGlobalListener:d,removeAllGlobalListeners:u}=(0,B.A)(),p=(0,r.useCallback)((e=>{e.currentTarget.contains(e.target)&&c.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(c.current.isFocusWithin=!1,u(),n&&n(e),i&&i(!1))}),[n,i,c,u]),f=l(p),h=(0,r.useCallback)((e=>{if(!e.currentTarget.contains(e.target))return;const t=(0,b.TW)(e.target),n=(0,L.bq)(t);if(!c.current.isFocusWithin&&n===(0,L.wt)(e.nativeEvent)){o&&o(e),i&&i(!0),c.current.isFocusWithin=!0,f(e);let n=e.currentTarget;d(t,"focus",(e=>{if(c.current.isFocusWithin&&!(0,L.sD)(n,e.target)){let r=new t.defaultView.FocusEvent("blur",{relatedTarget:e.target});s(r,n);let o=a(r);p(o)}}),{capture:!0})}}),[o,i,f,d,p]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:p}}}function U(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoFocus:t=!1,isTextInput:n,within:o}=e,i=(0,r.useRef)({isFocused:!1,isFocusVisible:t||I()}),[a,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)((()=>i.current.isFocused&&i.current.isFocusVisible)),d=(0,r.useCallback)((()=>c(i.current.isFocused&&i.current.isFocusVisible)),[]),u=(0,r.useCallback)((e=>{i.current.isFocused=e,s(e),d()}),[d]);D((e=>{i.current.isFocusVisible=e,d()}),[],{isTextInput:n});let{focusProps:p}=F({isDisabled:o,onFocusChange:u}),{focusWithinProps:f}=z({isDisabled:!o,onFocusWithinChange:u});return{isFocused:a,isFocusVisible:l,focusProps:o?f:p}}},58114:e=>{e.exports=function(e,t){return e.has(t)}},58122:(e,t,n)=>{var r=n(46686),o=n(36140),i=n(43516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},58168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},58365:(e,t,n)=>{"use strict";var r=n(65043);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,d){var u=a(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=l((function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==d&&p.hasValue){var t=p.value;if(d(t,e))return a=t}return a=e}if(t=a,o(i,e))return t;var n=r(e);return void 0!==d&&d(t,n)?(i=e,t):(i=e,a=n)}var i,a,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,d]);var f=i(e,u[0],u[1]);return s((function(){p.hasValue=!0,p.value=f}),[f]),c(f),f}},58387:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},58487:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},58619:(e,t,n)=>{"use strict";n.d(t,{MM:()=>h,VY:()=>v,rU:()=>m});var r=n(89379),o=n(80045),i=n(65043),a=n(55962),s=n(77248),l=n(59358),c=n(62225),d=n(5641);const u=["id"];let p=(0,i.createContext)(null);function f(){let e=(0,i.useContext)(p);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,f),e}return e}function h(){var e,t;return null!=(t=null==(e=(0,i.useContext)(p))?void 0:e.value)?t:void 0}function m(){let[e,t]=(0,i.useState)([]);return[e.length>0?e.join(" "):void 0,(0,i.useMemo)((()=>function(e){let n=(0,a._)((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),r=(0,i.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props,value:e.value})),[n,e.slot,e.name,e.props,e.value]);return i.createElement(p.Provider,{value:r},e.children)}),[t])]}p.displayName="DescriptionContext";let g=(0,d.FX)((function(e,t){let n=(0,i.useId)(),a=(0,c._)(),{id:p="headlessui-description-".concat(n)}=e,h=(0,o.A)(e,u),m=f(),g=(0,l.P)(t);(0,s.s)((()=>m.register(p)),[p,m.register]);let v=a||!1,x=(0,i.useMemo)((()=>(0,r.A)((0,r.A)({},m.slot),{},{disabled:v})),[m.slot,v]),b=(0,r.A)((0,r.A)({ref:g},m.props),{},{id:p});return(0,d.Ci)()({ourProps:b,theirProps:h,slot:x,defaultTag:"p",name:m.name||"Description"})})),v=Object.assign(g,{})},59e3:(e,t,n)=>{"use strict";n.d(t,{j:()=>u});var r=n(65043),o=n(44113),i=n(34781),a=n(54530),s=n(67288),l=n(74347),c=n(44833);const d=30;function u(e,t,n){let u=(0,l.Y)(n),p=(0,r.useCallback)((function(e,n){if(e.defaultPrevented)return;let r=n(e);if(null===r||!r.getRootNode().contains(r)||!r.isConnected)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t);for(let t of o)if(null!==t&&(t.contains(r)||e.composed&&e.composedPath().includes(t)))return;return!(0,i.Bm)(r,i.MZ.Loose)&&-1!==r.tabIndex&&e.preventDefault(),u.current(e,r)}),[u,t]),f=(0,r.useRef)(null);(0,s.z)(e,"pointerdown",(e=>{var t,n;(0,a.Fr)()||(f.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),(0,s.z)(e,"pointerup",(e=>{if((0,a.Fr)()||!f.current)return;let t=f.current;return f.current=null,p(e,(()=>t))}),!0);let h=(0,r.useRef)({x:0,y:0});(0,s.z)(e,"touchstart",(e=>{h.current.x=e.touches[0].clientX,h.current.y=e.touches[0].clientY}),!0),(0,s.z)(e,"touchend",(e=>{let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(!(Math.abs(t-h.current.x)>=d||Math.abs(n-h.current.y)>=d))return p(e,(()=>o.Lk(e.target)?e.target:null))}),!0),(0,c.M)(e,"blur",(e=>p(e,(()=>o.Gu(window.document.activeElement)?window.document.activeElement:null))),!0)}},59358:(e,t,n)=>{"use strict";n.d(t,{P:()=>s,a:()=>a});var r=n(65043),o=n(55962);let i=Symbol();function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,{[i]:t})}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,r.useRef)(t);(0,r.useEffect)((()=>{a.current=t}),[t]);let s=(0,o._)((e=>{for(let t of a.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[i])))?void 0:s}},59364:(e,t,n)=>{var r=n(79742),o=n(9096),i=n(50061);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},59395:(e,t,n)=>{var r=n(4262),o=n(69621),i=n(28673);e.exports=function(e){return r(e,i,o)}},59561:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=n(65043),o=n(34446);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((()=>(0,o.T)(...t)),[...t])}},60014:e=>{e.exports=function(){return!1}},60163:(e,t,n)=>{"use strict";n.d(t,{r:()=>re});var r=n(88420),o=n(65043),i=n(11629),a=n.n(i),s=n(58387),l=n(94020),c=n(68892),d=n(240),u=["points","className","baseLinePoints","connectNulls"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){return e&&e.x===+e.x&&e.y===+e.y},v=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){g(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),g(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(h(e),h(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},x=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,i=e.connectNulls,a=f(e,u);if(!t||!t.length)return null;var l=(0,s.A)("recharts-polygon",n);if(r&&r.length){var c=a.stroke&&"none"!==a.stroke,h=function(e,t,n){var r=v(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(v(t.reverse(),n).slice(1))}(t,r,i);return o.createElement("g",{className:l},o.createElement("path",p({},(0,d.J9)(a,!0),{fill:"Z"===h.slice(-1)?a.fill:"none",stroke:"none",d:h})),c?o.createElement("path",p({},(0,d.J9)(a,!0),{fill:"none",d:v(t,i)})):null,c?o.createElement("path",p({},(0,d.J9)(a,!0),{fill:"none",d:v(r,i)})):null)}var m=v(t,i);return o.createElement("path",p({},(0,d.J9)(a,!0),{fill:"Z"===m.slice(-1)?a.fill:"none",className:l,d:m}))},b=n(84140),y=n(17287),w=n(60165);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function k(e,t,n){return t=_(t),function(e,t){if(t&&("object"===j(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}var M=Math.PI/180,I=1e-5,R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),n=t,i=[{key:"renderTickItem",value:function(e,t,n){return o.isValidElement(e)?o.cloneElement(e,t):a()(e)?e(t):o.createElement(b.E,N({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(r=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,o=t.radius,i=t.orientation,a=t.tickSize||8,s=(0,w.IZ)(n,r,o,e.coordinate),l=(0,w.IZ)(n,r,o+("inner"===i?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*M);return n>I?"outer"===t?"start":"end":n<-I?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,i=e.axisLine,a=e.axisLineType,s=A(A({},(0,d.J9)(this.props,!1)),{},{fill:"none"},(0,d.J9)(i,!1));if("circle"===a)return o.createElement(c.c,N({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:r}));var l=this.props.ticks.map((function(e){return(0,w.IZ)(t,n,r,e.coordinate)}));return o.createElement(x,N({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,r=n.ticks,i=n.tick,a=n.tickLine,c=n.tickFormatter,u=n.stroke,p=(0,d.J9)(this.props,!1),f=(0,d.J9)(i,!1),h=A(A({},p),{},{fill:"none"},(0,d.J9)(a,!1)),m=r.map((function(n,r){var d=e.getTickLineCoord(n),m=A(A(A({textAnchor:e.getTickTextAnchor(n)},p),{},{stroke:"none",fill:u},f),{},{index:r,payload:n,x:d.x2,y:d.y2});return o.createElement(l.W,N({className:(0,s.A)("recharts-polar-angle-axis-tick",(0,w.Zk)(i)),key:"tick-".concat(n.coordinate)},(0,y.XC)(e.props,n,r)),a&&o.createElement("line",N({className:"recharts-polar-angle-axis-tick-line"},h,d)),i&&t.renderTickItem(i,m,c?c(n.value,r):n.value))}));return o.createElement(l.W,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:o.createElement(l.W,{className:(0,s.A)("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&E(n.prototype,r),i&&E(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);O(R,"displayName","PolarAngleAxis"),O(R,"axisType","angleAxis"),O(R,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var D=n(22794),L=n.n(D),F=n(59364),B=n.n(F),z=n(92647),U=["cx","cy","angle","ticks","axisLine"],V=["ticks","tick","angle","tickFormatter","stroke"];function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function X(e,t,n){return t=Z(t),function(e,t){if(t&&("object"===W(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$()?Reflect.construct(t,n||[],Z(e).constructor):t.apply(e,n))}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function Q(e,t,n){return(t=ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:t+""}var te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),X(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(t,e),n=t,i=[{key:"renderTickItem",value:function(e,t,n){return o.isValidElement(e)?o.cloneElement(e,t):a()(e)?e(t):o.createElement(b.E,H({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,o=n.cx,i=n.cy;return(0,w.IZ)(o,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,o=e.ticks,i=L()(o,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:B()(o,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,a=e.axisLine,s=G(e,U),l=i.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=(0,w.IZ)(t,n,l[0],r),u=(0,w.IZ)(t,n,l[1],r),p=K(K(K({},(0,d.J9)(s,!1)),{},{fill:"none"},(0,d.J9)(a,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return o.createElement("line",H({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var e=this,n=this.props,r=n.ticks,i=n.tick,a=n.angle,c=n.tickFormatter,u=n.stroke,p=G(n,V),f=this.getTickTextAnchor(),h=(0,d.J9)(p,!1),m=(0,d.J9)(i,!1),g=r.map((function(n,r){var d=e.getTickValueCoord(n),p=K(K(K(K({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(d.x,", ").concat(d.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:r},d),{},{payload:n});return o.createElement(l.W,H({className:(0,s.A)("recharts-polar-radius-axis-tick",(0,w.Zk)(i)),key:"tick-".concat(n.coordinate)},(0,y.XC)(e.props,n,r)),t.renderTickItem(i,p,c?c(n.value,r):n.value))}));return o.createElement(l.W,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?o.createElement(l.W,{className:(0,s.A)("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),z.J.renderCallByParent(this.props,this.getViewBox())):null}}])&&Y(n.prototype,r),i&&Y(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);Q(te,"displayName","PolarRadiusAxis"),Q(te,"axisType","radiusAxis"),Q(te,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var ne=n(4240),re=(0,r.gu)({chartName:"PieChart",GraphicalChild:ne.F,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:R},{axisType:"radiusAxis",AxisComp:te}],formatAxisMap:w.pr,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}})},60165:(e,t,n)=>{"use strict";n.d(t,{IZ:()=>x,Kg:()=>g,Zk:()=>S,lY:()=>b,pr:()=>y,yy:()=>N});var r=n(79686),o=n.n(r),i=n(65043),a=n(11629),s=n.n(a),l=n(76307),c=n(71845);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=Math.PI/180,v=function(e){return 180*e/Math.PI},x=function(e,t,n,r){return{x:e+Math.cos(-g*r)*n,y:t+Math.sin(-g*r)*n}},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},y=function(e,t,n,r,i){var a=e.width,s=e.height,d=e.startAngle,u=e.endAngle,m=(0,l.F4)(e.cx,a,a/2),g=(0,l.F4)(e.cy,s,s/2),v=b(a,s,n),x=(0,l.F4)(e.innerRadius,v,0),y=(0,l.F4)(e.outerRadius,v,.8*v);return Object.keys(t).reduce((function(e,n){var a,s=t[n],l=s.domain,v=s.reversed;if(o()(s.range))"angleAxis"===r?a=[d,u]:"radiusAxis"===r&&(a=[x,y]),v&&(a=[a[1],a[0]]);else{var b=h(a=s.range,2);d=b[0],u=b[1]}var w=(0,c.W7)(s,i),j=w.realScaleType,N=w.scale;N.domain(l).range(a),(0,c.YB)(N);var S=(0,c.w7)(N,p(p({},s),{},{realScaleType:j})),A=p(p(p({},s),S),{},{range:a,radius:y,realScaleType:j,scale:N,cx:m,cy:g,innerRadius:x,outerRadius:y,startAngle:d,endAngle:u});return p(p({},e),{},f({},n,A))}),{})},w=function(e,t){var n=e.x,r=e.y,o=t.cx,i=t.cy,a=function(e,t){var n=e.x,r=e.y,o=t.x,i=t.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(r-i,2))}({x:n,y:r},{x:o,y:i});if(a<=0)return{radius:a};var s=(n-o)/a,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:a,angle:v(l),angleInRadian:l}},j=function(e,t){var n=t.startAngle,r=t.endAngle,o=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(o,i)},N=function(e,t){var n=e.x,r=e.y,o=w({x:n,y:r},t),i=o.radius,a=o.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,d=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),o=Math.floor(n/360),i=Math.min(r,o);return{startAngle:t-360*i,endAngle:n-360*i}}(t),u=d.startAngle,f=d.endAngle,h=a;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;c=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;c=h>=f&&h<=u}return c?p(p({},t),{},{radius:i,angle:j(h,t)}):null},S=function(e){return(0,i.isValidElement)(e)||s()(e)||"boolean"===typeof e?"":e.className}},60320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},60446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",s="day",l="week",c="month",d="quarter",u="year",p="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},x={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),i=n-o<0,a=t.clone().add(r+(i?-1:1),c);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:l,d:s,D:p,h:a,m:i,s:o,ms:r,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=g;var w="$isDayjsObject",j=function(e){return e instanceof E||!(!e||!e[w])},N=function e(t,n,r){var o;if(!t)return b;if("string"==typeof t){var i=t.toLowerCase();y[i]&&(o=i),n&&(y[i]=n,o=i);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var s=t.name;y[s]=t,o=s}return!r&&o&&(b=o),o||!r&&b},S=function(e,t){if(j(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new E(n)},A=x;A.l=N,A.i=j,A.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=N(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(A.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return A},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,n){return A.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!A.u(t)||t,d=A.p(e),f=function(e,t){var o=A.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(s)},h=function(e,t){return A.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,x="set"+(this.$u?"UTC":"");switch(d){case u:return r?f(1,0):f(31,11);case c:return r?f(1,g):f(0,g+1);case l:var b=this.$locale().weekStart||0,y=(m<b?m+7:m)-b;return f(r?v-y:v+(6-y),g);case s:case p:return h(x+"Hours",0);case a:return h(x+"Minutes",1);case i:return h(x+"Seconds",2);case o:return h(x+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=A.p(e),d="set"+(this.$u?"UTC":""),f=(n={},n[s]=d+"Date",n[p]=d+"Date",n[c]=d+"Month",n[u]=d+"FullYear",n[a]=d+"Hours",n[i]=d+"Minutes",n[o]=d+"Seconds",n[r]=d+"Milliseconds",n)[l],h=l===s?this.$D+(t-this.$W):t;if(l===c||l===u){var m=this.clone().set(p,1);m.$d[f](h),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[A.p(e)]()},v.add=function(r,d){var p,f=this;r=Number(r);var h=A.p(d),m=function(e){var t=S(f);return A.w(t.date(t.date()+Math.round(e*r)),f)};if(h===c)return this.set(c,this.$M+r);if(h===u)return this.set(u,this.$y+r);if(h===s)return m(1);if(h===l)return m(7);var g=(p={},p[i]=t,p[a]=n,p[o]=e,p)[h]||1,v=this.$d.getTime()+r*g;return A.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=A.z(this),i=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,d=n.meridiem,u=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},p=function(e){return A.s(i%12||12,e,"0")},h=d||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return A.s(t.$y,4,"0");case"M":return s+1;case"MM":return A.s(s+1,2,"0");case"MMM":return u(n.monthsShort,s,c,3);case"MMMM":return u(c,s);case"D":return t.$D;case"DD":return A.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,l,2);case"ddd":return u(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return A.s(i,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return h(i,a,!0);case"A":return h(i,a,!1);case"m":return String(a);case"mm":return A.s(a,2,"0");case"s":return String(t.$s);case"ss":return A.s(t.$s,2,"0");case"SSS":return A.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,p,f){var h,m=this,g=A.p(p),v=S(r),x=(v.utcOffset()-this.utcOffset())*t,b=this-v,y=function(){return A.m(m,v)};switch(g){case u:h=y()/12;break;case c:h=y();break;case d:h=y()/3;break;case l:h=(b-x)/6048e5;break;case s:h=(b-x)/864e5;break;case a:h=b/n;break;case i:h=b/t;break;case o:h=b/e;break;default:h=b}return f?h:A.a(h)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return y[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=N(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return A.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),k=E.prototype;return S.prototype=k,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",s],["$M",c],["$y",u],["$D",p]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,E,S),e.$i=!0),S},S.locale=N,S.isDayjs=j,S.unix=function(e){return S(1e3*e)},S.en=y[b],S.Ls=y,S.p={},S}()},60929:(e,t,n)=>{var r=n(93211),o=n(6571),i=n(69194),a=n(46686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},61141:(e,t,n)=>{var r=n(10143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},61143:(e,t,n)=>{var r=n(13028)(Object.keys,Object);e.exports=r},61340:(e,t,n)=>{var r=n(93211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},61516:(e,t,n)=>{var r=n(22929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},61714:(e,t,n)=>{var r=n(61340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},62117:(e,t,n)=>{var r=n(36741),o=n(99057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},62225:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(65043);let o=(0,r.createContext)(void 0);function i(){return(0,r.useContext)(o)}},62417:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(65043);function o(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)(((t,n,r,o)=>{let i=(null===o||void 0===o?void 0:o.once)?function(){e.current.delete(r),r(...arguments)}:r;e.current.set(r,{type:n,eventTarget:t,fn:i,options:o}),t.addEventListener(n,i,o)}),[]),n=(0,r.useCallback)(((t,n,r,o)=>{var i;let a=(null===(i=e.current.get(r))||void 0===i?void 0:i.fn)||r;t.removeEventListener(n,a,o),e.current.delete(r)}),[]),o=(0,r.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,r.useEffect)((()=>o),[o]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:o}}},62580:(e,t,n)=>{e.exports=n(55491)},62597:(e,t,n)=>{var r=n(54052),o=n(19841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},63130:(e,t,n)=>{var r=n(78208),o=n(17938).Graph,i=n(66684);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new o,a=0,s=0;r.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),r.forEach(e.edges(),(function(e){var r=n.edge(e.v,e.w)||0,o=t(e),i=r+o;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w).in+=o)}));var c=r.range(s+a+3).map((function(){return new i})),d=a+1;return r.forEach(n.nodes(),(function(e){l(c,d,n.node(e))})),{graph:n,buckets:c,zeroIdx:d}}(e,t||a),c=function(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=i.dequeue();)s(e,t,n,r);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(r=t[l].dequeue()){o=o.concat(s(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(t){return e.outEdges(t.v,t.w)})),!0)};var a=r.constant(1);function s(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),(function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,l(t,n,s)})),r.forEach(e.outEdges(o.v),(function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,l(t,n,a)})),e.removeNode(o.v),a}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},63538:(e,t,n)=>{var r=n(80755),o=n(33411);e.exports=function(e,t){return r(o(e,t),1)}},63577:(e,t,n)=>{e.exports={graphlib:n(17938),layout:n(86675),debug:n(3774),util:{time:n(65641).time,notime:n(65641).notime},version:n(45185)}},63610:(e,t,n)=>{"use strict";n.d(t,{T:()=>i,Y:()=>o});const r="xbyte-upgrade-request";function o(e){window.dispatchEvent(new CustomEvent(r,{detail:e}))}function i(e){const t=t=>null===e||void 0===e?void 0:e(t.detail);return window.addEventListener(r,t),()=>window.removeEventListener(r,t)}},63662:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},63771:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]])},63868:(e,t,n)=>{var r=n(71775),o=n(93211);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},63932:(e,t,n)=>{var r=n(10396),o=n(52866),i=n(62597),a=n(70914);e.exports=function(e){return i(e)?r(a(e)):o(e)}},63961:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]])},64416:(e,t,n)=>{var r=n(18902),o=n(75866),i=n(41558),a=n(58114),s=n(68182),l=n(52074);e.exports=function(e,t,n){var c=-1,d=o,u=e.length,p=!0,f=[],h=f;if(n)p=!1,d=i;else if(u>=200){var m=t?null:s(e);if(m)return l(m);p=!1,d=a,h=new r}else h=t?[]:f;e:for(;++c<u;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,p&&v===v){for(var x=h.length;x--;)if(h[x]===v)continue e;t&&h.push(v),f.push(g)}else d(h,v,n)||(h!==f&&h.push(v),f.push(g))}return f}},64467:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(20816);function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},64816:(e,t,n)=>{var r=n(47251),o=n(37159),i=n(80438),a=n(69394),s=n(56874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},64830:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},65043:(e,t,n)=>{"use strict";e.exports=n(14202)},65086:(e,t,n)=>{"use strict";n.d(t,{A:()=>v,h:()=>c});var r=n(89379),o=n(65043),i=n(35870),a=n(57488),s=n(70579);const l=(0,o.createContext)(null),c=()=>(0,o.useContext)(l),d=e=>"entitlements:".concat(e),u=e=>{try{const t=localStorage.getItem(d(e));if(!t)return null;const n=JSON.parse(t);return null!==n&&void 0!==n&&n._cachedAt?Date.now()-n._cachedAt>3e5?null:n:null}catch(t){return null}},p=(e,t)=>{try{localStorage.setItem(d(e),JSON.stringify((0,r.A)((0,r.A)({},t),{},{_cachedAt:Date.now()})))}catch(n){}},f="sa_selectedBusinessId",h="sa_selectedBusinessName";const m=e=>e?String(e).trim().toUpperCase():"";function g(e,t){const n=function(e){const t=m(e);if(!t)return null;const n=t.indexOf(".");return-1===n?null:t.slice(0,n)}(e);if(!n)return!1;const r=n+".";return(t||[]).some((e=>e.startsWith(r)))}function v(e){let{children:t}=e;const[n,c]=(0,o.useState)(!0),[d,v]=(0,o.useState)(null),[x,b]=(0,o.useState)(null),[y,w]=(0,o.useState)(null),[j,N]=(0,o.useState)(null),[S,A]=(0,o.useState)(null),[E,k]=(0,o.useState)(!1),[C,_]=(0,o.useState)([]),[P,O]=(0,o.useState)({}),[T,M]=(0,o.useState)(null),[I,R]=(0,o.useState)(null),[D,L]=(0,o.useState)(null),[F,B]=(0,o.useState)(!1),[z,U]=(0,o.useState)(null);(0,o.useEffect)((()=>{const{id:e,name:t}=function(){try{return{id:localStorage.getItem(f)||null,name:localStorage.getItem(h)||null}}catch(e){return{id:null,name:null}}}();M(e),R(t)}),[]);const V=(0,o.useCallback)((e=>{const t=(null===e||void 0===e?void 0:e.id)||null,n=(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.businessName)||null;M(t),R(n);try{t?localStorage.setItem(f,t):localStorage.removeItem(f),n?localStorage.setItem(h,n):localStorage.removeItem(h)}catch(r){}}),[]),W=(0,o.useCallback)((()=>{M(null),R(null);try{localStorage.removeItem(f),localStorage.removeItem(h)}catch(e){}}),[]),H=(0,o.useCallback)((()=>{v(null),b(null),w(null),N(null),A(null),k(!1),_([]),O({}),L(null),U(null),B(!1)}),[]),q=(0,o.useCallback)((()=>{try{localStorage.removeItem(i.TOKEN_KEY);["xbytechat-auth","accessToken","role","plan","businessId","companyName","xbytechat-auth-data"].forEach((e=>localStorage.removeItem(e))),localStorage.removeItem(f),localStorage.removeItem(h)}catch(e){console.warn("[Auth] Failed to clear token/keys on logout",e)}W(),H(),c(!1);try{a.oR.info("You have been logged out.")}catch(t){}}),[H,W]),K=(0,o.useCallback)((async()=>{c(!0);try{const{data:t}=await i.default.get("/auth/context",{__silent401:!0}),{isAuthenticated:n,user:r,business:o,role:a,status:s,hasAllAccess:l,permissions:c,features:d,businessId:u}=t||{};if(!n)return H(),null;v(r||null),b(o||null),N(a||null),A(s||null),k(!!l),_(function(e){return Array.isArray(e)?e.map((e=>"string"===typeof e?e:e&&"object"===typeof e&&(e.code||e.Code||e.permissionCode||e.PermissionCode)||null)).filter(Boolean):[]}(c));const p=Array.isArray(d)?Object.fromEntries(d.map((e=>[e,!0]))):{};O(p);const f=u||(null===o||void 0===o?void 0:o.id)||(null===o||void 0===o?void 0:o.businessId)||(null===o||void 0===o?void 0:o.BusinessId)||(null===r||void 0===r?void 0:r.businessId)||(null===r||void 0===r?void 0:r.BusinessId)||null;if(w(f||null),f)try{localStorage.setItem("businessId",f)}catch(e){}return t}catch(t){return console.warn("[Auth] /auth/context failed",t),H(),null}finally{c(!1)}}),[H]);(0,o.useEffect)((()=>{K()}),[K]);const G="admin"===String(j||"").toLowerCase()?T||null:y||null,Y=(0,o.useMemo)((()=>Array.isArray(C)?C.map(m):[]),[C]),X=(0,o.useMemo)((()=>{const e=function(e){var t,n,r,o;if(!e)return[];const i=null!==(t=null!==(n=null!==(r=null!==(o=e.GrantedPermissions)&&void 0!==o?o:e.grantedPermissions)&&void 0!==r?r:e.Permissions)&&void 0!==n?n:e.permissions)&&void 0!==t?t:[];return Array.isArray(i)?i.map((e=>"string"===typeof e?e:e&&"object"===typeof e&&(e.code||e.Code||e.permissionCode||e.PermissionCode)||null)).filter(Boolean):[]}(D);return Array.isArray(e)?e.map(m):[]}),[D]),$=(0,o.useCallback)((e=>{if(!e)return!0;if(E)return!0;const t=m(e),n=Y.includes(t);return t.startsWith("INBOX.")?n:D&&X.length>0&&g(t,X)?X.includes(t)&&n:n}),[Y,D,X,E]),Z=(0,o.useRef)(0),J=(0,o.useCallback)((async function(e){let{useWarmCache:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const n=++Z.current;if(L(null),U(null),t){const t=u(e);t&&Z.current===n&&L(t)}try{Z.current===n&&B(!0);const{data:t}=await i.default.get("/entitlements/".concat(e));return Z.current!==n?null:(p(e,t),L(t),U(null),t)}catch(r){return Z.current!==n||(U(r),console.warn("[Entitlements] fetch failed",r)),null}finally{Z.current===n&&B(!1)}}),[]),Q=(0,o.useCallback)((e=>{if(!e)return!0;const t=D&&(D.Features||D.features||D.FeatureGrants||D.featureGrants);if(Array.isArray(t)){const s=t.find((t=>t.code===e||t.Code===e||t.featureKey===e||t.FeatureKey===e));if(s){var n,r,o,i,a;return!!(null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=s.allowed)&&void 0!==a?a:s.Allowed)&&void 0!==i?i:s.isAllowed)&&void 0!==o?o:s.IsAllowed)&&void 0!==r?r:s.enabled)&&void 0!==n?n:s.Enabled)}}return!!$(e)||!!P[e]}),[D,P,$]),ee=(0,o.useCallback)((e=>{var t,n,o,i,a,s,l,c,d,u,p,f;const h=D&&(D.Quotas||D.quotas||D.planQuotas)||[];if(!Array.isArray(h)||!e)return{quotaKey:e,limit:0,used:0,remaining:0};const m=h.find((t=>t.quotaKey===e||t.QuotaKey===e||t.code===e||t.Code===e));if(!m)return{quotaKey:e,limit:0,used:0,remaining:0};const g=null!==(t=null!==(n=m.quotaKey)&&void 0!==n?n:m.QuotaKey)&&void 0!==t?t:e,v=null!==(o=null!==(i=null!==(a=null!==(s=m.limit)&&void 0!==s?s:m.Limit)&&void 0!==a?a:m.max)&&void 0!==i?i:m.Max)&&void 0!==o?o:null,x=null!==(l=null!==(c=null!==(d=null!==(u=m.used)&&void 0!==u?u:m.Used)&&void 0!==d?d:m.consumed)&&void 0!==c?c:m.Consumed)&&void 0!==l?l:0;let b=null!==(p=null!==(f=m.remaining)&&void 0!==f?f:m.Remaining)&&void 0!==p?p:null;return null==b&&null!=v&&(b=Math.max(0,v-x)),(0,r.A)((0,r.A)({},m),{},{quotaKey:g,limit:v,used:x,remaining:b})}),[D]),te=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!D)return{ok:!1,reason:"no-entitlements"};if(!Q(e))return{ok:!1,reason:"no-feature"};const n=ee(e);return 0===n.limit||null!=n.limit&&n.remaining<t?{ok:!1,reason:"quota-exceeded"}:{ok:!0}}),[D,Q,ee]),ne=(0,o.useCallback)((async()=>G?J(G,{useWarmCache:!1}):null),[G,J]);(0,o.useEffect)((()=>{G?J(G,{useWarmCache:!0}).catch((()=>{})):(L(null),U(null),B(!1))}),[G,J]);const re=(0,o.useRef)(0);(0,o.useEffect)((()=>{const e=()=>{const e=Date.now();e-re.current<3e4||(re.current=e,ne().catch((()=>{})))},t=()=>e(),n=()=>{"visible"===document.visibilityState&&e()};return window.addEventListener("focus",t),document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",n)}}),[ne]);const oe=(null===x||void 0===x?void 0:x.businessName)||(null===x||void 0===x?void 0:x.name)||(null===x||void 0===x?void 0:x.companyName)||(null===d||void 0===d?void 0:d.fullName)||(null===d||void 0===d?void 0:d.name)||(null===d||void 0===d?void 0:d.displayName)||null,ie=(0,o.useMemo)((()=>({isLoading:n,user:d,business:x,businessId:y,role:j,status:S,hasAllAccess:E,permissions:C,availableFeatures:P,can:$,refreshAuthContext:K,userName:oe,logout:q,selectedBusinessId:T,selectedBusinessName:I,setSuperAdminBusiness:V,clearSuperAdminBusiness:W,effectiveBusinessId:G,entitlements:D,entLoading:F,entError:z,hasFeature:Q,getQuota:ee,canUseQuota:te,refreshEntitlements:ne})),[n,d,x,y,j,S,E,C,P,$,K,oe,q,T,I,V,W,G,D,F,z,Q,ee,te,ne]);return(0,s.jsx)(l.Provider,{value:ie,children:t})}},65173:(e,t,n)=>{e.exports=n(41497)()},65387:(e,t,n)=>{var r=n(87937)(n(56552),"Promise");e.exports=r},65469:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},65505:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},65641:(e,t,n)=>{"use strict";var r=n(78208),o=n(17938).Graph;function i(e,t,n,o){var i;do{i=r.uniqueId(o)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return r.max(r.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n})))}e.exports={addDummyNode:i,simplify:function(e){var t=(new o).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,l=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(l=-l),n=l,r=l*s/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),(function(){return[]}));return r.forEach(e.nodes(),(function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)})),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank})));r.forEach(e.nodes(),(function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)}))},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];r.forEach(e.nodes(),(function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=e.graph().nodeRankFactor;r.forEach(n,(function(t,n){r.isUndefined(t)&&n%i!==0?--o:o&&r.forEach(t,(function(t){e.node(t).rank+=o}))}))},addBorderNode:function(e,t,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(e,"border",o,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},65893:(e,t,n)=>{var r=n(16599);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,l=n.length;++o<s;){var c=r(i[o],a[o]);if(c)return o>=l?c:c*("desc"==n[o]?-1:1)}return e.index-t.index}},66487:e=>{e.exports=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}},66684:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}},66797:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("sliders-horizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]])},67015:(e,t,n)=>{"use strict";n.d(t,{_:()=>P,e:()=>O});var r=n(89379),o=n(80045),i=n(65043),a=n(23057),s=n(55962),l=n(74521),c=n(77248),d=n(74347),u=n(86170),p=n(59358),f=n(73161),h=n(16794),m=n(3820),g=n(43880),v=n(5641);const x=["transition","beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],b=["show","appear","unmount"];function y(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(t=e.as)?t:E)!==i.Fragment||1===i.Children.count(e.children)}let w=(0,i.createContext)(null);w.displayName="TransitionContext";var j=(e=>(e.Visible="visible",e.Hidden="hidden",e))(j||{});let N=(0,i.createContext)(null);function S(e){return"children"in e?S(e.children):e.current.filter((e=>{let{el:t}=e;return null!==t.current})).filter((e=>{let{state:t}=e;return"visible"===t})).length>0}function A(e,t){let n=(0,d.Y)(e),r=(0,i.useRef)([]),o=(0,l.a)(),c=(0,a.L)(),u=(0,s._)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.mK.Hidden,i=r.current.findIndex((t=>{let{el:n}=t;return n===e}));-1!==i&&((0,g.Y)(t,{[v.mK.Unmount](){r.current.splice(i,1)},[v.mK.Hidden](){r.current[i].state="hidden"}}),c.microTask((()=>{var e;!S(r)&&o.current&&(null==(e=n.current)||e.call(n))})))})),p=(0,s._)((e=>{let t=r.current.find((t=>{let{el:n}=t;return n===e}));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>u(e,v.mK.Unmount)})),f=(0,i.useRef)([]),h=(0,i.useRef)(Promise.resolve()),m=(0,i.useRef)({enter:[],leave:[]}),x=(0,s._)(((e,n,r)=>{f.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter((t=>{let[n]=t;return n!==e}))),null==t||t.chains.current[n].push([e,new Promise((e=>{f.current.push(e)}))]),null==t||t.chains.current[n].push([e,new Promise((e=>{Promise.all(m.current[n].map((e=>{let[t,n]=e;return n}))).then((()=>e()))}))]),"enter"===n?h.current=h.current.then((()=>null==t?void 0:t.wait.current)).then((()=>r(n))):r(n)})),b=(0,s._)(((e,t,n)=>{Promise.all(m.current[t].splice(0).map((e=>{let[t,n]=e;return n}))).then((()=>{var e;null==(e=f.current.shift())||e()})).then((()=>n(t)))}));return(0,i.useMemo)((()=>({children:r,register:p,unregister:u,onStart:x,onStop:b,wait:h,chains:m})),[p,u,r,x,b,m,h])}N.displayName="NestingContext";let E=i.Fragment,k=v.Ac.RenderStrategy;let C=(0,v.FX)((function(e,t){let{show:n,appear:a=!1,unmount:l=!0}=e,d=(0,o.A)(e,b),f=(0,i.useRef)(null),m=y(e),g=(0,p.P)(...m?[f,t]:null===t?[]:[t]);(0,u.g)();let x=(0,h.O_)();if(void 0===n&&null!==x&&(n=(x&h.Uw.Open)===h.Uw.Open),void 0===n)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[j,E]=(0,i.useState)(n?"visible":"hidden"),C=A((()=>{n||E("hidden")})),[P,O]=(0,i.useState)(!0),T=(0,i.useRef)([n]);(0,c.s)((()=>{!1!==P&&T.current[T.current.length-1]!==n&&(T.current.push(n),O(!1))}),[T,n]);let M=(0,i.useMemo)((()=>({show:n,appear:a,initial:P})),[n,a,P]);(0,c.s)((()=>{n?E("visible"):!S(C)&&null!==f.current&&E("hidden")}),[n,C]);let I={unmount:l},R=(0,s._)((()=>{var t;P&&O(!1),null==(t=e.beforeEnter)||t.call(e)})),D=(0,s._)((()=>{var t;P&&O(!1),null==(t=e.beforeLeave)||t.call(e)})),L=(0,v.Ci)();return i.createElement(N.Provider,{value:C},i.createElement(w.Provider,{value:M},L({ourProps:(0,r.A)((0,r.A)({},I),{},{as:i.Fragment,children:i.createElement(_,(0,r.A)((0,r.A)((0,r.A)({ref:g},I),d),{},{beforeEnter:R,beforeLeave:D}))}),theirProps:{},defaultTag:i.Fragment,features:k,visible:"visible"===j,name:"Transition"})))})),_=(0,v.FX)((function(e,t){var n,a;let{transition:l=!0,beforeEnter:d,afterEnter:b,beforeLeave:j,afterLeave:C,enter:_,enterFrom:P,enterTo:O,entered:T,leave:M,leaveFrom:I,leaveTo:R}=e,D=(0,o.A)(e,x),[L,F]=(0,i.useState)(null),B=(0,i.useRef)(null),z=y(e),U=(0,p.P)(...z?[B,t,F]:null===t?[]:[t]),V=null==(n=D.unmount)||n?v.mK.Unmount:v.mK.Hidden,{show:W,appear:H,initial:q}=function(){let e=(0,i.useContext)(w);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[K,G]=(0,i.useState)(W?"visible":"hidden"),Y=function(){let e=(0,i.useContext)(N);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:X,unregister:$}=Y;(0,c.s)((()=>X(B)),[X,B]),(0,c.s)((()=>{if(V===v.mK.Hidden&&B.current)return W&&"visible"!==K?void G("visible"):(0,g.Y)(K,{hidden:()=>$(B),visible:()=>X(B)})}),[K,B,X,$,W,V]);let Z=(0,u.g)();(0,c.s)((()=>{if(z&&Z&&"visible"===K&&null===B.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[B,K,Z,z]);let J=q&&!H,Q=H&&W&&q,ee=(0,i.useRef)(!1),te=A((()=>{ee.current||(G("hidden"),$(B))}),Y),ne=(0,s._)((e=>{ee.current=!0;let t=e?"enter":"leave";te.onStart(B,t,(e=>{"enter"===e?null==d||d():"leave"===e&&(null==j||j())}))})),re=(0,s._)((e=>{let t=e?"enter":"leave";ee.current=!1,te.onStop(B,t,(e=>{"enter"===e?null==b||b():"leave"===e&&(null==C||C())})),"leave"===t&&!S(te)&&(G("hidden"),$(B))}));(0,i.useEffect)((()=>{z&&l||(ne(W),re(W))}),[W,z,l]);let oe=!(!l||!z||!Z||J),[,ie]=(0,f.p)(oe,L,W,{start:ne,end:re}),ae=(0,v.oE)((0,r.A)({ref:U,className:(null==(a=(0,m.x)(D.className,Q&&_,Q&&P,ie.enter&&_,ie.enter&&ie.closed&&P,ie.enter&&!ie.closed&&O,ie.leave&&M,ie.leave&&!ie.closed&&I,ie.leave&&ie.closed&&R,!ie.transition&&W&&T))?void 0:a.trim())||void 0},(0,f.B)(ie))),se=0;"visible"===K&&(se|=h.Uw.Open),"hidden"===K&&(se|=h.Uw.Closed),W&&"hidden"===K&&(se|=h.Uw.Opening),!W&&"visible"===K&&(se|=h.Uw.Closing);let le=(0,v.Ci)();return i.createElement(N.Provider,{value:te},i.createElement(h.El,{value:se},le({ourProps:ae,theirProps:D,defaultTag:E,features:k,visible:"visible"===K,name:"Transition.Child"})))})),P=(0,v.FX)((function(e,t){let n=null!==(0,i.useContext)(w),o=null!==(0,h.O_)();return i.createElement(i.Fragment,null,!n&&o?i.createElement(C,(0,r.A)({ref:t},e)):i.createElement(_,(0,r.A)({ref:t},e)))})),O=Object.assign(C,{Child:P,Root:C})},67168:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+c+l+")*"),u="(?:"+[i+r+"?",r,a,s,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+u+d,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},67288:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(65043),o=n(74347);function i(e,t,n,i){let a=(0,o.Y)(n);(0,r.useEffect)((()=>{if(e)return document.addEventListener(t,n,i),()=>document.removeEventListener(t,n,i);function n(e){a.current(e)}}),[e,t,i])}},67588:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("file-chart-column-increasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]])},68182:(e,t,n)=>{var r=n(72070),o=n(75713),i=n(52074),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},68396:(e,t,n)=>{"use strict";var r=n(78208);e.exports=function(e,t){var n={};return r.forEach(e,(function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)})),r.forEach(t.edges(),(function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function o(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(t,(function(e){return!e.merged})),(function(e){return r.pick(e,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(e){return!e.indegree})))}},68471:(e,t,n)=>{"use strict";n.d(t,{I:()=>Y});var r=n(65043);function o(){}function i(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function a(e){this._context=e}function s(e){this._context=e}function l(e){this._context=e}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},s.prototype={areaStart:o,areaEnd:o,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:i(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:i(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class c{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function d(e){this._context=e}function u(e){this._context=e}function p(e){return new u(e)}function f(e){return e<0?-1:1}function h(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(f(i)+f(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function m(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function g(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function v(e){this._context=e}function x(e){this._context=new b(e)}function b(e){this._context=e}function y(e){this._context=e}function w(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function j(e,t){this._context=e,this._t=t}d.prototype={areaStart:o,areaEnd:o,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g(this,this._t0,m(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,g(this,m(this,n=h(this,e,t)),n);break;default:g(this,this._t0,n=h(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(x.prototype=Object.create(v.prototype)).point=function(e,t){v.prototype.point.call(this,t,e)},b.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=w(e),o=w(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var N=n(99236),S=n(13809),A=n(17371);function E(e){return e[0]}function k(e){return e[1]}function C(e,t){var n=(0,S.A)(!0),r=null,o=p,i=null,a=(0,A.i)(s);function s(s){var l,c,d,u=(s=(0,N.A)(s)).length,p=!1;for(null==r&&(i=o(d=a())),l=0;l<=u;++l)!(l<u&&n(c=s[l],l,s))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(c,l,s),+t(c,l,s));if(d)return i=null,d+""||null}return e="function"===typeof e?e:void 0===e?E:(0,S.A)(e),t="function"===typeof t?t:void 0===t?k:(0,S.A)(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,S.A)(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,S.A)(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:(0,S.A)(!!e),s):n},s.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),s):o},s.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),s):r},s}function _(e,t,n){var r=null,o=(0,S.A)(!0),i=null,a=p,s=null,l=(0,A.i)(c);function c(c){var d,u,p,f,h,m=(c=(0,N.A)(c)).length,g=!1,v=new Array(m),x=new Array(m);for(null==i&&(s=a(h=l())),d=0;d<=m;++d){if(!(d<m&&o(f=c[d],d,c))===g)if(g=!g)u=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=u;--p)s.point(v[p],x[p]);s.lineEnd(),s.areaEnd()}g&&(v[d]=+e(f,d,c),x[d]=+t(f,d,c),s.point(r?+r(f,d,c):v[d],n?+n(f,d,c):x[d]))}if(h)return s=null,h+""||null}function d(){return C().defined(o).curve(a).context(i)}return e="function"===typeof e?e:void 0===e?E:(0,S.A)(+e),t="function"===typeof t?t:void 0===t?(0,S.A)(0):(0,S.A)(+t),n="function"===typeof n?n:void 0===n?k:(0,S.A)(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,S.A)(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,S.A)(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:(0,S.A)(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,S.A)(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:(0,S.A)(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:(0,S.A)(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(o="function"===typeof e?e:(0,S.A)(!!e),c):o},c.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),c):a},c.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),c):i},c}var P=n(643),O=n.n(P),T=n(11629),M=n.n(T),I=n(58387),R=n(17287),D=n(240),L=n(76307);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={curveBasisClosed:function(e){return new s(e)},curveBasisOpen:function(e){return new l(e)},curveBasis:function(e){return new a(e)},curveBumpX:function(e){return new c(e,!0)},curveBumpY:function(e){return new c(e,!1)},curveLinearClosed:function(e){return new d(e)},curveLinear:p,curveMonotoneX:function(e){return new v(e)},curveMonotoneY:function(e){return new x(e)},curveNatural:function(e){return new y(e)},curveStep:function(e){return new j(e,.5)},curveStepAfter:function(e){return new j(e,1)},curveStepBefore:function(e){return new j(e,0)}},H=function(e){return e.x===+e.x&&e.y===+e.y},q=function(e){return e.x},K=function(e){return e.y},G=function(e){var t,n=e.type,r=void 0===n?"linear":n,o=e.points,i=void 0===o?[]:o,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(M()(e))return e;var n="curve".concat(O()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?W[n]||p:W["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),u=c?i.filter((function(e){return H(e)})):i;if(Array.isArray(a)){var f=c?a.filter((function(e){return H(e)})):a,h=u.map((function(e,t){return U(U({},e),{},{base:f[t]})}));return(t="vertical"===s?_().y(K).x1(q).x0((function(e){return e.base.x})):_().x(q).y1(K).y0((function(e){return e.base.y}))).defined(H).curve(d),t(h)}return(t="vertical"===s&&(0,L.Et)(a)?_().y(K).x1(q).x0(a):(0,L.Et)(a)?_().x(q).y1(K).y0(a):C().x(q).y(K)).defined(H).curve(d),t(u)},Y=function(e){var t=e.className,n=e.points,o=e.path,i=e.pathRef;if((!n||!n.length)&&!o)return null;var a=n&&n.length?G(e):o;return r.createElement("path",B({},(0,D.J9)(e,!1),(0,R._U)(e),{className:(0,I.A)("recharts-curve",t),d:a,ref:i}))}},68592:(e,t,n)=>{var r=n(4262),o=n(56326),i=n(30474);e.exports=function(e){return r(e,i,o)}},68821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,o=n(77396);var i=((r=o)&&r.__esModule?r:{default:r}).default,a=i.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=i.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=i.canUseDOM?window.NodeList:{},t.canUseDOM=i.canUseDOM;t.default=a},68892:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(65043),o=n(58387),i=n(17287),a=n(240);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var l=function(e){var t=e.cx,n=e.cy,l=e.r,c=e.className,d=(0,o.A)("recharts-dot",c);return t===+t&&n===+n&&l===+l?r.createElement("circle",s({},(0,a.J9)(e,!1),(0,i._U)(e),{className:d,cx:t,cy:n,r:l})):null}},68899:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},69022:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},69062:(e,t,n)=>{"use strict";e.exports=n(6378)},69161:(e,t,n)=>{"use strict";n.d(t,{M:()=>u});var r=n(62417),o=n(98493),i=n(51107),a=n(65043);let s=!1,l=0;function c(e){"touch"===e.pointerType&&(s=!0,setTimeout((()=>{s=!1}),50))}function d(){if("undefined"!==typeof document)return"undefined"!==typeof PointerEvent&&document.addEventListener("pointerup",c),l++,()=>{l--,l>0||"undefined"!==typeof PointerEvent&&document.removeEventListener("pointerup",c)}}function u(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:l,isDisabled:c}=e,[u,p]=(0,a.useState)(!1),f=(0,a.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,a.useEffect)(d,[]);let{addGlobalListener:h,removeAllGlobalListeners:m}=(0,r.A)(),{hoverProps:g,triggerHoverEnd:v}=(0,a.useMemo)((()=>{let e=(e,t)=>{let r=f.target;f.pointerType="",f.target=null,"touch"!==t&&f.isHovered&&r&&(f.isHovered=!1,m(),l&&l({type:"hoverend",target:r,pointerType:t}),n&&n(!1),p(!1))},r={};return"undefined"!==typeof PointerEvent&&(r.onPointerEnter=r=>{s&&"mouse"===r.pointerType||((r,a)=>{if(f.pointerType=a,c||"touch"===a||f.isHovered||!r.currentTarget.contains(r.target))return;f.isHovered=!0;let s=r.currentTarget;f.target=s,h((0,o.TW)(r.target),"pointerover",(t=>{f.isHovered&&f.target&&!(0,i.sD)(f.target,t.target)&&e(t,t.pointerType)}),{capture:!0}),t&&t({type:"hoverstart",target:s,pointerType:a}),n&&n(!0),p(!0)})(r,r.pointerType)},r.onPointerLeave=t=>{!c&&t.currentTarget.contains(t.target)&&e(t,t.pointerType)}),{hoverProps:r,triggerHoverEnd:e}}),[t,n,l,c,f,h,m]);return(0,a.useEffect)((()=>{c&&v({currentTarget:f.target},f.pointerType)}),[c]),{hoverProps:g,isHovered:u}}},69194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},69394:(e,t,n)=>{var r=n(12622);e.exports=function(e){return r(this,e).has(e)}},69621:(e,t,n)=>{var r=n(17529),o=n(57828),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},69987:(e,t,n)=>{var r=n(9812),o=n(22929),i=n(93211),a=n(43668),s=n(54160),l=n(52074),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=l),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=a(f(e),f(t),r,c,u,p);return p.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},69995:(e,t,n)=>{var r=n(9096),o=n(6571),i=n(28673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}},70156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(65043),o=n(34446),i=n(23057),a=n(55962);function s(){let{disabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useRef)(null),[n,s]=(0,r.useState)(!1),l=(0,i.L)(),c=(0,a._)((()=>{t.current=null,s(!1),l.dispose()})),d=(0,a._)((e=>{if(l.dispose(),null===t.current){t.current=e.currentTarget,s(!0);{let n=(0,o.T)(e.currentTarget);l.addEventListener(n,"pointerup",c,!1),l.addEventListener(n,"pointermove",(e=>{if(t.current){let n=function(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);s(function(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}(n,t.current.getBoundingClientRect()))}}),!1),l.addEventListener(n,"pointercancel",c,!1)}}}));return{pressed:n,pressProps:e?{}:{onPointerDown:d,onPointerUp:c,onClick:c}}}},70579:(e,t,n)=>{"use strict";e.exports=n(51153)},70668:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(65043),o=n(50551),i=n(55962);function a(e){let t=(0,i._)(e),n=(0,r.useRef)(!1);(0,r.useEffect)((()=>(n.current=!1,()=>{n.current=!0,(0,o._)((()=>{n.current&&t()}))})),[t])}},70705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},70764:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},70879:(e,t,n)=>{"use strict";n.d(t,{yp:()=>L,GG:()=>H,NE:()=>F,nZ:()=>B,xQ:()=>z});var r=n(65043),o=n(11629),i=n.n(o),a=n(12322),s=n.n(a),l=n(96361),c=n.n(l),d=n(19853),u=n.n(d),p=n(84342),f=n(58387),h=n(11744),m=n(240);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e,t,n,r,o){var i,a=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-a/2,",").concat(t+o),i+="L ".concat(e+n-a/2-r,",").concat(t+o),i+="L ".concat(e,",").concat(t," Z")},S={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A=function(e){var t=w(w({},S),e),n=(0,r.useRef)(),o=x((0,r.useState)(-1),2),i=o[0],a=o[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,p=t.className,g=t.animationEasing,b=t.animationDuration,y=t.animationBegin,j=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var A=(0,f.A)("recharts-trapezoid",p);return j?r.createElement(h.Ay,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:s,y:l},duration:b,animationEasing:g,isActive:j},(function(e){var o=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return r.createElement(h.Ay,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:g},r.createElement("path",v({},(0,m.J9)(t,!0),{className:A,d:N(l,c,o,a,s),ref:n})))})):r.createElement("g",null,r.createElement("path",v({},(0,m.J9)(t,!0),{className:A,d:N(s,l,c,d,u)})))},E=n(677),k=n(94020),C=n(41985),_=["option","shapeType","propTransformer","activeClassName","isActive"];function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return M(M({},t),e)}function D(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(p.M,n);case"trapezoid":return r.createElement(A,n);case"sector":return r.createElement(E.h,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(C.i,n);break;default:return null}}function L(e){var t,n=e.option,o=e.shapeType,a=e.propTransformer,l=void 0===a?R:a,d=e.activeClassName,u=void 0===d?"recharts-active-shape":d,p=e.isActive,f=O(e,_);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,M(M({},f),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(i()(n))t=n(f);else if(s()(n)&&!c()(n)){var h=l(n,f);t=r.createElement(D,{shapeType:o,elementProps:h})}else{var m=f;t=r.createElement(D,{shapeType:o,elementProps:m})}return p?r.createElement(k.W,{className:u},t):t}function F(e,t){return null!=t&&"trapezoids"in e.props}function B(e,t){return null!=t&&"sectors"in e.props}function z(e,t){return null!=t&&"points"in e.props}function U(e,t){var n,r,o=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return o&&i}function V(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function W(e,t){var n=e.x===t.x,r=e.y===t.y,o=e.z===t.z;return n&&r&&o}function H(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,o=function(e,t){var n;return F(e,t)?n="trapezoids":B(e,t)?n="sectors":z(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return F(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:B(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:z(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=u()(i,e),s=n.props[o].filter((function(e){var r=function(e,t){var n;return F(e,t)?n=U:B(e,t)?n=V:z(e,t)&&(n=W),n}(n,t);return r(e,t)})),l=n.props[o].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}},70914:(e,t,n)=>{var r=n(19841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},71075:(e,t,n)=>{"use strict";n.d(t,{JU:()=>b,b0:()=>v,o2:()=>g,vd:()=>m});var r=n(89379),o=n(80045),i=n(65043),a=n(55962),s=n(77248),l=n(59358),c=n(62225),d=n(7376),u=n(44113),p=n(5641);const f=["id","htmlFor","passive"];let h=(0,i.createContext)(null);function m(){let e=(0,i.useContext)(h);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,m),e}return e}function g(e){var t,n,r;let o=null!=(n=null==(t=(0,i.useContext)(h))?void 0:t.value)?n:void 0;return(null!=(r=null==e?void 0:e.length)?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function v(){let{inherit:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g(),[n,r]=(0,i.useState)([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,(0,i.useMemo)((()=>function(e){let t=(0,a._)((e=>(r((t=>[...t,e])),()=>r((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),n=(0,i.useMemo)((()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value})),[t,e.slot,e.name,e.props,e.value]);return i.createElement(h.Provider,{value:n},e.children)}),[r])]}h.displayName="LabelContext";let x=(0,p.FX)((function(e,t){var n;let h=(0,i.useId)(),g=m(),v=(0,d.q)(),x=(0,c._)(),{id:b="headlessui-label-".concat(h),htmlFor:y=(null!=v?v:null==(n=g.props)?void 0:n.htmlFor),passive:w=!1}=e,j=(0,o.A)(e,f),N=(0,l.P)(t);(0,s.s)((()=>g.register(b)),[b,g.register]);let S=(0,a._)((e=>{let t=e.currentTarget;if((e.target===e.currentTarget||!u.H5(e.target))&&(u.kS(t)&&e.preventDefault(),g.props&&"onClick"in g.props&&"function"==typeof g.props.onClick&&g.props.onClick(e),u.kS(t))){let e=document.getElementById(t.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let n=e.getAttribute("aria-disabled");if("true"===n||""===n)return;(u.A3(e)&&("file"===e.type||"radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}})),A=x||!1,E=(0,i.useMemo)((()=>(0,r.A)((0,r.A)({},g.slot),{},{disabled:A})),[g.slot,A]),k=(0,r.A)((0,r.A)({ref:N},g.props),{},{id:b,htmlFor:y,onClick:S});return w&&("onClick"in k&&(delete k.htmlFor,delete k.onClick),"onClick"in j&&delete j.onClick),(0,p.Ci)()({ourProps:k,theirProps:j,slot:E,defaultTag:y?"label":"div",name:g.name||"Label"})})),b=Object.assign(x,{})},71360:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},71639:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},71775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},71845:(e,t,n)=>{"use strict";n.d(t,{s0:()=>Ro,gH:()=>Oo,YB:()=>Ko,HQ:()=>Wo,xi:()=>Go,Hj:()=>si,BX:()=>Io,tA:()=>Mo,DW:()=>ti,y2:()=>ei,nb:()=>Qo,PW:()=>zo,Ay:()=>Po,vf:()=>Fo,Mk:()=>ri,Ps:()=>To,Mn:()=>Zo,kA:()=>ni,Rh:()=>Uo,w7:()=>Jo,zb:()=>ci,kr:()=>_o,_L:()=>Bo,KC:()=>li,A1:()=>Lo,W7:()=>Ho,AQ:()=>ai,_f:()=>Yo});var r={};n.r(r),n.d(r,{scaleBand:()=>o.A,scaleDiverging:()=>fr,scaleDivergingLog:()=>hr,scaleDivergingPow:()=>gr,scaleDivergingSqrt:()=>vr,scaleDivergingSymlog:()=>mr,scaleIdentity:()=>ie,scaleImplicit:()=>be.h,scaleLinear:()=>oe,scaleLog:()=>he,scaleOrdinal:()=>be.A,scalePoint:()=>o.z,scalePow:()=>Se,scaleQuantile:()=>De,scaleQuantize:()=>Le,scaleRadial:()=>ke,scaleSequential:()=>ar,scaleSequentialLog:()=>sr,scaleSequentialPow:()=>cr,scaleSequentialQuantile:()=>ur,scaleSequentialSqrt:()=>dr,scaleSequentialSymlog:()=>lr,scaleSqrt:()=>Ae,scaleSymlog:()=>xe,scaleThreshold:()=>Fe,scaleTime:()=>nr,scaleUtc:()=>rr,tickFormat:()=>ne});var o=n(2099);const i=Math.sqrt(50),a=Math.sqrt(10),s=Math.sqrt(2);function l(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),c=r/Math.pow(10,o),d=c>=i?10:c>=a?5:c>=s?2:1;let u,p,f;return o<0?(f=Math.pow(10,-o)/d,u=Math.round(e*f),p=Math.round(t*f),u/f<e&&++u,p/f>t&&--p,f=-f):(f=Math.pow(10,o)*d,u=Math.round(e/f),p=Math.round(t/f),u*f<e&&++u,p*f>t&&--p),p<u&&.5<=n&&n<2?l(e,t,2*n):[u,p,f]}function c(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[o,i,a]=r?l(t,e,n):l(e,t,n);if(!(i>=o))return[];const s=i-o+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(i-l)/-a;else for(let l=0;l<s;++l)c[l]=(i-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(o+l)/-a;else for(let l=0;l<s;++l)c[l]=(o+l)*a;return c}function d(e,t,n){return l(e=+e,t=+t,n=+n)[2]}function u(e,t,n){n=+n;const r=(t=+t)<(e=+e),o=r?d(t,e,n):d(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function p(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function f(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h(e){let t,n,r;function o(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<0?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=p,n=(t,n)=>p(e(t),n),r=(t,n)=>e(t)-n):(t=e===p||e===f?e:m,n=e,r=e),{left:o,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=o(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<=0?o=t+1:i=t}while(o<i)}return o}}}function m(){return 0}function g(e){return null===e?NaN:+e}const v=h(p),x=v.right,b=(v.left,h(g).center,x);var y=n(75206),w=n(75365);function j(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=_(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function N(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var S=n(50010);function A(e,t){var n,r={},o={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=_(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var E=n(97162),k=n(38419);function C(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function _(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?(0,k.A)(t):("number"===o?S.A:"string"===o?(n=(0,y.Ay)(t))?(t=n,w.Ay):E.A:t instanceof y.Ay?w.Ay:t instanceof Date?N:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?j:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?A:S.A:C))(e,t)}function P(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function O(e){return+e}var T=[0,1];function M(e){return e}function I(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function R(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=I(o,r),i=n(a,i)):(r=I(r,o),i=n(i,a)),function(e){return i(r(e))}}function D(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=I(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=b(e,t,1,r)-1;return i[n](o[n](t))}}function L(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F(){var e,t,n,r,o,i,a=T,s=T,l=_,c=M;function d(){var e=Math.min(a.length,s.length);return c!==M&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?D:R,o=i=null,u}function u(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,l)))(e(c(t)))}return u.invert=function(n){return c(t((i||(i=r(s,a.map(e),S.A)))(n)))},u.domain=function(e){return arguments.length?(a=Array.from(e,O),d()):a.slice()},u.range=function(e){return arguments.length?(s=Array.from(e),d()):s.slice()},u.rangeRound=function(e){return s=Array.from(e),l=P,d()},u.clamp=function(e){return arguments.length?(c=!!e||M,d()):c!==M},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function B(){return F()(M,M)}var z,U=n(94402),V=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function W(e){if(!(t=V.exec(e)))throw new Error("invalid format: "+e);var t;return new H({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function H(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function q(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function K(e){return(e=q(Math.abs(e)))?e[1]:NaN}function G(e,t){var n=q(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}W.prototype=H.prototype,H.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Y={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>G(100*e,t),r:G,s:function(e,t){var n=q(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(z=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+q(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function X(e){return e}var $,Z,J,Q=Array.prototype.map,ee=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function te(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?X:(t=Q.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?X:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Q.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=W(e)).fill,n=e.align,u=e.sign,p=e.symbol,f=e.zero,h=e.width,m=e.comma,g=e.precision,v=e.trim,x=e.type;"n"===x?(m=!0,x="g"):Y[x]||(void 0===g&&(g=12),v=!0,x="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",y="$"===p?i:/[%p]/.test(x)?l:"",w=Y[x],j=/[defgprs%]/.test(x);function N(e){var o,i,l,p=b,N=y;if("c"===x)N=w(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==u&&(S=!1),p=(S?"("===u?u:c:"-"===u||"("===u?"":u)+p,N=("s"===x?ee[8+z/3]:"")+N+(S&&"("===u?")":""),j)for(o=-1,i=e.length;++o<i;)if(48>(l=e.charCodeAt(o))||l>57){N=(46===l?a+e.slice(o+1):e.slice(o))+N,e=e.slice(0,o);break}}m&&!f&&(e=r(e,1/0));var A=p.length+e.length+N.length,E=A<h?new Array(h-A+1).join(t):"";switch(m&&f&&(e=r(E+e,E.length?h-N.length:1/0),E=""),n){case"<":e=p+e+N+E;break;case"=":e=p+E+e+N;break;case"^":e=E.slice(0,A=E.length>>1)+p+e+N+E.slice(A);break;default:e=E+p+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var n=u(((e=W(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(K(t)/3))),o=Math.pow(10,-r),i=ee[8+r/3];return function(e){return n(o*e)+i}}}}function ne(e,t,n,r){var o,i=u(e,t,n);switch((r=W(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(K(t)/3)))-K(Math.abs(e)))}(i,a))||(r.precision=o),J(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,K(t)-K(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-K(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return Z(r)}function re(e){var t=e.domain;return e.ticks=function(e){var n=t();return c(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ne(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,l=i[a],c=i[s],u=10;for(c<l&&(o=l,l=c,c=o,o=a,a=s,s=o);u-- >0;){if((o=d(l,c,n))===r)return i[a]=l,i[s]=c,t(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return e},e}function oe(){var e=B();return e.copy=function(){return L(e,oe())},U.C.apply(e,arguments),re(e)}function ie(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,O),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ie(e).unknown(t)},e=arguments.length?Array.from(e,O):[0,1],re(n)}function ae(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function se(e){return Math.log(e)}function le(e){return Math.exp(e)}function ce(e){return-Math.log(-e)}function de(e){return-Math.exp(-e)}function ue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pe(e){return(t,n)=>-e(-t,n)}function fe(e){const t=e(se,le),n=t.domain;let r,o,i=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),o=function(e){return 10===e?ue:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=pe(r),o=pe(o),e(ce,de)):e(se,le),t}return t.base=function(e){return arguments.length?(i=+e,a()):i},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let d,u,p=r(a),f=r(s);const h=null==e?10:+e;let m=[];if(!(i%1)&&f-p<h){if(p=Math.floor(p),f=Math.ceil(f),a>0){for(;p<=f;++p)for(d=1;d<i;++d)if(u=p<0?d/o(-p):d*o(p),!(u<a)){if(u>s)break;m.push(u)}}else for(;p<=f;++p)for(d=i-1;d>=1;--d)if(u=p>0?d/o(-p):d*o(p),!(u<a)){if(u>s)break;m.push(u)}2*m.length<h&&(m=c(a,s,h))}else m=c(p,f,Math.min(f-p,h)).map(o);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=W(n)).precision||(n.trim=!0),n=Z(n)),e===1/0)return n;const a=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/o(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=a?n(e):""}},t.nice=()=>n(ae(n(),{floor:e=>o(Math.floor(r(e))),ceil:e=>o(Math.ceil(r(e)))})),t}function he(){const e=fe(F()).domain([1,10]);return e.copy=()=>L(e,he()).base(e.base()),U.C.apply(e,arguments),e}function me(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ge(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ve(e){var t=1,n=e(me(t),ge(t));return n.constant=function(n){return arguments.length?e(me(t=+n),ge(t)):t},re(n)}function xe(){var e=ve(F());return e.copy=function(){return L(e,xe()).constant(e.constant())},U.C.apply(e,arguments)}$=te({thousands:",",grouping:[3],currency:["$",""]}),Z=$.format,J=$.formatPrefix;var be=n(35186);function ye(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function we(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function je(e){return e<0?-e*e:e*e}function Ne(e){var t=e(M,M),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(M,M):.5===n?e(we,je):e(ye(n),ye(1/n)):n},re(t)}function Se(){var e=Ne(F());return e.copy=function(){return L(e,Se()).exponent(e.exponent())},U.C.apply(e,arguments),e}function Ae(){return Se.apply(null,arguments).exponent(.5)}function Ee(e){return Math.sign(e)*e*e}function ke(){var e,t=B(),n=[0,1],r=!1;function o(n){var o=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(o)?e:r?Math.round(o):o}return o.invert=function(e){return t.invert(Ee(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((n=Array.from(e,O)).map(Ee)),o):n.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(r=!!e,o):r},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return ke(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},U.C.apply(o,arguments),re(o)}function Ce(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function _e(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function Pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;if(e===p)return Oe;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Oe(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Te(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=void 0===o?Oe:Pe(o);r>n;){if(r-n>600){const i=r-n+1,a=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(a-i/2<0?-1:1);Te(e,t,Math.max(n,Math.floor(t-a*l/i+c)),Math.min(r,Math.floor(t+(i-a)*l/i+c)),o)}const i=e[t];let a=n,s=r;for(Me(e,n,t),o(e[r],i)>0&&Me(e,n,r);a<s;){for(Me(e,a,s),++a,--s;o(e[a],i)<0;)++a;for(;o(e[s],i)>0;)--s}0===o(e[n],i)?Me(e,n,s):(++s,Me(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Me(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ie(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return _e(e);if(t>=1)return Ce(e);var r,o=(r-1)*t,i=Math.floor(o),a=Ce(Te(e,i).subarray(0,i+1));return a+(_e(e.subarray(i+1))-a)*(o-i)}}function Re(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e);return a+(+n(e[i+1],i+1,e)-a)*(o-i)}}function De(){var e,t=[],n=[],r=[];function o(){var e=0,o=Math.max(1,n.length);for(r=new Array(o-1);++e<o;)r[e-1]=Re(t,e/o);return i}function i(t){return null==t||isNaN(t=+t)?e:n[b(r,t)]}return i.invertExtent=function(e){var o=n.indexOf(e);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(p),o()},i.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return De().domain(t).range(n).unknown(e)},U.C.apply(i,arguments)}function Le(){var e,t=0,n=1,r=1,o=[.5],i=[0,1];function a(t){return null!=t&&t<=t?i[b(o,t,0,r)]:e}function s(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},a.invertExtent=function(e){var a=i.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,o[0]]:a>=r?[o[r-1],n]:[o[a-1],o[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return o.slice()},a.copy=function(){return Le().domain([t,n]).range(i).unknown(e)},U.C.apply(re(a),arguments)}function Fe(){var e,t=[.5],n=[0,1],r=1;function o(o){return null!=o&&o<=o?n[b(t,o,0,r)]:e}return o.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),o):t.slice()},o.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),o):n.slice()},o.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return Fe().domain(t).range(n).unknown(e)},U.C.apply(o,arguments)}const Be=1e3,ze=6e4,Ue=36e5,Ve=864e5,We=6048e5,He=2592e6,qe=31536e6,Ke=new Date,Ge=new Date;function Ye(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,r,i)=>{const a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return a;let s;do{a.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return a},o.filter=n=>Ye((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(o.count=(t,r)=>(Ke.setTime(+t),Ge.setTime(+r),e(Ke),e(Ge),Math.floor(n(Ke,Ge))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?t=>r(t)%e===0:t=>o.count(0,t)%e===0):o:null)),o}const Xe=Ye((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Xe.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Ye((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Xe:null);Xe.range;const $e=Ye((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Be)}),((e,t)=>(t-e)/Be),(e=>e.getUTCSeconds())),Ze=($e.range,Ye((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be)}),((e,t)=>{e.setTime(+e+t*ze)}),((e,t)=>(t-e)/ze),(e=>e.getMinutes()))),Je=(Ze.range,Ye((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*ze)}),((e,t)=>(t-e)/ze),(e=>e.getUTCMinutes()))),Qe=(Je.range,Ye((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be-e.getMinutes()*ze)}),((e,t)=>{e.setTime(+e+t*Ue)}),((e,t)=>(t-e)/Ue),(e=>e.getHours()))),et=(Qe.range,Ye((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Ue)}),((e,t)=>(t-e)/Ue),(e=>e.getUTCHours()))),tt=(et.range,Ye((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ze)/Ve),(e=>e.getDate()-1))),nt=(tt.range,Ye((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Ve),(e=>e.getUTCDate()-1))),rt=(nt.range,Ye((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Ve),(e=>Math.floor(e/Ve))));rt.range;function ot(e){return Ye((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ze)/We))}const it=ot(0),at=ot(1),st=ot(2),lt=ot(3),ct=ot(4),dt=ot(5),ut=ot(6);it.range,at.range,st.range,lt.range,ct.range,dt.range,ut.range;function pt(e){return Ye((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/We))}const ft=pt(0),ht=pt(1),mt=pt(2),gt=pt(3),vt=pt(4),xt=pt(5),bt=pt(6),yt=(ft.range,ht.range,mt.range,gt.range,vt.range,xt.range,bt.range,Ye((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),wt=(yt.range,Ye((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),jt=(wt.range,Ye((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));jt.every=e=>isFinite(e=Math.floor(e))&&e>0?Ye((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;jt.range;const Nt=Ye((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Nt.every=e=>isFinite(e=Math.floor(e))&&e>0?Ye((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;Nt.range;function St(e,t,n,r,o,i){const a=[[$e,1,Be],[$e,5,5e3],[$e,15,15e3],[$e,30,3e4],[i,1,ze],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,Ue],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,Ve],[r,2,1728e5],[n,1,We],[t,1,He],[t,3,7776e6],[e,1,qe]];function s(t,n,r){const o=Math.abs(n-t)/r,i=h((e=>{let[,,t]=e;return t})).right(a,o);if(i===a.length)return e.every(u(t/qe,n/qe,r));if(0===i)return Xe.every(Math.max(u(t,n,r),1));const[s,l]=a[o/a[i-1][2]<a[i][2]/o?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const o=n&&"function"===typeof n.range?n:s(e,t,n),i=o?o.range(e,+t+1):[];return r?i.reverse():i},s]}const[At,Et]=St(Nt,wt,ft,rt,et,Je),[kt,Ct]=St(jt,yt,it,tt,Qe,Ze);function _t(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ot(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Tt,Mt,It,Rt={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,Lt=/^%/,Ft=/[\\^$*+?|[\]().{}]/g;function Bt(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function zt(e){return e.replace(Ft,"\\$&")}function Ut(e){return new RegExp("^(?:"+e.map(zt).join("|")+")","i")}function Vt(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Wt(e,t,n){var r=Dt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ht(e,t,n){var r=Dt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qt(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Kt(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Gt(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Yt(e,t,n){var r=Dt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Xt(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zt(e,t,n){var r=Dt.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Jt(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qt(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function en(e,t,n){var r=Dt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function tn(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nn(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rn(e,t,n){var r=Dt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function on(e,t,n){var r=Dt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function an(e,t,n){var r=Dt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sn(e,t,n){var r=Lt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ln(e,t,n){var r=Dt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function cn(e,t,n){var r=Dt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function dn(e,t){return Bt(e.getDate(),t,2)}function un(e,t){return Bt(e.getHours(),t,2)}function pn(e,t){return Bt(e.getHours()%12||12,t,2)}function fn(e,t){return Bt(1+tt.count(jt(e),e),t,3)}function hn(e,t){return Bt(e.getMilliseconds(),t,3)}function mn(e,t){return hn(e,t)+"000"}function gn(e,t){return Bt(e.getMonth()+1,t,2)}function vn(e,t){return Bt(e.getMinutes(),t,2)}function xn(e,t){return Bt(e.getSeconds(),t,2)}function bn(e){var t=e.getDay();return 0===t?7:t}function yn(e,t){return Bt(it.count(jt(e)-1,e),t,2)}function wn(e){var t=e.getDay();return t>=4||0===t?ct(e):ct.ceil(e)}function jn(e,t){return e=wn(e),Bt(ct.count(jt(e),e)+(4===jt(e).getDay()),t,2)}function Nn(e){return e.getDay()}function Sn(e,t){return Bt(at.count(jt(e)-1,e),t,2)}function An(e,t){return Bt(e.getFullYear()%100,t,2)}function En(e,t){return Bt((e=wn(e)).getFullYear()%100,t,2)}function kn(e,t){return Bt(e.getFullYear()%1e4,t,4)}function Cn(e,t){var n=e.getDay();return Bt((e=n>=4||0===n?ct(e):ct.ceil(e)).getFullYear()%1e4,t,4)}function _n(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Bt(t/60|0,"0",2)+Bt(t%60,"0",2)}function Pn(e,t){return Bt(e.getUTCDate(),t,2)}function On(e,t){return Bt(e.getUTCHours(),t,2)}function Tn(e,t){return Bt(e.getUTCHours()%12||12,t,2)}function Mn(e,t){return Bt(1+nt.count(Nt(e),e),t,3)}function In(e,t){return Bt(e.getUTCMilliseconds(),t,3)}function Rn(e,t){return In(e,t)+"000"}function Dn(e,t){return Bt(e.getUTCMonth()+1,t,2)}function Ln(e,t){return Bt(e.getUTCMinutes(),t,2)}function Fn(e,t){return Bt(e.getUTCSeconds(),t,2)}function Bn(e){var t=e.getUTCDay();return 0===t?7:t}function zn(e,t){return Bt(ft.count(Nt(e)-1,e),t,2)}function Un(e){var t=e.getUTCDay();return t>=4||0===t?vt(e):vt.ceil(e)}function Vn(e,t){return e=Un(e),Bt(vt.count(Nt(e),e)+(4===Nt(e).getUTCDay()),t,2)}function Wn(e){return e.getUTCDay()}function Hn(e,t){return Bt(ht.count(Nt(e)-1,e),t,2)}function qn(e,t){return Bt(e.getUTCFullYear()%100,t,2)}function Kn(e,t){return Bt((e=Un(e)).getUTCFullYear()%100,t,2)}function Gn(e,t){return Bt(e.getUTCFullYear()%1e4,t,4)}function Yn(e,t){var n=e.getUTCDay();return Bt((e=n>=4||0===n?vt(e):vt.ceil(e)).getUTCFullYear()%1e4,t,4)}function Xn(){return"+0000"}function $n(){return"%"}function Zn(e){return+e}function Jn(e){return Math.floor(+e/1e3)}function Qn(e){return new Date(e)}function er(e){return e instanceof Date?+e:+new Date(+e)}function tr(e,t,n,r,o,i,a,s,l,c){var d=B(),u=d.invert,p=d.domain,f=c(".%L"),h=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),x=c("%b %d"),b=c("%B"),y=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?h:a(e)<e?m:i(e)<e?g:r(e)<e?o(e)<e?v:x:n(e)<e?b:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?p(Array.from(e,er)):p().map(Qn)},d.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(ae(n,e)):d},d.copy=function(){return L(d,tr(e,t,n,r,o,i,a,s,l,c))},d}function nr(){return U.C.apply(tr(kt,Ct,jt,yt,it,tt,Qe,Ze,$e,Mt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rr(){return U.C.apply(tr(At,Et,Nt,wt,ft,nt,et,Je,$e,It).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function or(){var e,t,n,r,o,i=0,a=1,s=M,l=!1;function c(t){return null==t||isNaN(t=+t)?o:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(o){return arguments.length?([i,a]=o,e=r(i=+i),t=r(a=+a),n=e===t?0:1/(t-e),c):[i,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=d(_),c.rangeRound=d(P),c.unknown=function(e){return arguments.length?(o=e,c):o},function(o){return r=o,e=o(i),t=o(a),n=e===t?0:1/(t-e),c}}function ir(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ar(){var e=re(or()(M));return e.copy=function(){return ir(e,ar())},U.K.apply(e,arguments)}function sr(){var e=fe(or()).domain([1,10]);return e.copy=function(){return ir(e,sr()).base(e.base())},U.K.apply(e,arguments)}function lr(){var e=ve(or());return e.copy=function(){return ir(e,lr()).constant(e.constant())},U.K.apply(e,arguments)}function cr(){var e=Ne(or());return e.copy=function(){return ir(e,cr()).exponent(e.exponent())},U.K.apply(e,arguments)}function dr(){return cr.apply(null,arguments).exponent(.5)}function ur(){var e=[],t=M;function n(n){if(null!=n&&!isNaN(n=+n))return t((b(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(p),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>Ie(e,r/t)))},n.copy=function(){return ur(t).domain(e)},U.K.apply(n,arguments)}function pr(){var e,t,n,r,o,i,a,s=0,l=.5,c=1,d=1,u=M,p=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+i(e))-t)*(d*e<d*t?r:o),u(p?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,o;return arguments.length?([n,r,o]=t,u=function(e,t){void 0===t&&(t=e,e=_);for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,o]),f):[u(0),u(.5),u(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),d=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(p=!!e,f):p},f.interpolator=function(e){return arguments.length?(u=e,f):u},f.range=h(_),f.rangeRound=h(P),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return i=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),d=t<e?-1:1,f}}function fr(){var e=re(pr()(M));return e.copy=function(){return ir(e,fr())},U.K.apply(e,arguments)}function hr(){var e=fe(pr()).domain([.1,1,10]);return e.copy=function(){return ir(e,hr()).base(e.base())},U.K.apply(e,arguments)}function mr(){var e=ve(pr());return e.copy=function(){return ir(e,mr()).constant(e.constant())},U.K.apply(e,arguments)}function gr(){var e=Ne(pr());return e.copy=function(){return ir(e,gr()).exponent(e.exponent())},U.K.apply(e,arguments)}function vr(){return gr.apply(null,arguments).exponent(.5)}function xr(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Tt=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Ut(o),d=Vt(o),u=Ut(i),p=Vt(i),f=Ut(a),h=Vt(a),m=Ut(s),g=Vt(s),v=Ut(l),x=Vt(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:dn,e:dn,f:mn,g:En,G:Cn,H:un,I:pn,j:fn,L:hn,m:gn,M:vn,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Zn,s:Jn,S:xn,u:bn,U:yn,V:jn,w:Nn,W:Sn,x:null,X:null,y:An,Y:kn,Z:_n,"%":$n},y={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Pn,e:Pn,f:Rn,g:Kn,G:Yn,H:On,I:Tn,j:Mn,L:In,m:Dn,M:Ln,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Zn,s:Jn,S:Fn,u:Bn,U:zn,V:Vn,w:Wn,W:Hn,x:null,X:null,y:qn,Y:Gn,Z:Xn,"%":$n},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Qt,e:Qt,f:an,g:Xt,G:Yt,H:tn,I:tn,j:en,L:on,m:Jt,M:nn,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:Zt,Q:ln,s:cn,S:rn,u:Ht,U:qt,V:Kt,w:Wt,W:Gt,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Xt,Y:Yt,Z:$t,"%":sn};function j(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=Rt[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function N(e,t){return function(n){var r,o,i=Ot(1900,void 0,1);if(S(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Pt(Ot(i.y,0,1))).getUTCDay(),r=o>4||0===o?ht.ceil(r):ht(r),r=nt.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=_t(Ot(i.y,0,1))).getDay(),r=o>4||0===o?at.ceil(r):at(r),r=tt.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Pt(Ot(i.y,0,1)).getUTCDay():_t(Ot(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Pt(i)):_t(i)}}function S(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in Rt?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),y.x=j(n,y),y.X=j(r,y),y.c=j(t,y),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Mt=Tt.format,Tt.parse,It=Tt.utcFormat,Tt.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var br=n(99236),yr=n(13809);function wr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jr(e,t){return e[t]}function Nr(e){const t=[];return t.key=e,t}var Sr=n(50539),Ar=n.n(Sr),Er=n(76745),kr=n.n(Er),Cr=n(79686),_r=n.n(Cr),Pr=n(11629),Or=n.n(Pr),Tr=n(90620),Mr=n.n(Tr),Ir=n(33097),Rr=n.n(Ir),Dr=n(63538),Lr=n.n(Dr),Fr=n(35268),Br=n.n(Fr),zr=n(643),Ur=n.n(zr),Vr=n(19853),Wr=n.n(Vr),Hr=n(87424),qr=n.n(Hr),Kr=n(98210),Gr=n.n(Kr);function Yr(e){return function(e){if(Array.isArray(e))return Xr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $r=function(e){return e},Zr={"@@functional/placeholder":!0},Jr=function(e){return e===Zr},Qr=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Jr(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},eo=function e(t,n){return 1===t?n:Qr((function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=o.filter((function(e){return e!==Zr})).length;return a>=t?n.apply(void 0,o):e(t-a,Qr((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=o.map((function(e){return Jr(e)?t.shift():e}));return n.apply(void 0,Yr(i).concat(t))})))}))},to=function(e){return eo(e.length,e)},no=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ro=to((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),oo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return $r;var r=t.reverse(),o=r[0],i=r.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),o.apply(void 0,arguments))}},io=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ao=function(e){var t=null,n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t&&o.every((function(e,n){return e===t[n]}))?n:(t=o,n=e.apply(void 0,o))}};const so={rangeStep:function(e,t,n){for(var r=new(Gr())(e),o=0,i=[];r.lt(t)&&o<1e5;)i.push(r.toNumber()),r=r.add(n),o++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(Gr())(e).abs().log(10).toNumber())+1},interpolateNumber:to((function(e,t,n){var r=+e;return r+n*(+t-r)})),uninterpolateNumber:to((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uninterpolateTruncation:to((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}))};function lo(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||uo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||uo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uo(e,t){if(e){if("string"===typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fo(e){var t=co(e,2),n=t[0],r=t[1],o=n,i=r;return n>r&&(o=r,i=n),[o,i]}function ho(e,t,n){if(e.lte(0))return new(Gr())(0);var r=so.getDigitCount(e.toNumber()),o=new(Gr())(10).pow(r),i=e.div(o),a=1!==r?.05:.1,s=new(Gr())(Math.ceil(i.div(a).toNumber())).add(n).mul(a).mul(o);return t?s:new(Gr())(Math.ceil(s))}function mo(e,t,n){var r=1,o=new(Gr())(e);if(!o.isint()&&n){var i=Math.abs(e);i<1?(r=new(Gr())(10).pow(so.getDigitCount(e)-1),o=new(Gr())(Math.floor(o.div(r).toNumber())).mul(r)):i>1&&(o=new(Gr())(Math.floor(e)))}else 0===e?o=new(Gr())(Math.floor((t-1)/2)):n||(o=new(Gr())(Math.floor(e)));var a=Math.floor((t-1)/2);return oo(ro((function(e){return o.add(new(Gr())(e-a).mul(r)).toNumber()})),no)(0,t)}function go(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Gr())(0),tickMin:new(Gr())(0),tickMax:new(Gr())(0)};var i,a=ho(new(Gr())(t).sub(e).div(n-1),r,o);i=e<=0&&t>=0?new(Gr())(0):(i=new(Gr())(e).add(t).div(2)).sub(new(Gr())(i).mod(a));var s=Math.ceil(i.sub(e).div(a).toNumber()),l=Math.ceil(new(Gr())(t).sub(i).div(a).toNumber()),c=s+l+1;return c>n?go(e,t,n,r,o+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:i.sub(new(Gr())(s).mul(a)),tickMax:i.add(new(Gr())(l).mul(a))})}var vo=ao((function(e){var t=co(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(o,2),s=co(fo([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(lo(no(0,o-1).map((function(){return 1/0})))):[].concat(lo(no(0,o-1).map((function(){return-1/0}))),[c]);return n>r?io(d):d}if(l===c)return mo(l,o,i);var u=go(l,c,a,i),p=u.step,f=u.tickMin,h=u.tickMax,m=so.rangeStep(f,h.add(new(Gr())(.1).mul(p)),p);return n>r?io(m):m})),xo=(ao((function(e){var t=co(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(o,2),s=co(fo([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return mo(l,o,i);var d=ho(new(Gr())(c).sub(l).div(a-1),i,0),u=oo(ro((function(e){return new(Gr())(l).add(new(Gr())(e).mul(d)).toNumber()})),no)(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?io(u):u})),ao((function(e,t){var n=co(e,2),r=n[0],o=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=co(fo([r,o]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,o];if(s===l)return[s];var c=Math.max(t,2),d=ho(new(Gr())(l).sub(s).div(c-1),i,0),u=[].concat(lo(so.rangeStep(new(Gr())(s),new(Gr())(l).sub(new(Gr())(.99).mul(d)),d)),[l]);return r>o?io(u):u}))),bo=n(38813),yo=n(76307),wo=n(240),jo=n(27165);function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function So(e){return function(e){if(Array.isArray(e))return Ao(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){Co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Co(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=No(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=No(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==No(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _o(e,t,n){return _r()(e)||_r()(t)?n:(0,yo.vh)(t)?Rr()(e,t,n):Or()(t)?t(e):n}function Po(e,t,n,r){var o=Lr()(e,(function(e){return _o(e,t)}));if("number"===n){var i=o.filter((function(e){return(0,yo.Et)(e)||parseFloat(e)}));return i.length?[kr()(i),Ar()(i)]:[1/0,-1/0]}return(r?o.filter((function(e){return!_r()(e)})):o).map((function(e){return(0,yo.vh)(e)||e instanceof Date?e:""}))}var Oo=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(o&&"angleAxis"===o.axisType&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var s=o.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,d=r[l].coordinate,u=l>=a-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if((0,yo.sA)(d-c)!==(0,yo.sA)(u-d)){var f=[];if((0,yo.sA)(u-d)===(0,yo.sA)(s[1]-s[0])){p=u;var h=d+s[1]-s[0];f[0]=Math.min(h,(h+c)/2),f[1]=Math.max(h,(h+c)/2)}else{p=c;var m=u+s[1]-s[0];f[0]=Math.min(d,(m+d)/2),f[1]=Math.max(d,(m+d)/2)}var g=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){i=r[l].index;break}}else{var v=Math.min(c,u),x=Math.max(c,u);if(e>(v+d)/2&&e<=(x+d)/2){i=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){i=n[b].index;break}return i},To=function(e){var t,n,r=e.type.displayName,o=null!==(t=e.type)&&void 0!==t&&t.defaultProps?ko(ko({},e.type.defaultProps),e.props):e.props,i=o.stroke,a=o.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:a;break;default:n=a}return n},Mo=function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,o=void 0===r?{}:r;if(!o)return{};for(var i={},a=Object.keys(o),s=0,l=a.length;s<l;s++)for(var c=o[a[s]].stackGroups,d=Object.keys(c),u=0,p=d.length;u<p;u++){var f=c[d[u]],h=f.items,m=f.cateAxisId,g=h.filter((function(e){return(0,wo.Mn)(e.type).indexOf("Bar")>=0}));if(g&&g.length){var v=g[0].type.defaultProps,x=void 0!==v?ko(ko({},v),g[0].props):g[0].props,b=x.barSize,y=x[m];i[y]||(i[y]=[]);var w=_r()(b)?t:b;i[y].push({item:g[0],stackList:g.slice(1),barSize:_r()(w)?void 0:(0,yo.F4)(w,n,0)})}}return i},Io=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,o=e.sizeList,i=void 0===o?[]:o,a=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=(0,yo.F4)(t,r,0,!0),d=[];if(i[0].barSize===+i[0].barSize){var u=!1,p=r/s,f=i.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&p>0&&(u=!0,f=s*(p*=.9));var h={offset:((r-f)/2|0)-c,size:0};l=i.reduce((function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+c,size:u?p:t.barSize}},r=[].concat(So(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:h})})),r}),d)}else{var m=(0,yo.F4)(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var v=a===+a?Math.min(g,a):g;l=i.reduce((function(e,t,n){var r=[].concat(So(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),d)}return l},Ro=function(e,t,n,r){var o=n.children,i=n.width,a=n.margin,s=i-(a.left||0)-(a.right||0),l=(0,jo.g)({children:o,legendWidth:s});if(l){var c=r||{},d=c.width,u=c.height,p=l.align,f=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===f)&&"center"!==p&&(0,yo.Et)(e[p]))return ko(ko({},e),{},Co({},p,e[p]+(d||0)));if(("horizontal"===h||"vertical"===h&&"center"===p)&&"middle"!==f&&(0,yo.Et)(e[f]))return ko(ko({},e),{},Co({},f,e[f]+(u||0)))}return e},Do=function(e,t,n,r,o){var i=t.props.children,a=(0,wo.aS)(i,bo.u).filter((function(e){return function(e,t,n){return!!_r()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,o,e.props.direction)}));if(a&&a.length){var s=a.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=_o(t,n);if(_r()(r))return e;var o=Array.isArray(r)?[kr()(r),Ar()(r)]:[r,r],i=s.reduce((function(e,n){var r=_o(t,n,0),i=o[0]-Math.abs(Array.isArray(r)?r[0]:r),a=o[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},Lo=function(e,t,n,r,o){var i=t.map((function(t){return Do(e,t,n,o,r)})).filter((function(e){return!_r()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null},Fo=function(e,t,n,r,o){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&Do(e,t,i,r)||Po(e,i,n,o)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},Bo=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},zo=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var o,i,a=e.map((function(e){return e.coordinate===t&&(o=!0),e.coordinate===n&&(i=!0),e.coordinate}));return o||a.push(t),i||a.push(n),a},Uo=function(e,t,n){if(!e)return null;var r=e.scale,o=e.duplicateDomain,i=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*(0,yo.sA)(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=o?o.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!Br()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:o?o[e]:e,index:t,offset:l}}))},Vo=new WeakMap,Wo=function(e,t){if("function"!==typeof t)return e;Vo.has(e)||Vo.set(e,new WeakMap);var n=Vo.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Ho=function(e,t,n){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if("auto"===i)return"radial"===s&&"radiusAxis"===l?{scale:o.A(),realScaleType:"band"}:"radial"===s&&"angleAxis"===l?{scale:oe(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:o.z(),realScaleType:"point"}:"category"===a?{scale:o.A(),realScaleType:"band"}:{scale:oe(),realScaleType:"linear"};if(Mr()(i)){var c="scale".concat(Ur()(i));return{scale:(r[c]||o.z)(),realScaleType:r[c]?c:"point"}}return Or()(i)?{scale:i}:{scale:o.z(),realScaleType:"point"}},qo=1e-4,Ko=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),o=Math.min(r[0],r[1])-qo,i=Math.max(r[0],r[1])+qo,a=e(t[0]),s=e(t[n-1]);(a<o||a>i||s<o||s>i)&&e.domain([t[0],t[n-1]])}},Go=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null},Yo=function(e,t){if(!t||2!==t.length||!(0,yo.Et)(t[0])||!(0,yo.Et)(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!(0,yo.Et)(e[0])||e[0]<n)&&(o[0]=n),(!(0,yo.Et)(e[1])||e[1]>r)&&(o[1]=r),o[0]>r&&(o[0]=r),o[1]<n&&(o[1]=n),o},Xo={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0,a=0;a<t;++a){var s=Br()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,o,i=0,a=e[0].length;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}xr(e,t)}},none:xr,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],i=o.length;r<i;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;o[r][1]+=o[r][0]=-s/2}xr(e,t)}},wiggle:function(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,i=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],u=d[a][1]||0,p=(u-(d[a-1][1]||0))/2,f=0;f<s;++f){var h=e[t[f]];p+=(h[a][1]||0)-(h[a-1][1]||0)}l+=u,c+=p*u}n[a-1][1]+=n[a-1][0]=i,l&&(i-=c/l)}n[a-1][1]+=n[a-1][0]=i,xr(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0;i<t;++i){var a=Br()(e[i][n][1])?e[i][n][0]:e[i][n][1];a>=0?(e[i][n][0]=o,e[i][n][1]=o+a,o=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},$o=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),o=Xo[n],i=function(){var e=(0,yr.A)([]),t=wr,n=xr,r=jr;function o(o){var i,a,s=Array.from(e.apply(this,arguments),Nr),l=s.length,c=-1;for(const e of o)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,o)]).data=e;for(i=0,a=(0,br.A)(t(s));i<l;++i)s[a[i]].index=i;return n(s,a),s}return o.keys=function(t){return arguments.length?(e="function"===typeof t?t:(0,yr.A)(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"===typeof e?e:(0,yr.A)(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?wr:"function"===typeof e?e:(0,yr.A)(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?xr:e,o):n},o}().keys(r).value((function(e,t){return+_o(e,t,0)})).order(wr).offset(o);return i(e)},Zo=function(e,t,n,r,o,i){if(!e)return null;var a=(i?t.reverse():t).reduce((function(e,t){var o,i=null!==(o=t.type)&&void 0!==o&&o.defaultProps?ko(ko({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(i.hide)return e;var s=i[n],l=e[s]||{hasStack:!1,stackGroups:{}};if((0,yo.vh)(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[(0,yo.NF)("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return ko(ko({},e),{},Co({},s,l))}),{});return Object.keys(a).reduce((function(t,i){var s=a[i];if(s.hasStack){s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,i){var a=s.stackGroups[i];return ko(ko({},t),{},Co({},i,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:$o(e,a.items,o)}))}),{})}return ko(ko({},t),{},Co({},i,s))}),{})},Jo=function(e,t){var n=t.realScaleType,r=t.type,o=t.tickCount,i=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(o&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=vo(l,o,a);return e.domain([kr()(c),Ar()(c)]),{niceTicks:c}}if(o&&"number"===r){var d=e.domain();return{niceTicks:xo(d,o,a)}}return null};function Qo(e){var t=e.axis,n=e.ticks,r=e.bandSize,o=e.entry,i=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!_r()(o[t.dataKey])){var s=(0,yo.eP)(n,"value",o[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=_o(o,_r()(a)?t.dataKey:a);return _r()(l)?null:t.scale(l)}var ei=function(e){var t=e.axis,n=e.ticks,r=e.offset,o=e.bandSize,i=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=_o(i,t.dataKey,t.domain[a]);return _r()(s)?null:t.scale(s)-o/2+r},ti=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return r<=0&&o>=0?0:o<0?o:r}return n[0]},ni=function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?ko(ko({},e.type.defaultProps),e.props):e.props).stackId;if((0,yo.vh)(r)){var o=t[r];if(o){var i=o.items.indexOf(e);return i>=0?o.stackedData[i]:null}}return null},ri=function(e,t,n){return Object.keys(e).reduce((function(r,o){var i=e[o].stackedData.reduce((function(e,r){var o=r.slice(t,n+1).reduce((function(e,t){return[kr()(t.concat([e[0]]).filter(yo.Et)),Ar()(t.concat([e[1]]).filter(yo.Et))]}),[1/0,-1/0]);return[Math.min(e[0],o[0]),Math.max(e[1],o[1])]}),[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},oi=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ii=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ai=function(e,t,n){if(Or()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if((0,yo.Et)(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(oi.test(e[0])){var o=+oi.exec(e[0])[1];r[0]=t[0]-o}else Or()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if((0,yo.Et)(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(ii.test(e[1])){var i=+ii.exec(e[1])[1];r[1]=t[1]+i}else Or()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},si=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var o=qr()(t,(function(e){return e.coordinate})),i=1/0,a=1,s=o.length;a<s;a++){var l=o[a],c=o[a-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},li=function(e,t,n){return e&&e.length?Wr()(e,Rr()(n,"type.defaultProps.domain"))?t:e:t},ci=function(e,t){var n=e.type.defaultProps?ko(ko({},e.type.defaultProps),e.props):e.props,r=n.dataKey,o=n.name,i=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return ko(ko({},(0,wo.J9)(e,!1)),{},{dataKey:r,unit:i,formatter:a,name:o||r,color:To(e),value:_o(t,r),type:s,payload:t,chartType:l,hide:c})}},72008:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(65043);function o(e){return[e.screenX,e.screenY]}function i(){let e=(0,r.useRef)([-1,-1]);return{wasMoved(t){let n=o(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=o(t)}}}},72070:(e,t,n)=>{var r=n(87937)(n(56552),"Set");e.exports=r},72154:(e,t,n)=>{var r=n(95575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},72313:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},72330:(e,t,n)=>{"use strict";var r=n(65043);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,d=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&d({inst:o})}),[e,n,t]),a((function(){return c(o)&&d({inst:o}),e((function(){c(o)&&d({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},72450:function(e,t,n){var r,o,i;o=[],void 0===(i="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):o(l.href)?r(e,t,n):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(o(e))r(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var i="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||s)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},d.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,p=u.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,o):r)||(e.exports=i)},73161:(e,t,n)=>{"use strict";n.d(t,{B:()=>u,p:()=>p});var r=n(65043),o=n(78518),i=n(23057);var a,s,l=n(77248);"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(a=null==process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://api.xplorebyte.com/api"})?void 0:a.NODE_ENV)&&"undefined"==typeof(null==(s=null==Element?void 0:Element.prototype)?void 0:s.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join("\n")),[]});var c,d=((c=d||{})[c.None=0]="None",c[c.Closed=1]="Closed",c[c.Enter=2]="Enter",c[c.Leave=4]="Leave",c);function u(e){let t={};for(let n in e)!0===e[n]&&(t["data-".concat(n)]="");return t}function p(e,t,n,a){let[s,c]=(0,r.useState)(n),{hasFlag:d,addFlag:u,removeFlag:p}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,n]=(0,r.useState)(e),o=(0,r.useCallback)((e=>n(e)),[t]),i=(0,r.useCallback)((e=>n((t=>t|e))),[t]),a=(0,r.useCallback)((e=>(t&e)===e),[t]),s=(0,r.useCallback)((e=>n((t=>t&~e))),[n]),l=(0,r.useCallback)((e=>n((t=>t^e))),[n]);return{flags:t,setFlag:o,addFlag:i,hasFlag:a,removeFlag:s,toggleFlag:l}}(e&&s?3:0),f=(0,r.useRef)(!1),h=(0,r.useRef)(!1),m=(0,i.L)();return(0,l.s)((()=>{var r;if(e)return n&&c(!0),t?(null==(r=null==a?void 0:a.start)||r.call(a,n),function(e,t){let{prepare:n,run:r,done:i,inFlight:a}=t,s=(0,o.e)();return function(e,t){let{inFlight:n,prepare:r}=t;if(null!=n&&n.current)return void r();let o=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=o}(e,{prepare:n,inFlight:a}),s.nextFrame((()=>{r(),s.requestAnimationFrame((()=>{s.add(function(e,t){var n,r;let i=(0,o.e)();if(!e)return i.dispose;let a=!1;i.add((()=>{a=!0}));let s=null!=(r=null==(n=e.getAnimations)?void 0:n.call(e).filter((e=>e instanceof CSSTransition)))?r:[];return 0===s.length?(t(),i.dispose):(Promise.allSettled(s.map((e=>e.finished))).then((()=>{a||t()})),i.dispose)}(e,i))}))})),s.dispose}(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(n?(u(3),p(4)):(u(4),p(2)))},run(){h.current?n?(p(3),u(4)):(p(4),u(3)):n?p(1):u(1)},done(){var e;h.current&&"function"==typeof t.getAnimations&&t.getAnimations().length>0||(f.current=!1,p(7),n||c(!1),null==(e=null==a?void 0:a.end)||e.call(a,n))}})):void(n&&u(3))}),[e,n,t,m]),e?[s,{closed:d(1),enter:d(2),leave:d(4),transition:d(2)||d(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}},73204:(e,t,n)=>{var r=n(3343),o=n(22777),i=n(54052),a=n(44543),s=n(69194),l=n(51268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),d=!n&&o(e),u=!n&&!d&&a(e),p=!n&&!d&&!u&&l(e),f=n||d||u||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},73216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>f,BV:()=>B,C5:()=>R,Ix:()=>F,Rq:()=>l,V8:()=>I,Zp:()=>v,g:()=>b,jb:()=>c,qh:()=>L,sp:()=>s,sv:()=>D,x$:()=>y,zy:()=>m});var o=n(65043),i=n(31387);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const s=o.createContext(null);const l=o.createContext(null);const c=o.createContext(null);const d=o.createContext(null);const u=o.createContext({outlet:null,matches:[],isDataRoute:!1});const p=o.createContext(null);function f(e,t){let{relative:n}=void 0===t?{}:t;h()||(0,i.Oi)(!1);let{basename:r,navigator:a}=o.useContext(c),{hash:s,pathname:l,search:d}=y(e,{relative:n}),u=l;return"/"!==r&&(u="/"===l?r:(0,i.HS)([r,l])),a.createHref({pathname:u,search:d,hash:s})}function h(){return null!=o.useContext(d)}function m(){return h()||(0,i.Oi)(!1),o.useContext(d).location}function g(e){o.useContext(c).static||o.useLayoutEffect(e)}function v(){let{isDataRoute:e}=o.useContext(u);return e?function(){let{router:e}=_(k.UseNavigateStable),t=O(C.UseNavigateStable),n=o.useRef(!1);return g((()=>{n.current=!0})),o.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},o)))}),[e,t])}():function(){h()||(0,i.Oi)(!1);let e=o.useContext(s),{basename:t,future:n,navigator:r}=o.useContext(c),{matches:a}=o.useContext(u),{pathname:l}=m(),d=JSON.stringify((0,i.yD)(a,n.v7_relativeSplatPath)),p=o.useRef(!1);return g((()=>{p.current=!0})),o.useCallback((function(n,o){if(void 0===o&&(o={}),!p.current)return;if("number"===typeof n)return void r.go(n);let a=(0,i.Gh)(n,JSON.parse(d),l,"path"===o.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,i.HS)([t,a.pathname])),(o.replace?r.replace:r.push)(a,o.state,o)}),[t,r,d,l,e])}()}const x=o.createContext(null);function b(){let{matches:e}=o.useContext(u),t=e[e.length-1];return t?t.params:{}}function y(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(c),{matches:a}=o.useContext(u),{pathname:s}=m(),l=JSON.stringify((0,i.yD)(a,r.v7_relativeSplatPath));return o.useMemo((()=>(0,i.Gh)(e,JSON.parse(l),s,"path"===n)),[e,l,s,n])}function w(e,t,n,r){h()||(0,i.Oi)(!1);let{navigator:s,static:l}=o.useContext(c),{matches:p}=o.useContext(u),f=p[p.length-1],g=f?f.params:{},v=(f&&f.pathname,f?f.pathnameBase:"/");f&&f.route;let x,b=m();if(t){var y;let e="string"===typeof t?(0,i.Rr)(t):t;"/"===v||(null==(y=e.pathname)?void 0:y.startsWith(v))||(0,i.Oi)(!1),x=e}else x=b;let w=x.pathname||"/",j=w;if("/"!==v){let e=v.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let N=!l&&n&&n.matches&&n.matches.length>0?n.matches:(0,i.ue)(e,{pathname:j});let S=E(N&&N.map((e=>Object.assign({},e,{params:Object.assign({},g,e.params),pathname:(0,i.HS)([v,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?v:(0,i.HS)([v,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),p,n,r);return t&&S?o.createElement(d.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:i.rc.Pop}},S):S}function j(){let e=function(){var e;let t=o.useContext(p),n=P(C.UseRouteError),r=O(C.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,i.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:a},n):null,null)}const N=o.createElement(j,null);class S extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(u.Provider,{value:this.props.routeContext},o.createElement(p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(s);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(u.Provider,{value:t},r)}function E(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,i.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<l.length;o++){let e=l[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=o),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight(((e,r,i)=>{let a,s=!1,p=null,f=null;var h;n&&(a=c&&r.route.id?c[r.route.id]:void 0,p=r.route.errorElement||N,d&&(u<0&&0===i?(h="route-fallback",!1||T[h]||(T[h]=!0),s=!0,f=null):u===i&&(s=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,i+1)),g=()=>{let t;return t=a?p:s?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(A,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(S,{location:n.location,revalidation:n.revalidation,component:p,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),C=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C||{});function _(e){let t=o.useContext(s);return t||(0,i.Oi)(!1),t}function P(e){let t=o.useContext(l);return t||(0,i.Oi)(!1),t}function O(e){let t=function(){let e=o.useContext(u);return e||(0,i.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,i.Oi)(!1),n.route.id}const T={};const M=(e,t,n)=>{};function I(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&M("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||M("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&M("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&M("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&M("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&M("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(o,2))).startTransition;function R(e){let{to:t,replace:n,state:r,relative:a}=e;h()||(0,i.Oi)(!1);let{future:s,static:l}=o.useContext(c),{matches:d}=o.useContext(u),{pathname:p}=m(),f=v(),g=(0,i.Gh)(t,(0,i.yD)(d,s.v7_relativeSplatPath),p,"path"===a),x=JSON.stringify(g);return o.useEffect((()=>f(JSON.parse(x),{replace:n,state:r,relative:a})),[f,x,a,n,r]),null}function D(e){return function(e){let t=o.useContext(u).outlet;return t?o.createElement(x.Provider,{value:e},t):t}(e.context)}function L(e){(0,i.Oi)(!1)}function F(e){let{basename:t="/",children:n=null,location:r,navigationType:s=i.rc.Pop,navigator:l,static:u=!1,future:p}=e;h()&&(0,i.Oi)(!1);let f=t.replace(/^\/*/,"/"),m=o.useMemo((()=>({basename:f,navigator:l,static:u,future:a({v7_relativeSplatPath:!1},p)})),[f,p,l,u]);"string"===typeof r&&(r=(0,i.Rr)(r));let{pathname:g="/",search:v="",hash:x="",state:b=null,key:y="default"}=r,w=o.useMemo((()=>{let e=(0,i.pb)(g,f);return null==e?null:{location:{pathname:e,search:v,hash:x,state:b,key:y},navigationType:s}}),[f,g,v,x,b,y,s]);return null==w?null:o.createElement(c.Provider,{value:m},o.createElement(d.Provider,{children:n,value:w}))}function B(e){let{children:t,location:n}=e;return w(z(t),n)}new Promise((()=>{}));o.Component;function z(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let a=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,z(e.props.children,a));e.type!==L&&(0,i.Oi)(!1),e.props.index&&e.props.children&&(0,i.Oi)(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=z(e.props.children,a)),n.push(s)})),n}},73782:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("settings-2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},74065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},74308:(e,t,n)=>{"use strict";var r=n(78208);function o(e,t,n){for(var o=r.zipObject(n,r.map(n,(function(e,t){return t}))),i=r.flatten(r.map(t,(function(t){return r.sortBy(r.map(e.outEdges(t),(function(t){return{pos:o[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var l=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(i.forEach((function(e){var t=e.pos+a;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;c+=e.weight*n}))),c}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=o(e,t[r-1],t[r]);return n}},74347:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(65043),o=n(77248);function i(e){let t=(0,r.useRef)(e);return(0,o.s)((()=>{t.current=e}),[e]),t}},74521:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(65043),o=n(77248);function i(){let e=(0,r.useRef)(!1);return(0,o.s)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},74961:(e,t,n)=>{"use strict";n.d(t,{FK:()=>r});const r={DASHBOARD_VIEW:"DASHBOARD.VIEW",CRM_WORKSPACE_VIEW:"CRM.WORKSPACE.VIEW",CRM_CONTACT_VIEW:"CRM.CONTACT.VIEW",CRM_TAGS_VIEW:"CRM.TAGS.VIEW",CRM_REMINDERS_VIEW:"CRM.REMINDERS.VIEW",CRM_TIMELINE_VIEW:"CRM.TIMELINE.VIEW",CRM_ATTRIBUTE_VIEW:"CRM.ATTRIBUTE.VIEW",CATALOG_WORKSPACE_VIEW:"CATALOG.WORKSPACE.VIEW",CATALOG_CREATE:"CATALOG.CREATE",CATALOG_DELETE:"CATALOG.DELETE",CATALOG_AUTOMATION:"CATALOG.AUTOMATION",CAMPAIGN_WORKSPACE_VIEW:"CAMPAIGN.WORKSPACE.VIEW",CAMPAIGN_BUILDER:"CAMPAIGN.BUILDER",CAMPAIGN_LIST_VIEW:"CAMPAIGN.LIST.VIEW",CAMPAIGN_STATUS_VIEW:"CAMPAIGN.STATUS.VIEW",CAMPAIGN_CTA_MANAGEMENT:"CAMPAIGN.CTA.MANAGEMENT",MESSAGING_WORKSPACE_VIEW:"MESSAGING.WORKSPACE.VIEW",MESSAGING_SEND_TEXT:"MESSAGING.SEND.TEXT",MESSAGING_SEND_TEMPLATE:"MESSAGING.SEND.TEMPLATE",MESSAGING_REPORT_VIEW:"MESSAGING.REPORT.VIEW",AUTOMATION_WORKSPACE_VIEW:"AUTOMATION.WORKSPACE.VIEW",AUTOMATION_CREATE_BOT:"AUTOMATION.CREATE.BOT",AUTOMATION_VIEW_FLOW_MANAGE:"AUTOMATION.VIEW.FLOW.MANAGE",AUTOMATION_VIEW_FLOW_ANALYTICS:"AUTOMATION.VIEW.FLOW.ANALYTICS",AUTOMATION_CREATE_TEMPLATE_FLOW:"AUTOMATION.CREATE.TEMPLATE.FLOW",AUTOMATION_TRIGGER_TEST:"AUTOMATION.TRIGGER.TEST",INBOX_WORKSPACE_VIEW:"INBOX.WORKSPACE.VIEW",INBOX_VIEW:"INBOX.VIEW",INBOX_CHAT_VIEW:"INBOX.CHAT.VIEW",INBOX_CHAT_ASSIGN:"INBOX.CHAT.ASSIGN",SUPER_ADMIN_WORKSPACE_VIEW:"SUPER.ADMIN.WORKSPACE.VIEW",SUPER_ADMIN_NEW_BUSINESS_APPROVAL:"SUPER.ADMIN.NEW.BUSINESS.APPROVAL",SUPER_ADMIN_PLAN_MANAGER_VIEW:"SUPER.ADMIN.PLAN.MANAGER.VIEW",SUPER_ADMIN_PLAN_PERMISSIONS_LIST:"SUPER.ADMIN.PLAN.PERMISSIONS.LIST",SUPER_ADMIN_ESU_DEBUG:"SUPER.ADMIN.ESU.DEBUG",SUPER_ADMIN_SIGNUP_REPORT_VIEW:"SUPER.ADMIN.SIGNUP.REPORT.VIEW",SUPER_ADMIN_BUSINESS_OVERVIEW:"SUPER.ADMIN.BUSINESS.OVERVIEW",SUPER_ADMIN_WEBHOOK_MONITOR:"SUPER.ADMIN.WEBHOOK.MONITOR",SUPER_ADMIN_USER_MANAGEMENT_VIEW:"SUPER.ADMIN.USER.MANAGEMENT.VIEW",SUPER_ADMIN_FLOW_EXECUTION_EXPLORER_VIEW:"SUPER.ADMIN.FLOW.EXECUTION.EXPLORER.VIEW",SETTINGS_WORKSPACE_VIEW:"SETTINGS.WORKSPACE.VIEW",SETTINGS_WHATSAPP_SETTINGS_VIEW:"SETTINGS.WHATSAPP.SETTINGS.VIEW",SETTINGS_THEME_UPDATE:"SETTINGS.THEME.UPDATE",SETTINGS_PASSWORD_UPDATE:"SETTINGS.PASSWORD.UPDATE",SETTINGS_PROFILE_VIEW:"SETTINGS.PROFILE.VIEW",SETTINGS_META_ACCOUNT_MANAGEMENT:"SETTINGS.META.ACCOUNT.MANAGEMENT",SETTINGS_BILLING_VIEW:"SETTINGS.BILLING.VIEW",SETTINGS_PROFILE_UPDATE:"SETTINGS.PROFILE.UPDATE",SETTINGS_ROLE_PERMISSIONS_MAPPING:"SETTINGS.ROLE.PERMISSIONS.MAPPING",SETTINGS_STAFF_MANAGEMENT:"SETTINGS.STAFF.MANAGEMENT",TEMPLATE_WORKSPACE_VIEW:"TEMPLATE.WORKSPACE.VIEW",TEMPLATE_BUILDER_VIEW:"TEMPLATE.BUILDER.VIEW",TEMPLATE_BUILDER_CREATE_DRAFT:"TEMPLATE.BUILDER.CREATE.DRAFT",TEMPLATE_BUILDER_APPROVED_TEMPLATES_VIEW:"TEMPLATE.BUILDER.APPROVED.TEMPLATES.VIEW",TEMPLATE_BUILDER_LIBRARY_BROWSE:"TEMPLATE.BUILDER.LIBRARY.BROWSE"}},75088:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},75206:(e,t,n)=>{"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function o(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function i(){}n.d(t,{Ay:()=>w,Qh:()=>S});var a=.7,s=1/a,l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,p=new RegExp("^rgb\\(".concat(l,",").concat(l,",").concat(l,"\\)$")),f=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),h=new RegExp("^rgba\\(".concat(l,",").concat(l,",").concat(l,",").concat(c,"\\)$")),m=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(c,"\\)$")),g=new RegExp("^hsl\\(".concat(c,",").concat(d,",").concat(d,"\\)$")),v=new RegExp("^hsla\\(".concat(c,",").concat(d,",").concat(d,",").concat(c,"\\)$")),x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?j(t):3===n?new A(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?N(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?N(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=p.exec(e))?new A(t[1],t[2],t[3],1):(t=f.exec(e))?new A(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?N(t[1],t[2],t[3],t[4]):(t=m.exec(e))?N(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?O(t[1],t[2]/100,t[3]/100,1):(t=v.exec(e))?O(t[1],t[2]/100,t[3]/100,t[4]):x.hasOwnProperty(e)?j(x[e]):"transparent"===e?new A(NaN,NaN,NaN,0):null}function j(e){return new A(e>>16&255,e>>8&255,255&e,1)}function N(e,t,n,r){return r<=0&&(e=t=n=NaN),new A(e,t,n,r)}function S(e,t,n,r){return 1===arguments.length?function(e){return e instanceof i||(e=w(e)),e?new A((e=e.rgb()).r,e.g,e.b,e.opacity):new A}(e):new A(e,t,n,null==r?1:r)}function A(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b))}function k(){const e=C(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(1===e?")":", ".concat(e,")"))}function C(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function P(e){return((e=_(e))<16?"0":"")+e.toString(16)}function O(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new M(e,t,n,r)}function T(e){if(e instanceof M)return new M(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=w(e)),!e)return new M;if(e instanceof M)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-o,c=(a+o)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=c<.5?a+o:2-a-o,s*=60):l=c>0&&c<1?0:s,new M(s,l,c,e.opacity)}function M(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function I(e){return(e=(e||0)%360)<0?e+360:e}function R(e){return Math.max(0,Math.min(1,e||0))}function D(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(i,w,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return T(this).formatHsl()},formatRgb:y,toString:y}),r(A,S,o(i,{brighter(e){return e=null==e?s:Math.pow(s,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new A(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new A(_(this.r),_(this.g),_(this.b),C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatHex8:function(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b)).concat(P(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:k,toString:k})),r(M,(function(e,t,n,r){return 1===arguments.length?T(e):new M(e,t,n,null==r?1:r)}),o(i,{brighter(e){return e=null==e?s:Math.pow(s,e),new M(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new M(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new A(D(e>=240?e-240:e+120,o,r),D(e,o,r),D(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new M(I(this.h),R(this.s),R(this.l),C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=C(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(I(this.h),", ").concat(100*R(this.s),"%, ").concat(100*R(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}))},75365:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c});var r=n(75206);function o(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}var i=n(38419);function a(e,t){return function(n){return e+n*t}}function s(e){return 1===(e=+e)?l:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,i.A)(isNaN(t)?n:t)}}function l(e,t){var n=t-e;return n?a(e,n):(0,i.A)(isNaN(e)?t:e)}const c=function e(t){var n=s(t);function o(e,t){var o=n((e=(0,r.Qh)(e)).r,(t=(0,r.Qh)(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=l(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return o.gamma=e,o}(1);function d(e){return function(t){var n,o,i=t.length,a=new Array(i),s=new Array(i),l=new Array(i);for(n=0;n<i;++n)o=(0,r.Qh)(t[n]),a[n]=o.r||0,s[n]=o.g||0,l[n]=o.b||0;return a=e(a),s=e(s),l=e(l),o.opacity=1,function(e){return o.r=a(e),o.g=s(e),o.b=l(e),o+""}}}d((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,l=r<t-1?e[r+2]:2*a-i;return o((n-r/t)*t,s,i,a,l)}})),d((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return o((n-r/t)*t,i,a,s,l)}}))},75686:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},75713:e=>{e.exports=function(){}},75816:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},75822:(e,t,n)=>{var r=n(95750),o=n(34428);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,s={},l=new o,c=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,l.decrease(t,c))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},l.add(e,n)}));for(;l.size()>0&&(i=l.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},75866:(e,t,n)=>{var r=n(88468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},76034:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=n(44113);function o(e){let t=e.parentElement,n=null;for(;t&&!r.Er(t);)r.Jb(t)&&(n=t),t=t.parentElement;let o=""===(null==t?void 0:t.getAttribute("disabled"));return(!o||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(r.Jb(t))return!1;t=t.previousElementSibling}return!0}(n))&&o}},76245:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},76272:(e,t,n)=>{var r=n(6571),o=n(22761);e.exports=function(e){return o(e)&&r(e)}},76307:(e,t,n)=>{"use strict";n.d(t,{CG:()=>j,Dj:()=>N,Et:()=>m,F4:()=>y,NF:()=>b,_3:()=>h,ck:()=>A,eP:()=>S,lX:()=>w,sA:()=>f,uy:()=>g,vh:()=>v});var r=n(90620),o=n.n(r),i=n(35268),a=n.n(i),s=n(33097),l=n.n(s),c=n(79160),d=n.n(c),u=n(79686),p=n.n(u),f=function(e){return 0===e?0:e>0?1:-1},h=function(e){return o()(e)&&e.indexOf("%")===e.length-1},m=function(e){return d()(e)&&!a()(e)},g=function(e){return p()(e)},v=function(e){return m(e)||o()(e)},x=0,b=function(e){var t=++x;return"".concat(e||"").concat(t)},y=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!m(e)&&!o()(e))return r;if(h(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return a()(n)&&(n=r),i&&n>t&&(n=t),n},w=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},j=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},N=function(e,t){return m(e)&&m(t)?function(n){return e+n*(t-e)}:function(){return t}};function S(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):l()(e,t))===n})):null}var A=function(e,t){return m(e)&&m(t)?e-t:o()(e)&&o()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))}},76467:(e,t,n)=>{var r=n(78208);e.exports=function(e){var t=function(e){var t={},n=0;function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}}return r.forEach(e.children(),o),t}(e);r.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],s=[],l=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>l||c>t[o].lim));i=o,o=r;for(;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,s=i.lca,l=0,c=a[l],d=!0;n!==o.w;){if(r=e.node(n),d){for(;(c=a[l])!==s&&e.node(c).maxRank<r.rank;)l++;c===s&&(d=!1)}if(!d){for(;l<a.length-1&&e.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}e.setParent(n,c),n=e.successors(n)[0]}}))}},76516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},76745:(e,t,n)=>{var r=n(79742),o=n(50061),i=n(33279);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},76788:(e,t,n)=>{var r=n(97160),o=n(85204),i=n(64816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},76833:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},76996:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("sticky-note",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]])},77116:(e,t,n)=>{var r=n(9812),o=n(22777),i=n(54052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},77237:(e,t,n)=>{"use strict";e.exports=n(58365)},77248:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(65043),o=n(10766);let i=(e,t)=>{o._.isServer?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}},77396:(e,t,n)=>{var r;!function(){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},77717:(e,t,n)=>{var r=n(94258),o=n(25111),i=n(30474);e.exports=function(e,t){return null==e?e:r(e,o(t),i)}},77784:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(89379),o=n(80045),i=n(65043);const a=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],d=(0,i.forwardRef)(((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:p="",children:f,iconNode:h}=e,m=(0,o.A)(e,c);return(0,i.createElement)("svg",(0,r.A)((0,r.A)({ref:t},l),{},{width:a,height:a,stroke:n,strokeWidth:u?24*Number(d)/Number(a):d,className:s("lucide",p)},m),[...h.map((e=>{let[t,n]=e;return(0,i.createElement)(t,n)})),...Array.isArray(f)?f:[f]])})),u=["className"],p=(e,t)=>{const n=(0,i.forwardRef)(((n,l)=>{let{className:c}=n,p=(0,o.A)(n,u);return(0,i.createElement)(d,(0,r.A)({ref:l,iconNode:t,className:s("lucide-".concat((f=a(e),f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},p));var f}));return n.displayName=a(e),n}},77819:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},78129:(e,t,n)=>{var r=n(78420),o=n(99377);e.exports=function(e,t){return o(e||[],t||[],r)}},78208:(e,t,n)=>{var r;try{r={cloneDeep:n(56434),constant:n(22541),defaults:n(31163),each:n(62580),filter:n(50723),find:n(98990),flatten:n(20819),forEach:n(55491),forIn:n(77717),has:n(62117),isUndefined:n(141),last:n(74065),map:n(33411),mapValues:n(91733),max:n(50539),merge:n(34677),min:n(76745),minBy:n(59364),now:n(4757),pick:n(22616),range:n(96604),reduce:n(12759),sortBy:n(87424),uniqueId:n(80111),values:n(26727),zipObject:n(78129)}}catch(o){}r||(r=window._),e.exports=r},78311:e=>{e.exports="2.1.8"},78384:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},78420:(e,t,n)=>{var r=n(71775),o=n(93211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},78518:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(50551);function o(){let e=[],t={addEventListener:(e,n,r,o)=>(e.addEventListener(n,r,o),t.add((()=>e.removeEventListener(n,r,o)))),requestAnimationFrame(){let e=requestAnimationFrame(...arguments);return t.add((()=>cancelAnimationFrame(e)))},nextFrame(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.requestAnimationFrame((()=>t.requestAnimationFrame(...n)))},setTimeout(){let e=setTimeout(...arguments);return t.add((()=>clearTimeout(e)))},microTask(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];let i={current:!0};return(0,r._)((()=>{i.current&&n[0]()})),t.add((()=>{i.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=o();return e(t),this.add((()=>t.dispose()))},add:t=>(e.includes(t)||e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}},78853:(e,t,n)=>{"use strict";e.exports=n(27234)},78976:(e,t,n)=>{var r=n(75822),o=n(95750);e.exports=function(e,t,n){return o.transform(e.nodes(),(function(o,i){o[i]=r(e,i,t,n)}),{})}},79160:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},79207:(e,t,n)=>{var r=n(99383);e.exports={Graph:r.Graph,json:n(51097),alg:n(28582),version:r.version}},79686:e=>{e.exports=function(e){return null==e}},79717:(e,t,n)=>{"use strict";var r=n(65043),o=n(29461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var f=a(e,u[0],u[1]);return l((function(){p.hasValue=!0,p.value=f}),[f]),d(f),f}},79722:(e,t,n)=>{"use strict";n.d(t,{A:()=>Et});var r={};function o(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>se,hasStandardBrowserEnv:()=>ce,hasStandardBrowserWebWorkerEnv:()=>de,navigator:()=>le,origin:()=>ue});const{toString:i}=Object.prototype,{getPrototypeOf:a}=Object,s=(l=Object.create(null),e=>{const t=i.call(e);return l[t]||(l[t]=t.slice(8,-1).toLowerCase())});var l;const c=e=>(e=e.toLowerCase(),t=>s(t)===e),d=e=>t=>typeof t===e,{isArray:u}=Array,p=d("undefined");const f=c("ArrayBuffer");const h=d("string"),m=d("function"),g=d("number"),v=e=>null!==e&&"object"===typeof e,x=e=>{if("object"!==s(e))return!1;const t=a(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b=c("Date"),y=c("File"),w=c("Blob"),j=c("FileList"),N=c("URLSearchParams"),[S,A,E,k]=["ReadableStream","Request","Response","Headers"].map(c);function C(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function _(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const P="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,O=e=>!p(e)&&e!==P;const T=(M="undefined"!==typeof Uint8Array&&a(Uint8Array),e=>M&&e instanceof M);var M;const I=c("HTMLFormElement"),R=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),D=c("RegExp"),L=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};C(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)};const F=c("AsyncFunction"),B=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],P.addEventListener("message",(e=>{let{source:t,data:o}=e;t===P&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),P.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,m(P.postMessage)),z="undefined"!==typeof queueMicrotask?queueMicrotask.bind(P):"undefined"!==typeof process&&process.nextTick||B,U={isArray:u,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=s(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:h,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:x,isReadableStream:S,isRequest:A,isResponse:E,isHeaders:k,isUndefined:p,isDate:b,isFile:y,isBlob:w,isRegExp:D,isFunction:m,isStream:e=>v(e)&&m(e.pipe),isURLSearchParams:N,isTypedArray:T,isFileList:j,forEach:C,merge:function e(){const{caseless:t}=O(this)&&this||{},n={},r=(r,o)=>{const i=t&&_(n,o)||o;x(n[i])&&x(r)?n[i]=e(n[i],r):x(r)?n[i]=e({},r):u(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&C(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return C(t,((t,r)=>{n&&m(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,s;const l={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:c,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:I,hasOwnProperty:R,hasOwnProp:R,reduceDescriptors:L,freezeMethods:e=>{L(e,((t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return u(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:_,global:P,isContextDefined:O,isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=u(e)?[]:{};return C(e,((e,t)=>{const i=n(e,r+1);!p(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:F,isThenable:e=>e&&(v(e)||m(e))&&m(e.then)&&m(e.catch),setImmediate:B,asap:z};function V(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}U.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const W=V.prototype,H={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{H[e]={value:e}})),Object.defineProperties(V,H),Object.defineProperty(W,"isAxiosError",{value:!0}),V.from=(e,t,n,r,o,i)=>{const a=Object.create(W);return U.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),V.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const q=V;function K(e){return U.isPlainObject(e)||U.isArray(e)}function G(e){return U.endsWith(e,"[]")?e.slice(0,-2):e}function Y(e,t,n){return e?e.concat(t).map((function(e,t){return e=G(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const X=U.toFlatObject(U,{},null,(function(e){return/^is[A-Z]/.test(e)}));const $=function(e,t,n){if(!U.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!U.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&U.isSpecCompliantForm(t);if(!U.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(U.isDate(e))return e.toISOString();if(!s&&U.isBlob(e))throw new q("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(e)||U.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(U.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(U.isArray(e)&&function(e){return U.isArray(e)&&!e.some(K)}(e)||(U.isFileList(e)||U.endsWith(n,"[]"))&&(s=U.toArray(e)))return n=G(n),s.forEach((function(e,r){!U.isUndefined(e)&&null!==e&&t.append(!0===a?Y([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!K(e)||(t.append(Y(o,n,i),l(e)),!1)}const d=[],u=Object.assign(X,{defaultVisitor:c,convertValue:l,isVisitable:K});if(!U.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!U.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),U.forEach(n,(function(n,i){!0===(!(U.isUndefined(n)||null===n)&&o.call(t,n,U.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])})),d.pop()}}(e),t};function Z(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function J(e,t){this._pairs=[],e&&$(e,this,t)}const Q=J.prototype;Q.append=function(e,t){this._pairs.push([e,t])},Q.toString=function(e){const t=e?function(t){return e.call(this,t,Z)}:Z;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ee=J;function te(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ne(e,t,n){if(!t)return e;const r=n&&n.encode||te;U.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):U.isURLSearchParams(t)?t.toString():new ee(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const re=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var ie=n(89379);const ae={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ee,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},se="undefined"!==typeof window&&"undefined"!==typeof document,le="object"===typeof navigator&&navigator||void 0,ce=se&&(!le||["ReactNative","NativeScript","NS"].indexOf(le.product)<0),de="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ue=se&&window.location.href||"http://localhost",pe=(0,ie.A)((0,ie.A)({},r),ae);const fe=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&U.isArray(r)?r.length:i,s)return U.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&U.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&U.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(U.isFormData(e)&&U.isFunction(e.entries)){const n={};return U.forEachEntry(e,((e,r)=>{t(function(e){return U.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const he={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=U.isObject(e);o&&U.isHTMLForm(e)&&(e=new FormData(e));if(U.isFormData(e))return r?JSON.stringify(fe(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $(e,new pe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return pe.isNode&&U.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=U.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return $(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(U.isString(e))try{return(t||JSON.parse)(e),U.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||he.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw q.from(o,q.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],(e=>{he.headers[e]={}}));const me=he,ge=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ve=Symbol("internals");function xe(e){return e&&String(e).trim().toLowerCase()}function be(e){return!1===e||null==e?e:U.isArray(e)?e.map(be):String(e)}function ye(e,t,n,r,o){return U.isFunction(r)?r.call(this,t,n):(o&&(t=n),U.isString(t)?U.isString(r)?-1!==t.indexOf(r):U.isRegExp(r)?r.test(t):void 0:void 0)}class we{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=xe(t);if(!o)throw new Error("header name must be a non-empty string");const i=U.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=be(e))}const i=(e,t)=>U.forEach(e,((e,n)=>o(e,n,t)));if(U.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(U.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&ge[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(U.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=xe(e)){const n=U.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(U.isFunction(t))return t.call(this,e,n);if(U.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xe(e)){const n=U.findKey(this,e);return!(!n||void 0===this[n]||t&&!ye(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=xe(e)){const o=U.findKey(n,e);!o||t&&!ye(0,n[o],o,t)||(delete n[o],r=!0)}}return U.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!ye(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return U.forEach(this,((r,o)=>{const i=U.findKey(n,o);if(i)return t[i]=be(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=be(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return U.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&U.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ve]=this[ve]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=xe(e);t[r]||(!function(e,t){const n=U.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return U.isArray(e)?e.forEach(r):r(e),this}}we.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),U.reduceDescriptors(we.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),U.freezeMethods(we);const je=we;function Ne(e,t){const n=this||me,r=t||n,o=je.from(r.headers);let i=r.data;return U.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function Se(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,n){q.call(this,null==e?"canceled":e,q.ERR_CANCELED,t,n),this.name="CanceledError"}U.inherits(Ae,q,{__CANCEL__:!0});const Ee=Ae;function ke(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ce=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let d=a,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const _e=function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},Pe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Ce(50,250);return _e((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Oe=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Te=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return U.asap((()=>e(...n)))},Me=pe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,pe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,Ie=pe.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];U.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),U.isString(r)&&a.push("path="+r),U.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Re(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const De=e=>e instanceof je?(0,ie.A)({},e):e;function Le(e,t){t=t||{};const n={};function r(e,t,n,r){return U.isPlainObject(e)&&U.isPlainObject(t)?U.merge.call({caseless:r},e,t):U.isPlainObject(t)?U.merge({},t):U.isArray(t)?t.slice():t}function o(e,t,n,o){return U.isUndefined(t)?U.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!U.isUndefined(t))return r(void 0,t)}function a(e,t){return U.isUndefined(t)?U.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(De(e),De(t),0,!0)};return U.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);U.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Fe=e=>{const t=Le({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=je.from(s),t.url=ne(Re(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),U.isFormData(r))if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(pe.hasStandardBrowserEnv&&(o&&U.isFunction(o)&&(o=o(t)),o||!1!==o&&Me(t.url))){const e=i&&a&&Ie.read(a);e&&s.set(i,e)}return t},Be="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Fe(e);let o=r.data;const i=je.from(r.headers).normalize();let a,s,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:f}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=je.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());ke((function(e){t(e),h()}),(function(e){n(e),h()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new q("Request aborted",q.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new q("Network Error",q.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||oe;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new q(t,o.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&U.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),U.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),f&&([l,d]=Pe(f,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,c]=Pe(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Ee(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===pe.protocols.indexOf(v)?n(new q("Unsupported protocol "+v+":",q.ERR_BAD_REQUEST,e)):m.send(o||null)}))},ze=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof q?t:new Ee(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new q("timeout ".concat(t," of ms exceeded"),q.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>U.asap(a),s}};function Ue(e,t){this.v=e,this.k=t}function Ve(e){return function(){return new We(e.apply(this,arguments))}}function We(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof Ue;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}o(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function He(e){return new Ue(e,0)}function qe(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Ue(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Ke(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ge(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ge(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ge=function(e){this.s=e,this.n=e.next},Ge.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ge(e)}We.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},We.prototype.next=function(e){return this._invoke("next",e)},We.prototype.throw=function(e){return this._invoke("throw",e)},We.prototype.return=function(e){return this._invoke("return",e)};const Ye=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Xe=function(){var e=Ve((function*(e,t){var n,r=!1,o=!1;try{for(var i,a=Ke($e(e));r=!(i=yield He(a.next())).done;r=!1){const e=i.value;yield*qe(Ke(Ye(e,t)))}}catch(s){o=!0,n=s}finally{try{r&&null!=a.return&&(yield He(a.return()))}finally{if(o)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){var e=Ve((function*(e){if(e[Symbol.asyncIterator])return void(yield*qe(Ke(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield He(t.read());if(e)break;yield n}}finally{yield He(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Ze=(e,t,n,r)=>{const o=Xe(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Je="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Qe=Je&&"function"===typeof ReadableStream,et=Je&&("function"===typeof TextEncoder?(tt=new TextEncoder,e=>tt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var tt;const nt=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(o){return!1}},rt=Qe&&nt((()=>{let e=!1;const t=new Request(pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ot=Qe&&nt((()=>U.isReadableStream(new Response("").body))),it={stream:ot&&(e=>e.body)};var at;Je&&(at=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!it[e]&&(it[e]=U.isFunction(at[e])?t=>t[e]():(t,n)=>{throw new q("Response type '".concat(e,"' is not supported"),q.ERR_NOT_SUPPORT,n)})})));const st=async(e,t)=>{const n=U.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(U.isBlob(e))return e.size;if(U.isSpecCompliantForm(e)){const t=new Request(pe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return U.isArrayBufferView(e)||U.isArrayBuffer(e)?e.byteLength:(U.isURLSearchParams(e)&&(e+=""),U.isString(e)?(await et(e)).byteLength:void 0)})(t):n},lt={http:null,xhr:Be,fetch:Je&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=Fe(e);c=c?(c+"").toLowerCase():"text";let f,h=ze([o,i&&i.toAbortSignal()],a);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&rt&&"get"!==n&&"head"!==n&&0!==(g=await st(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(U.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Oe(g,Pe(Te(l)));r=Ze(n.body,65536,e,t)}}U.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;f=new Request(t,(0,ie.A)((0,ie.A)({},p),{},{signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:o?u:void 0}));let i=await fetch(f);const a=ot&&("stream"===c||"response"===c);if(ot&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=U.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&Oe(t,Pe(Te(s),!0))||[];i=new Response(Ze(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await it[U.findKey(it,c)||"text"](i,e);return!a&&m&&m(),await new Promise(((t,n)=>{ke(t,n,{data:v,headers:je.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new q("Network Error",q.ERR_NETWORK,e,f),{cause:v.cause||v});throw q.from(v,v&&v.code,e,f)}})};U.forEach(lt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const ct=e=>"- ".concat(e),dt=e=>U.isFunction(e)||null===e||!1===e,ut=e=>{e=U.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!dt(n)&&(r=lt[(t=String(n)).toLowerCase()],void 0===r))throw new q("Unknown adapter '".concat(t,"'"));if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ct).join("\n"):" "+ct(e[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function pt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function ft(e){pt(e),e.headers=je.from(e.headers),e.data=Ne.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ut(e.adapter||me.adapter)(e).then((function(t){return pt(e),t.data=Ne.call(e,e.transformResponse,t),t.headers=je.from(t.headers),t}),(function(t){return Se(t)||(pt(e),t&&t.response&&(t.response.data=Ne.call(e,e.transformResponse,t.response),t.response.headers=je.from(t.response.headers))),Promise.reject(t)}))}const ht="1.8.4",mt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{mt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const gt={};mt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new q(r(o," has been removed"+(t?" in "+t:"")),q.ERR_DEPRECATED);return t&&!gt[o]&&(gt[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},mt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const vt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new q("option "+i+" must be "+n,q.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new q("Unknown option "+i,q.ERR_BAD_OPTION)}},validators:mt},xt=vt.validators;class bt{constructor(e){this.defaults=e,this.interceptors={request:new re,response:new re}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Le(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&vt.assertOptions(n,{silentJSONParsing:xt.transitional(xt.boolean),forcedJSONParsing:xt.transitional(xt.boolean),clarifyTimeoutError:xt.transitional(xt.boolean)},!1),null!=r&&(U.isFunction(r)?t.paramsSerializer={serialize:r}:vt.assertOptions(r,{encode:xt.function,serialize:xt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vt.assertOptions(t,{baseUrl:xt.spelling("baseURL"),withXsrfToken:xt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&U.merge(o.common,o[t.method]);o&&U.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=je.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!s){const e=[ft.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let p=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{p=e(p)}catch(f){t.call(this,f);break}}try{c=ft.call(this,p)}catch(f){return Promise.reject(f)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ne(Re((e=Le(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],(function(e){bt.prototype[e]=function(t,n){return this.request(Le(n||{},{method:e,url:t,data:(n||{}).data}))}})),U.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Le(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}bt.prototype[e]=t(),bt.prototype[e+"Form"]=t(!0)}));const yt=bt;class wt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Ee(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wt((function(t){e=t})),cancel:e}}}const jt=wt;const Nt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nt).forEach((e=>{let[t,n]=e;Nt[n]=t}));const St=Nt;const At=function e(t){const n=new yt(t),r=o(yt.prototype.request,n);return U.extend(r,yt.prototype,n,{allOwnKeys:!0}),U.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Le(t,n))},r}(me);At.Axios=yt,At.CanceledError=Ee,At.CancelToken=jt,At.isCancel=Se,At.VERSION=ht,At.toFormData=$,At.AxiosError=q,At.Cancel=At.CanceledError,At.all=function(e){return Promise.all(e)},At.spread=function(e){return function(t){return e.apply(null,t)}},At.isAxiosError=function(e){return U.isObject(e)&&!0===e.isAxiosError},At.mergeConfig=Le,At.AxiosHeaders=je,At.formToJSON=e=>fe(U.isHTMLForm(e)?new FormData(e):e),At.getAdapter=ut,At.HttpStatusCode=St,At.default=At;const Et=At},79742:(e,t,n)=>{var r=n(19841);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},79889:(e,t,n)=>{var r=n(93950),o=n(46686);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},80045:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(98587);function o(e,t){if(null==e)return{};var n,o,i=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},80111:(e,t,n)=>{var r=n(41069),o=0;e.exports=function(e){var t=++o;return r(e)+t}},80219:(e,t,n)=>{"use strict";var r=n(53763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var x=p(n,v);try{c(t,v,x)}catch(b){}}}}return t}},80438:(e,t,n)=>{var r=n(12622);e.exports=function(e){return r(this,e).get(e)}},80710:(e,t,n)=>{"use strict";n.d(t,{D:()=>f,Q:()=>d});var r,o=n(89379),i=n(30482),a=n(81823),s=n(43880),l=Object.defineProperty,c=(e,t,n)=>(((e,t,n)=>{t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),d=((r=d||{})[r.Push=0]="Push",r[r.Pop=1]="Pop",r);let u={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(-1!==i){let t=e.stack.slice();return t.splice(i,1),t.push(n),r=t,(0,o.A)((0,o.A)({},e),{},{stack:r})}return(0,o.A)((0,o.A)({},e),{},{stack:[...e.stack,n]})},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(-1===r)return e;let i=e.stack.slice();return i.splice(r,1),(0,o.A)((0,o.A)({},e),{},{stack:i})}};class p extends i.u5{constructor(){super(...arguments),c(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),c(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new p({stack:[]})}reduce(e,t){return(0,s.Y)(t.type,u,e,t)}}const f=new a.G((()=>p.new()))},80726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},80755:(e,t,n)=>{var r=n(48895),o=n(77116);e.exports=function e(t,n,i,a,s){var l=-1,c=t.length;for(i||(i=o),s||(s=[]);++l<c;){var d=t[l];n>0&&i(d)?n>1?e(d,n-1,i,a,s):r(s,d):a||(s[s.length]=d)}return s}},81007:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("circle-arrow-right",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]])},81277:(e,t,n)=>{"use strict";var r=n(78208),o=n(65641),i=n(39558).positionX;e.exports=function(e){(function(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,(function(t){var o=r.max(r.map(t,(function(t){return e.node(t).height})));r.forEach(t,(function(t){e.node(t).y=i+o/2})),i+=o+n}))})(e=o.asNonCompoundGraph(e)),r.forEach(i(e),(function(t,n){e.node(n).x=t}))}},81519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(65043),o=n(79686),i=n.n(o),a=n(46686),s=n.n(a),l=n(11629),c=n.n(l),d=n(74065),u=n.n(d),p=n(92647),f=n(94020),h=n(240),m=n(71845);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}var v=["valueAccessor"],x=["data","dataKey","clockWise","id","textBreakAll"];function b(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var E=function(e){return Array.isArray(e.value)?u()(e.value):e.value};function k(e){var t=e.valueAccessor,n=void 0===t?E:t,o=A(e,v),a=o.data,s=o.dataKey,l=o.clockWise,c=o.id,d=o.textBreakAll,u=A(o,x);return a&&a.length?r.createElement(f.W,{className:"recharts-label-list"},a.map((function(e,t){var o=i()(s)?n(e,t):(0,m.kr)(e&&e.payload,s),a=i()(c)?{}:{id:"".concat(c,"-").concat(t)};return r.createElement(p.J,w({},(0,h.J9)(e,!0),u,a,{parentViewBox:e.parentViewBox,value:o,textBreakAll:d,viewBox:p.J.parseViewBox(i()(l)?e:N(N({},e),{},{clockWise:l})),key:"label-".concat(t),index:t}))}))):null}k.displayName="LabelList",k.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var o=e.children,i=(0,h.aS)(o,k).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?r.createElement(k,{key:"labelList-implicit",data:t}):r.isValidElement(e)||c()(e)?r.createElement(k,{key:"labelList-implicit",data:t,content:e}):s()(e)?r.createElement(k,w({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(b(i)):i}},81685:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("clock-4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},81823:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});class r extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}}},81987:(e,t,n)=>{var r=n(78208),o=n(17938).Graph;e.exports=function(e,t,n){var i=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return r.forEach(e.nodes(),(function(o){var s=e.node(o),l=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(o),a.setParent(o,l||i),r.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,i=a.edge(n,o),s=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:e.edge(t).weight+s})})),r.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),a}},82284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},82637:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,X:()=>o});var r=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(r||{});function o(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=null!=r?r:-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:-1===o&&(o=n.length);for(let e=o-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=o+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}},82730:(e,t,n)=>{"use strict";var r=n(65043),o=n(78853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!u.call(h,e)||!u.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,L=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case A:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,Se=null;function Ae(e){if(e=yo(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=jo(t),je(e.stateNode,e.type,t))}}function Ee(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function ke(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function _e(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Ne||null!==Se)&&(_e(),ke())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=jo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Me=!1}function Re(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Le=null,Fe=!1,Be=null,ze={onError:function(e){De=!0,Le=e}};function Ue(e,t,n,r,o,i,a,s,l){De=!1,Le=null,Re.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,$e=o.unstable_requestPaint,Ze=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ut(s):0!==(i&=a)&&(r=ut(i))}else 0!==(a=n&~o)?r=ut(a):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,St,At,Et=!1,kt=[],Ct=null,_t=null,Pt=null,Ot=new Map,Tt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=yo(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void At(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yo(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function zt(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==_t&&Ft(_t)&&(_t=null),null!==Pt&&Ft(Pt)&&(Pt=null),Ot.forEach(Bt),Tt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<kt.length){Ut(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==_t&&Ut(_t,e),null!==Pt&&Ut(Pt,e),Ot.forEach(t),Tt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Kt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Gt(e,t,n,r){if(Ht){var o=Xt(e,t,n,r);if(null===o)Hr(e,t,r,Yt,n),Rt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,o),!0;case"dragenter":return _t=Dt(_t,e,t,n,r,o),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Tt.set(i,Dt(Tt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==o;){var i=yo(o);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Hr(e,t,r,Yt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=bo(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(cn),un=L({},cn,{view:0,detail:0}),pn=on(un),fn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},un,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(xn),yn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function An(){return Sn}var En=L({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(En),Cn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=on(On),Mn=[9,13,27,32],In=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var Dn=d&&"TextEvent"in window&&!Rn,Ln=d&&(!In||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fr(e,0)}function Xn(e){if(G(wo(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(d){var Jn;if(d){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];qn(t,Gn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ir(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!u.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=dr(n,i);var a=dr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,xr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},Sr={};function Ar(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}d&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Er=Ar("animationend"),kr=Ar("animationiteration"),Cr=Ar("animationstart"),_r=Ar("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var Ir=Or[Mr];Tr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Tr(Er,"onAnimationEnd"),Tr(kr,"onAnimationIteration"),Tr(Cr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(i(198));var d=Le;De=!1,Le=null,Fe||(Fe=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch($t(t)){case 1:var o=qt;break;case 4:o=Kt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=i,o=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Er:case kr:case Cr:l=vn;break;case _r:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==s?s+"Capture":null:s;d=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Te(h,p))&&d.push(qr(h,m,f)))),u)break;h=h.return}0<d.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cn,m="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?s:wo(l),f=null==c?s:wo(c),(s=new d(m,h+"leave",l,n,o)).target=u,s.relatedTarget=f,m=null,bo(o)===r&&((d=new d(p,h+"enter",c,n,o)).target=f,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(p=c,h=0,f=d=l;f;f=Gr(f))h++;for(f=0,m=p;m;m=Gr(m))f++;for(;0<h-f;)d=Gr(d),h--;for(;0<f-h;)p=Gr(p),f--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gr(d),p=Gr(p)}d=null}else d=null;null!==l&&Yr(a,s,l,d,!1),null!==c&&null!==u&&Yr(a,u,c,d,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$n;else if(Hn(s))if(Zn)g=ar;else{g=or;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wo(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,xr=null);break;case"focusout":xr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":yr(a,n,o)}var x;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(x=en()):(Jt="value"in(Zt=o)?Zt.value:Zt.textContent,Vn=!0)),0<(v=Kr(r,b)).length&&(b=new yn(b,e,null,n,o),a.push({event:b,listeners:v}),x?b.data=x:null!==(x=Un(n))&&(b.data=x))),(x=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&zn(e,t)?(e=en(),Qt=Jt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new yn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=x))}Fr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Te(e,n))&&r.unshift(qr(e,i,o)),null!=(i=Te(e,t))&&r.push(qr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Te(n,i))&&a.unshift(qr(n,l,s)):o||null!=(l=Te(n,i))&&a.push(qr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,ho="__reactProps$"+po,mo="__reactContainer$"+po,go="__reactEvents$"+po,vo="__reactListeners$"+po,xo="__reactHandles$"+po;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function yo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function jo(e){return e[ho]||null}var No=[],So=-1;function Ao(e){return{current:e}}function Eo(e){0>So||(e.current=No[So],No[So]=null,So--)}function ko(e,t){So++,No[So]=e.current,e.current=t}var Co={},_o=Ao(Co),Po=Ao(!1),Oo=Co;function To(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Io(){Eo(Po),Eo(_o)}function Ro(e,t,n){if(_o.current!==Co)throw Error(i(168));ko(_o,t),ko(Po,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,Oo=_o.current,ko(_o,e),ko(Po,Po.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,Eo(Po),Eo(_o),ko(_o,e)):Eo(Po),ko(Po,n)}var Bo=null,zo=!1,Uo=!1;function Vo(e){null===Bo?Bo=[e]:Bo.push(e)}function Wo(){if(!Uo&&null!==Bo){Uo=!0;var e=0,t=bt;try{var n=Bo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,zo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),Ge(Qe,Wo),o}finally{bt=t,Uo=!1}}return null}var Ho=[],qo=0,Ko=null,Go=0,Yo=[],Xo=0,$o=null,Zo=1,Jo="";function Qo(e,t){Ho[qo++]=Go,Ho[qo++]=Ko,Ko=e,Go=t}function ei(e,t,n){Yo[Xo++]=Zo,Yo[Xo++]=Jo,Yo[Xo++]=$o,$o=e;var r=Zo;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Jo=i+e}else Zo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===Ko;)Ko=Ho[--qo],Ho[qo]=null,Go=Ho[--qo],Ho[qo]=null;for(;e===$o;)$o=Yo[--Xo],Yo[Xo]=null,Jo=Yo[--Xo],Yo[Xo]=null,Zo=Yo[--Xo],Yo[Xo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$o?{id:Zo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function di(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return ui(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=y.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var xi=Ao(null),bi=null,yi=null,wi=null;function ji(){wi=yi=bi=null}function Ni(e){var t=xi.current;Eo(xi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){bi=e,wi=yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===yi){if(null===bi)throw Error(i(308));yi=e,bi.dependencies={lanes:0,firstContext:e}}else yi=yi.next=e;return t}var ki=null;function Ci(e){null===ki?ki=[e]:ki.push(e)}function _i(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ci(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Ti(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ci(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pi(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;Oi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=o.baseState;for(a=0,d=c=l=null,s=i;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){u=h.call(f,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,u,p):h)||void 0===p)break e;u=L({},u,p);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=u}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var zi=(new r.Component).refs;function Ui(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Ii(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ri(e,i,o))&&(rc(t,e,o,r),Di(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Ii(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ri(e,i,o))&&(rc(t,e,o,r),Di(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Ii(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ri(e,o,r))&&(rc(t,e,r,n),Di(t,e,r))}};function Wi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function Hi(e,t,n){var r=!1,o=Co,i=t.contextType;return"object"===typeof i&&null!==i?i=Ei(i):(o=Mo(t)?Oo:_o.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?To(e,o):Co),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function qi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Ki(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=zi,Ti(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ei(i):(i=Mo(t)?Oo:_o.current,o.context=To(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ui(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Vi.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===zi&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function $i(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&Xi(i)===t.type)?((r=o(t,n.props)).ref=Gi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Gi(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Gi(e,null,t),n.return=e,n;case j:return(t=Bc(t,e.mode,n)).return=e,t;case T:return p(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Yi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case j:return n.key===o?d(e,t,n,r):null;case T:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||R(n))return null!==o?null:u(e,t,n,r,null);Yi(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||R(r))return u(t,e=e.get(n)||null,r,o,null);Yi(t,r)}return null}function m(o,i,s,l){for(var c=null,d=null,u=i,m=i=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=f(o,u,s[m],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(o,u),i=a(v,i,m),null===d?c=v:d.sibling=v,d=v,u=g}if(m===s.length)return n(o,u),ii&&Qo(o,m),c;if(null===u){for(;m<s.length;m++)null!==(u=p(o,s[m],l))&&(i=a(u,i,m),null===d?c=u:d.sibling=u,d=u);return ii&&Qo(o,m),c}for(u=r(o,u);m<s.length;m++)null!==(g=h(u,o,m,s[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),i=a(g,i,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(o,e)})),ii&&Qo(o,m),c}function g(o,s,l,c){var d=R(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,m=s,g=s=0,v=null,x=l.next();null!==m&&!x.done;g++,x=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(o,m,x.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===u?d=b:u.sibling=b,u=b,m=v}if(x.done)return n(o,m),ii&&Qo(o,g),d;if(null===m){for(;!x.done;g++,x=l.next())null!==(x=p(o,x.value,c))&&(s=a(x,s,g),null===u?d=x:u.sibling=x,u=x);return ii&&Qo(o,g),d}for(m=r(o,m);!x.done;g++,x=l.next())null!==(x=h(m,o,g,x.value,c))&&(e&&null!==x.alternate&&m.delete(null===x.key?g:x.key),s=a(x,s,g),null===u?d=x:u.sibling=x,u=x);return e&&m.forEach((function(e){return t(o,e)})),ii&&Qo(o,g),d}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,d=i;null!==d;){if(d.key===c){if((c=a.type)===N){if(7===d.tag){n(r,d.sibling),(i=o(d,a.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&Xi(c)===d.type){n(r,d.sibling),(i=o(d,a.props)).ref=Gi(r,d,a),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}a.type===N?((i=Dc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=Gi(r,i,a),l.return=r,r=l)}return s(r);case j:e:{for(d=a.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bc(a,r.mode,l)).return=r,r=i}return s(r);case T:return e(r,i,(d=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(R(a))return g(r,i,a,l);Yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Fc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Zi=$i(!0),Ji=$i(!1),Qi={},ea=Ao(Qi),ta=Ao(Qi),na=Ao(Qi);function ra(e){if(e===Qi)throw Error(i(174));return e}function oa(e,t){switch(ko(na,t),ko(ta,e),ko(ea,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(ea),ko(ea,t)}function ia(){Eo(ea),Eo(ta),Eo(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(ko(ta,e),ko(ea,n))}function sa(e){ta.current===e&&(Eo(ea),Eo(ta))}var la=Ao(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function ua(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var pa=y.ReactCurrentDispatcher,fa=y.ReactCurrentBatchConfig,ha=0,ma=null,ga=null,va=null,xa=!1,ba=!1,ya=0,wa=0;function ja(){throw Error(i(321))}function Na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,o,a){if(ha=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,o),ba){a=0;do{if(ba=!1,ya=0,25<=a)throw Error(i(301));a+=1,va=ga=null,t.updateQueue=null,pa.current=cs,e=n(r,o)}while(ba)}if(pa.current=as,t=null!==ga&&null!==ga.next,ha=0,va=ga=ma=null,xa=!1,t)throw Error(i(300));return e}function Aa(){var e=0!==ya;return ya=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function ka(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ca(e,t){return"function"===typeof t?t(e):t}function _a(e){var t=ka(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ga,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,d=a;do{var u=d.lane;if((ha&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,ma.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ma.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=ka(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(ys=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Ta(e,t){var n=ma,r=ka(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,ys=!0),r=r.queue,Ha(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ba(9,Ia.bind(null,n,r,o,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&ha)||Ma(n,t,o)}return o}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&La(e)}function Ra(e,t,n){return n((function(){Da(t)&&La(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Pi(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return ka().memoizedState}function Ua(e,t,n,r){var o=Ea();ma.flags|=e,o.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var o=ka();r=void 0===r?null:r;var i=void 0;if(null!==ga){var a=ga.memoizedState;if(i=a.destroy,null!==r&&Na(r,a.deps))return void(o.memoizedState=Ba(t,n,i,r))}ma.flags|=e,o.memoizedState=Ba(1|t,n,i,r)}function Wa(e,t){return Ua(8390656,8,e,t)}function Ha(e,t){return Va(2048,8,e,t)}function qa(e,t){return Va(4,2,e,t)}function Ka(e,t){return Va(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ga.bind(null,t,e),n)}function Xa(){}function $a(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Ll|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return ka().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))os(t,n);else if(null!==(n=_i(e,t,n,r))){rc(n,e,r,tc()),is(n,t,r)}}function ns(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ci(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=_i(e,t,o,r))&&(rc(n,e,r,o=tc()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function os(e,t){ba=xa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var as={readContext:Ei,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useInsertionEffect:ja,useLayoutEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useMutableSource:ja,useSyncExternalStore:ja,useId:ja,unstable_isNewReconciler:!1},ss={readContext:Ei,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Fa,useDebugValue:Xa,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Qa.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,o=Ea();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&ha)||Ma(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Wa(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Pl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ei,useCallback:$a,useContext:Ei,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Za,useReducer:_a,useRef:za,useState:function(){return _a(Ca)},useDebugValue:Xa,useDeferredValue:function(e){return Ja(ka(),ga.memoizedState,e)},useTransition:function(){return[_a(Ca)[0],ka().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ta,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ei,useCallback:$a,useContext:Ei,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Za,useReducer:Pa,useRef:za,useState:function(){return Pa(Ca)},useDebugValue:Xa,useDeferredValue:function(e){var t=ka();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Pa(Ca)[0],ka().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ta,useId:es,unstable_isNewReconciler:!1};function ds(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ii(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),ps(0,t)},n}function ms(e,t,n){(n=Ii(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ps(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xs(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ii(-1,1)).tag=2,Ri(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bs=y.ReactCurrentOwner,ys=!1;function ws(e,t,n,r){t.child=null===e?Ji(t,null,n,r):Zi(t,e.child,n,r)}function js(e,t,n,r,o){n=n.render;var i=t.ref;return Ai(t,o),r=Sa(e,t,n,r,i,o),n=Aa(),null===e||ys?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qs(e,t,o))}function Ns(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Mc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,o)}return t.flags|=1,(e=Ic(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,qs(e,t,o);0!==(131072&e.flags)&&(ys=!0)}}return ks(e,t,n,r,o)}function As(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ko(Il,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ko(Il,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ko(Il,Ml),Ml|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ko(Il,Ml),Ml|=r;return ws(e,t,o,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,o){var i=Mo(n)?Oo:_o.current;return i=To(t,i),Ai(t,o),n=Sa(e,t,n,r,i,o),r=Aa(),null===e||ys?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qs(e,t,o))}function Cs(e,t,n,r,o){if(Mo(n)){var i=!0;Lo(t)}else i=!1;if(Ai(t,o),null===t.stateNode)Hs(e,t),Hi(t,n,r),Ki(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ei(c):c=To(t,c=Mo(n)?Oo:_o.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&qi(t,a,r,c),Oi=!1;var p=t.memoizedState;a.state=p,Fi(t,r,a,o),l=t.memoizedState,s!==r||p!==l||Po.current||Oi?("function"===typeof d&&(Ui(t,n,d,r),l=t.memoizedState),(s=Oi||Wi(t,n,s,r,p,l,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vi(t.type,s),a.props=c,u=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ei(l):l=To(t,l=Mo(n)?Oo:_o.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==u||p!==l)&&qi(t,a,r,l),Oi=!1,p=t.memoizedState,a.state=p,Fi(t,r,a,o);var h=t.memoizedState;s!==u||p!==h||Po.current||Oi?("function"===typeof f&&(Ui(t,n,f,r),h=t.memoizedState),(c=Oi||Wi(t,n,c,r,p,h,l)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,i,o)}function _s(e,t,n,r,o,i){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),qs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Zi(t,e.child,null,i),t.child=Zi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),oa(e,t.containerInfo)}function Os(e,t,n,r,o){return hi(),mi(o),t.flags|=256,ws(e,t,n,r),t.child}var Ts,Ms,Is,Rs,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,o=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ko(la,1&a),null===e)return di(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,o,0,null),e=Dc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(a=Dc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Zi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=Pl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Pi(e,o),rc(r,e,o,-1))}return gc(),zs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Yo[Xo++]=Zo,Yo[Xo++]=Jo,Yo[Xo++]=$o,Zo=e.id,Jo=e.overflow,$o=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ic(r,s):(s=Dc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,o}return e=(s=e.child).sibling,o=Ic(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mi(r),Zi(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Vs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ws(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ko(la,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ca(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vs(t,!0,n,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Mo(t.type)&&Io(),Gs(t),null;case 3:return r=t.stateNode,ia(),Eo(Po),Eo(_o),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(sc(ai),ai=null))),Ms(e,t),Gs(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=ra(ea.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fo]=t,r[ho]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Rr.length;o++)Br(Rr[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":$(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":oe(r,a),Br("invalid",r)}for(var l in xe(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":K(r),Q(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[ho]=r,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Rr.length;o++)Br(Rr[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":$(e,r),o=X(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(a in xe(n,o),c=o)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Br("scroll",e):null!=d&&b(e,a,d,l))}switch(n){case"input":K(e),Q(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Gs(t),null;case 13:if(Eo(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fo]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==ai&&(sc(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Rl&&(Rl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return ia(),Ms(e,t),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return Ni(t.type._context),Gs(t),null;case 19:if(Eo(la),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ks(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Ks(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ko(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Wl&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Gs(t),null}else 2*Ze()-a.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=la.current,ko(la,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&Io(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Eo(Po),Eo(_o),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Eo(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(la),null;case 4:return ia(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Is=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(d in xe(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Zs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tl(t,n,i)}o=o.next}while(o!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[ho],delete t[go],delete t[vo],delete t[xo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var ul=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Zs||el(n,t);case 6:var r=ul,o=pl;ul=null,fl(e,t,n),pl=o,null!==(ul=r)&&(pl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(pl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=pl,ul=n.stateNode.containerInfo,pl=!0,fl(e,t,n),ul=r,pl=o;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&tl(n,t,a),o=o.next}while(o!==r)}fl(e,t,n);break;case 1:if(!Zs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ac(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,fl(e,t,n),Zs=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,pl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));hl(a,s,o),ul=null,pl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){Ac(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),xl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(g){Ac(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ac(e,e.return,g)}}break;case 1:gl(t,e),xl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),xl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){Ac(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),be(l,s);var d=be(l,a);for(s=0;s<c.length;s+=2){var u=c[s],p=c[s+1];"style"===u?ge(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):b(o,u,p,d)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(g){Ac(e,e.return,g)}}break;case 6:if(gl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Ac(e,e.return,g)}}break;case 3:if(gl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Ac(e,e.return,g)}break;case 4:default:gl(t,e),xl(e);break;case 13:gl(t,e),xl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Vl=Ze())),4&r&&ml(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(d=Zs)||u,gl(t,e),Zs=d):gl(t,e),xl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qs=e,u=e.child;null!==u;){for(p=Qs=u;null!==Qs;){switch(h=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ac(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){jl(p);continue}}null!==h?(h.return=f,Qs=h):jl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ac(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){Ac(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),xl(e),4&r&&ml(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),dl(e,ll(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(i(161))}}catch(s){Ac(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qs=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var o=Qs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||$s;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=$s;var c=Zs;if($s=a,(Zs=l)&&!c)for(Qs=o;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?Nl(o):null!==l?(l.return=a,Qs=l):Nl(o);for(;null!==i;)Qs=i,yl(i,t,n),i=i.sibling;Qs=o,$s=s,Zs=c}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qs=i):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&il(t)}catch(f){Ac(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function jl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function Nl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(l){Ac(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Ac(t,o,l)}}var i=t.return;try{il(t)}catch(l){Ac(t,i,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ac(t,a,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,Al=Math.ceil,El=y.ReactCurrentDispatcher,kl=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,_l=0,Pl=null,Ol=null,Tl=0,Ml=0,Il=Ao(0),Rl=0,Dl=null,Ll=0,Fl=0,Bl=0,zl=null,Ul=null,Vl=0,Wl=1/0,Hl=null,ql=!1,Kl=null,Gl=null,Yl=!1,Xl=null,$l=0,Zl=0,Jl=null,Ql=-1,ec=0;function tc(){return 0!==(6&_l)?Ze():-1!==Ql?Ql:Ql=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Tl?Tl&-Tl:null!==gi.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Zl)throw Zl=0,Jl=null,Error(i(185));vt(e,n,r),0!==(2&_l)&&e===Pl||(e===Pl&&(0===(2&_l)&&(Fl|=n),4===Rl&&lc(e,Tl)),oc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Wl=Ze()+500,zo&&Wo()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===Pl?Tl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zo=!0,Vo(e)}(cc.bind(null,e)):Vo(cc.bind(null,e)),ao((function(){0===(6&_l)&&Wo()})),n=null;else{switch(yt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,ec=0,0!==(6&_l))throw Error(i(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=pt(e,e===Pl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var o=_l;_l|=2;var a=mc();for(Pl===e&&Tl===t||(Hl=null,Wl=Ze()+500,fc(e,t));;)try{bc();break}catch(l){hc(e,l)}ji(),El.current=a,_l=o,null!==Ol?t=0:(Pl=null,Tl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=ac(e,o))),1===t)throw n=Dl,fc(e,0),lc(e,r),oc(e,Ze()),n;if(6===t)lc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=vc(e,r))&&(0!==(a=ht(e))&&(r=a,t=ac(e,a))),1===t))throw n=Dl,fc(e,0),lc(e,r),oc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:jc(e,Ul,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Ze())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(jc.bind(null,e,Ul,Hl),t);break}jc(e,Ul,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ro(jc.bind(null,e,Ul,Hl),r);break}jc(e,Ul,Hl);break;default:throw Error(i(329))}}}return oc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&_l))throw Error(i(327));Nc();var t=pt(e,0);if(0===(1&t))return oc(e,Ze()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Dl,fc(e,0),lc(e,t),oc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Ul,Hl),oc(e,Ze()),null}function dc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Wl=Ze()+500,zo&&Wo())}}function uc(e){null!==Xl&&0===Xl.tag&&0===(6&_l)&&Nc();var t=_l;_l|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(_l=t))&&Wo()}}function pc(){Ml=Il.current,Eo(Il)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Io();break;case 3:ia(),Eo(Po),Eo(_o),ua();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:Eo(la);break;case 10:Ni(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Pl=e,Ol=e=Ic(e.current,null),Tl=Ml=t,Rl=0,Dl=null,Bl=Fl=Ll=0,Ul=zl=null,null!==ki){for(t=0;t<ki.length;t++)if(null!==(r=(n=ki[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}ki=null}return e}function hc(e,t){for(;;){var n=Ol;try{if(ji(),pa.current=as,xa){for(var r=ma.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}xa=!1}if(ha=0,va=ga=ma=null,ba=!1,ya=0,kl.current=null,null===n||null===n.return){Rl=1,Dl=t,Ol=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,xs(h,s,l,0,t),1&h.mode&&gs(a,d,t),c=d;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,d,t),gc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xs(v,s,l,0,t),mi(ds(c,l));break e}}a=c=ds(c,l),4!==Rl&&(Rl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Li(a,hs(0,c,t));break e;case 1:l=c;var x=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Li(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(y){t=y,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mc(){var e=El.current;return El.current=as,null===e?as:e}function gc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Fl)||lc(Pl,Tl)}function vc(e,t){var n=_l;_l|=2;var r=mc();for(Pl===e&&Tl===t||(Hl=null,fc(e,t));;)try{xc();break}catch(o){hc(e,o)}if(ji(),_l=n,El.current=r,null!==Ol)throw Error(i(261));return Pl=null,Tl=0,Rl}function xc(){for(;null!==Ol;)yc(Ol)}function bc(){for(;null!==Ol&&!Xe();)yc(Ol)}function yc(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?wc(e):Ol=t,kl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Ml)))return void(Ol=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Rl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Rl&&(Rl=5)}function jc(e,t,n){var r=bt,o=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Nc()}while(null!==Xl);if(0!==(6&_l))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Pl&&(Ol=Pl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Pc(tt,(function(){return Nc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=_l;_l|=4,kl.current=null,function(e,t){if(eo=Ht,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++d===o&&(l=s),f===a&&++u===r&&(c=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:vi(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(i(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),vl(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,bl(n,e,o),$e(),_l=l,bt=s,Cl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Xl=e,$l=o),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Nc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Zl++:(Zl=0,Jl=e):Zl=0,Wo()}(e,t,n,r)}finally{Cl.transition=o,bt=r}return null}function Nc(){if(null!==Xl){var e=yt($l),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,$l=0,0!==(6&_l))throw Error(i(331));var o=_l;for(_l|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qs=d;null!==Qs;){var u=Qs;switch(u.tag){case 0:case 11:case 15:rl(8,u,a)}var p=u.child;if(null!==p)p.return=u,Qs=p;else for(;null!==Qs;){var f=(u=Qs).sibling,h=u.return;if(al(u),u===d){Qs=null;break}if(null!==f){f.return=h,Qs=f;break}Qs=h}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var x=a.sibling;if(null!==x){x.return=a.return,Qs=x;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var y=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,Qs=y;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(j){Ac(l,l.return,j)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(_l=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(j){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Sc(e,t,n){e=Ri(e,t=hs(0,t=ds(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),oc(e,t))}function Ac(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ri(t,e=ms(t,e=ds(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),oc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Tl&n)===n&&(4===Rl||3===Rl&&(130023424&Tl)===Tl&&500>Ze()-Vl?fc(e,0):Bl|=n),oc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Pi(e,t))&&(vt(e,t,n),oc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),kc(e,n)}function Pc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Oc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return Dc(n.children,o,a,t);case S:s=8,o|=8;break;case A:return(e=Tc(12,n,t,2|o)).elementType=A,e.lanes=a,e;case _:return(e=Tc(13,n,t,o)).elementType=_,e.lanes=a,e;case P:return(e=Tc(19,n,t,o)).elementType=P,e.lanes=a,e;case M:return Lc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case k:s=9;break e;case C:s=11;break e;case O:s=14;break e;case T:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,o,i,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ti(i),e}function Vc(e){if(!e)return Co;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Do(e,n,t)}return t}function Wc(e,t,n,r,o,i,a,s,l){return(e=Uc(n,r,!0,e,0,i,0,s,l)).context=Vc(null),n=e.current,(i=Ii(r=tc(),o=nc(n))).callback=void 0!==t&&null!==t?t:null,Ri(n,i,o),e.current.lanes=o,vt(e,o,r),oc(e,r),e}function Hc(e,t,n,r){var o=t.current,i=tc(),a=nc(o);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ii(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ri(o,t,a))&&(rc(e,o,a,i),Di(e,o,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),hi();break;case 5:aa(t);break;case 1:Mo(t.type)&&Lo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ko(xi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ko(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(ko(la,1&la.current),null!==(e=qs(e,t,n))?e.sibling:null);ko(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ko(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n)}return qs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var o=To(t,_o.current);Ai(t,n),o=Sa(null,t,r,e,o,n);var a=Aa();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ti(t),o.updater=Vi,t.stateNode=o,o._reactInternals=t,Ki(t,r,e,n),t=_s(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=vi(r,e),o){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=js(null,t,r,e,n);break e;case 14:t=Ns(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 3:e:{if(Ps(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Mi(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,o=ds(Error(i(423)),t));break e}if(r!==o){t=Os(e,t,r,n,o=ds(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Ji(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&di(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&di(t),null;case 13:return Fs(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,js(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,ko(xi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Po.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ii(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Si(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Si(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ai(t,n),r=r(o=Ei(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=vi(r=t.type,t.pendingProps),Ns(e,t,r,o=vi(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vi(r,o),Hs(e,t),t.tag=1,Mo(r)?(e=!0,Lo(t)):e=!1,Ai(t,n),Hi(t,r,o),Ki(t,r,o,n),_s(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return As(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function ed(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=qc(a);s.call(e)}}Hc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=qc(a);i.call(e)}}var a=Wc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[mo]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mo]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,o,r);return qc(a)}$c.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},$c.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[mo]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),oc(t,Ze()),0===(6&_l)&&(Wl=Ze()+500,Wo()))}break;case 13:uc((function(){var t=Pi(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},jt=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=nc(e),n=Pi(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=jo(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=dc,_e=uc;var td={usingClientEntryPoint:!1,Events:[yo,wo,jo,Ee,ke,dc]},nd={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rd={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{ot=od.inject(rd),it=od}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,r="",o=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ed(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},83223:(e,t,n)=>{var r=n(63868),o=n(44353),i=n(38710),a=n(91980),s=n(20310),l=n(22777),c=n(54052),d=n(76272),u=n(44543),p=n(11629),f=n(46686),h=n(12322),m=n(51268),g=n(53737),v=n(91609);e.exports=function(e,t,n,x,b,y,w){var j=g(e,n),N=g(t,n),S=w.get(N);if(S)r(e,n,S);else{var A=y?y(j,N,n+"",e,t,w):void 0,E=void 0===A;if(E){var k=c(N),C=!k&&u(N),_=!k&&!C&&m(N);A=N,k||C||_?c(j)?A=j:d(j)?A=a(j):C?(E=!1,A=o(N,!0)):_?(E=!1,A=i(N,!0)):A=[]:h(N)||l(N)?(A=j,l(j)?A=v(j):f(j)&&!p(j)||(A=s(N))):E=!1}E&&(w.set(N,A),b(A,N,x,y,w),w.delete(N)),r(e,n,A)}}},83713:(e,t,n)=>{var r=n(36140),o=n(61143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},84140:(e,t,n)=>{"use strict";n.d(t,{E:()=>B});var r=n(65043),o=n(79686),i=n.n(o),a=n(58387),s=n(76307),l=n(6015),c=n(240),d=n(17213);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function m(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var g=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,b=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},w=Object.keys(y),j="NaN";var N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||x.test(n)||(this.num=NaN,this.unit=""),w.includes(n)&&(this.num=function(e,t){return e*y[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=p(null!==(n=b.exec(t))&&void 0!==n?n:[],3),o=r[1],i=r[2];return new e(parseFloat(o),null!==i&&void 0!==i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function S(e){if(e.includes(j))return j;for(var t=e;t.includes("*")||t.includes("/");){var n,r=p(null!==(n=g.exec(t))&&void 0!==n?n:[],4),o=r[1],i=r[2],a=r[3],s=N.parse(null!==o&&void 0!==o?o:""),l=N.parse(null!==a&&void 0!==a?a:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return j;t=t.replace(g,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=p(null!==(d=v.exec(t))&&void 0!==d?d:[],4),f=u[1],h=u[2],m=u[3],x=N.parse(null!==f&&void 0!==f?f:""),b=N.parse(null!==m&&void 0!==m?m:""),y="+"===h?x.add(b):x.subtract(b);if(y.isNaN())return j;t=t.replace(v,y.toString())}return t}var A=/\(([^()]*)\)/;function E(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=p(A.exec(t),2)[1];t=t.replace(A,S(n))}return t}(t),t=S(t)}function k(e){var t=function(e){try{return E(e)}catch(t){return j}}(e.slice(5,-1));return t===j?"":t}var C=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_=["dx","dy","angle","className","breakAll"];function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=/[ \f\n\r\t\v\u2028\u2029]+/,R=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var o=[];return i()(t)||(o=n?t.toString().split(""):t.toString().split(I)),{wordsWithComputedWidth:o.map((function(e){return{word:e,width:(0,d.Pu)(e,r).width}})),spaceWidth:n?0:(0,d.Pu)("\xa0",r).width}}catch(a){return null}},D=function(e){return[{words:i()(e)?[]:e.toString().split(I)}]},L=function(e){var t=e.width,n=e.scaleToFit,r=e.children,o=e.style,i=e.breakAll,a=e.maxLines;if((t||n)&&!l.m.isSsr){var c=R({breakAll:i,children:r,style:o});return c?function(e,t,n,r,o){var i=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=(0,s.Et)(i),u=a,p=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||o||s.width+a+n<Number(r)))s.words.push(i),s.width+=a+n;else{var l={words:[i],width:a};e.push(l)}return e}),[])},f=p(t);if(!d)return f;for(var h,m=function(e){var t=u.slice(0,e),n=R({breakAll:c,style:l,children:t+"\u2026"}).wordsWithComputedWidth,o=p(n),a=o.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>Number(r);return[a,o]},g=0,v=u.length-1,x=0;g<=v&&x<=u.length-1;){var b=Math.floor((g+v)/2),y=T(m(b-1),2),w=y[0],j=y[1],N=T(m(b),1)[0];if(w||N||(g=b+1),w&&N&&(v=b-1),!w&&N){h=j;break}x++}return h||f}({breakAll:i,children:r,maxLines:a,style:o},c.wordsWithComputedWidth,c.spaceWidth,t,n):D(r)}return D(r)},F="#808080",B=function(e){var t=e.x,n=void 0===t?0:t,o=e.y,i=void 0===o?0:o,l=e.lineHeight,d=void 0===l?"1em":l,u=e.capHeight,p=void 0===u?"0.71em":u,f=e.scaleToFit,h=void 0!==f&&f,m=e.textAnchor,g=void 0===m?"start":m,v=e.verticalAnchor,x=void 0===v?"end":v,b=e.fill,y=void 0===b?F:b,w=O(e,C),j=(0,r.useMemo)((function(){return L({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})}),[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),N=w.dx,S=w.dy,A=w.angle,E=w.className,T=w.breakAll,M=O(w,_);if(!(0,s.vh)(n)||!(0,s.vh)(i))return null;var I,R=n+((0,s.Et)(N)?N:0),D=i+((0,s.Et)(S)?S:0);switch(x){case"start":I=k("calc(".concat(p,")"));break;case"middle":I=k("calc(".concat((j.length-1)/2," * -").concat(d," + (").concat(p," / 2))"));break;default:I=k("calc(".concat(j.length-1," * -").concat(d,")"))}var B=[];if(h){var z=j[0].width,U=w.width;B.push("scale(".concat(((0,s.Et)(U)?U/z:1)/z,")"))}return A&&B.push("rotate(".concat(A,", ").concat(R,", ").concat(D,")")),B.length&&(M.transform=B.join(" ")),r.createElement("text",P({},(0,c.J9)(M,!0),{x:R,y:D,className:(0,a.A)("recharts-text",E),textAnchor:g,fill:y.includes("url")?F:y}),j.map((function(e,t){var n=e.words.join(T?"":" ");return r.createElement("tspan",{x:R,dy:0===t?I:d,key:"".concat(n,"-").concat(t)},n)})))}},84342:(e,t,n)=>{"use strict";n.d(t,{J:()=>m,M:()=>v});var r=n(65043),o=n(58387),i=n(11744),a=n(240);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t,n,r,o){var i,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=o[u]>a?a:o[u];i="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(i+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),i+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(i+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*d[1])),i+="L ".concat(e+n,",").concat(t+r-s*d[2]),d[2]>0&&(i+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+r)),i+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(i+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*d[3])),i+="Z"}else if(a>0&&o===+o&&o>0){var p=Math.min(a,o);i="M ".concat(e,",").concat(t+s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+n-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*p,"\n            L ").concat(e+n,",").concat(t+r-s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n-l*p,",").concat(t+r,"\n            L ").concat(e+l*p,",").concat(t+r,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*p," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},m=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,o=t.x,i=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(i,i+s),u=Math.max(i,i+s);return n>=l&&n<=c&&r>=d&&r<=u}return!1},g={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v=function(e){var t=p(p({},g),e),n=(0,r.useRef)(),s=c((0,r.useState)(-1),2),d=s[0],u=s[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&u(e)}catch(t){}}),[]);var f=t.x,m=t.y,v=t.width,x=t.height,b=t.radius,y=t.className,w=t.animationEasing,j=t.animationDuration,N=t.animationBegin,S=t.isAnimationActive,A=t.isUpdateAnimationActive;if(f!==+f||m!==+m||v!==+v||x!==+x||0===v||0===x)return null;var E=(0,o.A)("recharts-rectangle",y);return A?r.createElement(i.Ay,{canBegin:d>0,from:{width:v,height:x,x:f,y:m},to:{width:v,height:x,x:f,y:m},duration:j,animationEasing:w,isActive:A},(function(e){var o=e.width,s=e.height,c=e.x,u=e.y;return r.createElement(i.Ay,{canBegin:d>0,from:"0px ".concat(-1===d?1:d,"px"),to:"".concat(d,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:j,isActive:S,easing:w},r.createElement("path",l({},(0,a.J9)(t,!0),{className:E,d:h(c,u,o,s,b),ref:n})))})):r.createElement("path",l({},(0,a.J9)(t,!0),{className:E,d:h(f,m,v,x,b)}))}},84391:(e,t,n)=>{"use strict";var r=n(97950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},84545:(e,t,n)=>{var r=n(97160);e.exports=function(){this.__data__=new r,this.size=0}},84570:(e,t,n)=>{var r=n(55647),o=n(60929);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},84820:(e,t,n)=>{"use strict";n.d(t,{lG:()=>me});var r=n(80045),o=n(89379),i=n(65043),a=n(37507),s=n(41875),l=n(48066);var c=n(55962),d=n(6716),u=n(77248);var p=n(5097),f=n(59e3),h=n(59561),m=n(96593),g=n(44113),v=n(34446);let x=(0,i.createContext)(null);function b(e){let{children:t,node:n}=e,[r,o]=(0,i.useState)(null),a=y(null!=n?n:r);return i.createElement(x.Provider,{value:a},t,null===a&&i.createElement(m.j,{features:m.u.Hidden,ref:e=>{var t,n;if(e)for(let r of null!=(n=null==(t=(0,v.T)(e))?void 0:t.querySelectorAll("html > *, body > *"))?n:[])if(r!==document.body&&r!==document.head&&g.vq(r)&&null!=r&&r.contains(e)){o(r);break}}}))}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t;return null!=(t=(0,i.useContext)(x))?t:e}var w=n(595),j=n(86170),N=n(59358);let S=(0,i.createContext)((()=>{}));function A(e){let{value:t,children:n}=e;return i.createElement(S.Provider,{value:t},n)}var E,k=n(16794),C=n(91402),_=n(80710),P=n(16704),O=n(43880),T=n(5641),M=n(58619),I=n(23057),R=n(74521),D=n(70668),L=n(44833),F=((E=F||{})[E.Forwards=0]="Forwards",E[E.Backwards=1]="Backwards",E);var B=n(22717),z=n(88068),U=n(34781),V=n(50551);const W=["initialFocus","initialFocusFallback","containers","features"];function H(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)g.vq(n.current)&&t.add(n.current);return t}var q=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(q||{});let K=(0,T.FX)((function(e,t){let n=(0,i.useRef)(null),o=(0,N.P)(n,t),{initialFocus:a,initialFocusFallback:d,containers:u,features:p=15}=e,f=(0,r.A)(e,W);(0,j.g)()||(p=0);let v=(0,h.g)(n);!function(e,t){let{ownerDocument:n}=t,r=!!(8&e),o=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,i.useRef)(z.b.slice());return(0,B.F)(((e,n)=>{let[r]=e,[o]=n;!0===o&&!1===r&&(0,V._)((()=>{t.current.splice(0)})),!1===o&&!0===r&&(t.current=z.b.slice())}),[e,z.b,t]),(0,c._)((()=>{var e;return null!=(e=t.current.find((e=>null!=e&&e.isConnected)))?e:null}))}(r);(0,B.F)((()=>{r||(null==n?void 0:n.activeElement)===(null==n?void 0:n.body)&&(0,U.pW)(o())}),[r]),(0,D.X)((()=>{r&&(0,U.pW)(o())}))}(p,{ownerDocument:v});let x=function(e,t){let{ownerDocument:n,container:r,initialFocus:o,initialFocusFallback:a}=t,s=(0,i.useRef)(null),c=(0,l.S)(!!(1&e),"focus-trap#initial-focus"),d=(0,R.a)();return(0,B.F)((()=>{if(0===e)return;if(!c)return void(null!=a&&a.current&&(0,U.pW)(a.current));let t=r.current;t&&(0,V._)((()=>{if(!d.current)return;let r=null==n?void 0:n.activeElement;if(null!=o&&o.current){if((null==o?void 0:o.current)===r)return void(s.current=r)}else if(t.contains(r))return void(s.current=r);if(null!=o&&o.current)(0,U.pW)(o.current);else{if(16&e){if((0,U.CU)(t,U.BD.First|U.BD.AutoFocus)!==U.Me.Error)return}else if((0,U.CU)(t,U.BD.First)!==U.Me.Error)return;if(null!=a&&a.current&&((0,U.pW)(a.current),(null==n?void 0:n.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=null==n?void 0:n.activeElement}))}),[a,c,e]),s}(p,{ownerDocument:v,container:n,initialFocus:a,initialFocusFallback:d});!function(e,t){let{ownerDocument:n,container:r,containers:o,previousActiveElement:i}=t,a=(0,R.a)(),l=!!(4&e);(0,s.M)(null==n?void 0:n.defaultView,"focus",(e=>{if(!l||!a.current)return;let t=H(o);g.sb(r.current)&&t.add(r.current);let n=i.current;if(!n)return;let s=e.target;g.sb(s)?Y(t,s)?(i.current=s,(0,U.pW)(s)):(e.preventDefault(),e.stopPropagation(),(0,U.pW)(n)):(0,U.pW)(i.current)}),!0)}(p,{ownerDocument:v,container:n,containers:u,previousActiveElement:x});let b=function(){let e=(0,i.useRef)(0);return(0,L.M)(!0,"keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}(),y=(0,c._)((e=>{if(!g.sb(n.current))return;let t=n.current;(0,O.Y)(b.current,{[F.Forwards]:()=>{(0,U.CU)(t,U.BD.First,{skipElements:[e.relatedTarget,d]})},[F.Backwards]:()=>{(0,U.CU)(t,U.BD.Last,{skipElements:[e.relatedTarget,d]})}})})),w=(0,l.S)(!!(2&p),"focus-trap#tab-lock"),S=(0,I.L)(),A=(0,i.useRef)(!1),E={ref:o,onKeyDown(e){"Tab"==e.key&&(A.current=!0,S.requestAnimationFrame((()=>{A.current=!1})))},onBlur(e){if(!(4&p))return;let t=H(u);g.sb(n.current)&&t.add(n.current);let r=e.relatedTarget;g.Lk(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(Y(t,r)||(A.current?(0,U.CU)(n.current,(0,O.Y)(b.current,{[F.Forwards]:()=>U.BD.Next,[F.Backwards]:()=>U.BD.Previous})|U.BD.WrapAround,{relativeTo:e.target}):g.Lk(e.target)&&(0,U.pW)(e.target)))}},k=(0,T.Ci)();return i.createElement(i.Fragment,null,w&&i.createElement(m.j,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:m.u.Focusable}),k({ourProps:E,theirProps:f,defaultTag:"div",name:"FocusTrap"}),w&&i.createElement(m.j,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:m.u.Focusable}))})),G=Object.assign(K,{features:q});function Y(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var X=n(28605),$=n(67015);const Z=["id","open","onClose","initialFocus","role","autoFocus","__demoMode","unmount"],J=["transition","open"],Q=["id","transition"],ee=["transition"],te=["id"];var ne,re=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(re||{}),oe=((ne=oe||{})[ne.SetTitleId=0]="SetTitleId",ne);let ie={0:(e,t)=>e.titleId===t.id?e:(0,o.A)((0,o.A)({},e),{},{titleId:t.id})},ae=(0,i.createContext)(null);function se(e){let t=(0,i.useContext)(ae);if(null===t){let t=new Error("<".concat(e," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,se),t}return t}function le(e,t){return(0,O.Y)(t.type,ie,e,t)}ae.displayName="DialogContext";let ce=(0,T.FX)((function(e,t){let n=(0,i.useId)(),{id:o="headlessui-dialog-".concat(n),open:m,onClose:v,initialFocus:x,role:b="dialog",autoFocus:S=!0,__demoMode:E=!1,unmount:O=!1}=e,I=(0,r.A)(e,Z),R=(0,i.useRef)(!1);b="dialog"===b||"alertdialog"===b?b:(R.current||(R.current=!0,console.warn("Invalid role [".concat(b,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");let D=(0,k.O_)();void 0===m&&null!==D&&(m=(D&k.Uw.Open)===k.Uw.Open);let L=(0,i.useRef)(null),F=(0,N.P)(L,t),B=(0,h.g)(L),z=m?0:1,[U,V]=(0,i.useReducer)(le,{titleId:null,descriptionId:null,panelRef:(0,i.createRef)()}),W=(0,c._)((()=>v(!1))),H=(0,c._)((e=>V({type:0,id:e}))),K=!!(0,j.g)()&&0===z,[Y,$]=(0,X.k2)(),J={get current(){var e;return null!=(e=U.panelRef.current)?e:L.current}},Q=y(),{resolveContainers:ee}=function(){let{defaultContainers:e=[],portals:t,mainTreeNode:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,h.g)(n),o=(0,c._)((()=>{var o,i;let a=[];for(let t of e)null!==t&&(g.vq(t)?a.push(t):"current"in t&&g.vq(t.current)&&a.push(t.current));if(null!=t&&t.current)for(let e of t.current)a.push(e);for(let e of null!=(o=null==r?void 0:r.querySelectorAll("html > *, body > *"))?o:[])e!==document.body&&e!==document.head&&g.vq(e)&&"headlessui-portal-root"!==e.id&&(n&&(e.contains(n)||e.contains(null==(i=null==n?void 0:n.getRootNode())?void 0:i.host))||a.some((t=>e.contains(t)))||a.push(e));return a}));return{resolveContainers:o,contains:(0,c._)((e=>o().some((t=>t.contains(e)))))}}({mainTreeNode:Q,portals:Y,defaultContainers:[J]}),te=null!==D&&(D&k.Uw.Closing)===k.Uw.Closing;(0,d.v)(!E&&!te&&K,{allowed:(0,c._)((()=>{var e,t;return[null!=(t=null==(e=L.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]})),disallowed:(0,c._)((()=>{var e;return[null!=(e=null==Q?void 0:Q.closest("body > *:not(#headlessui-portal-root)"))?e:null]}))});let ne=_.D.get(null);(0,u.s)((()=>{if(K)return ne.actions.push(o),()=>ne.actions.pop(o)}),[ne,o,K]);let re=(0,P.y)(ne,(0,i.useCallback)((e=>ne.selectors.isTop(e,o)),[ne,o]));(0,f.j)(re,ee,(e=>{e.preventDefault(),W()})),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"!=typeof document?document.defaultView:null,n=arguments.length>2?arguments[2]:void 0,r=(0,l.S)(e,"escape");(0,s.M)(t,"keydown",(e=>{r&&(e.defaultPrevented||e.key===a.D.Escape&&n(e))}))}(re,null==B?void 0:B.defaultView,(e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),W()})),(0,w.K)(!E&&!te&&K,B,ee),(0,p.O)(K,L,W);let[oe,ie]=(0,M.rU)(),se=(0,i.useMemo)((()=>[{dialogState:z,close:W,setTitleId:H,unmount:O},U]),[z,U,W,H,O]),ce=(0,i.useMemo)((()=>({open:0===z})),[z]),pe={ref:F,id:o,role:b,tabIndex:-1,"aria-modal":E?void 0:0===z||void 0,"aria-labelledby":U.titleId,"aria-describedby":oe,unmount:O},fe=!function(){var e;let[t]=(0,i.useState)((()=>"undefined"!=typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null)),[n,r]=(0,i.useState)(null!=(e=null==t?void 0:t.matches)&&e);return(0,u.s)((()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){r(e.matches)}}),[t]),n}(),he=q.None;K&&!E&&(he|=q.RestoreFocus,he|=q.TabLock,S&&(he|=q.AutoFocus),fe&&(he|=q.InitialFocus));let me=(0,T.Ci)();return i.createElement(k.$x,null,i.createElement(C.a,{force:!0},i.createElement(X.ZL,null,i.createElement(ae.Provider,{value:se},i.createElement(X.Ee,{target:L},i.createElement(C.a,{force:!1},i.createElement(ie,{slot:ce},i.createElement($,null,i.createElement(G,{initialFocus:x,initialFocusFallback:L,containers:ee,features:he},i.createElement(A,{value:W},me({ourProps:pe,theirProps:I,slot:ce,defaultTag:de,features:ue,visible:0===z,name:"Dialog"})))))))))))})),de="div",ue=T.Ac.RenderStrategy|T.Ac.Static;let pe=(0,T.FX)((function(e,t){let{transition:n=!1,open:a}=e,s=(0,r.A)(e,J),l=(0,k.O_)(),c=e.hasOwnProperty("open")||null!==l,d=e.hasOwnProperty("onClose");if(!c&&!d)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!d)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&"boolean"!=typeof e.open)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(e.open));if("function"!=typeof e.onClose)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(e.onClose));return void 0===a&&!n||s.static?i.createElement(b,null,i.createElement(ce,(0,o.A)({ref:t,open:a},s))):i.createElement(b,null,i.createElement($.e,{show:a,transition:n,unmount:s.unmount},i.createElement(ce,(0,o.A)({ref:t},s))))})),fe=(0,T.FX)((function(e,t){let n=(0,i.useId)(),{id:a="headlessui-dialog-panel-".concat(n),transition:s=!1}=e,l=(0,r.A)(e,Q),[{dialogState:d,unmount:u},p]=se("Dialog.Panel"),f=(0,N.P)(t,p.panelRef),h=(0,i.useMemo)((()=>({open:0===d})),[d]),m=(0,c._)((e=>{e.stopPropagation()})),g={ref:f,id:a,onClick:m},v=s?$._:i.Fragment,x=s?{unmount:u}:{},b=(0,T.Ci)();return i.createElement(v,(0,o.A)({},x),b({ourProps:g,theirProps:l,slot:h,defaultTag:"div",name:"Dialog.Panel"}))})),he=((0,T.FX)((function(e,t){let{transition:n=!1}=e,a=(0,r.A)(e,ee),[{dialogState:s,unmount:l}]=se("Dialog.Backdrop"),c=(0,i.useMemo)((()=>({open:0===s})),[s]),d={ref:t,"aria-hidden":!0},u=n?$._:i.Fragment,p=n?{unmount:l}:{},f=(0,T.Ci)();return i.createElement(u,(0,o.A)({},p),f({ourProps:d,theirProps:a,slot:c,defaultTag:"div",name:"Dialog.Backdrop"}))})),(0,T.FX)((function(e,t){let n=(0,i.useId)(),{id:o="headlessui-dialog-title-".concat(n)}=e,a=(0,r.A)(e,te),[{dialogState:s,setTitleId:l}]=se("Dialog.Title"),c=(0,N.P)(t);(0,i.useEffect)((()=>(l(o),()=>l(null))),[o,l]);let d=(0,i.useMemo)((()=>({open:0===s})),[s]),u={ref:c,id:o};return(0,T.Ci)()({ourProps:u,theirProps:a,slot:d,defaultTag:"h2",name:"Dialog.Title"})}))),me=Object.assign(pe,{Panel:fe,Title:he,Description:M.VY})},85204:(e,t,n)=>{var r=n(87937)(n(56552),"Map");e.exports=r},85990:(e,t,n)=>{var r=n(13028)(Object.getPrototypeOf,Object);e.exports=r},86150:(e,t,n)=>{"use strict";n.d(t,{m:()=>X});var r=n(65043),o=n(87424),i=n.n(o),a=n(79686),s=n.n(a),l=n(58387),c=n(76307);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return Array.isArray(e)&&(0,c.vh)(e[0])&&(0,c.vh)(e[1])?e.join(" ~ "):e}var x=function(e){var t=e.separator,n=void 0===t?" : ":t,o=e.contentStyle,a=void 0===o?{}:o,d=e.itemStyle,f=void 0===d?{}:d,h=e.labelStyle,g=void 0===h?{}:h,x=e.payload,b=e.formatter,y=e.itemSorter,w=e.wrapperClassName,j=e.labelClassName,N=e.label,S=e.labelFormatter,A=e.accessibilityLayer,E=void 0!==A&&A,k=m({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=m({margin:0},g),_=!s()(N),P=_?N:"",O=(0,l.A)("recharts-default-tooltip",w),T=(0,l.A)("recharts-tooltip-label",j);_&&S&&void 0!==x&&null!==x&&(P=S(N,x));var M=E?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",u({className:O,style:k},M),r.createElement("p",{className:T,style:C},r.isValidElement(P)?P:"".concat(P)),function(){if(x&&x.length){var e=(y?i()(x,y):x).map((function(e,t){if("none"===e.type)return null;var o=m({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},f),i=e.formatter||b||v,a=e.value,s=e.name,l=a,d=s;if(i&&null!=l&&null!=d){var u=i(a,s,e,t,x);if(Array.isArray(u)){var h=p(u,2);l=h[0],d=h[1]}else l=u}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:o},(0,c.vh)(d)?r.createElement("span",{className:"recharts-tooltip-item-name"},d):null,(0,c.vh)(d)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},l),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="recharts-tooltip-wrapper",j={visibility:"hidden"};function N(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return(0,l.A)(w,y(y(y(y({},"".concat(w,"-right"),(0,c.Et)(n)&&t&&(0,c.Et)(t.x)&&n>=t.x),"".concat(w,"-left"),(0,c.Et)(n)&&t&&(0,c.Et)(t.x)&&n<t.x),"".concat(w,"-bottom"),(0,c.Et)(r)&&t&&(0,c.Et)(t.y)&&r>=t.y),"".concat(w,"-top"),(0,c.Et)(r)&&t&&(0,c.Et)(t.y)&&r<t.y))}function S(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,o=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,d=e.viewBoxDimension;if(i&&(0,c.Et)(i[r]))return i[r];var u=n[r]-s-o,p=n[r]+o;return t[r]?a[r]?u:p:a[r]?u<l[r]?Math.max(p,l[r]):Math.max(u,l[r]):p+s>l[r]+d?Math.max(u,l[r]):Math.max(p,l[r])}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function _(e,t,n){return t=O(t),function(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,n||[],O(e).constructor):t.apply(e,n))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function M(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}var R=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=_(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),M(e,"handleKeyDown",(function(t){var n,r,o,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(o=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==o?o:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(t,e),n=t,(o=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,o=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,p=t.position,f=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,v=function(e){var t,n,r=e.allowEscapeViewBox,o=e.coordinate,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&o?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=S({allowEscapeViewBox:r,coordinate:o,key:"x",offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=S({allowEscapeViewBox:r,coordinate:o,key:"y",offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):j,cssClasses:N({translateX:t,translateY:n,coordinate:o})}}({allowEscapeViewBox:o,coordinate:l,offsetTopLeft:u,position:p,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),x=v.cssClasses,b=v.cssProperties,y=k(k({transition:d&&n?"transform ".concat(i,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:x,style:y,ref:function(t){e.wrapperNode=t}},s)}}])&&C(n.prototype,o),i&&C(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent),D=n(6015),L=n(22598);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function V(e,t,n){return t=H(t),function(e,t){if(t&&("object"===F(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W()?Reflect.construct(t,n||[],H(e).constructor):t.apply(e,n))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function K(e,t,n){return(t=G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}function Y(e){return e.dataKey}var X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,o=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,p=t.payload,f=t.payloadUniqBy,h=t.position,m=t.reverseDirection,g=t.useTranslate3d,v=t.viewBox,b=t.wrapperStyle,y=null!==p&&void 0!==p?p:[];c&&y.length&&(y=(0,L.s)(p.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Y));var w=y.length>0;return r.createElement(R,{allowEscapeViewBox:o,animationDuration:i,animationEasing:a,isAnimationActive:d,active:n,coordinate:l,hasPayload:w,offset:u,position:h,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:b},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(x,t)}(s,z(z({},this.props),{},{payload:y})))}}])&&U(n.prototype,o),i&&U(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);K(X,"displayName","Tooltip"),K(X,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!D.m.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}})},86170:(e,t,n)=>{"use strict";var r;n.d(t,{g:()=>a});var o=n(65043),i=n(10766);function a(){let e=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(r||(r=n.t(o,2)))((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,a]=o.useState(i._.isHandoffComplete);return t&&!1===i._.isHandoffComplete&&a(!1),o.useEffect((()=>{!0!==t&&a(!0)}),[t]),o.useEffect((()=>i._.handoff()),[]),!e&&t}},86179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},86368:(e,t,n)=>{var r=n(95750),o=n(20191),i=n(34428);e.exports=function(e,t){var n,a=new o,s={},l=new i;function c(e){var r=e.v===n?e.w:e.v,o=l.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,l.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){l.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),l.decrease(e.nodes()[0],0);var d=!1;for(;l.size()>0;){if(n=l.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(d)throw new Error("Input graph is not connected: "+e);d=!0}e.nodeEdges(n).forEach(c)}return a}},86532:(e,t,n)=>{var r=n(5538),o=n(26989);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var d=(c=n[a])[0],u=e[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var f=new r;if(i)var h=i(u,p,d,e,t,f);if(!(void 0===h?o(p,u,3,i,f):h))return!1}}return!0}},86578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},86675:(e,t,n)=>{"use strict";var r=n(78208),o=n(5673),i=n(22786),a=n(12460),s=n(65641).normalizeRanks,l=n(76467),c=n(65641).removeEmptyRanks,d=n(35146),u=n(5972),p=n(44362),f=n(550),h=n(81277),m=n(65641),g=n(17938).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new g({multigraph:!0,compound:!0}),n=E(e.graph());return t.setGraph(r.merge({},x,A(n,v),r.pick(n,b))),r.forEach(e.nodes(),(function(n){var o=E(e.node(n));t.setNode(n,r.defaults(A(o,y),w)),t.setParent(n,e.parent(n))})),r.forEach(e.edges(),(function(n){var o=E(e.edge(n));t.setEdge(n,r.merge({},N,A(o,j),r.pick(o,S)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){r.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){o.run(e)})),t("    nestingGraph.run",(function(){d.run(e)})),t("    rank",(function(){a(m.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};m.addDummyNode(e,"edge-proxy",o,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){c(e)})),t("    nestingGraph.cleanup",(function(){d.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;r.forEach(e.nodes(),(function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){l(e)})),t("    addBorderSegments",(function(){u(e)})),t("    order",(function(){f(e)})),t("    insertSelfEdges",(function(){!function(e){var t=m.buildLayerMatrix(e);r.forEach(t,(function(t){var n=0;r.forEach(t,(function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,(function(t){m.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){p.adjust(e)})),t("    position",(function(){h(e)})),t("    positionSelfEdges",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){r.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){p.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,l=a.marginy||0;function c(e){var r=e.x,a=e.y,s=e.width,l=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-l/2),i=Math.max(i,a+l/2)}r.forEach(e.nodes(),(function(t){c(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.has(n,"x")&&c(n)})),t-=s,o-=l,r.forEach(e.nodes(),(function(n){var r=e.node(n);r.x-=t,r.y-=o})),r.forEach(e.edges(),(function(n){var i=e.edge(n);r.forEach(i.points,(function(e){e.x-=t,e.y-=o})),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)})),a.width=n-t+s,a.height=i-o+l}(e)})),t("    assignNodeIntersects",(function(){!function(e){r.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(m.intersectRect(i,n)),o.points.push(m.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){o.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){r.forEach(e.nodes(),(function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(e.edges(),(function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],y=["width","height"],w={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function A(e,t){return r.mapValues(r.pick(e,t),Number)}function E(e){var t={};return r.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},86983:(e,t,n)=>{var r=n(50149);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},87171:(e,t,n)=>{var r=n(45652);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},87424:(e,t,n)=>{var r=n(80755),o=n(12536),i=n(55647),a=n(60929),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},87563:e=>{e.exports=function(){this.__data__=[],this.size=0}},87937:(e,t,n)=>{var r=n(36954),o=n(14657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},88068:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(44113),o=n(34781);let i=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}((()=>{function e(e){if(!r.Lk(e.target)||e.target===document.body||i[0]===e.target)return;let t=e.target;t=t.closest(o.Uo),i.unshift(null!=t?t:e.target),i=i.filter((e=>null!=e&&e.isConnected)),i.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}))},88259:(e,t,n)=>{var r=n(15797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},88420:(e,t,n)=>{"use strict";n.d(t,{gu:()=>$t});var r=n(65043),o=n(79686),i=n.n(o),a=n(11629),s=n.n(a),l=n(96604),c=n.n(l),d=n(33097),u=n.n(d),p=n(87424),f=n.n(p),h=n(79889),m=n.n(h),g=n(58387),v=n(3404),x=n(94794),b=n(94020),y=n(86150),w=n(21327),j=n(68892),N=n(84342),S=n(240),A=n(2099),E=n(84140),k=n(71845),C=n(76307);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=["Webkit","Moz","O","ms"];function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function B(e,t,n){return t=U(t),function(e,t){if(t&&("object"===I(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,z()?Reflect.construct(t,n||[],U(e).constructor):t.apply(e,n))}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function W(e,t,n){return(t=H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}var q=function(e){return e.changedTouches&&!!e.changedTouches.length},K=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(n=B(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),W(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),W(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,o=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:o})})),n.detachDragEndListener()})),W(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),W(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),W(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),W(n,"handleSlideDragStart",(function(e){var t=q(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(t,e),n=t,i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,o=e.width,i=e.height,a=e.stroke,s=Math.floor(n+i/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:o,height:i,fill:a,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+o-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+o-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):s()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,o=e.x,i=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return L({prevData:n,prevTravellerWidth:i,prevUpdateId:a,prevX:o,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,o=e.x,i=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=(0,A.z)().domain(c()(0,s)).range([o,o+i-a]),d=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:d}}({data:n,width:r,x:o,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||o!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([o,o+r-i]);var d=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:i,prevUpdateId:a,prevX:o,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var o=Math.floor((n+r)/2);e[o]>t?r=o:n=o}return t>=e[r]?r:n}}],(o=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,o=this.state.scaleValues,i=this.props,a=i.gap,s=i.data.length-1,l=Math.min(n,r),c=Math.max(n,r),d=t.getIndexInRange(o,l),u=t.getIndexInRange(o,c);return{startIndex:d-d%a,endIndex:u===s?s:u-u%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,o=t.dataKey,i=(0,k.kr)(n[e],o,e);return s()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,o=t.endX,i=this.props,a=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,d=i.endIndex,u=i.onChange,p=e.pageX-n;p>0?p=Math.min(p,a+s-l-o,a+s-l-r):p<0&&(p=Math.max(p,a-r,a-o));var f=this.getIndex({startX:r+p,endX:o+p});f.startIndex===c&&f.endIndex===d||!u||u(f),this.setState({startX:r+p,endX:o+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=q(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,o=t.endX,i=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,d=s.travellerWidth,u=s.onChange,p=s.gap,f=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-d-a):m<0&&(m=Math.max(m,l-a)),h[r]=a+m;var g=this.getIndex(h),v=g.startIndex,x=g.endIndex;this.setState(W(W({},r,a+m),"brushMoveStartX",e.pageX),(function(){u&&function(){var e=f.length-1;return"startX"===r&&(o>i?v%p===0:x%p===0)||o<i&&x===e||"endX"===r&&(o>i?x%p===0:v%p===0)||o>i&&x===e}()&&u(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,o=r.scaleValues,i=r.startX,a=r.endX,s=this.state[t],l=o.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=o.length)){var d=o[c];"startX"===t&&d>=a||"endX"===t&&d<=i||this.setState(W({},t,d),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,o=e.width,i=e.height,a=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:o,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,o=e.width,i=e.height,a=e.data,s=e.children,l=e.padding,c=r.Children.only(s);return c?r.cloneElement(c,{x:t,y:n,width:o,height:i,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var o,i,a=this,s=this.props,l=s.y,c=s.travellerWidth,d=s.height,u=s.traveller,p=s.ariaLabel,f=s.data,h=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),v=L(L({},(0,S.J9)(this.props,!1)),{},{x:g,y:l,width:c,height:d}),x=p||"Min value: ".concat(null===(o=f[h])||void 0===o?void 0:o.name,", Max value: ").concat(null===(i=f[m])||void 0===i?void 0:i.name);return r.createElement(b.W,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,v))}},{key:"renderSlide",value:function(e,t){var n=this.props,o=n.y,i=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:o,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,o=e.y,i=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:s};return r.createElement(b.W,{className:"recharts-brush-texts"},r.createElement(E.E,R({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:o+i/2},u),this.getTextOfTick(t)),r.createElement(E.E,R({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+a+5,y:o+i/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,o=e.children,i=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,p=d.endX,f=d.isTextActive,h=d.isSlideMoving,m=d.isTravellerMoving,v=d.isTravellerFocused;if(!t||!t.length||!(0,C.Et)(i)||!(0,C.Et)(a)||!(0,C.Et)(s)||!(0,C.Et)(l)||s<=0||l<=0)return null;var x=(0,g.A)("recharts-brush",n),y=1===r.Children.count(o),w=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=M.reduce((function(e,r){return O(O({},e),{},T({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(b.W,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(u,p),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(p,"endX"),(f||h||m||v||c)&&this.renderText())}}])&&F(n.prototype,o),i&&F(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.PureComponent);W(K,"displayName","Brush"),W(K,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var G=n(17213),Y=n(27165),X=n(92647),$=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Z=n(3831),J=n(155);function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function oe(e,t,n){return t=ae(t),function(e,t){if(t&&("object"===ee(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ie()?Reflect.construct(t,n||[],ae(e).constructor):t.apply(e,n))}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function le(e,t,n){return(t=ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:t+""}var de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oe(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,n=e.x,o=e.y,i=e.r,a=e.alwaysShow,s=e.clipPathId,l=(0,C.vh)(n),c=(0,C.vh)(o);if((0,J.R)(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,n=e.y,r=e.xAxis,o=e.yAxis,i=(0,Z.P2)({x:r.scale,y:o.scale}),a=i.apply({x:t,y:n},{bandAware:!0});return $(e,"discard")&&!i.isInRange(a)?null:a}(this.props);if(!d)return null;var u=d.x,p=d.y,f=this.props,h=f.shape,m=f.className,v=ne(ne({clipPath:$(this.props,"hidden")?"url(#".concat(s,")"):void 0},(0,S.J9)(this.props,!0)),{},{cx:u,cy:p});return r.createElement(b.W,{className:(0,g.A)("recharts-reference-dot",m)},t.renderDot(h,v),X.J.renderCallByParent(this.props,{x:u-i,y:p-i,width:2*i,height:2*i}))}}])&&re(n.prototype,o),i&&re(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);le(de,"displayName","ReferenceDot"),le(de,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),le(de,"renderDot",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):s()(e)?e(t):r.createElement(j.c,Q({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var ue=n(24597),pe=n.n(ue),fe=n(52103);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ne(r.key),r)}}function ge(e,t,n){return t=xe(t),function(e,t){if(t&&("object"===he(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ve()?Reflect.construct(t,n||[],xe(e).constructor):t.apply(e,n))}function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ve=function(){return!!e})()}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return(t=Ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){var t=function(e,t){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==he(t)?t:t+""}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function ke(e){var t=e.x,n=e.y,o=e.segment,i=e.xAxisId,a=e.yAxisId,l=e.shape,c=e.className,d=e.alwaysShow,u=(0,fe.Yp)(),p=(0,fe.AF)(i),f=(0,fe.Nk)(a),h=(0,fe.sk)();if(!u||!h)return null;(0,J.R)(void 0===d,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,n,r,o,i,a,s,l){var c=o.x,d=o.y,u=o.width,p=o.height;if(n){var f=l.y,h=e.y.apply(f,{position:i});if($(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:c+u,y:h},{x:c,y:h}];return"left"===s?m.reverse():m}if(t){var g=l.x,v=e.x.apply(g,{position:i});if($(l,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:d+p},{x:v,y:d}];return"top"===a?x.reverse():x}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:i})}));return $(l,"discard")&&pe()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}((0,Z.P2)({x:p.scale,y:f.scale}),(0,C.vh)(t),(0,C.vh)(n),o&&2===o.length,h,e.position,p.orientation,f.orientation,e);if(!m)return null;var v=Se(m,2),x=v[0],y=x.x,w=x.y,j=v[1],N=j.x,A=j.y,E=we(we({clipPath:$(e,"hidden")?"url(#".concat(u,")"):void 0},(0,S.J9)(e,!0)),{},{x1:y,y1:w,x2:N,y2:A});return r.createElement(b.W,{className:(0,g.A)("recharts-reference-line",c)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):s()(e)?e(t):r.createElement("line",Ee({},t,{className:"recharts-reference-line-line"}))}(l,E),X.J.renderCallByParent(e,(0,Z.vh)({x1:y,y1:w,x2:N,y2:A})))}var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.createElement(ke,this.props)}}])&&me(n.prototype,o),i&&me(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Be(r.key),r)}}function Ie(e,t,n){return t=De(t),function(e,t){if(t&&("object"===Pe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Re()?Reflect.construct(t,n||[],De(e).constructor):t.apply(e,n))}function Re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Re=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}function Fe(e,t,n){return(t=Be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}je(Ce,"displayName","ReferenceLine"),je(Ce,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ie(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,n=e.x1,o=e.x2,i=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;(0,J.R)(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=(0,C.vh)(n),u=(0,C.vh)(o),p=(0,C.vh)(i),f=(0,C.vh)(a),h=this.props.shape;if(!d&&!u&&!p&&!f&&!h)return null;var m=function(e,t,n,r,o){var i=o.x1,a=o.x2,s=o.y1,l=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var u=(0,Z.P2)({x:c.scale,y:d.scale}),p={x:e?u.x.apply(i,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(s,{position:"start"}):u.y.rangeMin},f={x:t?u.x.apply(a,{position:"end"}):u.x.rangeMax,y:r?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!$(o,"discard")||u.isInRange(p)&&u.isInRange(f)?(0,Z.sl)(p,f):null}(d,u,p,f,this.props);if(!m&&!h)return null;var v=$(this.props,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(b.W,{className:(0,g.A)("recharts-reference-area",s)},t.renderRect(h,Te(Te({clipPath:v},(0,S.J9)(this.props,!0)),m)),X.J.renderCallByParent(this.props,m))}}])&&Me(n.prototype,o),i&&Me(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(r.Component);function Ue(e){return function(e){if(Array.isArray(e))return Ve(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Fe(ze,"displayName","ReferenceArea"),Fe(ze,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Fe(ze,"renderRect",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):s()(e)?e(t):r.createElement(N.M,_e({},t,{className:"recharts-reference-area-rect"}))}));var We=function(e,t,n,r,o){var i=(0,S.aS)(e,Ce),a=(0,S.aS)(e,de),s=[].concat(Ue(i),Ue(a)),l=(0,S.aS)(e,ze),c="".concat(r,"Id"),d=r[0],u=t;if(s.length&&(u=s.reduce((function(e,t){if(t.props[c]===n&&$(t.props,"extendDomain")&&(0,C.Et)(t.props[d])){var r=t.props[d];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),u)),l.length){var p="".concat(d,"1"),f="".concat(d,"2");u=l.reduce((function(e,t){if(t.props[c]===n&&$(t.props,"extendDomain")&&(0,C.Et)(t.props[p])&&(0,C.Et)(t.props[f])){var r=t.props[p],o=t.props[f];return[Math.min(e[0],r,o),Math.max(e[1],r,o)]}return e}),u)}return o&&o.length&&(u=o.reduce((function(e,t){return(0,C.Et)(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),u)),u},He=n(60165),qe=n(45248),Ke=n(17283),Ge=new(n.n(Ke)()),Ye="recharts.syncMouseEvents",Xe=n(17287);function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qe(r.key),r)}}function Je(e,t,n){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}var et=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Je(this,"activeIndex",0),Je(this,"coordinateList",[]),Je(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,o=e.container,i=void 0===o?null:o,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,o=n.y,i=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,d=o+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])&&Ze(e.prototype,t),n&&Ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();var tt=n(70879),nt=n(68471);function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}var ot=["x","y","top","left","width","height","className"];function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ct=function(e,t,n,r,o,i){return"M".concat(e,",").concat(o,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},dt=function(e){var t=e.x,n=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,p=e.height,f=void 0===p?0:p,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:i,top:s,left:c,width:u,height:f},lt(e,ot));return(0,C.Et)(n)&&(0,C.Et)(i)&&(0,C.Et)(u)&&(0,C.Et)(f)&&(0,C.Et)(s)&&(0,C.Et)(c)?r.createElement("path",it({},(0,S.J9)(m,!0),{className:(0,g.A)("recharts-cross",h),d:ct(n,i,u,f,s,c)})):null};function ut(e){var t=e.cx,n=e.cy,r=e.radius,o=e.startAngle,i=e.endAngle;return{points:[(0,He.IZ)(t,n,r,o),(0,He.IZ)(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:o,endAngle:i}}var pt=n(677);function ft(e,t,n){var r,o,i,a;if("horizontal"===e)i=r=t.x,o=n.top,a=n.top+n.height;else if("vertical"===e)a=o=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ut(t);var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,p=(0,He.IZ)(s,l,c,u),f=(0,He.IZ)(s,l,d,u);r=p.x,o=p.y,i=f.x,a=f.y}return[{x:r,y:o},{x:i,y:a}]}function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ht(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e){var t,n,o,i=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,p=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!m||!s||!l||"ScatterChart"!==h&&"axis"!==a)return null;var v=nt.I;if("ScatterChart"===h)o=l,v=dt;else if("BarChart"===h)o=function(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-o:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-o,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,d,p),v=N.M;else if("radial"===f){var x=ut(l),b=x.cx,y=x.cy,w=x.radius;o={cx:b,cy:y,startAngle:x.startAngle,endAngle:x.endAngle,innerRadius:w,outerRadius:w},v=pt.h}else o={points:ft(f,l,d)},v=nt.I;var j=gt(gt(gt(gt({stroke:"#ccc",pointerEvents:"none"},d),o),(0,S.J9)(m,!1)),{},{payload:c,payloadIndex:u,className:(0,g.A)("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,j):(0,r.createElement)(v,j)}var bt=["item"],yt=["children","className","width","height","style","compact","title","desc"];function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dt(r.key),r)}}function Et(e,t,n){return t=Ct(t),function(e,t){if(t&&("object"===wt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kt()?Reflect.construct(t,n||[],Ct(e).constructor):t.apply(e,n))}function kt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kt=function(){return!!e})()}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_t(e,t)}function Pt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){var t=function(e,t){if("object"!=wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wt(t)?t:t+""}var Lt={xAxis:["bottom","top"],yAxis:["left","right"]},Ft={width:"100%",height:"100%"},Bt={x:0,y:0};function zt(e){return e}var Ut=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,o=t.dataEndIndex,i=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(Pt(e),Pt(n)):e}),[]);return i.length>0?i:e&&e.length&&(0,C.Et)(r)&&(0,C.Et)(o)?e.slice(r,o+1):[]};function Vt(e){return"number"===e?[0,"auto"]:void 0}var Wt=function(e,t,n,r){var o=e.graphicalItems,i=e.tooltipAxis,a=Ut(t,e);return n<0||!o||!o.length||n>=a.length?null:o.reduce((function(o,s){var l,c,d=null!==(l=s.props.data)&&void 0!==l?l:t;if(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory){var u=void 0===d?a:d;c=(0,C.eP)(u,i.dataKey,r)}else c=d&&d[n]||a[n];return c?[].concat(Pt(o),[(0,k.zb)(s,c)]):o}),[])},Ht=function(e,t,n,r){var o=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(o,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=(0,k.gH)(i,a,l,s);if(c>=0&&l){var d=l[c]&&l[c].value,u=Wt(e,t,c,d),p=function(e,t,n,r){var o=t.find((function(e){return e&&e.index===n}));if(o){if("horizontal"===e)return{x:o.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:o.coordinate};if("centric"===e){var i=o.coordinate,a=r.radius;return It(It(It({},r),(0,He.IZ)(r.cx,r.cy,a,i)),{},{angle:i,radius:a})}var s=o.coordinate,l=r.angle;return It(It(It({},r),(0,He.IZ)(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return Bt}(n,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:p}}return null},qt=function(e,t){var n=t.axes,r=t.graphicalItems,o=t.axisType,a=t.axisIdKey,s=t.stackGroups,l=t.dataStartIndex,d=t.dataEndIndex,u=e.layout,p=e.children,f=e.stackOffset,h=(0,k._L)(u,o);return n.reduce((function(t,n){var m,g=void 0!==n.type.defaultProps?It(It({},n.type.defaultProps),n.props):n.props,v=g.type,x=g.dataKey,b=g.allowDataOverflow,y=g.allowDuplicatedCategory,w=g.scale,j=g.ticks,N=g.includeHidden,S=g[a];if(t[S])return t;var A,E,_,P=Ut(e.data,{graphicalItems:r.filter((function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===S})),dataStartIndex:l,dataEndIndex:d}),O=P.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],o=null===e||void 0===e?void 0:e[1];if(r&&o&&(0,C.Et)(r)&&(0,C.Et)(o))return!0}return!1})(g.domain,b,v)&&(A=(0,k.AQ)(g.domain,null,b),!h||"number"!==v&&"auto"===w||(_=(0,k.Ay)(P,x,"category")));var T=Vt(v);if(!A||0===A.length){var M,I=null!==(M=g.domain)&&void 0!==M?M:T;if(x){if(A=(0,k.Ay)(P,x,v),"category"===v&&h){var R=(0,C.CG)(A);y&&R?(E=A,A=c()(0,O)):y||(A=(0,k.KC)(I,A,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(Pt(e),[t])}),[]))}else if("category"===v)A=y?A.filter((function(e){return""!==e&&!i()(e)})):(0,k.KC)(I,A,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||i()(t)?e:[].concat(Pt(e),[t])}),[]);else if("number"===v){var D=(0,k.A1)(P,r.filter((function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],o="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(N||!o)})),x,o,u);D&&(A=D)}!h||"number"!==v&&"auto"===w||(_=(0,k.Ay)(P,x,"category"))}else A=h?c()(0,O):s&&s[S]&&s[S].hasStack&&"number"===v?"expand"===f?[0,1]:(0,k.Mk)(s[S].stackGroups,l,d):(0,k.vf)(P,r.filter((function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(N||!n)})),v,u,!0);if("number"===v)A=We(p,A,S,o,j),I&&(A=(0,k.AQ)(I,A,b));else if("category"===v&&I){var L=I;A.every((function(e){return L.indexOf(e)>=0}))&&(A=L)}}return It(It({},t),{},Rt({},S,It(It({},g),{},{axisType:o,domain:A,categoricalDomain:_,duplicateDomain:E,originalDomain:null!==(m=g.domain)&&void 0!==m?m:T,isCategorical:h,layout:u})))}),{})},Kt=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,o=t.AxisComp,i=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,d=e.children,p="".concat(r,"Id"),f=(0,S.aS)(d,o),h={};return f&&f.length?h=qt(e,{axes:f,graphicalItems:i,axisType:r,axisIdKey:p,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,o=t.axisType,i=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,d=e.layout,p=e.children,f=Ut(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=f.length,m=(0,k._L)(d,o),g=-1;return n.reduce((function(e,t){var v,x=(void 0!==t.type.defaultProps?It(It({},t.type.defaultProps),t.props):t.props)[i],b=Vt("number");return e[x]?e:(g++,m?v=c()(0,h):a&&a[x]&&a[x].hasStack?(v=(0,k.Mk)(a[x].stackGroups,s,l),v=We(p,v,x,o)):(v=(0,k.AQ)(b,(0,k.vf)(f,n.filter((function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],o="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===x&&!o})),"number",d),r.defaultProps.allowDataOverflow),v=We(p,v,x,o)),It(It({},e),{},Rt({},x,It(It({axisType:o},r.defaultProps),{},{hide:!0,orientation:u()(Lt,"".concat(o,".").concat(g%2),null),domain:v,originalDomain:b,isCategorical:m,layout:d}))))}),{})}(e,{Axis:o,graphicalItems:i,axisType:r,axisIdKey:p,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},Gt=function(e){var t=e.children,n=e.defaultShowTooltip,r=(0,S.BU)(t,K),o=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(o=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},Yt=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xt=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},$t=function(e){var t=e.chartName,n=e.GraphicalChild,o=e.defaultTooltipEventType,a=void 0===o?"axis":o,l=e.validateTooltipEventTypes,c=void 0===l?["axis"]:l,d=e.axisComponents,p=e.legendContent,h=e.formatAxisMap,A=e.defaultProps,E=function(e,t){var n=t.graphicalItems,r=t.stackGroups,o=t.offset,a=t.updateId,s=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,p=e.barGap,f=e.barCategoryGap,h=e.maxBarSize,m=Yt(u),g=m.numericAxisName,x=m.cateAxisName,b=function(e){return!(!e||!e.length)&&e.some((function(e){var t=(0,S.Mn)(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,m){var w=Ut(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:l}),j=void 0!==n.type.defaultProps?It(It({},n.type.defaultProps),n.props):n.props,N=j.dataKey,A=j.maxBarSize,E=j["".concat(g,"Id")],C=j["".concat(x,"Id")],_=d.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],o=j["".concat(n.axisType,"Id")];r&&r[o]||"zAxis"===n.axisType||(0,v.A)(!1);var i=r[o];return It(It({},e),{},Rt(Rt({},n.axisType,i),"".concat(n.axisType,"Ticks"),(0,k.Rh)(i)))}),{}),P=_[x],O=_["".concat(x,"Ticks")],T=r&&r[E]&&r[E].hasStack&&(0,k.kA)(n,r[E].stackGroups),M=(0,S.Mn)(n.type).indexOf("Bar")>=0,I=(0,k.Hj)(P,O),R=[],D=b&&(0,k.tA)({barSize:c,stackGroups:r,totalSize:Xt(_,x)});if(M){var L,F,B=i()(A)?h:A,z=null!==(L=null!==(F=(0,k.Hj)(P,O,!0))&&void 0!==F?F:B)&&void 0!==L?L:0;R=(0,k.BX)({barGap:p,barCategoryGap:f,bandSize:z!==I?z:I,sizeList:D[C],maxBarSize:B}),z!==I&&(R=R.map((function(e){return It(It({},e),{},{position:It(It({},e.position),{},{offset:e.position.offset-z/2})})})))}var U=n&&n.type&&n.type.getComposedData;U&&y.push({props:It(It({},U(It(It({},_),{},{displayedData:w,props:e,dataKey:N,item:n,bandSize:I,barPosition:R,offset:o,stackedData:T,layout:u,dataStartIndex:s,dataEndIndex:l}))),{},Rt(Rt(Rt({key:n.key||"item-".concat(m)},g,_[g]),x,_[x]),"animationId",a)),childIndex:(0,S.AW)(n,e.children),item:n})})),y},_=function(e,r){var o=e.props,i=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!(0,S.Me)({props:o}))return null;var l=o.children,c=o.layout,p=o.stackOffset,m=o.data,g=o.reverseStackOrder,v=Yt(c),x=v.numericAxisName,b=v.cateAxisName,y=(0,S.aS)(l,n),j=(0,k.Mn)(m,y,"".concat(x,"Id"),"".concat(b,"Id"),p,g),N=d.reduce((function(e,t){var n="".concat(t.axisType,"Map");return It(It({},e),{},Rt({},n,Kt(o,It(It({},t),{},{graphicalItems:y,stackGroups:t.axisType===x&&j,dataStartIndex:i,dataEndIndex:a}))))}),{}),A=function(e,t){var n=e.props,r=e.graphicalItems,o=e.xAxisMap,i=void 0===o?{}:o,a=e.yAxisMap,s=void 0===a?{}:a,l=n.width,c=n.height,d=n.children,p=n.margin||{},f=(0,S.BU)(d,K),h=(0,S.BU)(d,w.s),m=Object.keys(s).reduce((function(e,t){var n=s[t],r=n.orientation;return n.mirror||n.hide?e:It(It({},e),{},Rt({},r,e[r]+n.width))}),{left:p.left||0,right:p.right||0}),g=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:It(It({},e),{},Rt({},r,u()(e,"".concat(r))+n.height))}),{top:p.top||0,bottom:p.bottom||0}),v=It(It({},g),m),x=v.bottom;f&&(v.bottom+=f.props.height||K.defaultProps.height),h&&t&&(v=(0,k.s0)(v,r,n,t));var b=l-v.left-v.right,y=c-v.top-v.bottom;return It(It({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(y,0)})}(It(It({},N),{},{props:o,graphicalItems:y}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(N).forEach((function(e){N[e]=h(o,N[e],A,e.replace("Map",""),t)}));var _=function(e){var t=(0,C.lX)(e),n=(0,k.Rh)(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:f()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:(0,k.Hj)(t,n)}}(N["".concat(b,"Map")]),P=E(o,It(It({},N),{},{dataStartIndex:i,dataEndIndex:a,updateId:s,graphicalItems:y,stackGroups:j,offset:A}));return It(It({formattedGraphicalItems:P,graphicalItems:y,offset:A,stackGroups:j},_),N)},P=function(e){function n(e){var o,a,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Rt(l=Et(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Rt(l,"accessibilityManager",new et),Rt(l,"handleLegendBBoxUpdate",(function(e){if(e){var t=l.state,n=t.dataStartIndex,r=t.dataEndIndex,o=t.updateId;l.setState(It({legendBBox:e},_({props:l.props,dataStartIndex:n,dataEndIndex:r,updateId:o},It(It({},l.state),{},{legendBBox:e}))))}})),Rt(l,"handleReceiveSyncEvent",(function(e,t,n){if(l.props.syncId===e){if(n===l.eventEmitterSymbol&&"function"!==typeof l.props.syncMethod)return;l.applySyncEvent(t)}})),Rt(l,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==l.state.dataStartIndex||n!==l.state.dataEndIndex){var r=l.state.updateId;l.setState((function(){return It({dataStartIndex:t,dataEndIndex:n},_({props:l.props,dataStartIndex:t,dataEndIndex:n,updateId:r},l.state))})),l.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),Rt(l,"handleMouseEnter",(function(e){var t=l.getMouseInfo(e);if(t){var n=It(It({},t),{},{isTooltipActive:!0});l.setState(n),l.triggerSyncEvent(n);var r=l.props.onMouseEnter;s()(r)&&r(n,e)}})),Rt(l,"triggeredAfterMouseMove",(function(e){var t=l.getMouseInfo(e),n=t?It(It({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};l.setState(n),l.triggerSyncEvent(n);var r=l.props.onMouseMove;s()(r)&&r(n,e)})),Rt(l,"handleItemMouseEnter",(function(e){l.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),Rt(l,"handleItemMouseLeave",(function(){l.setState((function(){return{isTooltipActive:!1}}))})),Rt(l,"handleMouseMove",(function(e){e.persist(),l.throttleTriggeredAfterMouseMove(e)})),Rt(l,"handleMouseLeave",(function(e){l.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};l.setState(t),l.triggerSyncEvent(t);var n=l.props.onMouseLeave;s()(n)&&n(t,e)})),Rt(l,"handleOuterEvent",(function(e){var t,n=(0,S.X_)(e),r=u()(l.props,"".concat(n));n&&s()(r)&&r(null!==(t=/.*touch.*/i.test(n)?l.getMouseInfo(e.changedTouches[0]):l.getMouseInfo(e))&&void 0!==t?t:{},e)})),Rt(l,"handleClick",(function(e){var t=l.getMouseInfo(e);if(t){var n=It(It({},t),{},{isTooltipActive:!0});l.setState(n),l.triggerSyncEvent(n);var r=l.props.onClick;s()(r)&&r(n,e)}})),Rt(l,"handleMouseDown",(function(e){var t=l.props.onMouseDown;s()(t)&&t(l.getMouseInfo(e),e)})),Rt(l,"handleMouseUp",(function(e){var t=l.props.onMouseUp;s()(t)&&t(l.getMouseInfo(e),e)})),Rt(l,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&l.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),Rt(l,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&l.handleMouseDown(e.changedTouches[0])})),Rt(l,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&l.handleMouseUp(e.changedTouches[0])})),Rt(l,"handleDoubleClick",(function(e){var t=l.props.onDoubleClick;s()(t)&&t(l.getMouseInfo(e),e)})),Rt(l,"handleContextMenu",(function(e){var t=l.props.onContextMenu;s()(t)&&t(l.getMouseInfo(e),e)})),Rt(l,"triggerSyncEvent",(function(e){void 0!==l.props.syncId&&Ge.emit(Ye,l.props.syncId,e,l.eventEmitterSymbol)})),Rt(l,"applySyncEvent",(function(e){var t=l.props,n=t.layout,r=t.syncMethod,o=l.state.updateId,i=e.dataStartIndex,a=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)l.setState(It({dataStartIndex:i,dataEndIndex:a},_({props:l.props,dataStartIndex:i,dataEndIndex:a,updateId:o},l.state)));else if(void 0!==e.activeTooltipIndex){var s=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=l.state,p=u.offset,f=u.tooltipTicks;if(!p)return;if("function"===typeof r)d=r(f,e);else if("value"===r){d=-1;for(var h=0;h<f.length;h++)if(f[h].value===e.activeLabel){d=h;break}}var m=It(It({},p),{},{x:p.left,y:p.top}),g=Math.min(s,m.x+m.width),v=Math.min(c,m.y+m.height),x=f[d]&&f[d].value,b=Wt(l.state,l.props.data,d),y=f[d]?{x:"horizontal"===n?f[d].coordinate:g,y:"horizontal"===n?v:f[d].coordinate}:Bt;l.setState(It(It({},e),{},{activeLabel:x,activeCoordinate:y,activePayload:b,activeTooltipIndex:d}))}else l.setState(e)})),Rt(l,"renderCursor",(function(e){var n,o=l.state,i=o.isTooltipActive,a=o.activeCoordinate,s=o.activePayload,c=o.offset,d=o.activeTooltipIndex,u=o.tooltipAxisBandSize,p=l.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:i,h=l.props.layout,m=e.key||"_recharts-cursor";return r.createElement(xt,{key:m,activeCoordinate:a,activePayload:s,activeTooltipIndex:d,chartName:t,element:e,isActive:f,layout:h,offset:c,tooltipAxisBandSize:u,tooltipEventType:p})})),Rt(l,"renderPolarAxis",(function(e,t,n){var o=u()(e,"type.axisType"),i=u()(l.state,"".concat(o,"Map")),a=e.type.defaultProps,s=void 0!==a?It(It({},a),e.props):e.props,c=i&&i[s["".concat(o,"Id")]];return(0,r.cloneElement)(e,It(It({},c),{},{className:(0,g.A)(o,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:(0,k.Rh)(c,!0)}))})),Rt(l,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,o=t.polarAngles,i=t.polarRadius,a=l.state,s=a.radiusAxisMap,c=a.angleAxisMap,d=(0,C.lX)(s),u=(0,C.lX)(c),p=u.cx,f=u.cy,h=u.innerRadius,m=u.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(o)?o:(0,k.Rh)(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:(0,k.Rh)(d,!0).map((function(e){return e.coordinate})),cx:p,cy:f,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),Rt(l,"renderLegend",(function(){var e=l.state.formattedGraphicalItems,t=l.props,n=t.children,o=t.width,i=t.height,a=l.props.margin||{},s=o-(a.left||0)-(a.right||0),c=(0,Y.g)({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:p});if(!c)return null;var d=c.item,u=St(c,bt);return(0,r.cloneElement)(d,It(It({},u),{},{chartWidth:o,chartHeight:i,margin:a,onBBoxUpdate:l.handleLegendBBoxUpdate}))})),Rt(l,"renderTooltip",(function(){var e,t=l.props,n=t.children,o=t.accessibilityLayer,i=(0,S.BU)(n,y.m);if(!i)return null;var a=l.state,s=a.isTooltipActive,c=a.activeCoordinate,d=a.activePayload,u=a.activeLabel,p=a.offset,f=null!==(e=i.props.active)&&void 0!==e?e:s;return(0,r.cloneElement)(i,{viewBox:It(It({},p),{},{x:p.left,y:p.top}),active:f,label:u,payload:f?d:[],coordinate:c,accessibilityLayer:o})})),Rt(l,"renderBrush",(function(e){var t=l.props,n=t.margin,o=t.data,i=l.state,a=i.offset,s=i.dataStartIndex,c=i.dataEndIndex,d=i.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:(0,k.HQ)(l.handleBrushChange,e.props.onChange),data:o,x:(0,C.Et)(e.props.x)?e.props.x:a.left,y:(0,C.Et)(e.props.y)?e.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:(0,C.Et)(e.props.width)?e.props.width:a.width,startIndex:s,endIndex:c,updateId:"brush-".concat(d)})})),Rt(l,"renderReferenceElement",(function(e,t,n){if(!e)return null;var o=l.clipPathId,i=l.state,a=i.xAxisMap,s=i.yAxisMap,c=i.offset,d=e.type.defaultProps||{},u=e.props,p=u.xAxisId,f=void 0===p?d.xAxisId:p,h=u.yAxisId,m=void 0===h?d.yAxisId:h;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:a[f],yAxis:s[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:o})})),Rt(l,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,o=e.basePoint,i=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?It(It({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=It(It({index:i,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:(0,k.Ps)(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},(0,S.J9)(d,!1)),(0,Xe._U)(d));return s.push(n.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(i))),o?s.push(n.renderActiveDot(d,It(It({},u),{},{cx:o.x,cy:o.y}),"".concat(l,"-basePoint-").concat(i))):a&&s.push(null),s})),Rt(l,"renderGraphicChild",(function(e,t,n){var o=l.filterFormatItem(e,t,n);if(!o)return null;var a=l.getTooltipEventType(),s=l.state,c=s.isTooltipActive,d=s.tooltipAxis,u=s.activeTooltipIndex,p=s.activeLabel,f=l.props.children,h=(0,S.BU)(f,y.m),m=o.props,g=m.points,v=m.isRange,x=m.baseLine,b=void 0!==o.item.type.defaultProps?It(It({},o.item.type.defaultProps),o.item.props):o.item.props,w=b.activeDot,j=b.hide,N=b.activeBar,A=b.activeShape,E=Boolean(!j&&c&&h&&(w||N||A)),_={};"axis"!==a&&h&&"click"===h.props.trigger?_={onClick:(0,k.HQ)(l.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(_={onMouseLeave:(0,k.HQ)(l.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:(0,k.HQ)(l.handleItemMouseEnter,e.props.onMouseEnter)});var P=(0,r.cloneElement)(e,It(It({},o.props),_));if(E){if(!(u>=0)){var O,T=(null!==(O=l.getItemByXY(l.state.activeCoordinate))&&void 0!==O?O:{graphicalItem:P}).graphicalItem,M=T.item,I=void 0===M?e:M,R=T.childIndex,D=It(It(It({},o.props),_),{},{activeIndex:R});return[(0,r.cloneElement)(I,D),null,null]}var L,F;if(d.dataKey&&!d.allowDuplicatedCategory){var B="function"===typeof d.dataKey?function(e){return"function"===typeof d.dataKey?d.dataKey(e.payload):null}:"payload.".concat(d.dataKey.toString());L=(0,C.eP)(g,B,p),F=v&&x&&(0,C.eP)(x,B,p)}else L=null===g||void 0===g?void 0:g[u],F=v&&x&&x[u];if(A||N){var z=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,It(It(It({},o.props),_),{},{activeIndex:z})),null,null]}if(!i()(L))return[P].concat(Pt(l.renderActivePoints({item:o,activePoint:L,basePoint:F,childIndex:u,isRange:v})))}return v?[P,null,null]:[P,null]})),Rt(l,"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,It(It({key:"recharts-customized-".concat(n)},l.props),l.state))})),Rt(l,"renderMap",{CartesianGrid:{handler:zt,once:!0},ReferenceArea:{handler:l.renderReferenceElement},ReferenceLine:{handler:zt},ReferenceDot:{handler:l.renderReferenceElement},XAxis:{handler:zt},YAxis:{handler:zt},Brush:{handler:l.renderBrush,once:!0},Bar:{handler:l.renderGraphicChild},Line:{handler:l.renderGraphicChild},Area:{handler:l.renderGraphicChild},Radar:{handler:l.renderGraphicChild},RadialBar:{handler:l.renderGraphicChild},Scatter:{handler:l.renderGraphicChild},Pie:{handler:l.renderGraphicChild},Funnel:{handler:l.renderGraphicChild},Tooltip:{handler:l.renderCursor,once:!0},PolarGrid:{handler:l.renderPolarGrid,once:!0},PolarAngleAxis:{handler:l.renderPolarAxis},PolarRadiusAxis:{handler:l.renderPolarAxis},Customized:{handler:l.renderCustomized}}),l.clipPathId="".concat(null!==(o=e.id)&&void 0!==o?o:(0,C.NF)("recharts"),"-clip"),l.throttleTriggeredAfterMouseMove=m()(l.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),l.state={},l}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_t(e,t)}(n,e),o=n,l=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,o=e.layout,i=(0,S.BU)(t,y.m);if(i){var a=i.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=Wt(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,d=(this.state.offset.top+r)/2,u="horizontal"===o?{x:c,y:d}:{y:c,x:d},p=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));p&&(u=It(It({},u),p.props.points[a].tooltipPosition),l=p.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:u};this.setState(f),this.renderCursor(i),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){(0,S.OV)([(0,S.BU)(e.children,y.m)],[(0,S.BU)(this.props.children,y.m)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=(0,S.BU)(this.props.children,y.m);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return c.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t=this.container,n=t.getBoundingClientRect(),r=(0,G.A3)(n),o={chartX:Math.round(e.pageX-r.left),chartY:Math.round(e.pageY-r.top)},i=n.width/t.offsetWidth||1,a=this.inRange(o.chartX,o.chartY,i);if(!a)return null;var s=this.state,l=s.xAxisMap,c=s.yAxisMap,d=this.getTooltipEventType(),u=Ht(this.state,this.props.data,this.props.layout,a);if("axis"!==d&&l&&c){var p=(0,C.lX)(l).scale,f=(0,C.lX)(c).scale,h=p&&p.invert?p.invert(o.chartX):null,m=f&&f.invert?f.invert(o.chartY):null;return It(It({},o),{},{xValue:h,yValue:m},u)}return u?It(It({},o),u):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,o=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return o>=a.left&&o<=a.left+a.width&&i>=a.top&&i<=a.top+a.height?{x:o,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var d=(0,C.lX)(l);return(0,He.yy)({x:o,y:i},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=(0,S.BU)(e,y.m),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),It(It({},(0,Xe._U)(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Ge.on(Ye,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ge.removeListener(Ye,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,o=0,i=r.length;o<i;o++){var a=r[o];if(a.item===e||a.props.key===e.key||t===(0,S.Mn)(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,o=t.top,i=t.height,a=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:o,height:i,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Nt(t,2),r=n[0],o=n[1];return It(It({},e),{},Rt({},r,o.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Nt(t,2),r=n[0],o=n[1];return It(It({},e),{},Rt({},r,o.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var o=0,i=n.length;o<i;o++){var a=n[o],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?It(It({},l.type.defaultProps),l.props):l.props,d=(0,S.Mn)(l.type);if("Bar"===d){var u=(s.data||[]).find((function(t){return(0,N.J)(e,t)}));if(u)return{graphicalItem:a,payload:u}}else if("RadialBar"===d){var p=(s.data||[]).find((function(t){return(0,He.yy)(e,t)}));if(p)return{graphicalItem:a,payload:p}}else if((0,tt.NE)(a,r)||(0,tt.nZ)(a,r)||(0,tt.xQ)(a,r)){var f=(0,tt.GG)({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),h=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:It(It({},a),{},{childIndex:h}),payload:(0,tt.xQ)(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!(0,S.Me)(this))return null;var t,n,o=this.props,i=o.children,a=o.className,s=o.width,l=o.height,c=o.style,d=o.compact,u=o.title,p=o.desc,f=St(o,yt),h=(0,S.J9)(f,!1);if(d)return r.createElement(fe.DR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(x.u,jt({},h,{width:s,height:l,title:u,desc:p}),this.renderClipPath(),(0,S.ee)(i,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(n=this.props.role)&&void 0!==n?n:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(fe.DR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",jt({className:(0,g.A)("recharts-wrapper",a),style:It({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),r.createElement(x.u,jt({},h,{width:s,height:l,title:u,desc:p,style:Ft}),this.renderClipPath(),(0,S.ee)(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],l&&At(o.prototype,l),d&&At(o,d),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,l,d}(r.Component);Rt(P,"displayName",t),Rt(P,"defaultProps",It({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),Rt(P,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,o=e.children,a=e.width,s=e.height,l=e.layout,c=e.stackOffset,d=e.margin,u=t.dataStartIndex,p=t.dataEndIndex;if(void 0===t.updateId){var f=Gt(e);return It(It(It({},f),{},{updateId:0},_(It(It({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:s,prevLayout:l,prevStackOffset:c,prevMargin:d,prevChildren:o})}if(n!==t.prevDataKey||r!==t.prevData||a!==t.prevWidth||s!==t.prevHeight||l!==t.prevLayout||c!==t.prevStackOffset||!(0,qe.b)(d,t.prevMargin)){var h=Gt(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=It(It({},Ht(t,r,l)),{},{updateId:t.updateId+1}),v=It(It(It({},h),m),g);return It(It(It({},v),_(It({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:s,prevLayout:l,prevStackOffset:c,prevMargin:d,prevChildren:o})}if(!(0,S.OV)(o,t.prevChildren)){var x,b,y,w,j=(0,S.BU)(o,K),N=j&&null!==(x=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==x?x:u,A=j&&null!==(y=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==y?y:p,E=N!==u||A!==p,k=!i()(r)&&!E?t.updateId:t.updateId+1;return It(It({updateId:k},_(It(It({props:e},t),{},{updateId:k,dataStartIndex:N,dataEndIndex:A}),t)),{},{prevChildren:o,dataStartIndex:N,dataEndIndex:A})}return null})),Rt(P,"renderActiveDot",(function(e,t,n){var o;return o=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):s()(e)?e(t):r.createElement(j.c,t),r.createElement(b.W,{className:"recharts-active-dot",key:n},o)}));var O=(0,r.forwardRef)((function(e,t){return r.createElement(P,jt({},e,{ref:t}))}));return O.displayName=P.displayName,O}},88468:(e,t,n)=>{var r=n(75816),o=n(40644),i=n(71639);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,o,n)}},89379:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(64467);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},90620:(e,t,n)=>{var r=n(16913),o=n(54052),i=n(22761);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},91051:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r=(0,n(65043).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},91286:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},91310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},91402:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,a:()=>a});var r=n(65043);let o=(0,r.createContext)(!1);function i(){return(0,r.useContext)(o)}function a(e){return r.createElement(o.Provider,{value:e.force},e.children)}},91439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(65043),s=g(n(65173)),l=m(n(51774)),c=g(n(12206)),d=m(n(56619)),u=m(n(34841)),p=n(68821),f=g(p),h=g(n(32959));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(96062);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},x=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName,a=e.parentSelector,s=a&&a().ownerDocument||document;i&&u.remove(s.body,i),o&&u.remove(s.getElementsByTagName("html")[0],o),r&&x>0&&0===(x-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":o(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"===typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName,i=e.parentSelector,a=i&&i().ownerDocument||document;o&&u.add(a.body,o),r&&u.add(a.getElementsByTagName("html")[0],r),n&&(x+=1,d.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,i=e.defaultStyles,a=e.children,s=n?{}:i.content,l=o?{}:i.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},d=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),u=this.props.contentElement(d,a);return this.props.overlayElement(c,u)}}]),t}(a.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(f.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(f.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=b,e.exports=t.default},91609:(e,t,n)=>{var r=n(96614),o=n(30474);e.exports=function(e){return r(e,o(e))}},91632:(e,t,n)=>{var r=n(34724),o=n(36311),i=n(67168);e.exports=function(e){return o(e)?i(e):r(e)}},91733:(e,t,n)=>{var r=n(71775),o=n(94664),i=n(9096);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},91980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},92382:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},92647:(e,t,n)=>{"use strict";n.d(t,{J:()=>_});var r=n(65043),o=n(79686),i=n.n(o),a=n(11629),s=n.n(a),l=n(46686),c=n.n(l),d=n(58387),u=n(84140),p=n(240),f=n(76307),h=n(60165);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var g=["offset"];function v(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var S=function(e){var t=e.value,n=e.formatter,r=i()(e.children)?t:e.children;return s()(n)?n(r):r},A=function(e,t,n){var o,a,s=e.position,l=e.viewBox,c=e.offset,u=e.className,p=l,m=p.cx,g=p.cy,v=p.innerRadius,x=p.outerRadius,b=p.startAngle,y=p.endAngle,w=p.clockWise,j=(v+x)/2,S=function(e,t){return(0,f.sA)(t-e)*Math.min(Math.abs(t-e),360)}(b,y),A=S>=0?1:-1;"insideStart"===s?(o=b+A*c,a=w):"insideEnd"===s?(o=y-A*c,a=!w):"end"===s&&(o=y+A*c,a=w),a=S<=0?a:!a;var E=(0,h.IZ)(m,g,j,o),k=(0,h.IZ)(m,g,j,o+359*(a?1:-1)),C="M".concat(E.x,",").concat(E.y,"\n    A").concat(j,",").concat(j,",0,1,").concat(a?0:1,",\n    ").concat(k.x,",").concat(k.y),_=i()(e.id)?(0,f.NF)("recharts-radial-line-"):e.id;return r.createElement("text",N({},n,{dominantBaseline:"central",className:(0,d.A)("recharts-radial-bar-label",u)}),r.createElement("defs",null,r.createElement("path",{id:_,d:C})),r.createElement("textPath",{xlinkHref:"#".concat(_)},t))},E=function(e){var t=e.viewBox,n=e.offset,r=e.position,o=t,i=o.cx,a=o.cy,s=o.innerRadius,l=o.outerRadius,c=(o.startAngle+o.endAngle)/2;if("outside"===r){var d=(0,h.IZ)(i,a,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(s+l)/2,f=(0,h.IZ)(i,a,p,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}},k=function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,o=e.position,i=t,a=i.x,s=i.y,l=i.width,d=i.height,u=d>=0?1:-1,p=u*r,h=u>0?"end":"start",m=u>0?"start":"end",g=l>=0?1:-1,v=g*r,x=g>0?"end":"start",b=g>0?"start":"end";if("top"===o)return w(w({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===o)return w(w({},{x:a+l/2,y:s+d+p,textAnchor:"middle",verticalAnchor:m}),n?{height:Math.max(n.y+n.height-(s+d),0),width:l}:{});if("left"===o){var y={x:a-v,y:s+d/2,textAnchor:x,verticalAnchor:"middle"};return w(w({},y),n?{width:Math.max(y.x-n.x,0),height:d}:{})}if("right"===o){var j={x:a+l+v,y:s+d/2,textAnchor:b,verticalAnchor:"middle"};return w(w({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var N=n?{width:l,height:d}:{};return"insideLeft"===o?w({x:a+v,y:s+d/2,textAnchor:b,verticalAnchor:"middle"},N):"insideRight"===o?w({x:a+l-v,y:s+d/2,textAnchor:x,verticalAnchor:"middle"},N):"insideTop"===o?w({x:a+l/2,y:s+p,textAnchor:"middle",verticalAnchor:m},N):"insideBottom"===o?w({x:a+l/2,y:s+d-p,textAnchor:"middle",verticalAnchor:h},N):"insideTopLeft"===o?w({x:a+v,y:s+p,textAnchor:b,verticalAnchor:m},N):"insideTopRight"===o?w({x:a+l-v,y:s+p,textAnchor:x,verticalAnchor:m},N):"insideBottomLeft"===o?w({x:a+v,y:s+d-p,textAnchor:b,verticalAnchor:h},N):"insideBottomRight"===o?w({x:a+l-v,y:s+d-p,textAnchor:x,verticalAnchor:h},N):c()(o)&&((0,f.Et)(o.x)||(0,f._3)(o.x))&&((0,f.Et)(o.y)||(0,f._3)(o.y))?w({x:a+(0,f.F4)(o.x,l),y:s+(0,f.F4)(o.y,d),textAnchor:"end",verticalAnchor:"end"},N):w({x:a+l/2,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},C=function(e){return"cx"in e&&(0,f.Et)(e.cx)};function _(e){var t,n=e.offset,o=w({offset:void 0===n?5:n},b(e,g)),a=o.viewBox,l=o.position,c=o.value,f=o.children,h=o.content,m=o.className,v=void 0===m?"":m,x=o.textBreakAll;if(!a||i()(c)&&i()(f)&&!(0,r.isValidElement)(h)&&!s()(h))return null;if((0,r.isValidElement)(h))return(0,r.cloneElement)(h,o);if(s()(h)){if(t=(0,r.createElement)(h,o),(0,r.isValidElement)(t))return t}else t=S(o);var y=C(a),j=(0,p.J9)(o,!0);if(y&&("insideStart"===l||"insideEnd"===l||"end"===l))return A(o,t,j);var _=y?E(o):k(o);return r.createElement(u.E,N({className:(0,d.A)("recharts-label",v)},j,_,{breakAll:x}),t)}_.displayName="Label";var P=function(e){var t=e.cx,n=e.cy,r=e.angle,o=e.startAngle,i=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,p=e.top,h=e.left,m=e.width,g=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if((0,f.Et)(m)&&(0,f.Et)(g)){if((0,f.Et)(d)&&(0,f.Et)(u))return{x:d,y:u,width:m,height:g};if((0,f.Et)(p)&&(0,f.Et)(h))return{x:p,y:h,width:m,height:g}}return(0,f.Et)(d)&&(0,f.Et)(u)?{x:d,y:u,width:0,height:0}:(0,f.Et)(t)&&(0,f.Et)(n)?{cx:t,cy:n,startAngle:o||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:v}:e.viewBox?e.viewBox:{}};_.parseViewBox=P,_.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var o=e.children,i=P(e),a=(0,p.aS)(o,_).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||i,key:"label-".concat(n)})}));if(!n)return a;var l=function(e,t){return e?!0===e?r.createElement(_,{key:"label-implicit",viewBox:t}):(0,f.vh)(e)?r.createElement(_,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===_?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(_,{key:"label-implicit",content:e,viewBox:t}):s()(e)?r.createElement(_,{key:"label-implicit",content:e,viewBox:t}):c()(e)?r.createElement(_,N({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[l].concat(v(a))}},93211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},93950:(e,t,n)=>{var r=n(46686),o=n(4757),i=n(40801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,p,f,h=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=l,r=c;return l=c=void 0,h=t,u=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-h>=d}function y(){var e=o();if(b(e))return w(e);p=setTimeout(y,function(e){var n=t-(e-f);return g?s(n,d-(e-h)):n}(e))}function w(e){return p=void 0,v&&l?x(e):(l=c=void 0,u)}function j(){var e=o(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(y,t),m?x(e):u}(f);if(g)return clearTimeout(p),p=setTimeout(y,t),x(f)}return void 0===p&&(p=setTimeout(y,t)),u}return t=i(t)||0,r(n)&&(m=!!n.leading,d=(g="maxWait"in n)?a(i(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),j.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},j.flush=function(){return void 0===p?u:w(o())},j}},94008:(e,t,n)=>{var r=n(27449),o=n(53366);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},94020:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var r=n(65043),o=n(58387),i=n(240),a=["children","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.forwardRef((function(e,t){var n=e.children,c=e.className,d=l(e,a),u=(0,o.A)("recharts-layer",c);return r.createElement("g",s({className:u},(0,i.J9)(d,!0),{ref:t}),n)}))},94258:(e,t,n)=>{var r=n(55906)();e.exports=r},94402:(e,t,n)=>{"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function o(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{C:()=>r,K:()=>o})},94664:(e,t,n)=>{var r=n(94258),o=n(28673);e.exports=function(e,t){return e&&r(e,t,o)}},94794:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var r=n(65043),o=n(58387),i=n(240),a=["children","width","height","viewBox","className","style","title","desc"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e){var t=e.children,n=e.width,c=e.height,d=e.viewBox,u=e.className,p=e.style,f=e.title,h=e.desc,m=l(e,a),g=d||{width:n,height:c,x:0,y:0},v=(0,o.A)("recharts-surface",u);return r.createElement("svg",s({},(0,i.J9)(m,!0,"svg"),{className:v,width:n,height:c,style:p,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),r.createElement("title",null,f),r.createElement("desc",null,h),t)}},95082:(e,t)=>{"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,l=60110,c=60112,d=60113,u=60120,p=60115,f=60116,h=60121,m=60122,g=60117,v=60129,x=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),o=b("react.fragment"),i=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),d=b("react.suspense"),u=b("react.suspense_list"),p=b("react.memo"),f=b("react.lazy"),h=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),x=b("react.legacy_hidden")}function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case p:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return y(e)===l}},95258:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(77784).A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])},95575:(e,t,n)=>{var r=n(87937)(Object,"create");e.exports=r},95750:(e,t,n)=>{var r;try{r={clone:n(41740),constant:n(22541),each:n(62580),filter:n(50723),has:n(62117),isArray:n(54052),isEmpty:n(54320),isFunction:n(11629),isUndefined:n(141),keys:n(28673),map:n(33411),reduce:n(12759),size:n(35640),transform:n(45098),union:n(30450),values:n(26727)}}catch(o){}r||(r=window._),e.exports=r},96062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[a,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}a=s=null,l=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(l.length);for(var e=[a,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,o=n(32959),i=(r=o)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}i.default.subscribe((function(e,t){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},96361:(e,t,n)=>{var r=n(16913),o=n(22761);e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==r(e)}},96440:e=>{"use strict";var t=function(){};e.exports=t},96593:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,u:()=>l});var r=n(89379),o=n(80045),i=n(5641);const a=["features"];var s,l=((s=l||{})[s.None=1]="None",s[s.Focusable=2]="Focusable",s[s.Hidden=4]="Hidden",s);let c=(0,i.FX)((function(e,t){var n;let{features:s=1}=e,l=(0,o.A)(e,a),c={ref:t,"aria-hidden":2===(2&s)||(null!=(n=l["aria-hidden"])?n:void 0),hidden:4===(4&s)||void 0,style:(0,r.A)({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4===(4&s)&&2!==(2&s)&&{display:"none"})};return(0,i.Ci)()({ourProps:c,theirProps:l,slot:{},defaultTag:"span",name:"Hidden"})}))},96604:(e,t,n)=>{var r=n(3331)();e.exports=r},96614:(e,t,n)=>{var r=n(78420),o=n(71775);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],d=i?i(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),a?o(n,c,d):r(n,c,d)}return n}},96996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},97132:(e,t,n)=>{var r=n(5538),o=n(80726),i=n(78420),a=n(51104),s=n(55119),l=n(44353),c=n(91980),d=n(98124),u=n(29075),p=n(59395),f=n(68592),h=n(26924),m=n(38268),g=n(18630),v=n(20310),x=n(54052),b=n(44543),y=n(57887),w=n(46686),j=n(45921),N=n(28673),S=n(30474),A="[object Arguments]",E="[object Function]",k="[object Object]",C={};C[A]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[k]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[E]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,_,P,O,T){var M,I=1&n,R=2&n,D=4&n;if(_&&(M=O?_(t,P,O,T):_(t)),void 0!==M)return M;if(!w(t))return t;var L=x(t);if(L){if(M=m(t),!I)return c(t,M)}else{var F=h(t),B=F==E||"[object GeneratorFunction]"==F;if(b(t))return l(t,I);if(F==k||F==A||B&&!O){if(M=R||B?{}:v(t),!I)return R?u(t,s(M,t)):d(t,a(M,t))}else{if(!C[F])return O?t:{};M=g(t,F,I)}}T||(T=new r);var z=T.get(t);if(z)return z;T.set(t,M),j(t)?t.forEach((function(r){M.add(e(r,n,_,r,t,T))})):y(t)&&t.forEach((function(r,o){M.set(o,e(r,n,_,o,t,T))}));var U=L?void 0:(D?R?f:p:R?S:N)(t);return o(U||t,(function(r,o){U&&(r=t[o=r]),i(M,o,e(r,n,_,o,t,T))})),M}},97160:(e,t,n)=>{var r=n(87563),o=n(29935),i=n(24190),a=n(51946),s=n(61714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},97162:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(50010),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=new RegExp(o.source,"g");function a(e,t){var n,a,s,l=o.lastIndex=i.lastIndex=0,c=-1,d=[],u=[];for(e+="",t+="";(n=o.exec(e))&&(a=i.exec(t));)(s=a.index)>l&&(s=t.slice(l,s),d[c]?d[c]+=s:d[++c]=s),(n=n[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,u.push({i:c,x:(0,r.A)(n,a)})),l=i.lastIndex;return l<t.length&&(s=t.slice(l),d[c]?d[c]+=s:d[++c]=s),d.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)d[(n=u[r]).i]=n.x(e);return d.join("")})}},97370:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(65043),o=n(77248);function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,i]=(0,r.useReducer)((()=>({})),{}),a=(0,r.useMemo)((()=>function(e){if(null===e)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}(e)),[e,n]);return(0,o.s)((()=>{if(!e)return;let t=new ResizeObserver(i);return t.observe(e),()=>{t.disconnect()}}),[e]),t?{width:"".concat(a.width,"px"),height:"".concat(a.height,"px")}:a}},97498:e=>{e.exports=function(e,t){return e>t}},97685:(e,t,n)=>{var r=n(87937)(n(56552),"DataView");e.exports=r},97950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(82730)},98124:(e,t,n)=>{var r=n(96614),o=n(69621);e.exports=function(e,t){return r(e,o(e),t)}},98139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},98210:function(e,t,n){var r;!function(){"use strict";var o,i=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,p=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,m=9007199254740991,g=u(1286742750677284.5),v={};function x(e,t){var n,r,o,i,a,l,c,d,u=e.constructor,p=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),s?C(t,p):t;if(c=e.d,d=t.d,a=e.e,o=t.e,c=c.slice(),i=a-o){for(i<0?(r=c,i=-i,l=d.length):(r=d,o=a,l=c.length),i>(l=(a=Math.ceil(p/7))>l?a+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=d.length)<0&&(i=l,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/h|0,c[i]%=h;for(n&&(c.unshift(n),++o),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=o,s?C(t,p):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function y(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(i+=A(n)),i+=r;(n=7-(r=(a=e[t])+"").length)&&(i+=A(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return i+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,o,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(o=e.d.length)?r:o;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===o?0:r>o^i.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return N(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(s=!1,t=w(E(n,a),E(e,a),a),s=!0,C(t,i))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_(t,e):x(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),o)},v.naturalExponential=v.exp=function(){return j(this)},v.naturalLogarithm=v.ln=function(){return E(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x(t,e):_(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(o)+1,n=7*(r=o.d.length-1)+1,r=o.d[r]){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,o,i,a,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(o=Math.sqrt(+c))||o==1/0?(((t=y(c.d)).length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),r=new d(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new d(o.toString()),o=a=(n=d.precision)+3;;)if(r=(i=r).plus(w(c,i,a+2)).times(.5),y(i.d).slice(0,a)===(t=y(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),o==a&&"4999"==t){if(C(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;a+=4}return s=!0,C(r,n)},v.times=v.mul=function(e){var t,n,r,o,i,a,l,c,d,u=this,p=u.constructor,f=u.d,m=(e=new p(e)).d;if(!u.s||!e.s)return new p(0);for(e.s*=u.s,n=u.e+e.e,(c=f.length)<(d=m.length)&&(i=f,f=m,m=i,a=c,c=d,d=a),i=[],r=a=c+d;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,o=c+r;o>r;)l=i[o]+m[r]*f[o-r-1]+t,i[o--]=l%h|0,t=l/h|0;i[o]=(i[o]+t)%h|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?C(e,p.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),C(n,e+N(n)+1,t))},v.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=P(r,!0):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=P(r=C(new o(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,o=this,a=o.constructor;return void 0===e?P(o):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=P((r=C(new a(o),e+N(o)+1,t)).abs(),!1,e+N(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return C(new t(e),N(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,i,a,c,d=this,p=d.constructor,f=+(e=new p(e));if(!e.s)return new p(o);if(!(d=new p(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(o))return d;if(r=p.precision,e.eq(o))return C(d,r);if(c=(t=e.e)>=(n=e.d.length-1),a=d.s,c){if((n=f<0?-f:f)<=m){for(i=new p(o),t=Math.ceil(r/7+4),s=!1;n%2&&O((i=i.times(d)).d,t),0!==(n=u(n/2));)O((d=d.times(d)).d,t);return s=!0,e.s<0?new p(o).div(i):C(i,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,d.s=1,s=!1,i=e.times(E(d,r+12)),s=!0,(i=j(i)).s=a,i},v.toPrecision=function(e,t){var n,r,o=this,a=o.constructor;return void 0===e?r=P(o,(n=N(o))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,i),void 0===t?t=a.rounding:b(t,0,8),r=P(o=C(new a(o),e,t),e<=(n=N(o))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=N(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+r,e[o]=n%h|0,r=n/h|0;return r&&e.unshift(r),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*h+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a){var s,c,d,u,p,f,m,g,v,x,b,y,w,j,S,A,E,k,_=r.constructor,P=r.s==o.s?1:-1,O=r.d,T=o.d;if(!r.s)return new _(r);if(!o.s)throw Error(l+"Division by zero");for(c=r.e-o.e,E=T.length,S=O.length,g=(m=new _(P)).d=[],d=0;T[d]==(O[d]||0);)++d;if(T[d]>(O[d]||0)&&--c,(y=null==i?i=_.precision:a?i+(N(r)-N(o))+1:i)<0)return new _(0);if(y=y/7+2|0,d=0,1==E)for(u=0,T=T[0],y++;(d<S||u)&&y--;d++)w=u*h+(O[d]||0),g[d]=w/T|0,u=w%T|0;else{for((u=h/(T[0]+1)|0)>1&&(T=e(T,u),O=e(O,u),E=T.length,S=O.length),j=E,x=(v=O.slice(0,E)).length;x<E;)v[x++]=0;(k=T.slice()).unshift(0),A=T[0],T[1]>=h/2&&++A;do{u=0,(s=t(T,v,E,x))<0?(b=v[0],E!=x&&(b=b*h+(v[1]||0)),(u=b/A|0)>1?(u>=h&&(u=h-1),1==(s=t(p=e(T,u),v,f=p.length,x=v.length))&&(u--,n(p,E<f?k:T,f))):(0==u&&(s=u=1),p=T.slice()),(f=p.length)<x&&p.unshift(0),n(v,p,x),-1==s&&(s=t(T,v,E,x=v.length))<1&&(u++,n(v,E<x?k:T,x)),x=v.length):0===s&&(u++,v=[0]),g[d++]=u,s&&v[0]?v[x++]=O[j]||0:(v=[O[j]],x=1)}while((j++<S||void 0!==v[0])&&y--)}return g[0]||g.shift(),m.e=c,C(m,a?i+N(m)+1:i)}}();function j(e,t){var n,r,i,a,l,c=0,u=0,f=e.constructor,h=f.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new f(o);for(null==t?(s=!1,l=h):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(l+=Math.log(p(2,u))/Math.LN10*2+5|0,n=r=i=new f(o),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),y((a=i.plus(w(r,n,l))).d).slice(0,l)===y(i.d).slice(0,l)){for(;u--;)i=C(i.times(i),l);return f.precision=h,null==t?(s=!0,C(i,h)):i}i=a}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,i,a,c,d,u,p,f,h=1,m=e,g=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new v(0);if(null==t?(s=!1,p=x):p=t,m.eq(10))return null==t&&(s=!0),S(v,p);if(p+=10,v.precision=p,r=(n=y(g)).charAt(0),a=N(m),!(Math.abs(a)<15e14))return u=S(v,p+2,x).times(a+""),m=E(new v(r+"."+n.slice(1)),p-10).plus(u),v.precision=x,null==t?(s=!0,C(m,x)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=y((m=m.times(e)).d)).charAt(0),h++;for(a=N(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1)),d=c=m=w(m.minus(o),m.plus(o),p),f=C(m.times(m),p),i=3;;){if(c=C(c.times(f),p),y((u=d.plus(w(c,new v(i),p))).d).slice(0,p)===y(d.d).slice(0,p))return d=d.times(2),0!==a&&(d=d.plus(S(v,p+2,x).times(a+""))),d=w(d,new v(h),p),v.precision=x,null==t?(s=!0,C(d,x)):d;d=u,i+=2}}function k(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(r,o)){if(o-=r,n=n-r-1,e.e=u(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,o,i,a,l,c,f,m,v=e.d;for(a=1,i=v[0];i>=10;i/=10)a++;if((r=t-a)<0)r+=7,o=t,f=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=v.length))return e;for(f=i=v[m],a=1;i>=10;i/=10)a++;o=(r%=7)-7+a}if(void 0!==n&&(l=f/(i=p(10,a-o-1))%10|0,c=t<0||void 0!==v[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?o>0?f/p(10,a-o):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(i=N(e),v.length=1,t=t-i-1,v[0]=p(10,(7-t%7)%7),e.e=u(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,i=1,m--):(v.length=m+1,i=p(10,7-r),v[m]=o>0?(f/p(10,a-o)%p(10,o)|0)*i:0),c)for(;;){if(0==m){(v[0]+=i)==h&&(v[0]=1,++e.e);break}if(v[m]+=i,v[m]!=h)break;v[m--]=0,i=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(d+N(e));return e}function _(e,t){var n,r,o,i,a,l,c,d,u,p,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,m):t;if(c=e.d,p=t.d,r=t.e,d=e.e,c=c.slice(),a=d-r){for((u=a<0)?(n=c,a=-a,l=p.length):(n=p,r=d,l=c.length),a>(o=Math.max(Math.ceil(m/7),l)+2)&&(a=o,n.length=1),n.reverse(),o=a;o--;)n.push(0);n.reverse()}else{for((u=(o=c.length)<(l=p.length))&&(l=o),o=0;o<l;o++)if(c[o]!=p[o]){u=c[o]<p[o];break}a=0}for(u&&(n=c,c=p,p=n,t.s=-t.s),l=c.length,o=p.length-l;o>0;--o)c[l++]=0;for(o=p.length;o>a;){if(c[--o]<p[o]){for(i=o;i&&0===c[--i];)c[i]=h-1;--c[i],c[o]+=h}c[o]-=p[o]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,m):t):new f(0)}function P(e,t,n){var r,o=N(e),i=y(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+A(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(o<0?"e":"e+")+o):o<0?(i="0."+A(-o-1)+i,n&&(r=n-a)>0&&(i+=A(r))):o>=a?(i+=A(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+A(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=A(r))),e.s<0?"-"+i:i}function O(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,o=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if(void 0!==(r=e[n=o[t]])){if(!(u(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,o;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):k(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);k(t,e)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=T,void 0===t&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(a),a.default=a.Decimal=a,o=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},98443:(e,t,n)=>{"use strict";e.exports=n(79717)},98493:(e,t,n)=>{"use strict";n.d(t,{Ng:()=>i,TW:()=>r,mD:()=>o});const r=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:document},o=e=>{if(e&&"window"in e&&e.window===e)return e;return r(e).defaultView||window};function i(e){return null!==(t=e)&&"object"===typeof t&&"nodeType"in t&&"number"===typeof t.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e;var t}},98587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},98724:(e,t,n)=>{var r=n(27615),o=n(25051),i=n(72154),a=n(48734),s=n(22662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},98990:(e,t,n)=>{var r=n(69995)(n(32520));e.exports=r},99057:(e,t,n)=>{var r=n(35324),o=n(22777),i=n(54052),a=n(69194),s=n(56173),l=n(70914);e.exports=function(e,t,n){for(var c=-1,d=(t=r(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(p,d)&&(i(e)||o(e))}},99140:(e,t,n)=>{var r=n(37303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},99236:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});Array.prototype.slice;function r(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}},99377:e=>{e.exports=function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}},99383:(e,t,n)=>{e.exports={Graph:n(20191),version:n(78311)}},99421:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{106:"f81e022d",110:"2e4a1c67",124:"446a087b",156:"8cd90665",178:"60229689",184:"e546d43d",223:"6b058984",249:"fe5f5a04",321:"673aced5",326:"ec4b19d6",338:"79ff7dfa",394:"e2857bc3",414:"c3f96754",433:"e68cc9e7",473:"b6461a2e",492:"7b4a9e45",498:"14de533b",549:"e23beeb9",622:"1fa7068e",640:"44b1a4ac",763:"30d4e4f0",774:"01e291a2",789:"1c161a8d",797:"1e8076d1",844:"d97a4769",897:"499f06d3",929:"aab75d25",953:"c505d9ff",961:"86b5da75",991:"cbcf5504"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{106:"cccfc67d",763:"cccfc67d"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="xbytechat-ui:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,r)=>{var o=n.miniCssF(e),i=n.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(o,i))return t();((e,t,r,o,i)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc),a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)o();else{var r=n&&n.type,s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=s,a.parentNode&&a.parentNode.removeChild(a),i(l)}},a.href=t,r?r.parentNode.insertBefore(a,r.nextSibling):document.head.appendChild(a)})(e,i,null,t,r)})),t={792:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{106:1,763:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkxbytechat_ui=self.webpackChunkxbytechat_ui||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e=n(65043),t=n.t(e,2),r=n(84391),o=n(35475),i=n(73216),a=n(57488),s=n(22024),l=n(65086),c=n(35870),d=n(63610),u=n(70579);function p(e){let{children:t,featureCode:n}=e;const{isLoading:r,entLoading:o,user:a,business:s,role:p,status:f,hasFeature:h,hasAllAccess:m}=(0,l.h)()||{};if(!("undefined"!==typeof window?localStorage.getItem(c.TOKEN_KEY):null))return(0,u.jsx)(i.C5,{to:"/login".concat(window.location.search),replace:!0});if(r||o)return null;const g=String(f||"").toLowerCase();if("profilepending"===g)return(0,u.jsx)(i.C5,{to:"/app/profile-completion".concat(window.location.search),replace:!0});if("pending"===g||"underreview"===g)return(0,u.jsx)(i.C5,{to:"/pending-approval".concat(window.location.search),replace:!0});if("suspended"===g||"blocked"===g)return(0,u.jsx)(i.C5,{to:"/no-access".concat(window.location.search),replace:!0});const v=String(p||"").toLowerCase(),x=["superadmin","admin","partner","reseller"].includes(v),b=!(!s||!s.id&&!s.businessId);return a?x||b?!n||m||"function"!==typeof h||h(n)?t:((0,d.Y)({reason:"feature",code:n}),(0,u.jsx)(i.C5,{to:"/app/settings/billing".concat(window.location.search),replace:!0})):(0,u.jsx)(i.C5,{to:"/app/dashboard".concat(window.location.search),replace:!0}):(0,u.jsx)(i.C5,{to:"/login".concat(window.location.search),replace:!0})}function f(e){let{children:t,requireFeature:n,requirePermission:r,redirectTo:o="/no-access"}=e;const{isLoading:a,role:s,hasAllAccess:c,hasFeature:d,hasPermission:p,entitlementsLoading:f}=(0,l.h)();if(a)return null;if(f)return null;const h=String(s||"").toLowerCase(),m=["superadmin","admin","partner","reseller"].includes(h);return(!n||null!==d&&void 0!==d&&d(n))&&(!r||null!==p&&void 0!==p&&p(r))&&(c||m)?t:(0,u.jsx)(i.C5,{to:o,replace:!0})}const h=e=>String(e||"").trim().toUpperCase(),m="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://api.xplorebyte.com/api"}&&!1;function g(e){let{featureKey:t,code:n,codes:r,fallback:o,children:a}=e;const s=(0,i.zy)(),{isLoading:c,entLoading:d,hasAllAccess:p,can:f}=(0,l.h)(),g=Boolean(r||t||n);let v=[];if(r)v=Array.isArray(r)?r:[r];else{n&&(v=[n])}const x=v.filter((e=>"string"===typeof e&&e.trim().length>0)).map(h).filter(Boolean);if(g&&0===x.length)return m&&console.warn("[FeatureGuard] Invalid/missing permission key. DENYING access.",{featureKey:t,code:n,codes:r,path:window.location.pathname}),void 0!==o?o:(0,u.jsx)(i.C5,{to:"/no-access",replace:!0,state:{from:s}});if(!x.length)return a;if(c||d)return(0,u.jsx)("div",{className:"w-full h-full flex items-center justify-center py-16",children:(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Loading workspace\u2026"})});return p||x.some((e=>f(e)))?(0,u.jsx)(u.Fragment,{children:a}):void 0!==o?o:(0,u.jsx)(i.C5,{to:"/no-access",replace:!0,state:{from:s}})}var v=n(74961),x=n(75088),b=n(89379);class y extends Error{}function w(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return atob(t)}}function j(){const e=localStorage.getItem(c.TOKEN_KEY);if(!e)return null;try{return function(e,t){if("string"!==typeof e)throw new y("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new y("Invalid token specified: missing part #".concat(n+1));let o;try{o=w(r)}catch(Jg){throw new y("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(Jg.message,")"))}try{return JSON.parse(o)}catch(Jg){throw new y("Invalid token specified: invalid json for part #".concat(n+1," (").concat(Jg.message,")"))}}(e)}catch(t){return null}}y.prototype.name="InvalidTokenError";const N=e=>String(e||"").split(",").map((e=>e.trim())).filter(Boolean),S=async(e,t)=>{const{data:n}=await c.default.post("/auth/login",{email:e,password:t}),r=(null===n||void 0===n?void 0:n.token)||(null===n||void 0===n?void 0:n.jwt)||(null===n||void 0===n?void 0:n.accessToken)||(null===n||void 0===n?void 0:n.access_token);if(!r)throw new Error((null===n||void 0===n?void 0:n.message)||"\u274c Login failed.");localStorage.setItem(c.TOKEN_KEY,r);let o="business",i="active",a=!1,s=null,l=null;try{var d,u,p,f,h,m,g,v;const e=await c.default.get("/auth/context",{__silent401:!0,__silent403:!0,__silent429:!0,headers:{"x-suppress-401-toast":"1","x-suppress-403-toast":"1","x-suppress-429-toast":"1"}}),t=(null===e||void 0===e?void 0:e.data)||{};o=null===(d=t.role||o)||void 0===d?void 0:d.toString().toLowerCase(),i=null===(u=t.status||i)||void 0===u?void 0:u.toString().toLowerCase(),a=!!t.hasAllAccess,s=null!==(p=null!==(f=t.planId)&&void 0!==f?f:null===t||void 0===t||null===(h=t.business)||void 0===h?void 0:h.planId)&&void 0!==p?p:null,l=null!==(m=null!==(g=null===t||void 0===t||null===(v=t.business)||void 0===v?void 0:v.id)&&void 0!==g?g:null===t||void 0===t?void 0:t.businessId)&&void 0!==m?m:null,localStorage.setItem("xbytechat-auth-data",JSON.stringify((0,b.A)({token:r},t)))}catch(C){var x,y,w,S,A,E,k;const e=function(){var e,t,n,r,o,i;const a=j();if(!a)return{isAuth:!1};const s=e=>"boolean"===typeof e?e:"true"===("string"===typeof e?e.toLowerCase():"").trim(),l=e=>Array.isArray(e)?e:String(e||"").split(",").map((e=>e.trim())).filter(Boolean),d=(a.role||a["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||"business").toLowerCase(),u=a.plan_id||null,p=a.businessId||a.biz||null,f=a.name||a.fullName||a.email||"User",h=String(null!==(e=a.permissions)&&void 0!==e?e:"").trim(),m=String(null!==(t=a.features)&&void 0!==t?t:"").trim(),g=l(a.permissions),v=l(a.features),x="superadmin"===d||!0===a.hasAllAccess||s(a.hasAllAccess);let b=(a.status||a.business_status||a["business.status"]||a.biz_status||a["http://xbytechat.io/claims/status"]||"").toString().toLowerCase();b||(b=!1===a.isApproved||!1===s(a.isApproved)?"pending":(!0===a.isApproved||s(a.isApproved),"approved"));const y=null!==(n=null!==(r=null!==(o=null!==(i=a.profileComplete)&&void 0!==i?i:a.profile_completed)&&void 0!==o?o:a["profile.completed"])&&void 0!==r?r:a.pcomplete)&&void 0!==n?n:null,w="boolean"===typeof y?y:null==y?void 0:s(y),N="approved"===b&&!1===w;if(a.exp&&Date.now()/1e3>a.exp){try{localStorage.removeItem(c.TOKEN_KEY)}catch(S){}return{isAuth:!1}}return{isAuth:!0,role:d,planId:u,businessId:p,name:f,permissionsCsv:h,featuresCsv:m,permissions:g,features:v,hasAllAccess:x,status:b,isProfileComplete:w,needsProfileCompletion:N}}();o=null===(x=null!==(y=null===e||void 0===e?void 0:e.role)&&void 0!==y?y:o)||void 0===x?void 0:x.toString().toLowerCase(),i=null===(w=null!==(S=null===e||void 0===e?void 0:e.status)&&void 0!==S?S:i)||void 0===w?void 0:w.toString().toLowerCase(),a=!(null===e||void 0===e||!e.hasAllAccess),s=null!==(A=null===e||void 0===e?void 0:e.planId)&&void 0!==A?A:null,l=null!==(E=null===e||void 0===e?void 0:e.businessId)&&void 0!==E?E:null,localStorage.setItem("xbytechat-auth-data",JSON.stringify({token:r,role:o,name:null!==(k=null===e||void 0===e?void 0:e.name)&&void 0!==k?k:"",planId:s,businessId:l,hasAllAccess:a,permissions:N(null===e||void 0===e?void 0:e.permissionsCsv),features:N(null===e||void 0===e?void 0:e.featuresCsv),status:i}))}return{success:!0,token:r,role:o,status:i,hasAllAccess:a,planId:s,businessId:l}};const A="auth_last_email",E="auth_last_reason";function k(){const t=(0,i.Zp)(),[n]=(0,o.ok)(),{refreshAuthContext:r}=(0,l.h)(),[s,c]=(0,e.useState)((()=>{const e=n.get("email");if(e)return e;try{return localStorage.getItem(A)||""}catch(t){return""}})),[d,p]=(0,e.useState)(""),[f,h]=(0,e.useState)(""),[m,g]=(0,e.useState)(""),[v,b]=(0,e.useState)(!1),[y,w]=(0,e.useState)(!1);(0,e.useEffect)((()=>{let e=n.get("reason"),t=null;try{t=sessionStorage.getItem(E)}catch(r){}"session-expired"===(e||t)&&g("Your session has expired. Please sign in again.");try{sessionStorage.removeItem(E)}catch(o){}}),[n]);const j=String(f||"").trim(),N=j.toLowerCase(),k=N.includes("not active")||N.includes("under review")||N.includes("pending approval")?"Your account is under review and will be activated shortly after approval.":j,C="string"===typeof f&&(f.toLowerCase().includes("pending")||f.toLowerCase().includes("under review")),_=""!==k&&/^[A-Za-z0-9]/.test(k);return(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 py-6 font-sans text-gray-900 bg-gray-50",style:{backgroundImage:"radial-gradient(#e5e7eb 1px, transparent 1px)",backgroundSize:"24px 24px"},"data-test-id":"login-page",children:(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row w-full max-w-5xl shadow-2xl rounded-3xl overflow-hidden bg-white ring-1 ring-gray-900/5",children:[(0,u.jsxs)("div",{className:"lg:w-1/2 relative bg-emerald-50 p-8 lg:p-12 flex flex-col justify-center overflow-hidden",children:[(0,u.jsx)("div",{className:"absolute inset-0 opacity-[0.4]",style:{backgroundImage:"radial-gradient(#10b981 1.5px, transparent 1.5px)",backgroundSize:"24px 24px"}}),(0,u.jsxs)("div",{className:"relative z-10",children:[(0,u.jsxs)("div",{className:"mb-8",children:[(0,u.jsxs)("div",{className:"flex items-center gap-0.5 mb-6",children:[(0,u.jsx)("img",{src:"/logo/favicon.svg",alt:"Logo",className:"h-14 w-14 p-2.5 object-contain"}),(0,u.jsx)("span",{className:"text-[22px] font-semibold font-brand leading-[36px] text-[#111827] tracking-tight",children:"XploreByte"})]}),(0,u.jsxs)("h1",{className:"text-3xl lg:text-4xl font-extrabold text-gray-900 mb-4 leading-tight",children:["Automate Growth via the"," ",(0,u.jsx)("span",{className:"text-emerald-600",children:"Official WhatsApp API"})]}),(0,u.jsx)("p",{className:"text-gray-600 text-lg leading-relaxed",children:"The smartest way for growing businesses."})]}),(0,u.jsxs)("div",{className:"space-y-6 relative",children:[(0,u.jsx)("div",{className:"absolute left-5 top-2 bottom-6 w-0.5 bg-emerald-200"}),(0,u.jsxs)("div",{className:"flex items-start space-x-4 relative",children:[(0,u.jsx)("div",{className:"w-10 h-10 rounded-full bg-white border-4 border-emerald-50 flex items-center justify-center shadow-sm z-10",children:(0,u.jsx)("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,u.jsxs)("div",{className:"pt-2",children:[(0,u.jsx)("h3",{className:"text-sm font-bold text-gray-900",children:"FREE WhatsApp Business API"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Instant verification & setup with Meta"})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-4 relative",children:[(0,u.jsx)("div",{className:"w-10 h-10 rounded-full bg-white border-4 border-emerald-50 flex items-center justify-center shadow-sm z-10",children:(0,u.jsx)("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,u.jsxs)("div",{className:"pt-2",children:[(0,u.jsx)("h3",{className:"text-sm font-bold text-gray-900",children:"24/7 Smart Automation"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Built on the verified Meta Platform"})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-4 relative",children:[(0,u.jsx)("div",{className:"w-10 h-10 rounded-full bg-white border-4 border-emerald-50 flex items-center justify-center shadow-sm z-10",children:(0,u.jsx)("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,u.jsxs)("div",{className:"pt-2",children:[(0,u.jsx)("h3",{className:"text-sm font-bold text-gray-900",children:"Shared Team Inbox"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Collaborate with your team in real-time"})]})]})]})]})]}),(0,u.jsx)("div",{className:"lg:w-1/2 bg-white p-8 lg:p-12 flex flex-col justify-center",children:(0,u.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[(0,u.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2 tracking-tight",children:"Welcome Back"}),(0,u.jsx)("p",{className:"text-gray-500 mb-8",children:"Please enter your details to sign in."}),m&&(0,u.jsxs)("div",{className:"p-4 rounded-xl mb-6 text-sm font-medium bg-amber-50 text-amber-800 border border-amber-100 flex items-center",children:[(0,u.jsx)(x.A,{className:"w-4 h-4 mr-2"}),m]}),f&&(0,u.jsxs)("div",{className:"p-4 rounded-xl mb-6 text-sm font-medium border flex items-center ".concat(C?"bg-amber-50 text-amber-800 border-amber-100":"bg-red-50 text-red-700 border-red-100"),children:[_&&(0,u.jsx)("span",{className:"mr-2",children:C?"\u26a0\ufe0f":"\ud83d\udeab"})," ",k||f]}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),g(""),b(!0);try{const e=await S(s,d);try{sessionStorage.setItem("xb_suppress_401_toast","1"),setTimeout((()=>sessionStorage.removeItem("xb_suppress_401_toast")),4e3)}catch(l){}const o=await r(),i=(null===o||void 0===o?void 0:o.status)||(null===e||void 0===e?void 0:e.status);try{localStorage.setItem("xb_session_stamp",String(Date.now())),localStorage.removeItem("messaging-pinned"),localStorage.removeItem("messaging-archived"),localStorage.removeItem("messaging-order"),localStorage.setItem(A,s),sessionStorage.removeItem(E)}catch(c){}const u=n.get("redirectTo"),p=(u&&u.startsWith("/")&&!u.startsWith("//")?u:null)||function(){const e=String((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"").toLowerCase();return"profilepending"===e?"/app/profile-completion":"pending"===e||"underreview"===e?"/pending-approval":"suspended"===e||"blocked"===e?"/no-access":"/app/welcomepage"}(i);"/app/profile-completion"===p?a.oR.info("Please complete your profile to continue."):"/pending-approval"===p&&a.oR.warn("Your account is pending approval.");const f=p.includes("?")?p:"".concat(p).concat(window.location.search);t(f,{replace:!0})}catch(u){var o,i;const e=(null===u||void 0===u||null===(o=u.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||(null===u||void 0===u?void 0:u.message)||"Login failed.",t=String(e).toLowerCase();(t.includes("pending")||t.includes("under review")?a.oR.warn:a.oR.error)(e),h(e)}finally{b(!1)}},className:"space-y-5",children:[(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Email"}),(0,u.jsx)("input",{type:"email",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all duration-200 bg-gray-50 focus:bg-white text-gray-900 placeholder-gray-400",placeholder:"name@company.com",value:s,onChange:e=>c(e.target.value),required:!0})]}),(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Password"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("input",{type:y?"text":"password",className:"w-full px-4 py-3 pr-11 border border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all duration-200 bg-gray-50 focus:bg-white text-gray-900 placeholder-gray-400",placeholder:"Enter password",value:d,onChange:e=>p(e.target.value),required:!0}),(0,u.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>w((e=>!e)),children:y?(0,u.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,u.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,u.jsx)("div",{className:"flex items-center justify-end",children:(0,u.jsx)(o.N_,{to:"/forgot-password",className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:underline",children:"Forgot password?"})}),(0,u.jsx)("button",{type:"submit",disabled:v,className:"w-full py-3 px-4 rounded-xl font-bold text-white transition-all duration-200 transform hover:-translate-y-0.5 ".concat(v?"bg-gray-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700"),children:v?(0,u.jsxs)("span",{className:"flex items-center justify-center",children:[(0,u.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,u.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,u.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In to Account"})]}),(0,u.jsx)("div",{className:"mt-8 text-center",children:(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:["Don't have an account yet?"," ",(0,u.jsx)(o.N_,{to:"/signup-for-trial",className:"font-bold text-emerald-700 hover:text-emerald-800 hover:underline",children:"Start 14-day free trial"})]})})]})})]})})}const C=function(){const[t,n]=(0,e.useState)({companyName:"",email:"",password:""}),[r,i]=(0,e.useState)(!1),[a,s]=(0,e.useState)(""),[l,d]=(0,e.useState)(""),p=e=>{n((0,b.A)((0,b.A)({},t),{},{[e.target.name]:e.target.value}))};return(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center px-6 md:px-20 lg:px-36",children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row w-full max-w-6xl shadow-2xl rounded-3xl overflow-hidden bg-white",children:[(0,u.jsx)("div",{className:"md:w-1/2 hidden md:block",children:(0,u.jsx)("img",{src:"/loginpage_.png",alt:"Marketing Visual",className:"h-full w-full object-cover"})}),(0,u.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 sm:px-12 md:px-16 lg:px-20 py-12",children:[(0,u.jsxs)("div",{className:"flex items-center justify-center gap-0.5 mb-4",children:[(0,u.jsx)("img",{src:"/logo/favicon.svg",alt:"Logo",className:"h-14 w-14 p-2.5 object-contain"}),(0,u.jsx)("span",{className:"text-[22px] font-semibold font-brand leading-[36px] text-[#111827]",children:"XploreByte"})]}),(0,u.jsxs)("h2",{className:"text-2xl font-bold text-center text-purple-800 mb-6",children:["Create Your ",(0,u.jsx)("span",{className:"text-purple-900",children:"xByteChat"})," ","Profile"]}),a&&(0,u.jsx)("div",{className:"bg-green-100 text-green-700 p-3 rounded-lg mb-4 text-sm text-center font-medium shadow",children:a}),l&&(0,u.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-4 text-sm text-center font-medium shadow",children:l}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),s(""),d("");try{const e=await c.default.post("/auth/business-user-signup",t);if(!e.data.success)throw new Error(e.data.message||"Signup failed. Try again.");s("\u2705 Signup successful! We'll review and approve your account."),n({companyName:"",email:"",password:""})}catch(a){var r,o;d((null===a||void 0===a||null===(r=a.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||a.message||"\u274c Signup failed.")}finally{i(!1)}},className:"space-y-5",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Company Name"}),(0,u.jsx)("input",{type:"text",name:"companyName",value:t.companyName,onChange:p,required:!0,className:"mt-1 w-full p-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Email"}),(0,u.jsx)("input",{type:"email",name:"email",value:t.email,onChange:p,required:!0,className:"mt-1 w-full p-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Password"}),(0,u.jsx)("input",{type:"password",name:"password",value:t.password,onChange:p,required:!0,minLength:6,className:"mt-1 w-full p-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 transition"})]}),(0,u.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg font-medium transition disabled:opacity-60",children:r?"Creating profile...":"Create Profile"})]}),(0,u.jsxs)("div",{className:"text-center mt-5 text-sm text-gray-600",children:["Already have an account?"," ",(0,u.jsx)(o.N_,{to:"/login",className:"text-purple-600 hover:underline font-medium",children:"Login"})]})]})]})})};var _=n(77784);const P=(0,_.A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var O=n(42574),T=n(20073);const M=(0,_.A)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),I=(0,_.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var R=n(35087);const D=(0,_.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),L=t=>{let{phrases:n=["WhatsApp Marketing","WhatsApp Automation","No-code chatbot builder","Auto Reply"],baseText:r="Transform your business with ",typingSpeed:o=100,deletingSpeed:i=50,pauseTime:a=1100,className:s="text-3xl lg:text-4xl font-bold text-gray-900 mb-4"}=t;const[l,c]=(0,e.useState)(n[0]),[d,p]=(0,e.useState)(n[0]),[f,h]=(0,e.useState)(!1),[m,g]=(0,e.useState)(0),[v,x]=(0,e.useState)(!0),b=(0,e.useRef)(null),y=(0,e.useRef)(null),w=(0,e.useRef)("undefined"!==typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches);(0,e.useEffect)((()=>{if(!w.current)return y.current=setInterval((()=>{x((e=>!e))}),530),()=>{y.current&&clearInterval(y.current)}}),[]),(0,e.useEffect)((()=>{if(w.current){const e=setInterval((()=>{g((e=>(e+1)%n.length)),c(n[(m+1)%n.length])}),1500);return()=>clearInterval(e)}const e=n[m],t=f?i:o;return b.current=setTimeout((()=>{f?(p(e.substring(0,d.length-1)),0===d.length&&(h(!1),g((e=>(e+1)%n.length)))):(p(e.substring(0,d.length+1)),d===e&&(b.current=setTimeout((()=>{h(!0)}),a)))}),t),()=>{b.current&&clearTimeout(b.current)}}),[d,f,m,n,o,i,a]),(0,e.useEffect)((()=>()=>{b.current&&clearTimeout(b.current),y.current&&clearInterval(y.current)}),[]),(0,e.useEffect)((()=>{"undefined"!==typeof window&&window.analytics&&window.analytics.track("headline_phrase_shown",{phrase:d,orderIndex:m})}),[d,m]);const j=w.current?l:d,N=n.reduce(((e,t)=>t.length>e.length?t:e),n[0]);return(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)("div",{"aria-live":"polite","aria-atomic":"true",className:"overflow-hidden",style:{minHeight:"1.5em"},children:(0,u.jsxs)("div",{className:"flex items-start flex-wrap",children:[(0,u.jsx)("span",{className:"whitespace-nowrap",children:r}),(0,u.jsxs)("span",{className:"text-emerald-600 whitespace-nowrap inline-block",style:{minWidth:"".concat(N.length,"ch"),textAlign:"left",minHeight:"1.5em",display:"inline-flex",alignItems:"center"},children:[j,!w.current&&(0,u.jsx)("span",{"aria-hidden":"true",className:"inline-block w-0.5 h-[1.1em] ml-1 ".concat(v?"opacity-100":"opacity-0"," transition-opacity duration-75"),style:{backgroundColor:"currentColor",animation:"none"}})]})]})}),(0,u.jsxs)("div",{className:"sr-only",children:[r,j]})]})},F=()=>{const t=(0,i.Zp)(),[n,r]=(0,e.useState)({companyName:"",mobileNumber:"",email:"",password:""}),[s,l]=(0,e.useState)(!1),[d,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(""),[m,g]=(0,e.useState)(!1),v=e=>{const{name:t,value:n}=e.target;if("mobileNumber"!==t)r((e=>(0,b.A)((0,b.A)({},e),{},{[t]:n})));else{const e=n.replace(/\D/g,"").slice(0,10);r((n=>(0,b.A)((0,b.A)({},n),{},{[t]:e})))}},x=n.companyName&&10===n.mobileNumber.length&&n.email&&n.password&&m;return(0,u.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center px-4 py-4",children:(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row w-full max-w-6xl shadow-2xl rounded-2xl overflow-hidden bg-white",children:[(0,u.jsxs)("div",{className:"lg:w-1/2 bg-gradient-to-br from-emerald-50 to-cyan-50 p-6 lg:p-8 flex flex-col justify-center overflow-hidden",children:[(0,u.jsx)("div",{className:"mb-6",children:(0,u.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,u.jsx)("img",{src:"/logo/favicon.svg",alt:"Logo",className:"h-14 w-14 p-2.5 object-contain"}),(0,u.jsx)("span",{className:"text-[22px] font-semibold font-brand leading-[36px] text-[#111827] tracking-tight",children:"XploreByte"})]})}),(0,u.jsx)("div",{className:"mb-6 overflow-hidden",children:(0,u.jsx)("div",{className:"w-full",children:(0,u.jsx)(L,{phrases:["WhatsApp Marketing","WhatsApp Automation","No-code chatbot builder","Auto Reply"],baseText:"Transform your business with ",className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-3"})})}),(0,u.jsxs)("div",{className:"bg-gradient-to-r from-emerald-600 to-sapphire-600 rounded-xl p-4 mb-6 text-white",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,u.jsx)(P,{className:"w-5 h-5"}),(0,u.jsx)("span",{className:"text-lg font-bold",children:"14 Days FREE Trial"})]}),(0,u.jsx)("p",{className:"text-emerald-100 text-sm",children:"Start your WhatsApp Business journey with our XploreByte platform"})]}),(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"YOUR FREE TRIAL INCLUDES"}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,u.jsx)(O.A,{className:"w-4 h-4 text-emerald-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"FREE WhatsApp Business API"}),(0,u.jsx)("p",{className:"text-xs text-gray-600",children:"Instant verification & setup with Meta"})]})]})}),(0,u.jsx)("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-cyan-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,u.jsx)(T.A,{className:"w-4 h-4 text-cyan-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"24/7 Smart Automation"}),(0,u.jsx)("p",{className:"text-xs text-gray-600",children:"Built on the verified Meta Platform"})]})]})}),(0,u.jsx)("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-sapphire-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,u.jsx)(M,{className:"w-4 h-4 text-sapphire-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Shared Team Inbox"}),(0,u.jsx)("p",{className:"text-xs text-gray-600",children:"Collaborate with your team in real-time"})]})]})})]})]})]}),(0,u.jsxs)("div",{className:"lg:w-1/2 bg-white p-6 lg:p-8 flex flex-col justify-center",children:[(0,u.jsx)("div",{className:"flex justify-end mb-6",children:(0,u.jsxs)(o.N_,{to:"/login",className:"text-sm text-gray-600 hover:text-sapphire-600 transition",children:["Already a member?"," ",(0,u.jsx)("span",{className:"text-sapphire-600 font-medium",children:"Log in"})]})}),(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Create Your XploreByte Account"}),(0,u.jsx)("p",{className:"text-gray-600 text-sm",children:"Start your 14-day free trial today"})]}),f&&(0,u.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-sm text-red-700",children:f}),(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),p(!0),n.password.length<8)return h("Password must be at least 8 characters long"),void p(!1);if(10!==n.mobileNumber.length)return h("Mobile number must be exactly 10 digits"),void p(!1);try{var r;const e={companyName:n.companyName,email:n.email,password:n.password},i=await c.default.post("/auth/business-user-signup",e);var o;if(null===i||void 0===i||null===(r=i.data)||void 0===r||!r.success)throw new Error((null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||"Signup failed. Try again.");a.oR.success("Account created successfully! Welcome to XploreByte!"),t("/login")}catch(l){var i,s;const e=(null===l||void 0===l||null===(i=l.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||(null===l||void 0===l?void 0:l.message)||"\u274c Signup failed. Please try again.";h(e)}finally{p(!1)}},className:"space-y-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),(0,u.jsx)("input",{type:"text",name:"companyName",value:n.companyName,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition text-sm",placeholder:"Enter your company name",required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number *"}),(0,u.jsxs)("div",{className:"flex space-x-1",children:[(0,u.jsxs)("select",{name:"countryCode",className:"px-2 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition text-sm",children:[(0,u.jsx)("option",{value:"+91",children:"IN +91"}),(0,u.jsx)("option",{value:"+1",children:"US +1"}),(0,u.jsx)("option",{value:"+44",children:"UK +44"}),(0,u.jsx)("option",{value:"+61",children:"AU +61"})]}),(0,u.jsx)("input",{type:"tel",name:"mobileNumber",value:n.mobileNumber,onChange:v,inputMode:"numeric",pattern:"[0-9]*",maxLength:10,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition text-sm",placeholder:"Enter 10-digit mobile number",required:!0})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,u.jsx)("input",{type:"email",name:"email",value:n.email,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition text-sm",placeholder:"Enter your email address",required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("input",{type:s?"text":"password",name:"password",value:n.password,onChange:v,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition text-sm",placeholder:"Create a strong password",required:!0}),(0,u.jsx)("button",{type:"button",onClick:()=>l(!s),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?(0,u.jsx)(I,{className:"w-4 h-4"}):(0,u.jsx)(R.A,{className:"w-4 h-4"})})]})]}),(0,u.jsxs)("div",{className:"flex items-start space-x-3 mt-3",children:[(0,u.jsx)("div",{className:"flex items-center h-5",children:(0,u.jsx)("input",{id:"accept-terms",name:"acceptTerms",type:"checkbox",checked:m,onChange:e=>g(e.target.checked),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500 focus:ring-2",required:!0})}),(0,u.jsx)("div",{className:"text-sm",children:(0,u.jsxs)("label",{htmlFor:"accept-terms",className:"text-gray-700",children:["I agree to the"," ",(0,u.jsx)("a",{href:"https://xplorebyte.com/terms-of-service",target:"_blank",rel:"noopener noreferrer",className:"text-sapphire-600 hover:underline font-medium",children:"Terms of Service"})," ","and"," ",(0,u.jsx)("a",{href:"https://xplorebyte.com/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-sapphire-600 hover:underline font-medium",children:"Privacy Policy"})]})})]}),(0,u.jsx)("button",{type:"submit",disabled:!x||d,className:"w-full py-3 px-6 rounded-lg font-semibold text-base transition-all duration-200 flex items-center justify-center space-x-2 ".concat(x&&!d?"bg-gradient-to-r from-emerald-600 to-sapphire-600 hover:from-emerald-700 hover:to-sapphire-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:d?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,u.jsx)("span",{children:"Creating Account..."})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{children:"Start Your FREE Trial"}),(0,u.jsx)(D,{className:"w-4 h-4"})]})})]})]})]})})};function B(){const t=(0,i.Zp)();return(0,e.useEffect)((()=>{sessionStorage.getItem("seen-pending-toast")||(a.oR.info("\u23f3 Your business is still under review. Please wait for admin approval."),sessionStorage.setItem("seen-pending-toast","true"))}),[]),(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-purple-50 px-4",children:(0,u.jsxs)("div",{className:"bg-white max-w-md w-full p-8 rounded-2xl shadow-xl text-center",children:[(0,u.jsx)("div",{className:"bg-purple-100 text-purple-700 inline-block p-4 rounded-full mb-4",children:(0,u.jsx)(x.A,{size:40})}),(0,u.jsx)("h2",{className:"text-2xl font-bold text-purple-800 mb-2",children:"Business Approval Pending"}),(0,u.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"Your account has been created successfully, but your business profile is under review. You will be notified once it is approved."}),(0,u.jsx)("button",{onClick:()=>t("/login"),className:"mt-4 bg-purple-600 text-white px-5 py-2 rounded-lg hover:bg-purple-700 transition",children:"\ud83d\udd19 Back to Login"})]})})}const z=(0,_.A)("shield-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);var U=n(77819),V=n(65469);const W=function(){const e=(0,i.Zp)();return(0,u.jsx)("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center px-4 py-10 bg-slate-50",children:(0,u.jsxs)("div",{className:"relative max-w-xl w-full bg-white rounded-2xl shadow-lg border border-rose-100 p-8 overflow-hidden",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute -top-16 -right-10 h-36 w-36 rounded-full bg-rose-100 opacity-30"}),(0,u.jsx)("div",{className:"pointer-events-none absolute -bottom-16 -left-10 h-40 w-40 rounded-full bg-purple-100 opacity-25"}),(0,u.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,u.jsx)("div",{className:"shrink-0 rounded-xl bg-rose-50 p-3",children:(0,u.jsx)(z,{className:"h-8 w-8 text-rose-600"})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 mb-3 border border-rose-200",children:[(0,u.jsx)(U.A,{className:"h-4 w-4 text-rose-500"}),(0,u.jsx)("span",{className:"text-xs font-semibold text-rose-700 uppercase tracking-wide",children:"Access restricted"})]}),(0,u.jsx)("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:"You don't have permission to view this page"}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Your current role or plan doesn't include access to this workspace or feature. If you believe this is a mistake, please contact your admin or support team."}),(0,u.jsxs)("ul",{className:"list-disc list-inside text-sm text-slate-600 mb-4 space-y-1",children:[(0,u.jsx)("li",{children:"The workspace may not be included in your plan."}),(0,u.jsx)("li",{children:"Your permissions might have been changed by an admin."}),(0,u.jsx)("li",{children:"You can continue using the modules available from Dashboard."})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mb-6",children:"Access is controlled by your account's entitlements and permissions to keep sensitive modules limited to authorised users."}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>e("/app/dashboard"),className:"inline-flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-900",children:[(0,u.jsx)(V.A,{className:"h-4 w-4"}),"Back to dashboard"]}),(0,u.jsx)("span",{className:"text-[11px] text-rose-700 bg-rose-50 border border-rose-100 px-3 py-1 rounded-full",children:"Access managed by your admin \ud83d\udd10"})]})]})]})]})})},H=(0,_.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var q=n(38326);const K=(0,_.A)("chart-area",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]]),G=(0,_.A)("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),Y=(0,_.A)("megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),X=(0,_.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),$=(0,_.A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Z=(0,_.A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var J=n(78384),Q=n(73782),ee=n(22925),te=n(66797),ne=n(3572),re=n(81685),oe=n(76996),ie=n(50781),ae=n(67588),se=n(8145),le=n(51419),ce=n(35746),de=n(41680),ue=n(27033);const pe=(0,_.A)("user-cog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),fe=(0,_.A)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),he=(0,_.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),me=(0,_.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var ge=n(91286);const ve=(0,_.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var xe=n(26773);const be=(0,_.A)("arrow-left-to-line",[["path",{d:"M3 19V5",key:"rwsyhb"}],["path",{d:"m13 6-6 6 6 6",key:"1yhaz7"}],["path",{d:"M7 12h14",key:"uoisry"}]]),ye={messaging:[v.FK.MESSAGING_WORKSPACE_VIEW],superadmin:[v.FK.SUPER_ADMIN_WORKSPACE_VIEW],campaigns:[v.FK.CAMPAIGN_WORKSPACE_VIEW],automation:[v.FK.AUTOMATION_WORKSPACE_VIEW],templates:[v.FK.TEMPLATE_WORKSPACE_VIEW],catalog:[v.FK.CATALOG_WORKSPACE_VIEW],crm:[v.FK.CRM_WORKSPACE_VIEW],inbox:[v.FK.INBOX_WORKSPACE_VIEW],settings:[v.FK.SETTINGS_WORKSPACE_VIEW]},we={crm:!0,campaigns:!0,catalog:!0,messaging:!0,automation:!0,inbox:!0,templatebuilder:!0,admin:!0},je=e=>{const t=String(e||"").split("/")[2]||"";return"template-builder"===t?"templatebuilder":"cta-flow"===t?"automation":t};function Ne(){const t=(0,i.zy)(),n=(0,i.Zp)(),r=(0,e.useRef)(null),a=(0,e.useRef)(null),[s,c]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null),[h,m]=(0,e.useState)(!1),[g,x]=(0,e.useState)(!1),{role:y,isLoading:w,can:j,hasAllAccess:N,entLoading:S,planId:A}=(0,l.h)(),E=String(y||"").toLowerCase(),k="superadmin"===E||"admin"===E,C="superadmin"===E||!!N,_=20,P=function(){return!!C||(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((e=>"function"===typeof j&&j(e)))},O=C||!S&&P(ye.superadmin||[]),I=C||!S&&P(ye.messaging||[]),R=C||!S&&P(ye.campaigns||[]),D=C||!S&&P(ye.automation||[]),L=C||!S&&P(ye.templates||[]),F=C||!S&&P(ye.catalog||[]),B=C||!S&&P(ye.crm||[]),z=C||!S&&P(ye.inbox||[]),U=C||!S&&P(ye.settings||[]),V=(()=>{try{const e=window.localStorage.getItem("xb_inbox_unread"),t=Number(e);return Number.isFinite(t)&&t>0?Math.min(t,99):0}catch(e){return 0}})(),W=[{title:"Workspaces",items:[{label:"Dashboard",short:"Dashboard",path:"/app/welcomepage",icon:(0,u.jsx)(K,{size:_}),show:!0},{label:"CRM",short:"CRM",path:"/app/crm",icon:(0,u.jsx)(G,{size:_}),show:B},{label:"Campaigns",short:"Campaigns",path:"/app/campaigns",icon:(0,u.jsx)(Y,{size:_}),show:R},{label:"Catalog",short:"Catalog",path:"/app/catalog",icon:(0,u.jsx)(X,{size:_}),show:F},{label:"Messaging",short:"Messaging",path:"/app/messaging",icon:(0,u.jsx)($,{size:_}),show:I},{label:"Templates",short:"Templates",path:"/app/templatebuilder",icon:(0,u.jsx)(Z,{size:_}),show:L},{label:"Automation",short:"Automation",path:"/app/automation",icon:(0,u.jsx)(Z,{size:_}),show:D},{label:"Inbox",short:"Inbox",path:"/app/inbox",icon:(0,u.jsx)(M,{size:_}),show:z,badgeCount:V},{label:"Admin",short:"Admin",path:"/app/admin",icon:(0,u.jsx)(J.A,{size:_}),show:O}]},{title:"My Account",items:[{label:"Settings",short:"Settings",path:"/app/settings",icon:(0,u.jsx)(Q.A,{size:_}),show:U}]}].map((e=>(0,b.A)((0,b.A)({},e),{},{items:e.items.filter((e=>e.show))}))).filter((e=>e.items.length>0)),H=(()=>{const e=String((null===t||void 0===t?void 0:t.pathname)||"").split("/")[2]||"";return"template-builder"===e?"templatebuilder":"cta-flow"===e?"automation":e})(),q=e=>{const t=!((n=e.featureKey)&&(!Array.isArray(n)||0!==n.filter(Boolean).length))||!!C||"function"!==typeof j||(Array.isArray(n)?n.some((e=>e&&j(e))):!!j(n));var n;const r=(e=>{if(!e)return!0;const t=["trial","basic","smart","advanced"],n=String(A||"basic").toLowerCase();return t.indexOf(n)>=t.indexOf(e.toLowerCase())})(e.requiredPlan);return{allowed:t&&r,blockedReason:t?r?null:"plan":"feature"}},Ne=e=>{let{blockedReason:t,item:n,source:r}=e;if("plan"===t)return void(0,d.Y)({reason:"plan",planTier:n.requiredPlan,source:r});const o=Array.isArray(n.featureKey)?n.featureKey.find(Boolean):n.featureKey;(0,d.Y)({reason:"feature",code:o,source:r})},Se={crm:[{label:"Contacts",path:"/app/crm/contacts",icon:(0,u.jsx)(G,{size:18}),show:B,featureKey:v.FK.CRM_CONTACT_VIEW},{label:"Tags",path:"/app/crm/tags",icon:(0,u.jsx)(ee.A,{size:18}),show:B,featureKey:v.FK.CRM_TAGS_VIEW},{label:"Attribute",path:"/app/crm/attributes",icon:(0,u.jsx)(te.A,{size:18}),show:B,featureKey:v.FK.CRM_ATTRIBUTE_VIEW},{label:"Reminders",path:"/app/crm/reminders",icon:(0,u.jsx)(ne.A,{size:18}),show:B,featureKey:v.FK.CRM_REMINDERS_VIEW},{label:"Timeline",path:"/app/crm/timeline",icon:(0,u.jsx)(re.A,{size:18}),show:B,featureKey:v.FK.CRM_TIMELINE_VIEW},{label:"Notes",path:"/app/crm/notes",icon:(0,u.jsx)(oe.A,{size:18}),show:B,featureKey:v.FK.CRM_NOTES_VIEW}],campaigns:[{label:"Campaign Builder",path:"/app/campaigns/template-campaign-builder",icon:(0,u.jsx)(ie.A,{size:18}),show:R,featureKey:v.FK.CAMPAIGN_BUILDER},{label:"Manage Campaigns",path:"/app/campaigns/template-campaigns-list",icon:(0,u.jsx)(ie.A,{size:18}),show:R,featureKey:v.FK.CAMPAIGN_LIST_VIEW},{label:"Message Send Logs",path:"/app/campaigns/messagelogs",icon:(0,u.jsx)(ae.A,{size:18}),show:R,featureKey:v.FK.CAMPAIGN_STATUS_VIEW},{label:"CTA Management",path:"/app/campaigns/cta-management",icon:(0,u.jsx)(se.A,{size:18}),show:R,featureKey:v.FK.CAMPAIGN_CTA_MANAGEMENT}],catalog:[{label:"Product Catalog",path:"/app/catalog/products",icon:(0,u.jsx)(le.A,{size:18}),show:F,featureKey:v.FK.CATALOG_VIEW},{label:"Add New Product",path:"/app/catalog/form",icon:(0,u.jsx)(ie.A,{size:18}),show:F,featureKey:v.FK.CATALOG_CREATE},{label:"Auto-Responders",path:"/app/catalog/automation",icon:(0,u.jsx)(T.A,{size:18}),show:F,featureKey:v.FK.CATALOG_AUTOMATION,requiredPlan:"advanced"}],messaging:[{label:"Send Non-Template Message",path:"/app/messaging/send-direct-text",icon:(0,u.jsx)(ce.A,{size:18}),show:I,featureKey:v.FK.MESSAGING_SEND_TEXT},{label:"Send Template Message",path:"/app/messaging/send-template-message",icon:(0,u.jsx)(de.A,{size:18}),show:I,featureKey:v.FK.MESSAGING_SEND_TEMPLATE},{label:"Messaging Reports & Analytics",path:"/app/messaging/reports",icon:(0,u.jsx)(ue.A,{size:18}),show:I,featureKey:v.FK.MESSAGING_REPORT_VIEW}],inbox:[{label:"Chat Inbox",path:"/app/inbox/chatinbox",icon:(0,u.jsx)(M,{size:18}),show:z,featureKey:v.FK.INBOX_CHAT_VIEW}],automation:[{label:"Create Template Flow",path:"/app/cta-flow/visual-builder",icon:(0,u.jsx)(T.A,{size:18}),show:D,featureKey:v.FK.AUTOMATION_CREATE_TEMPLATE_FLOW},{label:"Create Auto Reply Bot",path:"/app/automation/auto-reply-builder",icon:(0,u.jsx)(Z,{size:18}),show:D,featureKey:v.FK.AUTOMATION_CREATE_BOT},{label:"Flow Manager",path:"/app/cta-flow/flow-manager",icon:(0,u.jsx)(T.A,{size:18}),show:D,featureKey:v.FK.AUTOMATION_VIEW_FLOW_MANAGE},{label:"Flow Analytics",path:"/app/campaigns/FlowAnalyticsDashboard",icon:(0,u.jsx)(ae.A,{size:18}),show:D,featureKey:v.FK.AUTOMATION_VIEW_FLOW_ANALYTICS}],templatebuilder:[{label:"Manage Templates",path:"/app/template-builder/approved",icon:(0,u.jsx)(de.A,{size:18}),show:L,featureKey:v.FK.TEMPLATE_BUILDER_APPROVED_TEMPLATES_VIEW}],settings:[{label:"Profile Update",path:"/app/settings/profile-completion",icon:(0,u.jsx)(pe,{size:18}),show:U,featureKey:v.FK.SETTINGS_PROFILE_UPDATE},{label:"Change Password",path:"/app/settings/password",icon:(0,u.jsx)(fe,{size:18}),show:U,featureKey:null},{label:"User & Staff Management",path:"/app/settings/team-management",icon:(0,u.jsx)(G,{size:18}),show:U,featureKey:v.FK.SETTINGS_STAFF_MANAGEMENT},{label:"Role Permission Mapping",path:"/app/settings/role-permission-mapping",icon:(0,u.jsx)(he,{size:18}),show:U,featureKey:v.FK.SETTINGS_ROLE_PERMISSIONS_MAPPING},{label:"Contact Consent Debug",path:"/app/settings/contact-consent-debug",icon:(0,u.jsx)(te.A,{size:18}),show:U&&k,featureKey:null},{label:"WhatsApp Api Integration",path:"/app/settings/meta-account",icon:(0,u.jsx)(me,{size:18}),show:U,featureKey:v.FK.SETTINGS_META_ACCOUNT_MANAGEMENT},{label:"Manual Api Setup",path:"/app/settings/whatsapp",icon:(0,u.jsx)(ge.A,{size:18}),show:!1,featureKey:v.FK.SETTINGS_WHATSAPP_SETTINGS_VIEW},{label:"Billing & Subscription",path:"/app/settings/billing",icon:(0,u.jsx)(ve,{size:18}),show:U,featureKey:v.FK.SETTINGS_BILLING_VIEW}],admin:[{label:"Business Approvals",path:"/app/admin/approvals",icon:(0,u.jsx)(J.A,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_NEW_BUSINESS_APPROVAL},{label:"Plan \u2192 Feature Mapping",path:"/app/admin/plan-management",icon:(0,u.jsx)(ae.A,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_PLAN_MANAGER_VIEW},{label:"Permissions list",path:"/app/admin/permissions",icon:(0,u.jsx)(Q.A,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_PLAN_PERMISSIONS_LIST},{label:"FB Embedded Signup Debug",path:"/app/admin/esu-debug",icon:(0,u.jsx)(J.A,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_ESU_DEBUG},{label:"Signup Report",path:"/app/admin/account-insights",icon:(0,u.jsx)(K,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_SIGNUP_REPORT_VIEW},{label:"Business Overview",path:"/app/admin/account-insights/account-reports",icon:(0,u.jsx)(ue.A,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_BUSINESS_OVERVIEW},{label:"Webhook Reliability & Cleanup",path:"/app/admin/webhooks/monitor",icon:(0,u.jsx)(M,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_WEBHOOK_MONITOR},{label:"User Access & Permissions",path:"/app/admin/user-permissions",icon:(0,u.jsx)(G,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_USER_MANAGEMENT_VIEW},{label:"Flow Execution Explorer",path:"/app/admin/audit/execution-explorer",icon:(0,u.jsx)(Z,{size:18}),show:O,featureKey:v.FK.SUPER_ADMIN_FLOW_EXECUTION_EXPLORER_VIEW},{label:"Developer Notes",path:"/app/admin/developer-notes"},{label:"Server Troubleshooting",path:"/app/admin/server-troubleshooting",icon:(0,u.jsx)(xe.A,{size:18}),show:C,featureKey:v.FK.SUPER_ADMIN_WORKSPACE_VIEW}]},Ae=s&&p?p:H,Ee=(Se[Ae]||[]).filter((e=>!1!==e.show)),ke="crm"===Ae,Ce="campaigns"===Ae,_e="catalog"===Ae,Pe="messaging"===Ae,Oe="automation"===Ae,Te="inbox"===Ae,Me="settings"===Ae,Ie="templatebuilder"===Ae,Re="admin"===Ae,De=(0,e.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(!1),f(null);if(!(!1!==e.restoreFlyoutUrl))return;if("1"!==new URLSearchParams(t.search||"").get("flyout"))return;const r=je(t.pathname);2===String(t.pathname||"").split("/").filter(Boolean).length&&we[r]&&n(t.pathname,{replace:!0})}),[t.pathname,t.search,n]),Le=e=>{e&&Se[e]&&0!==Se[e].length&&(s&&p===e?De():(f(e),c(!0)))};(0,e.useEffect)((()=>{if(!s)return;const e=e=>{const t=e.target;r.current&&r.current.contains(t)||a.current&&a.current.contains(t)||De()},t=e=>{"Escape"===e.key&&De()};return document.addEventListener("mousedown",e,!0),document.addEventListener("keydown",t,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("keydown",t,!0)}}),[s,De]),(0,e.useEffect)((()=>{if(!s)return;if(h||g)return;const e=window.setTimeout((()=>{De()}),450);return()=>window.clearTimeout(e)}),[s,h,g,De]);const Fe=e=>{let{count:t,collapsedBadge:n}=e;if(!t||t<=0)return null;const r="inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 rounded-full text-[11px] font-extrabold bg-emerald-400/20 text-emerald-50 ring-1 ring-emerald-200/30";return(0,u.jsx)("span",{className:r,children:t>=99?"99+":t})},Be=e=>{let{text:t}=e;return t?(0,u.jsx)("span",{className:"pointer-events-none absolute left-[72px] top-1/2 -translate-y-1/2 whitespace-nowrap z-50\r opacity-0 group-hover:opacity-100 \r transition-opacity duration-150",role:"tooltip",children:(0,u.jsxs)("span",{className:"relative flex items-center",children:[(0,u.jsx)("span",{className:"absolute -left-2 top-1/2 -translate-y-1/2 \r border-t-[6px] border-t-transparent\r border-r-[8px] border-r-gray-800\r border-b-[6px] border-b-transparent"}),(0,u.jsx)("span",{className:"bg-gray-800 text-white text-sm font-medium px-3 py-1.5 rounded shadow-lg",children:t})]})}):null};return w?null:(0,u.jsxs)("aside",{className:"relative h-full w-20 overflow-visible border-r border-[rgba(255,255,255,0.08)]",children:[(0,u.jsxs)("div",{ref:r,className:"relative w-20 h-full bg-gradient-to-b from-[#0a322b] to-[#0a322b] overflow-visible flex flex-col",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[(0,u.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-[0.06]",children:(0,u.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 200 900",preserveAspectRatio:"none","aria-hidden":"true",children:[(0,u.jsxs)("defs",{children:[(0,u.jsxs)("pattern",{id:"xb-rail-poly",width:"140",height:"140",patternUnits:"userSpaceOnUse",children:[(0,u.jsx)("polygon",{points:"10,22 54,10 86,36 40,60",fill:"rgba(255,255,255,0.04)",stroke:"rgba(255,255,255,0.10)",strokeWidth:"1"}),(0,u.jsx)("polygon",{points:"78,34 132,18 138,72 96,88",fill:"rgba(255,255,255,0.03)",stroke:"rgba(255,255,255,0.08)",strokeWidth:"1"}),(0,u.jsx)("circle",{cx:"54",cy:"10",r:"2",fill:"rgba(255,255,255,0.22)"}),(0,u.jsx)("circle",{cx:"86",cy:"36",r:"2",fill:"rgba(255,255,255,0.22)"}),(0,u.jsx)("circle",{cx:"40",cy:"60",r:"2",fill:"rgba(255,255,255,0.18)"})]}),(0,u.jsxs)("radialGradient",{id:"xb-rail-glow",cx:"50%",cy:"10%",r:"80%",children:[(0,u.jsx)("stop",{offset:"0",stopColor:"rgba(8, 48, 33, 0.18)"}),(0,u.jsx)("stop",{offset:"1",stopColor:"rgba(52,211,153,0)"})]})]}),(0,u.jsx)("rect",{width:"100%",height:"100%",fill:"url(#xb-rail-poly)"}),(0,u.jsx)("rect",{width:"100%",height:"100%",fill:"url(#xb-rail-glow)"})]})}),(0,u.jsx)("div",{className:"relative z-10 flex-1 pt-4 pb-3 space-y-2 overflow-y-auto overflow-x-hidden no-scrollbar",children:W.flatMap((e=>e.items)).map((e=>{const r=je(e.path),i=Array.isArray(Se[r])&&Se[r].length>0,a=!!we[r];return(0,u.jsx)(o.k2,{to:e.path,title:e.label,onClick:o=>{const l=r&&H===r;if(i&&a){o.preventDefault();const i=s&&p===r;if(Le(r),i)return;const a=e.path,l=t.pathname===a;H===r&&!l||n("".concat(a,"?flyout=1"))}else{if(i&&l)return o.preventDefault(),void Le(r);s&&De()}},className:"group relative ml-2.5 flex flex-col items-center justify-center w-14 h-14 rounded-md outline-none\r focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-offset-2 focus-visible:ring-offset-[#064E3B]",children:t=>{let{isActive:n}=t;const o=n||s&&p===r;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-10 h-10 rounded-full transition-all duration-200\n                        ".concat(o?"bg-[rgba(255,255,255,0.10)] scale-105":"bg-transparent group-hover:bg-[rgba(255,255,255,0.06)] group-hover:scale-105"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(o?"text-[#34D399]":"text-[rgba(255,255,255,0.85)] group-hover:text-[#34D399]"),children:e.icon})}),(0,u.jsx)("span",{className:"mt-1 max-w-[72px] truncate px-1 text-center text-[10.5px] font-inter font-medium tracking-wide leading-[12px]\n                        ".concat(o?"text-white":"text-emerald-50/70"),children:e.short||e.label}),(0,u.jsx)(Be,{text:e.label}),e.badgeCount>0&&(0,u.jsx)("span",{className:"absolute top-2 right-2",children:(0,u.jsx)(Fe,{count:e.badgeCount,collapsedBadge:!0})})]})}},"rail-".concat(e.path))}))})]}),s&&Ee.length>0&&(0,u.jsxs)(u.Fragment,{children:[(ke||Ce||_e||Pe||Oe||Te||Me||Ie||Re)&&(0,u.jsx)("div",{className:"fixed left-20 top-0 right-0 bottom-0 z-20 bg-slate-900/10 backdrop-blur-[1px]",onMouseDown:()=>{De()},"aria-hidden":"true"}),(0,u.jsx)("div",{ref:a,className:"absolute left-20 top-0 bottom-0 ".concat(ke||Ce||_e||Pe||Ie||Oe||Te||Me||Re?"w-80 bg-white shadow-2xl shadow-black/10 ring-1 ring-black/5 overflow-hidden":"w-80 bg-white shadow-xl shadow-black/10"," border-r border-slate-200 z-40"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onFocusCapture:()=>m(!0),onBlurCapture:e=>{const t=e.relatedTarget;t&&a.current&&a.current.contains(t)||m(!1)},children:ke?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(G,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"CRM Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Solutions that drive customer outcomes"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.crm"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                     ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-crm-".concat(e.path))}))})})})]})})]}):Ce?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(Y,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Campaigns Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Launch campaigns and track performance"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.campaigns"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                    ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-campaigns-".concat(e.path))}))})})})]})})]}):Pe?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)($,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Messaging Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Send messages and view reports"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.messaging"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                     ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-messaging-".concat(e.path))}))})})})]})})]}):Oe?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(T.A,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Automation Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Build bots and manage flows"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.automation"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                      ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-automation-".concat(e.path))}))})})})]})})]}):Te?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(M,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Inbox Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Manage conversations in one place"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.inbox"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                      ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-inbox-".concat(e.path))}))})})})]})})]}):Me?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(Q.A,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Settings Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Manage account, billing and integrations"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.settings"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                     ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-settings-".concat(e.path))}))})})})]})})]}):Re?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(J.A,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Admin Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Manage access, plans and platform tools"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.admin"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                     ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-admin-".concat(e.path))}))})})})]})})]}):_e?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(X,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Catalog Workspace"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Manage products and catalogs at scale"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.catalog"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                     ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-catalog-".concat(e.path))}))})})})]})})]}):Ie?(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200",children:(0,u.jsxs)("div",{className:"px-6 py-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"min-w-0 flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-11 h-11 rounded-2xl bg-emerald-50 border border-emerald-100 text-emerald-700",children:(0,u.jsx)(Z,{size:20})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[18px] font-extrabold text-slate-900 leading-tight truncate",children:"Template Builder"}),(0,u.jsx)("div",{className:"text-[12px] font-semibold text-slate-500 truncate",children:"Create and manage WhatsApp templates"})]})]})}),(0,u.jsx)("button",{type:"button",onClick:()=>{De()},className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset","aria-label":"Hide submenu",title:"Hide",children:(0,u.jsx)(be,{size:18})})]})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:(0,u.jsxs)("div",{className:"p-6 relative",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(90deg,_#ffffff_0%,_#ffffff_86%,_#ecfdf5_100%)]"}),(0,u.jsx)("div",{className:"grid grid-cols-12 gap-5 relative",children:(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout.templatebuilder"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-2 rounded-lg px-2 py-1.5 outline-none transition-colors transition-shadow\n                                    focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                                     ".concat(n?"relative bg-[#0a322b]/[0.10] text-slate-900 shadow-sm ring-1 ring-[#0a322b]/[0.18] before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-2 before:w-[3px] before:bg-[#0a322b] before:rounded-full":"bg-transparent text-slate-900"," ").concat(t?"hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/60")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md border transition-colors transition-shadow ".concat(t?"bg-white border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm":"bg-amber-50 border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-700 group-hover:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsxs)("span",{className:"min-w-0 flex-1 flex items-center gap-2 truncate",children:[(0,u.jsx)("span",{className:"truncate text-[14px] font-medium tracking-tight ".concat(t?"text-slate-900":"text-slate-600"),children:e.label}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center text-amber-700",children:(0,u.jsx)(he,{size:14})})]}),!t&&(0,u.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Upgrade"})]})},"flyout-templatebuilder-".concat(e.path))}))})})})]})})]}):(0,u.jsxs)("div",{className:"py-4 overflow-y-auto overflow-x-hidden no-scrollbar h-full",children:[(0,u.jsx)("div",{className:"px-4",children:(0,u.jsx)("ul",{className:"space-y-1",children:Ee.map((e=>{const{allowed:t,blockedReason:n}=q(e);return(0,u.jsx)("li",{children:(0,u.jsxs)(o.k2,{to:e.path,onClick:r=>{if(!t)return r.preventDefault(),void Ne({blockedReason:n,item:e,source:"sidebar.flyout"});De({restoreFlyoutUrl:!1})},className:e=>{let{isActive:n}=e;return"group flex items-center gap-3 min-h-12 px-3 py-2 rounded-md transition-colors transition-shadow outline-none\n                             focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-inset\n                              ".concat(n?"is-active bg-[#0a322b]/[0.10] ring-1 ring-[#0a322b]/[0.18] shadow-sm":"bg-transparent"," ").concat(t?"border border-transparent hover:bg-[#0a322b]/[0.10] hover:shadow-sm hover:ring-1 hover:ring-[#0a322b]/[0.18]":"border border-dashed border-amber-300 bg-amber-50/30 hover:bg-amber-50/50 hover:shadow-sm hover:ring-1 hover:ring-amber-200/50")},"aria-disabled":!t,children:[(0,u.jsx)("span",{className:"flex items-center justify-center w-9 h-9 rounded-md transition-colors transition-shadow\n                              ".concat(t?"bg-slate-50 border border-slate-200 group-hover:bg-[#0a322b]/[0.10] group-hover:border-[#0a322b]/[0.18] group-hover:shadow-sm group-[.is-active]:bg-[#0a322b]/[0.16] group-[.is-active]:border-[#0a322b]/[0.22]":"bg-amber-50 border border-amber-200 group-hover:bg-amber-50/60 group-hover:border-amber-200"),children:(0,u.jsx)("span",{className:"transition-colors ".concat(t?"text-slate-500 group-hover:text-[#0a322b] group-[.is-active]:text-[#0a322b]":"text-amber-700"),children:e.icon})}),(0,u.jsx)("span",{className:"flex-1 text-[13px] font-semibold text-slate-800 group-[.is-active]:text-slate-900 whitespace-normal leading-snug",children:e.label}),!t&&(0,u.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5\r text-[11px] font-semibold text-amber-700",title:"Upgrade to unlock",children:[(0,u.jsx)(he,{size:14}),"Upgrade"]})]})},"flyout-".concat(e.path))}))})}),(0,u.jsx)("div",{className:"px-4 mt-6 text-center text-xs text-slate-500",children:"Powered by XploreByte"})]})})]})]})}var Se=n(19233),Ae=n(92382);const Ee=(0,_.A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),ke=(0,_.A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function Ce(t){let{currentPlan:n}=t;const[r,o]=(0,e.useState)(!1),a=(0,e.useRef)(null),s=(0,i.Zp)(),c=(0,i.zy)(),{userName:d,user:p,logout:f}=(0,l.h)(),h=localStorage.getItem("userName")||"User",m=d||h,g=(null===p||void 0===p?void 0:p.email)||(null===p||void 0===p?void 0:p.Email)||localStorage.getItem("email")||"",v=localStorage.getItem("userAvatar")||"/user_avatar_premium.png",x=n||localStorage.getItem("plan")||"basic",b=x.charAt(0).toUpperCase()+x.slice(1);(0,e.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);return(0,u.jsxs)("div",{className:"relative",ref:a,children:[(0,u.jsxs)("button",{onClick:()=>o((e=>!e)),className:"flex items-center gap-2",children:[(0,u.jsx)("img",{src:v,alt:"User Avatar",className:"w-9 h-9 rounded-full border border-gray-300 shadow-sm"}),(0,u.jsx)(Ae.A,{size:16,className:"text-gray-600 hidden sm:block"})]}),r&&(0,u.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white border rounded-lg shadow-lg z-50 animate-fadeIn",children:[(0,u.jsxs)("div",{className:"px-4 py-3 border-b",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-800",children:m}),g&&(0,u.jsx)("p",{className:"text-xs text-gray-500 truncate",children:g}),(0,u.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5",children:["Plan: ",b]})]}),(0,u.jsxs)("ul",{className:"py-1 text-sm text-gray-700",children:[(0,u.jsx)("li",{children:(0,u.jsxs)("button",{onClick:()=>{o(!1),s("/app/settings/profile-completion")},className:"w-full flex items-center px-4 py-2 hover:bg-emerald-50 group",children:[(0,u.jsx)(pe,{size:16,className:"mr-2 text-indigo-500 transition-transform group-hover:scale-110"}),"Profile Update"]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{onClick:()=>{o(!1),s("/app/settings/password")},className:"w-full flex items-center px-4 py-2 hover:bg-emerald-50 group",children:[(0,u.jsx)(he,{size:16,className:"mr-2 text-sapphire-600 transition-transform group-hover:scale-110"}),"Change Password"]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{onClick:()=>{o(!1),s("/app/settings/billing")},className:"w-full flex items-center px-4 py-2 hover:bg-emerald-50 group",children:[(0,u.jsx)(Ee,{size:16,className:"mr-2 text-emerald-600 transition-transform group-hover:scale-110"}),"Upgrade Plan"]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{onClick:()=>{o(!1);c.pathname,c.search,c.hash;try{f()}catch(e){console.warn("[UserMenuDropdown] logout() failed",e)}try{localStorage.removeItem("messaging-pinned"),localStorage.removeItem("messaging-archived"),localStorage.removeItem("messaging-order")}catch(t){}s("/login")},className:"w-full flex items-center px-4 py-2 hover:bg-red-50 text-red-600",children:[(0,u.jsx)(ke,{size:16,className:"mr-2"}),"Logout"]})})]})]})]})}function _e(){const{role:t}=(0,l.h)(),[n,r]=(0,e.useState)(""),[o,i]=(0,e.useState)(null),[a,s]=(0,e.useState)(null),[d,u]=(0,e.useState)(!1),[p,f]=(0,e.useState)("");return(0,e.useEffect)((()=>{let e=!1;return async function(){u(!0),f(""),r(""),i(null),s(null);try{const n=await c.default.get("/plan/me/permissions"),o=(null===n||void 0===n?void 0:n.data)||{},a=o.plan||null;var t;if(!e)if(s(null!==(t=o.planId)&&void 0!==t?t:null),a){const e=(a.name||"").trim().toLowerCase();r(e),i(a)}}catch(Jg){if(!e){var n,o;const e=(null===Jg||void 0===Jg||null===(n=Jg.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||(null===Jg||void 0===Jg?void 0:Jg.message)||"Failed to load plan";f(e)}}finally{e||u(!1)}}(),()=>{e=!0}}),[]),{plan:n,planObj:o,planId:a,loading:d,error:p,role:t}}var Pe=n(40614);function Oe(t){let{selectedId:n,selectedName:r,onSelect:o,onClear:i}=t;const s=(0,e.useRef)(null),[l,d]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[h,m]=(0,e.useState)([]),[g,v]=(0,e.useState)(""),x=(0,e.useMemo)((()=>{const e=g.trim().toLowerCase();return e?h.filter((t=>String((null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.businessName)||"").toLowerCase().includes(e)||String((null===t||void 0===t?void 0:t.id)||"").toLowerCase().includes(e))):h}),[g,h]);return(0,e.useEffect)((()=>{l&&0===h.length&&!p&&async function(){f(!0);try{const{data:e}=await c.default.get("/Businesses/approved",{__silentToast:!0,__silent401:!0,__silent403:!0}),t=(Array.isArray(e)?e:(null===e||void 0===e?void 0:e.items)||[]).map((e=>({id:e.id||e.businessId||e.BusinessId,name:e.name||e.businessName||e.BusinessName||"Unnamed Business"})));m(t.filter((e=>!!e.id)))}catch(e){a.oR.error("Failed to load businesses for selection.")}finally{f(!1)}}()}),[l]),(0,e.useEffect)((()=>{if(l)return document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("keydown",t,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("keydown",t,!0)};function e(e){const t=s.current;t&&(t.contains(e.target)||d(!1))}function t(e){"Escape"===e.key&&d(!1)}}),[l]),(0,u.jsxs)("div",{ref:s,className:"relative",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>d((e=>!e)),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 text-sm font-medium text-gray-800 shadow-sm",title:"Select business context",children:[(0,u.jsx)("span",{className:"max-w-[220px] truncate",children:n?r||"Selected Business":"Select Business"}),(0,u.jsx)(Ae.A,{size:16,className:"text-gray-500"})]}),l&&(0,u.jsxs)("div",{className:"absolute right-0 mt-2 w-[360px] rounded-xl border border-gray-200 bg-white shadow-lg z-50 overflow-hidden",children:[(0,u.jsxs)("div",{className:"p-3 border-b border-gray-100",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("input",{value:g,onChange:e=>v(e.target.value),placeholder:"Search business...",className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-200"}),n&&(0,u.jsx)("button",{type:"button",onClick:()=>{null===i||void 0===i||i(),d(!1)},className:"p-2 rounded-lg hover:bg-gray-100",title:"Clear selection",children:(0,u.jsx)(Pe.A,{size:16,className:"text-gray-600"})})]}),(0,u.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:n?"You are viewing business-scoped modules in this selected context.":"No business selected. You are in platform scope."})]}),(0,u.jsx)("div",{className:"max-h-[340px] overflow-auto",children:p?(0,u.jsx)("div",{className:"p-4 text-sm text-gray-600",children:"Loading businesses\u2026"}):0===x.length?(0,u.jsx)("div",{className:"p-4 text-sm text-gray-600",children:"No businesses found."}):x.map((e=>(0,u.jsx)("button",{type:"button",onClick:()=>{null===o||void 0===o||o(e),d(!1)},className:"w-full text-left px-4 py-3 hover:bg-emerald-50 transition ".concat(e.id===n?"bg-emerald-50":""),children:(0,u.jsx)("div",{className:"text-sm font-semibold text-gray-900 truncate",children:e.name})},e.id)))})]})]})}const Te={admin:"Super Admin",partner:"Business Partner",reseller:"Reseller Partner",business:"Business",staff:"Staff"},Me={admin:"bg-red-50 text-red-700 border border-red-200",partner:"bg-sapphire-50 text-sapphire-700 border border-sapphire-200",reseller:"bg-cyan-50 text-cyan-700 border border-cyan-200",business:"bg-emerald-50 text-emerald-700 border border-emerald-200",staff:"bg-gray-50 text-gray-700 border border-gray-200",default:"bg-gray-100 text-gray-600 border border-gray-200"};function Ie(){const t=(0,i.zy)(),n=(0,i.Zp)(),{userName:r,role:o,selectedBusinessId:a,selectedBusinessName:s,setSuperAdminBusiness:c,clearSuperAdminBusiness:d}=("/app/welcomepage"===t.pathname||t.pathname,(0,l.h)()),{plan:p,planId:f,loading:h,error:m}=_e(),g=(o||"").toLowerCase(),v=Te[g]||g||"Unknown",x=Me[g]||Me.default,b=!("superadmin"===g||"admin"===g||"partner"===g||"reseller"===g),y=b&&!h&&!!f&&!!p,w=b&&!h&&!f&&!p&&!m,j=b&&!h&&!!m&&!y,N=(0,e.useMemo)((()=>b?"Role: ".concat(v)+(h?" \u2022 Plan: loading\u2026":y?" \u2022 Plan: ".concat(p):w?" \u2022 Plan: Free setup mode (no paid plan yet)":j?" \u2022 Plan: Error loading plan":""):"Role: ".concat(v)),[b,v,h,y,p,w,j]);return(0,e.useEffect)((()=>{j&&console.warn("[Topbar] Plan load error for current user.",{planId:f,planError:m,role:g,userName:r})}),[j,f,m,g,r]),(0,u.jsx)("header",{className:"sticky top-0 z-50 shadow-md border-b border-gray-100 transition-all duration-500",style:{background:"linear-gradient(217deg, rgba(13, 59, 44, 1) 0%, rgba(218, 230, 225, 1) 25%, rgba(247, 247, 247, 1) 100%)"},children:(0,u.jsx)("div",{className:"pl-2 lg:pl-4 pr-4 lg:pr-8 py-1",children:(0,u.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsxs)("button",{type:"button",onClick:()=>n("/app/welcomepage"),className:"flex items-center gap-0.5 hover:opacity-90 transition-all duration-300 group",title:"XploreByte",children:[(0,u.jsx)("img",{src:"/logo/favicon.svg",alt:"XploreByte",className:"h-14 w-14 p-2.5 transition-transform duration-300 group-hover:scale-105 object-contain"}),(0,u.jsx)("span",{className:"text-[18px] font-semibold font-brand leading-[24px] text-[#111827] tracking-tight",children:"XploreByte"})]})}),(0,u.jsxs)("div",{className:"flex items-center gap-4 ml-auto",children:[(0,u.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,u.jsxs)("div",{className:"text-right",children:[(0,u.jsx)("div",{className:"text-xs text-gray-600",children:"Welcome"}),(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:r||"User"})]}),(0,u.jsx)("div",{className:"inline-flex items-center rounded-full px-3 py-1.5 text-xs font-medium ".concat(x," shadow-sm"),title:N,"aria-label":N,children:v}),"admin"===g&&(0,u.jsx)(Oe,{selectedId:a,selectedName:s,onSelect:e=>c(e),onClear:()=>d()}),y&&(0,u.jsx)("div",{className:"inline-flex items-center rounded-full px-3 py-1.5 text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm capitalize",title:"Current Plan: ".concat(p),"aria-label":"Plan: ".concat(p),children:p}),b&&!h&&w&&(0,u.jsx)("div",{className:"inline-flex items-center rounded-full px-3 py-1.5 text-xs font-medium bg-sky-50 text-sky-700 border border-sky-200 shadow-sm",title:"Your current plan is Basic","aria-label":"Plan: Basic",children:"Basic"}),b&&!h&&j&&(0,u.jsx)("div",{className:"inline-flex items-center rounded-full px-3 py-1.5 text-xs font-medium bg-red-50 text-red-700 border border-red-200 shadow-sm",title:"There was an error loading your plan. Please contact support.","aria-label":"Plan error",children:"Plan Error"})]}),(0,u.jsxs)("button",{title:"Notifications",className:"relative p-2.5 rounded-lg text-gray-600 hover:text-sapphire-600 hover:bg-sapphire-50 transition-all duration-200 group",children:[(0,u.jsx)(Se.A,{size:20}),(0,u.jsxs)("span",{className:"absolute top-1.5 right-1.5 flex h-3 w-3",children:[(0,u.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,u.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),(0,u.jsx)(Ce,{currentPlan:y?p:w?"Basic":""})]})]})})})}const Re=e=>{const t=e.split("/").filter((e=>""!==e));"app"===t[0]&&t.shift();const n=[{label:"Home",path:"/app/welcomepage",isActive:!1}];if(0===t.length)return n[0].isActive=!0,n;const r={dashboard:"Dashboard",welcomepage:"Dashboard",campaigns:"Campaigns","template-campaigns-list":"Template Campaigns","template-single":"New Campaign","image-campaigns":"Image Campaigns","assign-contacts":"Assign Contacts","assigned-contacts":"Assigned Contacts",messaging:"Messaging","send-direct-text":"Send Direct Message",reporting:"Reporting","direct-message-history":"Message History",conversations:"Conversations",contacts:"Contacts",settings:"Settings",whatsapp:"Manual WhatsApp Business Api Setup",password:"Password Settings",automation:"Automation",templatebuilder:"Template Builder",crm:"CRM",catalog:"Catalog",inbox:"Inbox",admin:"Admin",insights:"Insights","catalog-insights":"Catalog Insights","crm-insights":"CRM Insights","flow-insights":"Flow Insights",devtools:"Developer Tools","cta-tester":"CTA Tester",webhooks:"Webhooks",failed:"Failed Webhooks",plans:"Plan Manager","profile-update":"Profile Update","cta-flow":"CTA Flow","visual-builder":"Visual Builder","flow-manager":"Flow Manager",messagelogs:"Message Logs","cta-management":"CTA Management","campaign-wizard":"Campaign Wizard",tracking:"Tracking",logs:"Logs","template-campaigns":"Template Campaigns","image-campaign":"Image Campaign","flow-analytics":"Flow Analytics","auto-reply-builder":"Auto Reply Builder","webhook-settings":"Webhook Settings","plan-manager":"Plan Manager",businesses:"Businesses","message-history":"Message History","campaign-send-logs":"Campaign Send Logs",list:"Campaign List",products:"Products",form:"Add Product",tags:"Tags",reminders:"Reminders",timeline:"Timeline",notes:"Notes",attributes:"Attribute",approvals:"Business Approvals",features:"Feature Toggles","user-permissions":"User Permissions",inboxwrapper:"Inbox","send-template-simple":"Send Template","whatsapp-settings":"Manual WhatsApp Business Api Setup","profile-completion":"Profile Completion",welcome:"Welcome Center",403:"Access Denied",progress:"Campaign Progress","team-staff":"Team Staff","manage-staff":"Manage Staff","access-control":"Access Control","meta-account":"Meta Account"};let o="/app";return t.forEach(((e,i)=>{o+="/".concat(e);const a=i===t.length-1;let s=r[e];s||(s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)||/^\d+$/.test(e)?"Details":e.split(/[-_]+/g).filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")),n.push({label:s,path:o,isActive:a})})),n};function De(){const e=(0,i.zy)(),t=(0,i.Zp)(),n=Re(e.pathname)||[],r=!e.pathname.startsWith("/app/inbox/chatinbox")&&n.length>=2,o=r?n[n.length-1].label:"";return(0,u.jsxs)("div",{className:"flex h-screen w-full flex-col overflow-hidden bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50","data-test-id":"app-layout-root",children:[(0,u.jsx)(Ie,{}),(0,u.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,u.jsx)("div",{className:"w-20 flex-shrink-0 bg-white shadow-xl h-full z-[45] transition-all duration-300",children:(0,u.jsx)(Ne,{})}),(0,u.jsxs)("div",{className:"flex flex-col flex-1 h-full overflow-hidden transition-all duration-300",children:[r&&(0,u.jsx)("div",{className:"bg-transparent sticky top-0 z-[35] font-['Plus_Jakarta_Sans']",children:(0,u.jsx)("div",{className:"px-4 lg:px-6 h-12 flex items-center justify-between gap-3 min-w-0",children:(0,u.jsxs)("div",{className:"flex items-center gap-3 min-w-0 border-b-2 border-slate-200/80 pb-2 mb-2 mt-2 transition-all",children:[(0,u.jsx)("h1",{className:"min-w-0 text-[14px] font-bold text-slate-800 truncate",children:o}),(0,u.jsx)("div",{className:"hidden md:block h-3 w-[1px] bg-slate-200/60"}),(0,u.jsxs)("nav",{className:"flex items-center gap-0.5 text-[11px] font-medium text-slate-400 tracking-tight overflow-x-auto no-scrollbar min-w-0",children:[(0,u.jsx)("button",{onClick:()=>t("/app/welcomepage"),className:"inline-flex items-center justify-center w-7 h-7 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Home","aria-label":"Home",children:(0,u.jsx)(H,{size:13})}),n.slice(1).map(((e,n)=>(0,u.jsxs)("div",{className:"flex items-center gap-0.5 shrink-0",children:[(0,u.jsx)(q.A,{size:11,className:"text-slate-300 mx-1"}),(0,u.jsx)("button",{onClick:()=>t(e.path),className:"px-3 py-1 rounded-full transition-all duration-300 ".concat(e.isActive?"bg-emerald-50 text-emerald-600 font-bold shadow-sm ring-1 ring-emerald-100/50":"text-slate-400 hover:text-emerald-600 hover:bg-emerald-50/40"),"aria-current":e.isActive?"page":void 0,children:e.label})]},"".concat(e.path,"-").concat(n))))]})]})})}),(0,u.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,u.jsx)(i.sv,{})})]})]})]})}const Le=(0,_.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var Fe=n(64830);function Be(){const t=(0,i.Zp)(),{userName:n}=(0,l.h)(),{planObj:r}=_e(),[o,a]=(0,e.useState)(""),[s,c]=(0,e.useState)({step1:!0,step2:!1,step3:!1}),[d]=(0,e.useState)({ai:500,ads:0,freeConversations:0,wcc:50}),p=e=>{c((t=>(0,b.A)((0,b.A)({},t),{},{[e]:!t[e]})))};return(0,u.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,u.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,u.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-400 rounded-lg p-4 shadow-sm hover:shadow-md transition-all duration-200",children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex items-start gap-3",children:[(0,u.jsx)("div",{className:"text-3xl",children:"\ud83d\udc8e"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-bold text-green-900",children:"Unlock Everything for 1 Month\u2014Free!"}),(0,u.jsxs)("p",{className:"text-sm text-green-700 mt-1 flex items-center gap-1",children:[(0,u.jsx)(G,{size:14}),"Join thousands of satisfied users today"]}),(0,u.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"Get full access to all features across the platform"}),(0,u.jsxs)("ul",{className:"text-xs text-green-700 mt-1 list-disc list-inside",children:[(0,u.jsx)("li",{children:"Experience a complete 1-month free trial of the entire platform"}),(0,u.jsx)("li",{children:"Access all Pro + Flow plan features and capabilities"})]})]})]}),(0,u.jsxs)("button",{onClick:()=>{t("/app/upgrade")},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold shadow hover:shadow-md transition flex items-center gap-2 shrink-0",children:["Start Free Trial Now",(0,u.jsx)(D,{size:18})]})]})}),(0,u.jsxs)("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,u.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Setup FREE WhatsApp Business Account"}),(0,u.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:"3 steps left"})]}),(0,u.jsxs)("div",{className:"border border-gray-300 rounded-lg mb-2 hover:border-gray-400 transition-colors duration-200",children:[(0,u.jsxs)("button",{onClick:()=>p("step1"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)(Le,{className:"text-green-600",size:20}),(0,u.jsx)("span",{className:"font-semibold text-gray-900",children:"Apply for WhatsApp Business API"})]}),(0,u.jsx)(q.A,{className:"transition-transform ".concat(s.step1?"rotate-90":""),size:16})]}),s.step1&&(0,u.jsx)("div",{className:"px-4 pb-4 border-t border-gray-200",children:(0,u.jsxs)("div",{className:"pt-4",children:[(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Click on Continue With Facebook to apply for WhatsApp Business API"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Requirements to apply for WhatsApp Business API: A Registered Business & Working Website."}),(0,u.jsxs)("div",{className:"relative bg-gray-200 rounded-lg aspect-video mb-3",children:[(0,u.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,u.jsx)(Fe.A,{className:"text-purple-600",size:40})}),(0,u.jsx)("div",{className:"absolute top-2 left-2 bg-white px-2 py-1 rounded text-xs font-semibold",children:"Tutorial"}),(0,u.jsx)("div",{className:"absolute bottom-2 left-2 right-2",children:(0,u.jsx)("div",{className:"bg-white rounded p-2",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,u.jsx)(Fe.A,{className:"text-purple-600",size:16})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs font-semibold text-gray-700",children:"How to get FREE WhatsApp API"}),(0,u.jsx)("span",{className:"text-xs text-purple-600",children:"in 10 Mins"})]})]})})})]}),(0,u.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,u.jsx)("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md text-sm font-medium transition",children:"Schedule Meetings"}),(0,u.jsx)("button",{onClick:()=>{t("/app/settings/whatsapp")},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md text-sm font-medium transition shadow",children:"Continue With Facebook"})]}),(0,u.jsx)("button",{className:"text-xs text-blue-600 hover:underline mt-2",children:"How to apply for WhatsApp Business API?"})]})})]}),(0,u.jsxs)("div",{className:"border border-gray-300 rounded-lg mb-2 hover:border-gray-400 transition-colors duration-200",children:[(0,u.jsxs)("button",{onClick:()=>p("step2"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)(Le,{className:"text-orange-500",size:20}),(0,u.jsx)("span",{className:"font-semibold text-gray-900",children:"Increase your messaging limit & get your display name approved"})]}),(0,u.jsx)(q.A,{className:"transition-transform ".concat(s.step2?"rotate-90":""),size:16})]}),s.step2&&(0,u.jsx)("div",{className:"px-4 pb-4 border-t border-gray-200",children:(0,u.jsxs)("div",{className:"pt-4",children:[(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Verify your business identity to unlock higher messaging capacity and get your business name verified"}),(0,u.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[(0,u.jsx)("h5",{className:"text-sm font-semibold text-orange-900 mb-3",children:"Verification Checklist:"}),(0,u.jsxs)("ul",{className:"text-sm text-orange-800 space-y-2 list-disc list-inside",children:[(0,u.jsx)("li",{children:"Business name on your GST registration must be identical to your Facebook Business Manager account"}),(0,u.jsx)("li",{children:"Your company website must be live and accessible before submitting verification documents"}),(0,u.jsx)("li",{children:"Submit the Aadhaar card of the director whose name appears on your GST certificate"})]}),(0,u.jsxs)("p",{className:"text-xs text-orange-700 mt-3",children:["Need additional guidance? Check our"," ",(0,u.jsx)("button",{className:"underline font-semibold",children:"verification guide"})]})]}),(0,u.jsx)("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium transition",children:"Start KYC"})]})})]}),(0,u.jsxs)("div",{className:"border border-gray-300 rounded-lg mb-2 hover:border-gray-400 transition-colors duration-200",children:[(0,u.jsxs)("button",{onClick:()=>p("step3"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)(Le,{className:"text-blue-500",size:20}),(0,u.jsx)("span",{className:"font-semibold text-gray-900",children:"Setup Your Profile"})]}),(0,u.jsx)(q.A,{className:"transition-transform ".concat(s.step3?"rotate-90":""),size:16})]}),s.step3&&(0,u.jsx)("div",{className:"px-4 pb-4 border-t border-gray-200",children:(0,u.jsxs)("div",{className:"pt-4",children:[(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Complete your business profile with logo, description, and contact information."}),(0,u.jsx)("button",{onClick:()=>window.open("https://business.facebook.com/latest/whatsapp_manager/overview/?business_id=1691627885569206&tab=home&nav_ref=whatsapp_manager&asset_id=1777503206267612","_blank"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium transition",children:"Edit Profile"})]})})]})]})]}),(0,u.jsx)("div",{className:"space-y-6",children:(0,u.jsxs)("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[(0,u.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Quick Links & Resources"}),(0,u.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Learn how to use templates, campaigns, live chat and chatbots."}),(0,u.jsx)("div",{className:"mt-4 space-y-5 text-sm",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"\ud83d\udcc4 Templates"}),(0,u.jsxs)("ul",{className:"space-y-1",children:[(0,u.jsx)("li",{className:"text-blue-600 hover:underline cursor-pointer",children:"How to Create WhatsApp Template Message?"}),(0,u.jsx)("li",{className:"text-blue-600 hover:underline cursor-pointer",children:"How to apply for WhatsApp Business Api Free?"})]})]})})]})})]})})}function ze(){const{isLoading:t,isAuthenticated:n}=(0,l.h)(),r=(0,i.Zp)();return(0,e.useEffect)((()=>{t||r(n?"/app/dashboard".concat(window.location.search):"/login".concat(window.location.search),{replace:!0})}),[t,n,r]),null}const Ue=function(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)({title:"",buttonText:"",buttonType:"url",targetUrl:"",description:""}),i=async()=>{try{const e=await c.default.get("/ctamanagement/get-all");n(e.data)}catch(e){a.oR.error("Failed to load CTA definitions")}};(0,e.useEffect)((()=>{i()}),[]);const s="w-full border border-gray-200 px-3 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400";return(0,u.jsx)("div",{className:"min-h-[calc(100vh-80px)] bg-[#f5f6f7]",children:(0,u.jsxs)("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-emerald-800",children:"CTA Management"}),(0,u.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow space-y-3",children:[(0,u.jsx)("input",{type:"text",value:r.title,onChange:e=>o((0,b.A)((0,b.A)({},r),{},{title:e.target.value})),placeholder:"CTA Title (e.g. Buy Now)",className:s}),(0,u.jsx)("input",{type:"text",value:r.buttonText,onChange:e=>o((0,b.A)((0,b.A)({},r),{},{buttonText:e.target.value})),placeholder:"Button Text (e.g. Buy Now)",className:s}),(0,u.jsxs)("select",{value:r.buttonType,onChange:e=>o((0,b.A)((0,b.A)({},r),{},{buttonType:e.target.value})),className:s,children:[(0,u.jsx)("option",{value:"url",children:"URL"}),(0,u.jsx)("option",{value:"quick_reply",children:"Quick Reply"})]}),(0,u.jsx)("input",{type:"text",value:r.targetUrl,onChange:e=>o((0,b.A)((0,b.A)({},r),{},{targetUrl:e.target.value})),placeholder:"Target URL or value",className:s}),(0,u.jsx)("textarea",{value:r.description,onChange:e=>o((0,b.A)((0,b.A)({},r),{},{description:e.target.value})),placeholder:"Optional description",className:s}),(0,u.jsx)("button",{type:"button",onClick:async()=>{try{var e;const t=await c.default.post("/ctamanagement/create",{title:r.title,buttonText:r.buttonText,buttonType:r.buttonType,targetUrl:r.targetUrl,description:r.description});a.oR.success((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message)||"CTA saved"),o({title:"",buttonText:"",buttonType:"url",targetUrl:"",description:""}),i()}catch(s){var t,n;const e=(null===s||void 0===s||null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save CTA";a.oR.error(e)}},className:"bg-emerald-600 text-white font-semibold px-4 py-2 rounded-xl hover:bg-emerald-700 transition",children:"Add CTA"})]}),(0,u.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow space-y-3",children:[(0,u.jsx)("h3",{className:"font-semibold text-emerald-800",children:"Saved CTAs"}),t.map((e=>(0,u.jsxs)("div",{className:"border border-gray-200 p-3 rounded-xl text-sm space-y-1 bg-slate-50",children:[(0,u.jsx)("div",{children:(0,u.jsx)("strong",{className:"text-slate-900",children:e.title})}),(0,u.jsxs)("div",{className:"text-slate-700",children:["Type: ",e.buttonType]}),(0,u.jsxs)("div",{className:"text-slate-700",children:["Text: ",e.buttonText]}),(0,u.jsxs)("div",{className:"text-slate-700",children:["Value: ",e.targetUrl]}),(0,u.jsx)("div",{className:"text-gray-500 text-xs",children:e.description})]},e.id)))]})]})})};const Ve=function(){const{id:t}=(0,i.g)(),n=(0,i.Zp)(),[r,o]=(0,e.useState)(null),[s,l]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{(async()=>{try{const e=await c.default.get("/campaign/".concat(t));o(e.data)}catch(e){a.oR.error("Failed to load campaign details")}finally{l(!1)}})()}),[t]),s?(0,u.jsx)("p",{className:"text-center text-gray-500",children:"Loading..."}):r?(0,u.jsx)("div",{className:"min-h-[calc(100vh-80px)] bg-[#f5f6f7] p-6",children:(0,u.jsxs)("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow-xl rounded-xl space-y-6",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-purple-600",children:"\ud83d\udcc4 Image Campaign Details"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-600 font-semibold",children:"Campaign Name"}),(0,u.jsx)("p",{className:"mt-1 text-gray-800",children:r.name})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-600 font-semibold",children:"Message Template"}),(0,u.jsx)("p",{className:"mt-1 text-gray-800 whitespace-pre-wrap",children:r.messageTemplate})]}),r.imageUrl&&(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-600 font-semibold",children:"Image"}),(0,u.jsx)("img",{src:r.imageUrl,alt:"Campaign",className:"mt-2 w-full h-64 object-cover border rounded"})]}),r.imageCaption&&(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-600 font-semibold",children:"Image Caption"}),(0,u.jsx)("p",{className:"mt-1 text-gray-800",children:r.imageCaption})]}),r.cta&&(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-600 font-semibold",children:"CTA"}),(0,u.jsxs)("p",{className:"mt-1 text-gray-800",children:[r.cta.title," \u2014"," ",(0,u.jsx)("span",{className:"text-purple-600 font-semibold",children:r.cta.buttonText})]})]}),(0,u.jsx)("div",{className:"pt-4",children:(0,u.jsx)("button",{onClick:()=>n("/app/campaign/image-campaigns/".concat(t,"/assign-contacts")),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-medium shadow",children:"\u2795 Assign Contacts"})})]})}):(0,u.jsx)("p",{className:"text-center text-red-500",children:"Campaign not found"})};const We=function(){const{id:t}=(0,i.g)(),n=(0,i.Zp)(),[r,o]=(0,e.useState)({name:"",messageTemplate:"",imageUrl:"",imageCaption:"",ctaId:""}),[s,l]=(0,e.useState)([]),[d,p]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{try{const[e,n]=await Promise.all([c.default.get("/campaigns/".concat(t)),c.default.get("/ctas")]),r=e.data;o({name:r.name,messageTemplate:r.messageTemplate,imageUrl:r.imageUrl,imageCaption:r.imageCaption,ctaId:r.ctaId||""}),l(n.data)}catch(e){a.oR.error("Failed to load data")}})()}),[t]);const f=e=>{const{name:t,value:n}=e.target;o((e=>(0,b.A)((0,b.A)({},e),{},{[t]:n})))};return(0,u.jsx)("div",{className:"min-h-[calc(100vh-80px)] bg-[#f5f6f7] p-6",children:(0,u.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white shadow rounded-xl space-y-4",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-purple-600",children:"\u270f\ufe0f Edit Image Campaign"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0);try{await c.default.put("/campaigns/".concat(t),r),a.oR.success("Campaign updated"),n("/app/campaigns/image-campaigns")}catch(o){a.oR.error("Failed to update campaign")}finally{p(!1)}},className:"space-y-4",children:[(0,u.jsx)("input",{type:"text",name:"name",value:r.name,onChange:f,className:"w-full p-2 border rounded",placeholder:"Campaign Name",required:!0}),(0,u.jsx)("textarea",{name:"messageTemplate",value:r.messageTemplate,onChange:f,rows:3,className:"w-full p-2 border rounded",placeholder:"Message Template"}),(0,u.jsx)("input",{type:"text",name:"imageUrl",value:r.imageUrl,onChange:f,className:"w-full p-2 border rounded",placeholder:"Image URL"}),r.imageUrl&&(0,u.jsx)("img",{src:r.imageUrl,alt:"Preview",className:"w-full h-56 object-cover border rounded"}),(0,u.jsx)("input",{type:"text",name:"imageCaption",value:r.imageCaption,onChange:f,className:"w-full p-2 border rounded",placeholder:"Image Caption"}),(0,u.jsxs)("select",{name:"ctaId",value:r.ctaId,onChange:f,className:"w-full p-2 border rounded",children:[(0,u.jsx)("option",{value:"",children:"Select CTA"}),s.map((e=>(0,u.jsxs)("option",{value:e.id,children:[e.title," \u2014 ",e.buttonText]},e.id)))]}),(0,u.jsx)("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700",children:d?"Updating...":"Update Campaign"})]})]})})};var He=n(5766),qe=n.n(He),Ke=n(22963),Ge=n.n(Ke),Ye=n(54373);function Xe(t){let{selectedTags:n,onChange:r}=t;const[o,i]=(0,e.useState)([]),[s,l]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{try{var e;const t=await c.default.get("/tags/get-tags"),n=(Array.isArray(t.data)?t.data:(null===(e=t.data)||void 0===e?void 0:e.data)||[]).map((e=>({label:e.name,value:e.id})));i(n)}catch(t){console.error("\u274c Failed to fetch tags:",t),a.oR.error("Failed to load tags")}finally{l(!1)}})()}),[]);const d=o.filter((e=>n.includes(e.value)));return(0,u.jsxs)("div",{className:"w-full max-w-md",children:[(0,u.jsx)("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"\ud83c\udff7\ufe0f Filter by Tags (All)"}),(0,u.jsx)(Ye.Ay,{isMulti:!0,options:o,value:d,onChange:e=>{const t=e?e.map((e=>e.value)):[];r(t)},isLoading:s,placeholder:"Select tags...",className:"react-select-container",classNamePrefix:"react-select",noOptionsMessage:()=>s?"Loading...":"No tags available"})]})}function $e(e){var t;return null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:e}async function Ze(e){var t,n,r,o,i,a;const{data:s}=await c.default.get("/campaigns/".concat(e,"/csv-sample/schema")),l=null!==(t=$e(s))&&void 0!==t?t:{};let d=null!==(n=l.headers)&&void 0!==n?n:null===(r=l.data)||void 0===r?void 0:r.headers;!d&&Array.isArray(null===l||void 0===l?void 0:l.data)&&(d=l.data),Array.isArray(d)||(d=[]);return{headers:d,placeholderCount:Number(null!==(o=null!==(i=l.placeholderCount)&&void 0!==i?i:null===(a=l.data)||void 0===a?void 0:a.placeholderCount)&&void 0!==o?o:0)||0}}async function Je(e){var t,n,r,o,i,a;const{data:s}=await c.default.get("/csv/batch/".concat(e)),l=null!==(t=$e(s))&&void 0!==t?t:{},d=null!==(n=null!==(r=null!==(o=l.headers)&&void 0!==o?o:l.headerJson)&&void 0!==r?r:l.Headers)&&void 0!==n?n:[];return(0,b.A)((0,b.A)({},l),{},{batchId:null!==(i=null!==(a=l.batchId)&&void 0!==a?a:l.BatchId)&&void 0!==i?i:e,headers:d,headerJson:d})}async function Qe(e,t){var n;const{data:r}=await c.default.post("/campaigns/".concat(e,"/mappings"),t);return null!==(n=$e(r))&&void 0!==n?n:{}}async function et(e,t){var n;const{data:r}=await c.default.post("/campaigns/".concat(e,"/materialize"),t);return null!==(n=$e(r))&&void 0!==n?n:{}}const tt=e=>String(e||"").toLowerCase().replace(/[\s._-]+/g,"").replace(/[^a-z0-9]/g,""),nt=["phone","mobile","whatsapp","number","phonee164"],rt={parameter1:["param1","body1"],parameter2:["param2","body2"],parameter3:["param3","body3"],parameter4:["param4","body4"],parameter5:["param5","body5"],headerpara1:["header1","headerparam1"],headerpara2:["header2","headerparam2"],headerpara3:["header3","headerparam3"],buttonpara1:["btn1","button1","url1","buttonparam1"],buttonpara2:["btn2","button2","url2","buttonparam2"],buttonpara3:["btn3","button3","url3","buttonparam3"]};function ot(t){var n,r,o,s,d,p,f,h,m,g,v;let{campaignId:x,audienceName:y,campaign:w}=t;const{businessId:j}=(0,l.h)(),N=(0,i.Zp)(),[S,A]=(0,e.useState)(!0),[E,k]=(0,e.useState)(null),[C,_]=(0,e.useState)(null),[P,O]=(0,e.useState)(null),[T,M]=(0,e.useState)(null),[I,R]=(0,e.useState)({normalizePhone:!0,checkDuplicates:!0}),[D,L]=(0,e.useState)(null),[F,B]=(0,e.useState)([]),[z,U]=(0,e.useState)([]),[V,W]=(0,e.useState)({}),[H,q]=(0,e.useState)(""),[K,G]=(0,e.useState)(null),[Y,X]=(0,e.useState)(!1),[$,Z]=(0,e.useState)(!1),[J,Q]=(0,e.useState)(!1),[ee,te]=(0,e.useState)(null),[ne,re]=(0,e.useState)(!1),[oe,ie]=(0,e.useState)(!1),[ae,se]=(0,e.useState)(null),[le,ce]=(0,e.useState)(""),de=(0,e.useRef)(null),ue=(0,e.useRef)(null),[pe,fe]=(0,e.useState)(null),[he,me]=(0,e.useState)(!1),ge=(0,e.useCallback)((async()=>{if(x){me(!0);try{const e=await async function(e){var t;const{data:n}=await c.default.get("/campaigns/".concat(e,"/audience"));return null!==(t=$e(n))&&void 0!==t?t:{}}(x);fe(e)}catch(e){console.error("Failed to load campaign audience",e)}finally{me(!1)}}}),[x]);(0,e.useEffect)((()=>{ge()}),[ge]);const ve=null!==(n=null!==(r=null===pe||void 0===pe?void 0:pe.attachmentId)&&void 0!==r?r:null===pe||void 0===pe?void 0:pe.AttachmentId)&&void 0!==n?n:null,xe=!!(null!==(o=null===pe||void 0===pe?void 0:pe.isLocked)&&void 0!==o?o:null===pe||void 0===pe?void 0:pe.IsLocked),be=(0,e.useMemo)((()=>{var e,t,n,r,o,i,a,s;if(!P)return"";const l=null!==(e=null!==(t=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=null===P||void 0===P?void 0:P.fileName)&&void 0!==s?s:null===P||void 0===P?void 0:P.FileName)&&void 0!==a?a:null===P||void 0===P?void 0:P.originalFileName)&&void 0!==i?i:null===P||void 0===P?void 0:P.OriginalFileName)&&void 0!==o?o:null===P||void 0===P?void 0:P.name)&&void 0!==r?r:null===P||void 0===P?void 0:P.Name)&&void 0!==n?n:null===P||void 0===P?void 0:P.__localFileName)&&void 0!==t?t:null===P||void 0===P?void 0:P.localFileName)&&void 0!==e?e:"";return String(l).trim()}),[P]),ye=(0,e.useCallback)((()=>{O(null),M(null),L(null),G(null),q(""),W({}),re(!1);const e=Number((null===E||void 0===E?void 0:E.placeholderCount)||0);B(Array.from({length:e},((e,t)=>({index:t+1,sourceType:"csv",sourceName:"",constValue:""}))))}),[E]),we=(0,e.useMemo)((()=>[...new Set((null===E||void 0===E?void 0:E.headers)||[])]),[E]),je=(0,e.useMemo)((()=>{const e=String(y||"").trim();if(e)return e;const t=new Date,n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return"Audience ".concat(n,"-").concat(r,"-").concat(o)}),[y]);(0,e.useEffect)((()=>{const e=(null===w||void 0===w?void 0:w.templateId)||(null===w||void 0===w?void 0:w.TemplateId)||(null===w||void 0===w?void 0:w.templateName)||(null===w||void 0===w?void 0:w.TemplateName)||(null===w||void 0===w?void 0:w.messageTemplate)||(null===w||void 0===w?void 0:w.MessageTemplate),t=(null===w||void 0===w?void 0:w.businessId)||(null===w||void 0===w?void 0:w.BusinessId)||j;if(!t||!e)return;let n=!0;return(async()=>{try{var r,o,i;const a="/templates/".concat(t,"/").concat(encodeURIComponent(e)),s=await c.default.get(a,{params:{language:w.language||"en_US"}}),l=null!==(r=null!==(o=null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.template)&&void 0!==o?o:null===s||void 0===s?void 0:s.data)&&void 0!==r?r:null;n&&_(l)}catch(a){console.error("Failed to load template details",a)}})(),()=>{n=!1}}),[w,j]);const Ne=e=>{const t=(e=>{var t,n,r;const o=null!==(t=null!==(n=null!==(r=null===e||void 0===e?void 0:e.buttonsJson)&&void 0!==r?r:null===e||void 0===e?void 0:e.buttons)&&void 0!==n?n:null===e||void 0===e?void 0:e.urlButtons)&&void 0!==t?t:null;if(Array.isArray(o))return o;if("string"===typeof o&&o.trim().startsWith("["))try{const e=JSON.parse(o);return Array.isArray(e)?e:[]}catch(i){return[]}return[]})(e);return t.filter((e=>{var t,n,r,o,i,a,s,l;const c=String(null!==(t=null!==(n=null!==(r=null!==(o=null===e||void 0===e?void 0:e.SubType)&&void 0!==o?o:null===e||void 0===e?void 0:e.subType)&&void 0!==r?r:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:null===e||void 0===e?void 0:e.Type)&&void 0!==t?t:"").toUpperCase(),d=String(null!==(i=null!==(a=null!==(s=null!==(l=null===e||void 0===e?void 0:e.ParameterValue)&&void 0!==l?l:null===e||void 0===e?void 0:e.parameterValue)&&void 0!==s?s:null===e||void 0===e?void 0:e.url)&&void 0!==a?a:null===e||void 0===e?void 0:e.Url)&&void 0!==i?i:"");return"COPY_CODE"===c||("FLOW"===c||!("URL"!==c||!d.includes("{{")))}))},Se=e=>{const t=tt(e);if(t.includes("phone"))return"Phone";const n=t.match(/^parameter(\d+)$/);if(n)return"ParameterValue {{".concat(n[1],"}}");const r=t.match(/^buttonpara(\d+)$/)||t.match(/^button(\d+)urlparam$/);if(r){const e=parseInt(r[1]),t=Ne(C)[e-1];if(t){var o,i,a,s,l,c;const n=null!==(o=null!==(i=null===t||void 0===t?void 0:t.Text)&&void 0!==i?i:null===t||void 0===t?void 0:t.text)&&void 0!==o?o:"Button ".concat(e),r=String(null!==(a=null!==(s=null!==(l=null!==(c=null===t||void 0===t?void 0:t.SubType)&&void 0!==c?c:null===t||void 0===t?void 0:t.subType)&&void 0!==l?l:null===t||void 0===t?void 0:t.type)&&void 0!==s?s:null===t||void 0===t?void 0:t.Type)&&void 0!==a?a:"").toUpperCase(),d="URL"===r?"URL":"COPY_CODE"===r?"Code":"Value";return"".concat(n," (").concat(d,")")}return"Button ".concat(e," (URL)")}return e};(0,e.useEffect)((()=>{let e=!0;return(async()=>{try{A(!0);const t=await Ze(x);if(!e)return;k(t);const n=Array.isArray(null===t||void 0===t?void 0:t.headers)?t.headers:[];U(n);const r=Number((null===t||void 0===t?void 0:t.placeholderCount)||0);B(Array.from({length:r},((e,t)=>({index:t+1,sourceType:"csv",sourceName:"",constValue:""}))))}catch(t){a.oR.error("Failed to load CSV schema.")}finally{e&&A(!1)}})(),()=>{e=!1}}),[x]);const Ae=(0,e.useMemo)((()=>{var e,t;return null!==(e=null!==(t=null===T||void 0===T?void 0:T.headers)&&void 0!==t?t:null===P||void 0===P?void 0:P.headerJson)&&void 0!==e?e:we}),[we,P,T]),Ee=(e,t)=>B((n=>{const r=[...n];return r[e]=(0,b.A)((0,b.A)({},r[e]),t),r})),ke=async e=>{if(!e)return;ie(!0),ce(String((null===e||void 0===e?void 0:e.name)||"")),se(0);const t=new AbortController;de.current=t;try{var n,r;const i=await async function(e){var t,n,r,o,i,a,s;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{audienceId:d=null,campaignId:u=null,onProgress:p=null,signal:f}=l||{},h=new FormData;h.append("file",e),d&&h.append("audienceId",d),u&&h.append("campaignId",u);const{data:m}=await c.default.post("/csv/batch",h,{headers:{"Content-Type":"multipart/form-data"},signal:f,onUploadProgress:p?e=>{var t,n;const r=null!==(t=null===e||void 0===e?void 0:e.total)&&void 0!==t?t:0,o=null!==(n=null===e||void 0===e?void 0:e.loaded)&&void 0!==n?n:0,i=r?Math.round(o/r*100):null;p({loaded:o,total:r,percent:i})}:void 0}),g=null!==(t=$e(m))&&void 0!==t?t:{},v=null!==(n=null!==(r=null!==(o=g.batchId)&&void 0!==o?o:g.BatchId)&&void 0!==r?r:g.id)&&void 0!==n?n:g.Id,x=null!==(i=null!==(a=null!==(s=g.headerJson)&&void 0!==s?s:g.headers)&&void 0!==a?a:g.Headers)&&void 0!==i?i:[];return(0,b.A)((0,b.A)({},g),{},{batchId:v,headerJson:x})}(e,{signal:t.signal,onProgress:e=>{"number"===typeof(null===e||void 0===e?void 0:e.percent)&&se(e.percent)}});O((0,b.A)((0,b.A)({},i),{},{fileName:null!==(n=null!==(r=null===i||void 0===i?void 0:i.fileName)&&void 0!==r?r:null===i||void 0===i?void 0:i.FileName)&&void 0!==n?n:null===e||void 0===e?void 0:e.name,__localFileName:null===e||void 0===e?void 0:e.name})),a.oR.success("CSV uploaded.");const s=await async function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const{data:r}=await c.default.get("/csv/batch/".concat(e,"/sample"),{params:{take:n}}),o=$e(r);if(null!==o&&void 0!==o&&o.headers&&null!==o&&void 0!==o&&o.rows)return{headers:o.headers,rows:o.rows};if(Array.isArray(o)){var i;const t=o.map((e=>{var t,n,r,o;return null!==(t=null!==(n=null!==(r=null!==(o=e.data)&&void 0!==o?o:e.Data)&&void 0!==r?r:e.row)&&void 0!==n?n:e.Row)&&void 0!==t?t:{}}));let n=t.length>0?Object.keys(null!==(i=t[0])&&void 0!==i?i:{}):[];if(!n.length){const t=await Je(e);n=Array.isArray(t.headers)&&t.headers.length?t.headers:[]}return{headers:n,rows:t}}return{headers:null!==(t=(await Je(e)).headers)&&void 0!==t?t:[],rows:[]}}(null===i||void 0===i?void 0:i.batchId,10);M(s);const l=Array.isArray(null===s||void 0===s?void 0:s.headers)?s.headers:[],d=l.map((e=>String(e).toLowerCase())).findIndex((e=>nt.some((t=>e.includes(t)))));q(d>=0?l[d]:"");const u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r={},o=new Set,i=e.map((e=>({raw:e,k:tt(e)})));for(const a of t){const t=e.find((e=>tt(e)===tt(a)));t&&(r[a]=t,o.add(t))}if("function"===typeof n)for(const a of t){if(r[a])continue;const t=n(a);if(!t)continue;const i=e.find((e=>tt(e)===tt(t)));i&&(r[a]=i,o.add(i))}for(const a of t){if(r[a])continue;const e=rt[a]||[],t=i.find((t=>e.some((e=>t.k===tt(e)))&&!o.has(t.raw)));t&&(r[a]=t.raw,o.add(t.raw))}for(const a of t){if(r[a])continue;const e=a.match(/^parameter(\d+)$/i);if(!e)continue;const t=e[1],n=i.find((e=>(e.k==="param".concat(t)||e.k==="body".concat(t))&&!o.has(e.raw)));n&&(r[a]=n.raw,o.add(n.raw))}return r}(l,z,Se);W(u),B((e=>e.map((e=>{const t="parameter".concat(e.index);return u[t]?(0,b.A)((0,b.A)({},e),{},{sourceName:u[t]}):e}))));try{const e=await async function(e,t){try{var n,r;const{data:o}=await c.default.get("/campaigns/".concat(e,"/mappings/suggest"),{params:{batchId:t}});return{items:null!==(r=(null!==(n=$e(o))&&void 0!==n?n:{}).items)&&void 0!==r?r:[]}}catch(o){return{items:[]}}}(x,null===i||void 0===i?void 0:i.batchId);Array.isArray(null===e||void 0===e?void 0:e.items)&&B((t=>t.map((t=>{const n=e.items.find((e=>e.index===t.index));return n?(0,b.A)((0,b.A)({},t),n):t}))))}catch(o){}re(!1)}catch(Jg){"ERR_CANCELED"===(null===Jg||void 0===Jg?void 0:Jg.code)||"CanceledError"===(null===Jg||void 0===Jg?void 0:Jg.name)||"AbortError"===(null===Jg||void 0===Jg?void 0:Jg.name)||a.oR.error((null===Jg||void 0===Jg?void 0:Jg.message)||"CSV upload failed.")}finally{ie(!1),se(null),ce(""),de.current=null}},Ce=function(){(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!$&&!J)&&te(null)},_e=()=>{const e={};for(const n of F){var t;e["parameter".concat(n.index)]="csv"===n.sourceType?n.sourceName||"":"constant:".concat(null!==(t=n.constValue)&&void 0!==t?t:"")}for(const[n,r]of Object.entries(V||{})){const t=String(r||"");t&&(/^parameter\d+$/i.test(n)||t.startsWith("constant:")&&!t.slice(9).trim()||(e[n]=t))}return e},Pe=(0,e.useMemo)((()=>(z||[]).filter((e=>"phone"!==e.toLowerCase()&&!/^parameter\d+$/i.test(e)))),[z]),Oe=(0,e.useMemo)((()=>{if(!Pe.length)return{label:"No extra params",ok:!0};const e=Pe.filter((e=>{const t=String(V[e]||"");return!t||!!t.startsWith("constant:")&&!t.slice(9).trim()}));return e.length?{label:"".concat(e.length," missing"),ok:!1}:{label:"All mapped",ok:!0}}),[Pe,V]);return S?(0,u.jsx)("div",{className:"rounded-lg border bg-white p-4 text-sm text-gray-500",children:"Loading CSV schema..."}):(0,u.jsxs)("section",{ref:ue,className:"rounded-xl border bg-white p-4 shadow-sm",children:[ve&&(0,u.jsx)("div",{className:"mb-4 rounded-lg border bg-gray-50 p-3 text-xs text-gray-700",children:(0,u.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-[11px] font-semibold text-gray-700",children:"Current CSV audience"}),he?(0,u.jsx)("div",{className:"mt-1 text-gray-500",children:"Loading..."}):(0,u.jsxs)("div",{className:"mt-1 space-y-0.5 text-gray-600",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"File:"})," ",null!==(s=null!==(d=null===pe||void 0===pe?void 0:pe.fileName)&&void 0!==d?d:null===pe||void 0===pe?void 0:pe.FileName)&&void 0!==s?s:"-"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Audience:"})," ",null!==(p=null!==(f=null===pe||void 0===pe?void 0:pe.audienceName)&&void 0!==f?f:null===pe||void 0===pe?void 0:pe.AudienceName)&&void 0!==p?p:"-"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Members:"})," ",null!==(h=null!==(m=null===pe||void 0===pe?void 0:pe.memberCount)&&void 0!==m?m:null===pe||void 0===pe?void 0:pe.MemberCount)&&void 0!==h?h:0]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Created:"})," ",(e=>{const t=null!==(e=null===pe||void 0===pe?void 0:pe.createdAt)&&void 0!==e?e:null===pe||void 0===pe?void 0:pe.CreatedAt;if(!t)return"-";const n=new Date(t);return Number.isNaN(n.getTime())?String(t):n.toLocaleString()})()]})]})]}),xe&&(0,u.jsx)("div",{className:"rounded-md bg-amber-100 px-2 py-1 text-[11px] font-semibold text-amber-800",children:"Audience locked after sending."})]})}),(0,u.jsxs)("div",{className:"mb-4 flex items-center gap-3 text-sm",children:[(0,u.jsxs)("div",{className:"text-emerald-700 font-semibold",children:["Required columns:\xa0",we.map(((e,t)=>(0,u.jsx)("span",{className:"ml-1 inline-flex items-center gap-1 rounded-md border border-amber-200 bg-amber-50 px-2 py-0.5 text-xs font-medium text-amber-800",children:Se(e)},e)))]}),(0,u.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[!(null!==P&&void 0!==P&&P.batchId)&&!oe&&(0,u.jsxs)("button",{type:"button",onClick:async()=>{const e=null!==we&&void 0!==we&&we.length?we:["phone"],t=[],n=new Set;for(const a of e){let e=Se(a)||a;const r=tt(e);n.has(r)&&(e="".concat(e," (").concat(a,")")),n.add(tt(e)),t.push(e)}const r=e.map((e=>{const t=tt(e);return t.includes("phone")?(e=>{const t=String(null!==e&&void 0!==e?e:"").trim();return t?/^[+]?\d{10,15}$/.test(t)?"'".concat(t):t:""})("+919876543210"):/^parameter\d+$/i.test(String(e))?"Sample value":/^headerpara\d+$/i.test(t)?"Sample header":/^buttonpara\d+$/i.test(t)||/^button\d+urlparam$/i.test(t)?"https://example.com":""})),o=e=>{const t=String(null!==e&&void 0!==e?e:"");return/[",\n]/.test(t)?'"'.concat(t.replace(/"/g,'""'),'"'):t},i=[t,r].map((e=>e.map(o).join(","))).join("\r\n");!function(e,t){const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n)}(new Blob([i],{type:"text/csv;charset=utf-8;"}),"campaign-".concat(x,"-sample.csv")),a.oR.success("Sample CSV downloaded.")},disabled:$,className:"inline-flex items-center gap-2 rounded border border-emerald-300 bg-white px-3 py-1.5 text-xs font-semibold text-emerald-700 shadow-sm transition hover:bg-emerald-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 disabled:cursor-not-allowed disabled:opacity-50 disabled:text-emerald-500",children:[(0,u.jsxs)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M12 3v12"}),(0,u.jsx)("path",{d:"m8 11 4 4 4-4"}),(0,u.jsx)("path",{d:"M5 21h14"})]}),"Download sample CSV"]}),!(null!==P&&void 0!==P&&P.batchId)&&!oe&&(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{id:"csv-file-input",type:"file",accept:".csv",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];ke(n),e.target.value=""},className:"sr-only",disabled:oe||$||xe}),(0,u.jsxs)("label",{htmlFor:"csv-file-input","aria-disabled":oe||$||xe,className:"inline-flex items-center gap-2 rounded border border-emerald-300 bg-white px-3 py-1.5 text-xs font-semibold shadow-sm transition focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 ".concat(oe||$||xe?"pointer-events-none opacity-50 text-emerald-500":"text-emerald-700 hover:bg-emerald-50"),children:[(0,u.jsxs)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M16 16.5a4 4 0 0 0-1-7.9 5 5 0 0 0-9.8 1.2 3.5 3.5 0 0 0 .7 6.9h2"}),(0,u.jsx)("path",{d:"M12 12v8"}),(0,u.jsx)("path",{d:"m8.5 15.5 3.5-3.5 3.5 3.5"})]}),ve?"Replace CSV":"Upload CSV"]})]}),!(null===P||void 0===P||!P.batchId)&&(0,u.jsxs)("div",{className:"inline-flex max-w-[260px] items-center gap-1 rounded-full border border-rose-200 bg-rose-50 px-2 py-1 text-[11px] text-rose-800",children:[(0,u.jsx)("span",{className:"truncate",title:be||"CSV uploaded",children:be||"CSV uploaded"}),(0,u.jsx)("button",{type:"button",onClick:()=>{null!==P&&void 0!==P&&P.batchId&&te("clearStaged")},disabled:oe||$||J,className:"ml-1 inline-flex h-5 w-5 items-center justify-center rounded text-rose-800 hover:bg-rose-100 disabled:opacity-50","aria-label":"Remove staged CSV",title:"Remove staged CSV",children:(0,u.jsxs)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-3.5 w-3.5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M18 6 6 18"}),(0,u.jsx)("path",{d:"M6 6l12 12"})]})})]}),ve&&!xe&&(0,u.jsx)("button",{type:"button",onClick:()=>{xe?a.oR.error("Audience cannot be changed after sending."):ve&&te("removeAudience")},disabled:oe||$,className:"inline-flex items-center gap-2 rounded border border-rose-300 bg-white px-3 py-1.5 text-xs font-semibold shadow-sm transition focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-500 ".concat(oe||$?"cursor-not-allowed opacity-50 text-rose-500":"text-rose-700 hover:bg-rose-50"),children:$?"Removing...":"Remove CSV"})]})]}),oe&&(0,u.jsxs)("div",{className:"mb-4 rounded-lg border bg-white p-3 text-xs text-gray-700",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-[11px] font-semibold text-gray-800",children:"Uploading"}),(0,u.jsx)("div",{className:"truncate text-[11px] text-gray-500",children:le||"CSV file"})]}),(0,u.jsx)("button",{type:"button",onClick:()=>{try{var e;null===(e=de.current)||void 0===e||e.abort()}catch(t){}},className:"inline-flex h-7 w-7 items-center justify-center rounded border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100","aria-label":"Cancel upload",title:"Cancel upload",children:(0,u.jsxs)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M18 6 6 18"}),(0,u.jsx)("path",{d:"M6 6l12 12"})]})})]}),(0,u.jsx)("div",{className:"mt-2 h-2 w-full rounded-full bg-gray-100",children:(0,u.jsx)("div",{className:"h-2 rounded-full bg-emerald-500 transition-[width]",style:{width:"".concat(Math.max(0,Math.min(100,null!==ae&&void 0!==ae?ae:0)),"%")}})}),(0,u.jsx)("div",{className:"mt-1 text-right text-[11px] text-gray-500",children:"number"===typeof ae?"".concat(ae,"%"):""})]}),ee&&(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:Ce,role:"dialog","aria-modal":"true",children:(0,u.jsxs)("div",{className:"w-full max-w-md rounded-xl bg-white shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-3 border-b px-4 py-3",children:[(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"removeAudience"===ee?"Remove CSV audience?":"Remove uploaded CSV?"}),(0,u.jsx)("div",{className:"mt-1 text-xs text-gray-600",children:"removeAudience"===ee?"This will delete only CSV-derived recipients (manual recipients stay).":"Are you sure you want to delete the uploaded CSV?"})]}),(0,u.jsx)("button",{type:"button",onClick:Ce,disabled:$||J,className:"inline-flex h-8 w-8 items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-50","aria-label":"Close",title:"Close",children:(0,u.jsxs)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M18 6 6 18"}),(0,u.jsx)("path",{d:"M6 6l12 12"})]})})]}),(0,u.jsxs)("div",{className:"flex items-center justify-end gap-2 px-4 py-3",children:[(0,u.jsx)("button",{type:"button",onClick:Ce,disabled:$||J,className:"rounded border bg-white px-3 py-1.5 text-xs font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if("clearStaged"===ee){if(null===P||void 0===P||!P.batchId)return Ce();Q(!0);try{await async function(e){var t;return e?null!==(t=$e((await c.default.delete("/csv/batch/".concat(e),{validateStatus:()=>!0})).data))&&void 0!==t?t:{}:{success:!0}}(P.batchId)}catch(t){}return ye(),Q(!1),void Ce()}if("removeAudience"===ee){if(!ve)return Ce();Z(!0);try{await async function(e){var t;const{data:n}=await c.default.post("/campaigns/".concat(e,"/audience/remove"));return null!==(t=$e(n))&&void 0!==t?t:{}}(x),a.oR.success("CSV audience removed."),ye(),await ge()}catch(Jg){var e;409===(null===Jg||void 0===Jg||null===(e=Jg.response)||void 0===e?void 0:e.status)?(a.oR.error("Audience cannot be changed after sending."),await ge()):a.oR.error((null===Jg||void 0===Jg?void 0:Jg.message)||"Remove failed.")}finally{Z(!1),Ce(!0)}}},disabled:$||J,className:"rounded bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-700 disabled:opacity-50",children:$||J?"Working...":"Confirm"})]})]})}),(0,u.jsxs)("div",{className:"mb-3 rounded-md border border-dashed border-gray-200 bg-gray-50 p-2 text-[11px] text-gray-600",children:["We set any media URL once at ",(0,u.jsx)("strong",{children:"campaign creation"})," (not in CSV). Your CSV should contain ",(0,u.jsx)("code",{children:"phone"}),", body values as"," ",(0,u.jsx)("code",{children:"parameter1..N"}),", plus any ",(0,u.jsx)("code",{children:"headerparaN"})," and"," ",(0,u.jsx)("code",{children:"buttonparaN"})," columns if the template needs them."]}),(0,u.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,u.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,u.jsx)("h3",{className:"mb-2 text-xs font-semibold text-gray-700",children:"Phone column"}),(0,u.jsxs)("select",{className:"w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500",value:H,onChange:e=>q(e.target.value),disabled:!(null!==Ae&&void 0!==Ae?Ae:[]).length||oe||$||xe,children:[(0,u.jsx)("option",{value:"",children:(null!==Ae&&void 0!==Ae?Ae:[]).length?"-- Select column --":"Upload a CSV first"}),(null!==Ae&&void 0!==Ae?Ae:[]).map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]}),(0,u.jsxs)("div",{className:"mt-3 flex items-center gap-4 text-xs text-gray-700",children:[(0,u.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,u.jsx)("input",{type:"checkbox",checked:I.normalizePhone,onChange:e=>R((t=>(0,b.A)((0,b.A)({},t),{},{normalizePhone:e.target.checked}))),disabled:oe||$||xe}),"Normalize phone (E.164)"]}),(0,u.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,u.jsx)("input",{type:"checkbox",checked:I.checkDuplicates,onChange:e=>R((t=>(0,b.A)((0,b.A)({},t),{},{checkDuplicates:e.target.checked}))),disabled:oe||$||xe}),"Deduplicate by phone"]})]})]}),(0,u.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("h3",{className:"text-xs font-semibold text-gray-700",children:"Mapping & Validation"}),(0,u.jsx)("span",{className:"rounded-full px-2 py-0.5 text-[11px] ".concat(Oe.ok?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:Oe.label})]}),(0,u.jsx)("button",{type:"button",className:"mt-2 text-xs text-emerald-700 hover:underline disabled:opacity-50",onClick:()=>re((e=>!e)),disabled:!(null!==Ae&&void 0!==Ae?Ae:[]).length||oe||$||xe,children:ne?"Hide mapping":"Edit mapping"}),ne&&(0,u.jsxs)("div",{className:"mt-3 space-y-2",children:[0===Pe.length?(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"No extra parameters."}):Pe.map((e=>{const t=String(V[e]||""),n=t.startsWith("constant:"),r=n?"":t,o=n?t.slice(9):"";return(0,u.jsxs)("div",{className:"grid grid-cols-[160px,100px,1fr] items-center gap-2",children:[(0,u.jsx)("div",{className:"truncate text-[11px] text-gray-500",title:Se(e),children:Se(e)}),(0,u.jsxs)("select",{className:"rounded-lg border px-2 py-1.5 text-xs outline-none focus:border-emerald-500",value:n?"const":"csv",onChange:t=>{const n=t.target.value;W((t=>(0,b.A)((0,b.A)({},t),{},{[e]:"const"===n?"constant:":""})))},disabled:oe||$||xe,children:[(0,u.jsx)("option",{value:"csv",children:"CSV column"}),(0,u.jsx)("option",{value:"const",children:"Constant"})]}),n?(0,u.jsx)("input",{className:"w-full rounded-lg border px-2 py-1.5 text-xs outline-none focus:border-emerald-500",placeholder:"Constant value",value:o,onChange:t=>W((n=>{var r;return(0,b.A)((0,b.A)({},n),{},{[e]:"constant:".concat(null!==(r=t.target.value)&&void 0!==r?r:"")})})),disabled:oe||$||xe}):(0,u.jsxs)("select",{className:"w-full rounded-lg border px-2 py-1.5 text-xs outline-none focus:border-emerald-500",value:r,onChange:t=>W((n=>(0,b.A)((0,b.A)({},n),{},{[e]:t.target.value}))),disabled:!(null!==Ae&&void 0!==Ae?Ae:[]).length||oe||$||xe,children:[(0,u.jsx)("option",{value:"",children:(null!==Ae&&void 0!==Ae?Ae:[]).length?"-- Select column --":"Upload CSV"}),(null!==Ae&&void 0!==Ae?Ae:[]).map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})]},e)})),F.length>0&&(0,u.jsxs)("div",{className:"mt-4 border-t pt-3",children:[(0,u.jsxs)("div",{className:"mb-2 text-xs font-semibold text-gray-700",children:["Body values (","{{n}}",") \u2192 CSV"]}),(0,u.jsx)("div",{className:"space-y-2",children:F.map(((e,t)=>(0,u.jsxs)("div",{className:"grid grid-cols-[160px,100px,1fr] items-center gap-2",children:[(0,u.jsx)("div",{className:"truncate text-xs text-gray-700",title:Se("parameter".concat(e.index)),children:Se("parameter".concat(e.index))}),(0,u.jsxs)("select",{className:"rounded-lg border px-2 py-1.5 text-xs outline-none focus:border-emerald-500",value:e.sourceType,onChange:e=>Ee(t,{sourceType:e.target.value}),disabled:oe||$||xe,children:[(0,u.jsx)("option",{value:"csv",children:"CSV column"}),(0,u.jsx)("option",{value:"const",children:"Constant"})]}),"csv"===e.sourceType?(0,u.jsxs)("select",{className:"w-full rounded-lg border px-2 py-1.5 text-xs outline-none focus:border-emerald-500",value:e.sourceName||"",onChange:e=>Ee(t,{sourceName:e.target.value}),disabled:!(null!==Ae&&void 0!==Ae?Ae:[]).length||oe||$||xe,children:[(0,u.jsx)("option",{value:"",children:(null!==Ae&&void 0!==Ae?Ae:[]).length?"-- Select column --":"Upload CSV"}),(null!==Ae&&void 0!==Ae?Ae:[]).map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]}):(0,u.jsx)("input",{className:"w-full rounded-lg border px-2 py-1.5 text-xs outline-none focus:border-emerald-500",placeholder:"Constant value",value:e.constValue||"",onChange:e=>Ee(t,{constValue:e.target.value}),disabled:oe||$||xe})]},e.index)))})]})]})]})]}),(0,u.jsx)("div",{className:"mt-4 overflow-x-auto rounded-lg border",children:(0,u.jsxs)("table",{className:"min-w-full text-xs",children:[(0,u.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,u.jsx)("tr",{children:(null!==(g=null!==(v=null===T||void 0===T?void 0:T.headers)&&void 0!==v?v:Ae)&&void 0!==g?g:[]).map((e=>(0,u.jsx)("th",{className:"px-3 py-2 text-left",children:null!==T&&void 0!==T&&T.headers?e:Se(e)},e)))})}),(0,u.jsx)("tbody",{children:Array.isArray(null===T||void 0===T?void 0:T.rows)&&T.rows.length>0?T.rows.map(((e,t)=>{var n,r;return(0,u.jsx)("tr",{className:"border-t",children:(null!==(n=null!==(r=null===T||void 0===T?void 0:T.headers)&&void 0!==r?r:Ae)&&void 0!==n?n:[]).map((t=>{var n;return(0,u.jsx)("td",{className:"px-3 py-1.5",children:null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:""},t)}))},t)})):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"px-3 py-2 text-gray-400",colSpan:(null!==Ae&&void 0!==Ae?Ae:[]).length||1,children:"No rows yet"})})})]})}),(0,u.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[(0,u.jsx)("button",{type:"button",onClick:async()=>{if(null===P||void 0===P||!P.batchId)return a.oR.warn("Upload a CSV first.");if(!H)return a.oR.warn("Choose the phone column.");try{const e={phoneHeader:H,requiredHeaders:[],normalizePhone:!!I.normalizePhone,checkDuplicates:!!I.checkDuplicates},t=await async function(e,t){var n,r,o,i,a,s,l,d;const u={phoneField:null!==(n=t.phoneHeader)&&void 0!==n?n:t.phoneField,requiredHeaders:null!==(r=t.requiredHeaders)&&void 0!==r?r:[],normalizePhones:!!(null!==(o=t.normalizePhone)&&void 0!==o?o:t.normalizePhones),deduplicate:!!(null!==(i=t.checkDuplicates)&&void 0!==i?i:t.deduplicate)},{data:p}=await c.default.post("/csv/batch/".concat(e,"/validate"),u),f=null!==(a=$e(p))&&void 0!==a?a:{},h=null!==(s=null!==(l=null!==(d=f.problems)&&void 0!==d?d:f.errors)&&void 0!==l?l:f.Errors)&&void 0!==s?s:[];return(0,b.A)((0,b.A)({},f),{},{problems:h})}(P.batchId,e);L(t),Array.isArray(null===t||void 0===t?void 0:t.problems)&&t.problems.length>0?a.oR.warn("Validation found ".concat(t.problems.length," issue(s).")):a.oR.success("Validation passed.")}catch(e){a.oR.error("Validation call failed.")}},disabled:!(null!==P&&void 0!==P&&P.batchId)||oe||$||xe,className:"rounded bg-gray-700 px-3 py-1.5 text-xs font-semibold text-white hover:bg-gray-800 disabled:opacity-50",children:"Validate"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(null===P||void 0===P||!P.batchId)return a.oR.warn("Upload a CSV first.");try{await Qe(x,_e());const e={csvBatchId:P.batchId,mappings:_e(),phoneField:H||void 0,normalizePhones:!!I.normalizePhone,deduplicate:!!I.checkDuplicates,persist:!1},t=await et(x,e);G(t),a.oR.success("Dry-run ready.")}catch(e){a.oR.error("Dry-run failed.")}},disabled:!(null!==P&&void 0!==P&&P.batchId)||oe||$||xe,className:"rounded bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 disabled:opacity-50",children:"(Preview) Dry-run materialize"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(null===P||void 0===P||!P.batchId)return a.oR.warn("Upload a CSV first.");const e=je;X(!0);try{await Qe(x,_e());const t={csvBatchId:P.batchId,mappings:_e(),phoneField:H||void 0,normalizePhones:!!I.normalizePhone,deduplicate:!!I.checkDuplicates,persist:!0,audienceName:e};await et(x,t),a.oR.success("Done!! Saved Successfully.");const r="/app/campaigns/template-campaigns-list";try{N(r,{replace:!0})}catch(n){"undefined"!==typeof window&&window.location.assign(r)}}catch(Jg){var t;if(409===(null===Jg||void 0===Jg||null===(t=Jg.response)||void 0===t?void 0:t.status))return a.oR.error("Audience cannot be changed after sending."),void await ge();a.oR.error((null===Jg||void 0===Jg?void 0:Jg.message)||"Persist failed.")}finally{X(!1)}},disabled:!(null!==P&&void 0!==P&&P.batchId)||Y||oe||$||xe,className:"rounded bg-green-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-50",children:Y?"saving":"Save Contact"})]}),D&&(0,u.jsxs)("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-900",children:[(0,u.jsx)("div",{className:"font-semibold",children:"Validation"}),Array.isArray(D.problems)&&D.problems.length>0?(0,u.jsx)("ul",{className:"mt-1 list-disc pl-5",children:D.problems.map(((e,t)=>(0,u.jsx)("li",{children:e},t)))}):(0,u.jsx)("div",{className:"mt-1 text-green-700",children:"No problems found."})]}),K&&(0,u.jsxs)("div",{className:"mt-3 rounded-lg border border-sky-200 bg-sky-50 p-3 text-xs text-sky-900",children:[(0,u.jsx)("div",{className:"font-semibold",children:"Dry-run preview"}),(0,u.jsx)("pre",{className:"mt-1 overflow-x-auto rounded bg-white p-2 text-[11px] text-gray-800",children:JSON.stringify(K,null,2)})]})]})}function it(){const{id:t}=(0,i.g)(),[n,r]=(0,e.useState)(null),[o,s]=(0,e.useState)(0),[l,d]=(0,e.useState)(!1),[p,f]=(0,e.useState)([]),[h,m]=(0,e.useState)([]),[g,v]=(0,e.useState)([]),[x,y]=(0,e.useState)(""),[w,j]=(0,e.useState)([]),[N,S]=(0,e.useState)([]),[A,E]=(0,e.useState)(!1),[k,C]=(0,e.useState)([]),[_,P]=(0,e.useState)({name:"",phone:""}),[O,T]=(0,e.useState)([]),[M,I]=(0,e.useState)(0),[R,D]=(0,e.useState)(!0),[L,F]=(0,e.useState)(null),[B,z]=(0,e.useState)(!1),U=(0,e.useRef)(null),V=e=>e.phoneNumber||e.phone||"";(0,e.useEffect)((()=>{(async()=>{if(t){try{const e=await c.default.get("/campaign/".concat(t));r(e.data)}catch(n){console.error("Failed to load campaign:",n),a.oR.error("Failed to load campaign")}try{var e;const n=await Ze(t),r=Number(null!==(e=null===n||void 0===n?void 0:n.placeholderCount)&&void 0!==e?e:0);s(Number.isNaN(r)?0:r)}catch(o){s(0)}}else a.oR.error("No campaign ID found in URL.")})()}),[t]),(0,e.useEffect)((()=>{l&&(async()=>{try{var e;const t=await c.default.get("/tags/get-tags");S((null===(e=t.data)||void 0===e?void 0:e.data)||t.data||[])}catch(t){a.oR.error("Failed to load tags")}})()}),[l]),(0,e.useEffect)((()=>{if(!l)return f([]),m([]),void v([]);(async()=>{try{let r;var e,t,n;if(w.length>0)r=await c.default.post("/contacts/filter-by-tags",w),f((null===(e=r.data)||void 0===e?void 0:e.data)||[]);else r=await c.default.get("/contacts",{params:{tab:"all",page:1,pageSize:1e3}}),f((null===(t=r.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.items)||[])}catch(r){a.oR.error("Failed to load contacts")}})()}),[l,w]),(0,e.useEffect)((()=>{if(!l)return;const e=x.trim().toLowerCase(),t=p.filter((t=>{var n;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||V(t).includes(x.trim())}));m(t)}),[l,p,x]);(0,e.useEffect)((()=>{if(k.length>0){const e={name:["name","full name","contact name"],phone:["phone","mobile","number","whatsapp"]},t=e=>k.find((t=>e.some((e=>t.toLowerCase().includes(e.toLowerCase())))))||"";P({name:t(e.name),phone:t(e.phone)})}}),[k]);const W=l&&h.every((e=>g.includes(e.id)));return(0,u.jsx)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:(0,u.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,u.jsx)("h1",{className:"mb-2 flex items-center gap-2 text-2xl font-bold text-emerald-700",children:"\ud83d\udcc7 Assign Contacts"}),n?(0,u.jsx)("div",{className:"mb-6 flex flex-wrap items-center gap-2 text-sm",children:(0,u.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-emerald-700",children:[(0,u.jsx)("strong",{className:"font-semibold",children:"Campaign:"}),(0,u.jsx)("span",{children:n.name||n.campaignName||n.title||"(unnamed campaign)"})]})}):(0,u.jsx)("div",{className:"mb-6 text-xs text-gray-500",children:"Loading campaign\u2026"}),t&&(0,u.jsxs)("section",{className:"rounded-xl border bg-white p-4 shadow-sm",children:[(0,u.jsxs)("h2",{className:"mb-2 text-sm font-semibold text-gray-800",children:["Bulk Personalization via CSV",o>0&&(0,u.jsxs)(u.Fragment,{children:[" ","(Template has ",o," dynamic field",o>1?"s":"",")"]})]}),(0,u.jsx)(ot,{campaignId:t,campaign:n})]}),(0,u.jsx)("div",{className:"my-6 h-px bg-gray-100"}),(0,u.jsxs)("section",{className:"rounded-xl border bg-white shadow-sm",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-4 p-4",children:[(0,u.jsxs)("div",{className:"flex items-start gap-3",children:[(0,u.jsx)("input",{id:"includeCRM",type:"checkbox",className:"mt-1",checked:l,onChange:e=>d(e.target.checked),"aria-controls":"crm-panel","aria-expanded":l}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"includeCRM",className:"block cursor-pointer text-sm font-semibold text-gray-800",children:"Include contacts from CRM"}),(0,u.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Search, filter by tags, quick-import to CRM, and assign selected contacts."})]})]}),(0,u.jsx)("div",{className:"text-xs text-gray-500",children:"Manual assignment is additive to any CSV audience above."})]}),(0,u.jsx)("div",{id:"crm-panel",className:"grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-in-out ".concat(l?"grid-rows-[1fr]":""),children:(0,u.jsx)("div",{className:"overflow-hidden",children:(0,u.jsxs)("div",{className:"border-t p-4",children:[(0,u.jsxs)("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,u.jsx)("input",{className:"w-full rounded-md border p-2 sm:w-1/3",type:"text",placeholder:"Search by name or phone\u2026",value:x,onChange:e=>y(e.target.value)}),(0,u.jsx)(Xe,{selectedTags:w,onChange:j,category:"All"}),(0,u.jsxs)("label",{className:"text-sm text-emerald-700 hover:underline sm:ml-auto",children:["+ Upload CSV to CRM",(0,u.jsx)("input",{type:"file",accept:".csv",onChange:e=>{const t=e.target.files[0];t&&qe().parse(t,{header:!0,skipEmptyLines:!0,complete:e=>{let{data:t}=e;const n=Object.keys(t[0]||{});T(t),C(n),E(!0)},error:()=>a.oR.error("CSV Parsing Failed")})},className:"hidden"})]})]}),(0,u.jsx)("div",{className:"overflow-x-auto rounded-xl border",ref:U,children:(0,u.jsxs)("table",{className:"min-w-full text-sm",children:[(0,u.jsx)("thead",{className:"bg-gray-50 text-gray-700",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-2 text-center",children:(0,u.jsx)("input",{type:"checkbox",checked:W,onChange:()=>{const e=h.map((e=>e.id)),t=e.every((e=>g.includes(e)));v((n=>t?n.filter((t=>!e.includes(t))):[...new Set([...n,...e])]))}})}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"Name"}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"Phone"}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"Tags"}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"Status"})]})}),(0,u.jsxs)("tbody",{children:[h.map((e=>(0,u.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"px-4 py-2 text-center",children:(0,u.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>{return t=e.id,v((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.name||"Unnamed"}),(0,u.jsx)("td",{className:"px-4 py-2",children:V(e)||"\u2014"}),(0,u.jsx)("td",{className:"px-4 py-2",children:(0,u.jsx)("div",{className:"flex flex-wrap gap-1",children:(e.tags||e.contactTags||[]).map((e=>(0,u.jsx)("span",{className:"rounded-full px-2 py-0.5 text-xs",style:{backgroundColor:e.colorHex||"#E5E7EB",color:"#000"},children:e.tagName||e.name},e.tagId||e.id)))})}),(0,u.jsx)("td",{className:"px-4 py-2",children:""!==V(e).trim()?"\u2705 Valid":"\u26a0\ufe0f No Phone"})]},e.id))),0===h.length&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:5,className:"px-4 py-10 text-center text-xs text-gray-500",children:w.length>0?"No contacts match the selected tags.":"No contacts to show."})})]})]})}),(0,u.jsxs)("div",{className:"mt-4 flex flex-col items-center justify-between text-sm text-gray-600 sm:flex-row",children:[(0,u.jsxs)("div",{children:["Selected: ",g.length," / WhatsApp-ready:"," ",h.filter((e=>g.includes(e.id)&&""!==V(e).trim())).length]}),M>0&&(0,u.jsxs)("div",{className:"text-green-600",children:["\u2714 Imported: ",M," contact(s)"]})]}),(0,u.jsx)("div",{className:"mt-6 flex justify-end",children:(0,u.jsx)("button",{onClick:async()=>{if(!n||!n.id)return void a.oR.error("Campaign not ready. Please try again.");if(!l)return void a.oR.warn("Enable 'Include contacts from CRM' to select contacts here.");if(0===g.length)return void a.oR.warn("Please select at least one contact");const e=g.filter((e=>p.find((t=>t.id===e&&""!==V(t).trim()))));if(0!==e.length)try{const t={contactIds:e};await c.default.post("/campaign/".concat(n.id,"/assign-contacts"),t),a.oR.success("Contacts assigned to campaign")}catch(o){var t,r;const e=(null===o||void 0===o||null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Something went wrong during assignment.";a.oR.error(e)}else a.oR.warn("No selected contacts have valid phone numbers.")},className:"rounded-lg bg-emerald-600 px-6 py-3 text-white transition hover:bg-emerald-700",children:"Assign Selected Contacts to Campaign"})})]})})})]}),(0,u.jsxs)(Ge(),{isOpen:A,onRequestClose:()=>E(!1),className:"mx-auto mt-20 max-w-xl rounded-lg bg-white p-6 shadow-lg",overlayClassName:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:[(0,u.jsx)("h2",{className:"mb-4 text-lg font-bold",children:"\ud83e\udde9 Map CSV Fields"}),(0,u.jsxs)("div",{className:"space-y-4",children:[["name","phone"].map((e=>(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"mb-1 block text-sm font-medium capitalize",children:e}),(0,u.jsxs)("select",{className:"w-full rounded border px-3 py-2",value:_[e],onChange:t=>P((n=>(0,b.A)((0,b.A)({},n),{},{[e]:t.target.value}))),children:[(0,u.jsx)("option",{value:"",children:"-- Select CSV column --"}),k.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})]},e))),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"Apply Tag to All"}),(0,u.jsxs)("select",{className:"w-full rounded border px-3 py-2",value:L||"",onChange:e=>F(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"-- None --"}),Array.isArray(N)&&N.map((e=>(0,u.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,u.jsx)("div",{className:"mt-4",children:(0,u.jsxs)("label",{className:"inline-flex items-center text-sm",children:[(0,u.jsx)("input",{type:"checkbox",className:"mr-2",checked:R,onChange:e=>D(e.target.checked)}),"Also save these contacts to your CRM"]})}),(0,u.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,u.jsx)("button",{className:"text-gray-600 hover:underline",onClick:()=>E(!1),children:"Cancel"}),(0,u.jsx)("button",{className:"rounded-md bg-emerald-600 px-4 py-2 text-white disabled:opacity-60 hover:bg-emerald-700",onClick:async()=>{const e=O.filter((e=>e[_.name]&&e[_.phone])).map((e=>{var t;return{id:crypto.randomUUID(),name:e[_.name],phone:e[_.phone],tags:L?[{tagId:L,tagName:(null===(t=N.find((e=>e.id===L)))||void 0===t?void 0:t.name)||""}]:[]}}));if(f((t=>[...t,...e])),v((t=>[...new Set([...t,...e.map((e=>e.id))])])),I(e.length),E(!1),a.oR.success("".concat(e.length," contacts imported.")),setTimeout((()=>{var e;return null===(e=U.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})}),200),R)try{z(!0),await c.default.post("/contacts/bulk-import",e),a.oR.success("Contacts also saved to your CRM.")}catch(t){a.oR.error("Saving to CRM failed.")}finally{z(!1)}},disabled:B,children:B?"Importing\u2026":"Import & Apply"})]})]})]})})}"undefined"!==typeof document&&Ge().setAppElement("#root");const at=function(){const{id:t}=(0,i.g)(),n=(0,i.Zp)(),[r,o]=(0,e.useState)([]),[s,l]=(0,e.useState)(!0),[d,p]=(0,e.useState)(null),[f,h]=(0,e.useState)(""),[m,g]=(0,e.useState)("name"),[v,x]=(0,e.useState)(new Set),[b,y]=(0,e.useState)(1),w=12,j=(0,e.useCallback)((async()=>{l(!0);try{const e=await c.default.get("/campaign/recipients/".concat(t));o(e.data||[])}catch(e){console.error("\u274c Load recipients failed:",e),a.oR.error("Failed to load assigned recipients")}finally{l(!1)}}),[t]);(0,e.useEffect)((()=>{j()}),[j]);const N=(0,e.useMemo)((()=>{let e=r;if(f.trim()){const t=f.toLowerCase();e=e.filter((e=>{var n,r,o,i,a;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.phoneNumber)||void 0===r||null===(o=r.toLowerCase)||void 0===o?void 0:o.call(r).includes(t))||(null===(i=e.email)||void 0===i||null===(a=i.toLowerCase)||void 0===a?void 0:a.call(i).includes(t))}))}return e=[...e].sort(((e,t)=>"name"===m?(e.name||"").localeCompare(t.name||""):"phone"===m?(e.phoneNumber||"").localeCompare(t.phoneNumber||""):"source"===m?(e.leadSource||"").localeCompare(t.leadSource||""):0)),e}),[r,f,m]),S=Math.max(1,Math.ceil(N.length/w)),A=N.slice((b-1)*w,b*w);(0,e.useEffect)((()=>{y(1)}),[f,m]);const E=A.length>0&&A.every((e=>v.has(e.id))),k=!E&&A.some((e=>v.has(e.id)));return(0,u.jsx)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:(0,u.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsxs)("button",{onClick:()=>n("/app/campaigns/template-campaigns-list"),className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,u.jsx)("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,u.jsxs)("h1",{className:"mt-2 text-2xl font-bold text-gray-900",children:["Assigned Recipients",(0,u.jsx)("span",{className:"ml-2 rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-600",children:r.length})]})]}),(0,u.jsxs)("div",{className:"mb-4 flex flex-wrap items-center gap-2 justify-between",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{value:f,onChange:e=>h(e.target.value),placeholder:"Search name, phone, email\u2026",className:"w-64 rounded-lg border px-3 py-1.5 text-sm focus:ring-2 focus:ring-purple-200 outline-none"}),(0,u.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"rounded-lg border px-3 py-1.5 text-sm focus:ring-2 focus:ring-purple-200 outline-none",children:[(0,u.jsx)("option",{value:"name",children:"Sort: Name"}),(0,u.jsx)("option",{value:"phone",children:"Sort: Phone"}),(0,u.jsx)("option",{value:"source",children:"Sort: Lead Source"})]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{onClick:()=>{const e=[["Name","Phone","Email","Lead Source"],...N.map((e=>[e.name||"",e.phoneNumber||"",e.email||"",e.leadSource||""]))].map((e=>e.join(","))).join("\n"),n=new Blob([e],{type:"text/csv"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="Campaign-".concat(t,"-Recipients.csv"),o.click(),URL.revokeObjectURL(r)},className:"rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:"Export CSV"}),(0,u.jsx)("button",{onClick:()=>n("/app/campaigns/image-campaigns/assign-contacts/".concat(t)),className:"rounded-lg bg-purple-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-purple-700",children:"Assign Contacts"}),(0,u.jsx)("button",{disabled:0===v.size,onClick:async()=>{if(0!==v.size&&window.confirm("Remove ".concat(v.size," selected contact(s)?")))try{await Promise.all([...v].map((e=>c.default.delete("/campaigns/".concat(t,"/recipients/").concat(e))))),o((e=>e.filter((e=>!v.has(e.id))))),x(new Set),a.oR.success("Selected contacts removed")}catch(e){a.oR.error("Failed to remove some contacts")}},className:"rounded-lg px-3 py-1.5 text-sm font-semibold ".concat(0===v.size?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"),children:"Remove Selected"})]})]}),(0,u.jsx)("div",{className:"overflow-hidden rounded-xl border bg-white shadow-sm",children:s?(0,u.jsx)("div",{className:"p-6 grid gap-3 animate-pulse",children:[...Array(6)].map(((e,t)=>(0,u.jsx)("div",{className:"h-10 rounded bg-gray-100"},t)))}):0===N.length?(0,u.jsxs)("div",{className:"p-10 text-center text-gray-500",children:[(0,u.jsx)("div",{className:"text-lg font-medium",children:"No recipients"}),(0,u.jsx)("p",{className:"mt-1",children:"Assign contacts to start sending campaigns."})]}):(0,u.jsx)("div",{className:"max-h-[70vh] overflow-auto",children:(0,u.jsxs)("table",{className:"w-full text-sm table-fixed",children:[(0,u.jsxs)("colgroup",{children:[(0,u.jsx)("col",{style:{width:44}})," ",(0,u.jsx)("col",{style:{width:64}})," ",(0,u.jsx)("col",{})," ",(0,u.jsx)("col",{style:{width:160}})," ",(0,u.jsx)("col",{style:{width:220}})," ",(0,u.jsx)("col",{style:{width:160}})," ",(0,u.jsx)("col",{style:{width:160}})," "]}),(0,u.jsx)("thead",{className:"sticky top-0 border-b bg-gray-50 text-gray-700",children:(0,u.jsxs)("tr",{className:"text-left",children:[(0,u.jsx)("th",{className:"px-3 py-2 align-middle",children:(0,u.jsx)("input",{type:"checkbox",checked:E,ref:e=>e&&(e.indeterminate=k),onChange:e=>{return t=e.target.checked,void x((e=>{const n=new Set(e);return A.forEach((e=>t?n.add(e.id):n.delete(e.id))),n}));var t}})}),(0,u.jsx)("th",{className:"px-3 py-2 align-middle",children:"#"}),(0,u.jsx)("th",{className:"px-3 py-2 align-middle",children:"Name"}),(0,u.jsx)("th",{className:"px-3 py-2 align-middle",children:"Phone"}),(0,u.jsx)("th",{className:"px-3 py-2 align-middle",children:"Email"}),(0,u.jsx)("th",{className:"px-3 py-2 align-middle",children:"Lead Source"}),(0,u.jsx)("th",{className:"px-3 py-2 align-middle text-right",children:"Actions"})]})}),(0,u.jsx)("tbody",{children:A.map(((e,n)=>(0,u.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"px-3 py-2 align-middle",children:(0,u.jsx)("input",{type:"checkbox",checked:v.has(e.id),onChange:t=>((e,t)=>{x((n=>{const r=new Set(n);return e?r.add(t):r.delete(t),r}))})(t.target.checked,e.id)})}),(0,u.jsx)("td",{className:"px-3 py-2 align-middle whitespace-nowrap",children:(b-1)*w+n+1}),(0,u.jsx)("td",{className:"px-3 py-2 align-middle",children:(0,u.jsx)("div",{className:"truncate",children:e.name||"\u2014"})}),(0,u.jsx)("td",{className:"px-3 py-2 align-middle whitespace-nowrap",children:e.phoneNumber||"\u2014"}),(0,u.jsx)("td",{className:"px-3 py-2 align-middle",children:(0,u.jsx)("div",{className:"truncate",children:e.email||"\u2014"})}),(0,u.jsx)("td",{className:"px-3 py-2 align-middle",children:(0,u.jsx)("div",{className:"truncate",children:e.leadSource||"\u2014"})}),(0,u.jsx)("td",{className:"px-3 py-2 align-middle text-right",children:(0,u.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Remove this contact from the campaign?")){p(e);try{await c.default.delete("/campaigns/".concat(t,"/recipients/").concat(e)),o((t=>t.filter((t=>t.id!==e)))),x((t=>{const n=new Set(t);return n.delete(e),n})),a.oR.success("Contact removed")}catch(n){a.oR.error("Failed to remove contact")}finally{p(null)}}})(e.id),disabled:d===e.id,className:"rounded px-2 py-1 text-xs ".concat(d===e.id?"bg-red-200 text-red-700 cursor-not-allowed":"bg-red-50 text-red-700 hover:bg-red-100"),children:d===e.id?"Removing\u2026":"Remove"})})]},e.id)))})]})})}),N.length>w&&(0,u.jsxs)("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[(0,u.jsxs)("span",{children:["Showing ",(b-1)*w+1,"\u2013",Math.min(b*w,N.length)," of ",N.length]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{disabled:1===b,onClick:()=>y((e=>Math.max(1,e-1))),className:"px-2 py-1 border rounded disabled:opacity-40",children:"\u2190 Prev"}),(0,u.jsxs)("span",{children:["Page ",b," of ",S]}),(0,u.jsx)("button",{disabled:b===S,onClick:()=>y((e=>Math.min(S,e+1))),className:"px-2 py-1 border rounded disabled:opacity-40",children:"Next \u2192"})]})]})]})})};var st=n(37719),lt=n(34537),ct=n(68899);const dt=(0,_.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),ut=(0,_.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var pt=n(76833);const ft=(0,_.A)("phone-outgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ht=(0,_.A)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),mt=(0,_.A)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);var gt,vt=n(50108),xt=n(88420),bt=n(58387),yt=n(11744),wt=n(11629),jt=n.n(wt),Nt=n(50539),St=n.n(Nt),At=n(79686),Et=n.n(At),kt=n(35268),Ct=n.n(kt),_t=n(19853),Pt=n.n(_t),Ot=n(68471),Tt=n(68892),Mt=n(94020),It=n(81519),Rt=n(6015),Dt=n(76307),Lt=n(71845),Ft=n(240),Bt=["layout","type","stroke","connectNulls","isRange","ref"],zt=["key"];function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Vt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jt(r.key),r)}}function Gt(e,t,n){return t=Xt(t),function(e,t){if(t&&("object"===Ut(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yt()?Reflect.construct(t,n||[],Xt(e).constructor):t.apply(e,n))}function Yt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yt=function(){return!!e})()}function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xt(e)}function $t(e,t){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$t(e,t)}function Zt(e,t,n){return(t=Jt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e){var t=function(e,t){if("object"!=Ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ut(t)?t:t+""}var Qt=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Zt(e=Gt(this,n,[].concat(r)),"state",{isAnimationFinished:!0}),Zt(e,"id",(0,Dt.NF)("recharts-area-")),Zt(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),jt()(t)&&t()})),Zt(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),jt()(t)&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$t(e,t)}(n,t),r=n,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(o=[{key:"renderDots",value:function(t,r,o){var i=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(i&&!a)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,u=(0,Ft.J9)(this.props,!1),p=(0,Ft.J9)(l,!0),f=c.map((function(e,t){var r=qt(qt(qt({key:"dot-".concat(t),r:3},u),p),{},{index:t,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:c});return n.renderDotItem(l,r)})),h={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(o,")"):null};return e.createElement(Mt.W,Wt({className:"recharts-area-dots"},h),f)}},{key:"renderHorizontalRect",value:function(t){var n=this.props,r=n.baseLine,o=n.points,i=n.strokeWidth,a=o[0].x,s=o[o.length-1].x,l=t*Math.abs(a-s),c=St()(o.map((function(e){return e.y||0})));return(0,Dt.Et)(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(St()(r.map((function(e){return e.y||0}))),c)),(0,Dt.Et)(c)?e.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}},{key:"renderVerticalRect",value:function(t){var n=this.props,r=n.baseLine,o=n.points,i=n.strokeWidth,a=o[0].y,s=o[o.length-1].y,l=t*Math.abs(a-s),c=St()(o.map((function(e){return e.x||0})));return(0,Dt.Et)(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(St()(r.map((function(e){return e.x||0}))),c)),(0,Dt.Et)(c)?e.createElement("rect",{x:0,y:a<s?a:a-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(t,n,r,o){var i=this.props,a=i.layout,s=i.type,l=i.stroke,c=i.connectNulls,d=i.isRange,u=(i.ref,Vt(i,Bt));return e.createElement(Mt.W,{clipPath:r?"url(#clipPath-".concat(o,")"):null},e.createElement(Ot.I,Wt({},(0,Ft.J9)(u,!0),{points:t,connectNulls:c,type:s,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==l&&e.createElement(Ot.I,Wt({},(0,Ft.J9)(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:c,fill:"none",points:t})),"none"!==l&&d&&e.createElement(Ot.I,Wt({},(0,Ft.J9)(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:c,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(t,n){var r=this,o=this.props,i=o.points,a=o.baseLine,s=o.isAnimationActive,l=o.animationBegin,c=o.animationDuration,d=o.animationEasing,u=o.animationId,p=this.state,f=p.prevPoints,h=p.prevBaseLine;return e.createElement(yt.Ay,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(o){var s=o.t;if(f){var l,c=f.length/i.length,d=i.map((function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],o=(0,Dt.Dj)(r.x,e.x),i=(0,Dt.Dj)(r.y,e.y);return qt(qt({},e),{},{x:o(s),y:i(s)})}return e}));return l=(0,Dt.Et)(a)&&"number"===typeof a?(0,Dt.Dj)(h,a)(s):Et()(a)||Ct()(a)?(0,Dt.Dj)(h,0)(s):a.map((function(e,t){var n=Math.floor(t*c);if(h[n]){var r=h[n],o=(0,Dt.Dj)(r.x,e.x),i=(0,Dt.Dj)(r.y,e.y);return qt(qt({},e),{},{x:o(s),y:i(s)})}return e})),r.renderAreaStatically(d,l,t,n)}return e.createElement(Mt.W,null,e.createElement("defs",null,e.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.renderClipRect(s))),e.createElement(Mt.W,{clipPath:"url(#animationClipPath-".concat(n,")")},r.renderAreaStatically(i,a,t,n)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,o=n.baseLine,i=n.isAnimationActive,a=this.state,s=a.prevPoints,l=a.prevBaseLine,c=a.totalLength;return i&&r&&r.length&&(!s&&c>0||!Pt()(s,r)||!Pt()(l,o))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,o,e,t)}},{key:"render",value:function(){var t,n=this.props,r=n.hide,o=n.dot,i=n.points,a=n.className,s=n.top,l=n.left,c=n.xAxis,d=n.yAxis,u=n.width,p=n.height,f=n.isAnimationActive,h=n.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,v=(0,bt.A)("recharts-area",a),x=c&&c.allowDataOverflow,b=d&&d.allowDataOverflow,y=x||b,w=Et()(h)?this.id:h,j=null!==(t=(0,Ft.J9)(o,!1))&&void 0!==t?t:{r:3,strokeWidth:2},N=j.r,S=void 0===N?3:N,A=j.strokeWidth,E=void 0===A?2:A,k=((0,Ft.sT)(o)?o:{}).clipDot,C=void 0===k||k,_=2*S+E;return e.createElement(Mt.W,{className:v},x||b?e.createElement("defs",null,e.createElement("clipPath",{id:"clipPath-".concat(w)},e.createElement("rect",{x:x?l:l-u/2,y:b?s:s-p/2,width:x?u:2*u,height:b?p:2*p})),!C&&e.createElement("clipPath",{id:"clipPath-dots-".concat(w)},e.createElement("rect",{x:l-_/2,y:s-_/2,width:u+_,height:p+_}))):null,g?null:this.renderArea(y,w),(o||g)&&this.renderDots(y,C,w),(!f||m)&&It.Z.renderCallByParent(this.props,i))}}])&&Kt(r.prototype,o),i&&Kt(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(e.PureComponent);gt=Qt,Zt(Qt,"displayName","Area"),Zt(Qt,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Rt.m.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),Zt(Qt,"getBaseValue",(function(e,t,n,r){var o=e.layout,i=e.baseValue,a=t.props.baseValue,s=null!==a&&void 0!==a?a:i;if((0,Dt.Et)(s)&&"number"===typeof s)return s;var l="horizontal"===o?r:n,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===s?u:"dataMax"===s||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]})),Zt(Qt,"getComposedData",(function(e){var t,n=e.props,r=e.item,o=e.xAxis,i=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,p=e.displayedData,f=e.offset,h=n.layout,m=d&&d.length,g=gt.getBaseValue(n,r,o,i),v="horizontal"===h,x=!1,b=p.map((function(e,t){var n;m?n=d[u+t]:(n=(0,Lt.kr)(e,c),Array.isArray(n)?x=!0:n=[g,n]);var r=null==n[1]||m&&null==(0,Lt.kr)(e,c);return v?{x:(0,Lt.nb)({axis:o,ticks:a,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:o.scale(n[1]),y:(0,Lt.nb)({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}}));return t=m||x?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?o.scale(t):null,y:e.y}})):v?i.scale(g):o.scale(g),qt({points:b,baseLine:t,layout:h,isRange:x},f)})),Zt(Qt,"renderDotItem",(function(t,n){var r;if(e.isValidElement(t))r=e.cloneElement(t,n);else if(jt()(t))r=t(n);else{var o=(0,bt.A)("recharts-area-dot","boolean"!==typeof t?t.className:""),i=n.key,a=Vt(n,zt);r=e.createElement(Tt.c,Wt({},a,{key:i,className:o}))}return r}));var en=n(52103),tn=n(33097),nn=n.n(tn),rn=n(45248),on=n(84140),an=n(92647),sn=n(17287),ln=n(17213),cn=n(3831);function dn(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],o=0;o<e.length;o+=t){if(void 0!==n&&!0!==n(e[o]))return;r.push(e[o])}return r}function un(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-o)<=0}function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=pn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t,n){var r=e.tick,o=e.ticks,i=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!o||!o.length||!r)return[];if((0,Dt.Et)(l)||Rt.m.isSsr)return function(e,t){return dn(e,t+1)}(o,"number"===typeof l&&(0,Dt.Et)(l)?l:0);var p=[],f="top"===s||"bottom"===s?"width":"height",h=d&&"width"===f?(0,ln.Pu)(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var o=jt()(c)?c(e.value,r):e.value;return"width"===f?function(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return(0,cn.bx)(r,n)}((0,ln.Pu)(o,{fontSize:t,letterSpacing:n}),h,u):(0,ln.Pu)(o,{fontSize:t,letterSpacing:n})[f]},g=o.length>=2?(0,Dt.sA)(o[1].coordinate-o[0].coordinate):1,v=function(e,t,n){var r="width"===n,o=e.x,i=e.y,a=e.width,s=e.height;return 1===t?{start:r?o:i,end:r?o+a:i+s}:{start:r?o+a:i+s,end:r?o:i}}(i,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,o){for(var i,a=(r||[]).slice(),s=t.start,l=t.end,c=0,d=1,u=s,p=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:dn(r,d)};var i,a=c,p=function(){return void 0===i&&(i=n(t,a)),i},f=t.coordinate,h=0===c||un(e,f,p,u,l);h||(c=0,u=s,d+=1),h&&(u=f+e*(p()/2+o),c+=d)};d<=a.length;)if(i=p())return i.v;return[]}(g,v,m,o,a):(p="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,o,i){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(i){var d=r[s-1],u=n(d,s-1),p=e*(d.coordinate+e*u/2-c);a[s-1]=d=hn(hn({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),un(e,d.tickCoord,(function(){return u}),l,c)&&(c=d.tickCoord-e*(u/2+o),a[s-1]=hn(hn({},d),{},{isShow:!0}))}for(var f=i?s-1:s,h=function(t){var r,i=a[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var d=e*(i.coordinate-e*s()/2-l);a[t]=i=hn(hn({},i),{},{tickCoord:d<0?i.coordinate-d*e:i.coordinate})}else a[t]=i=hn(hn({},i),{},{tickCoord:i.coordinate});un(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+o),a[t]=hn(hn({},i),{},{isShow:!0}))},m=0;m<f;m++)h(m);return a}(g,v,m,o,a,"preserveStartEnd"===l):function(e,t,n,r,o){for(var i=(r||[]).slice(),a=i.length,s=t.start,l=t.end,c=function(t){var r,c=i[t],d=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var u=e*(c.coordinate+e*d()/2-l);i[t]=c=hn(hn({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else i[t]=c=hn(hn({},c),{},{tickCoord:c.coordinate});un(e,c.tickCoord,d,s,l)&&(l=c.tickCoord-e*(d()/2+o),i[t]=hn(hn({},c),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return i}(g,v,m,o,a),p.filter((function(e){return e.isShow})))}var vn=["viewBox"],xn=["viewBox"],bn=["ticks"];function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(this,arguments)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,On(r.key),r)}}function En(e,t,n){return t=Cn(t),function(e,t){if(t&&("object"===yn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kn()?Reflect.construct(t,n||[],Cn(e).constructor):t.apply(e,n))}function kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kn=function(){return!!e})()}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}function _n(e,t){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_n(e,t)}function Pn(e,t,n){return(t=On(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){var t=function(e,t){if("object"!=yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yn(t)?t:t+""}var Tn=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=En(this,n,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_n(e,t)}(n,t),r=n,i=[{key:"renderTickItem",value:function(t,n,r){var o=(0,bt.A)(n.className,"recharts-cartesian-axis-tick-value");return e.isValidElement(t)?e.cloneElement(t,Nn(Nn({},n),{},{className:o})):jt()(t)?t(Nn(Nn({},n),{},{className:o})):e.createElement(on.E,wn({},n,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(o=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Sn(e,vn),o=this.props,i=o.viewBox,a=Sn(o,xn);return!(0,rn.b)(n,i)||!(0,rn.b)(r,a)||!(0,rn.b)(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,o,i,a,s=this.props,l=s.x,c=s.y,d=s.width,u=s.height,p=s.orientation,f=s.tickSize,h=s.mirror,m=s.tickMargin,g=h?-1:1,v=e.tickSize||f,x=(0,Dt.Et)(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=n=e.coordinate,a=(r=(o=c+ +!h*u)-g*v)-g*m,i=x;break;case"left":r=o=e.coordinate,i=(t=(n=l+ +!h*d)-g*v)-g*m,a=x;break;case"right":r=o=e.coordinate,i=(t=(n=l+ +h*d)+g*v)+g*m,a=x;break;default:t=n=e.coordinate,a=(r=(o=c+ +h*u)+g*v)+g*m,i=x}return{line:{x1:t,y1:r,x2:n,y2:o},tick:{x:i,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var t=this.props,n=t.x,r=t.y,o=t.width,i=t.height,a=t.orientation,s=t.mirror,l=t.axisLine,c=Nn(Nn(Nn({},(0,Ft.J9)(this.props,!1)),(0,Ft.J9)(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var d=+("top"===a&&!s||"bottom"===a&&s);c=Nn(Nn({},c),{},{x1:n,y1:r+d*i,x2:n+o,y2:r+d*i})}else{var u=+("left"===a&&!s||"right"===a&&s);c=Nn(Nn({},c),{},{x1:n+u*o,y1:r,x2:n+u*o,y2:r+i})}return e.createElement("line",wn({},c,{className:(0,bt.A)("recharts-cartesian-axis-line",nn()(l,"className"))}))}},{key:"renderTicks",value:function(t,r,o){var i=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,d=a.tickFormatter,u=a.unit,p=gn(Nn(Nn({},this.props),{},{ticks:t}),r,o),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=(0,Ft.J9)(this.props,!1),g=(0,Ft.J9)(c,!1),v=Nn(Nn({},m),{},{fill:"none"},(0,Ft.J9)(s,!1)),x=p.map((function(t,r){var o=i.getTickLineCoord(t),a=o.line,x=o.tick,b=Nn(Nn(Nn(Nn({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:l},g),x),{},{index:r,payload:t,visibleTicksCount:p.length,tickFormatter:d});return e.createElement(Mt.W,wn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},(0,sn.XC)(i.props,t,r)),s&&e.createElement("line",wn({},v,a,{className:(0,bt.A)("recharts-cartesian-axis-tick-line",nn()(s,"className"))})),c&&n.renderTickItem(c,b,"".concat(jt()(d)?d(t.value,r):t.value).concat(u||"")))}));return e.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var t=this,n=this.props,r=n.axisLine,o=n.width,i=n.height,a=n.ticksGenerator,s=n.className;if(n.hide)return null;var l=this.props,c=l.ticks,d=Sn(l,bn),u=c;return jt()(a)&&(u=c&&c.length>0?a(this.props):a(d)),o<=0||i<=0||!u||!u.length?null:e.createElement(Mt.W,{className:(0,bt.A)("recharts-cartesian-axis",s),ref:function(e){t.layerReference=e}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),an.J.renderCallByParent(this.props))}}])&&An(r.prototype,o),i&&An(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(e.Component);function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zn(r.key),r)}}function Rn(e,t,n){return t=Ln(t),function(e,t){if(t&&("object"===Mn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dn()?Reflect.construct(t,n||[],Ln(e).constructor):t.apply(e,n))}function Dn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dn=function(){return!!e})()}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}function Fn(e,t){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fn(e,t)}function Bn(e,t,n){return(t=zn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e){var t=function(e,t){if("object"!=Mn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mn(t)?t:t+""}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Un.apply(this,arguments)}function Vn(t){var n=t.xAxisId,r=(0,en.yi)(),o=(0,en.rY)(),i=(0,en.AF)(n);return null==i?null:e.createElement(Tn,Un({},i,{className:(0,bt.A)("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:o},ticksGenerator:function(e){return(0,Lt.Rh)(e,!0)}}))}Pn(Tn,"displayName","CartesianAxis"),Pn(Tn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wn=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Rn(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fn(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){return e.createElement(Vn,this.props)}}])&&In(r.prototype,o),i&&In(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(e.Component);function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zn(r.key),r)}}function Kn(e,t,n){return t=Yn(t),function(e,t){if(t&&("object"===Hn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gn()?Reflect.construct(t,n||[],Yn(e).constructor):t.apply(e,n))}function Gn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gn=function(){return!!e})()}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(e)}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xn(e,t)}function $n(e,t,n){return(t=Zn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e){var t=function(e,t){if("object"!=Hn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hn(t)?t:t+""}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn.apply(this,arguments)}Bn(Wn,"displayName","XAxis"),Bn(Wn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var Qn=function(t){var n=t.yAxisId,r=(0,en.yi)(),o=(0,en.rY)(),i=(0,en.Nk)(n);return null==i?null:e.createElement(Tn,Jn({},i,{className:(0,bt.A)("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:o},ticksGenerator:function(e){return(0,Lt.Rh)(e,!0)}}))},er=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Kn(this,n,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xn(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){return e.createElement(Qn,this.props)}}])&&qn(r.prototype,o),i&&qn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(e.Component);$n(er,"displayName","YAxis"),$n(er,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var tr=(0,xt.gu)({chartName:"AreaChart",GraphicalChild:Qt,axisComponents:[{axisType:"xAxis",AxisComp:Wn},{axisType:"yAxis",AxisComp:er}],formatAxisMap:cn.pr}),nr=n(155),rr=["x1","y1","x2","y2","key"],or=["offset"];function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ir(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ir(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr.apply(this,arguments)}function dr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ur=function(t){var n=t.fill;if(!n||"none"===n)return null;var r=t.fillOpacity,o=t.x,i=t.y,a=t.width,s=t.height,l=t.ry;return e.createElement("rect",{x:o,y:i,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function pr(t,n){var r;if(e.isValidElement(t))r=e.cloneElement(t,n);else if(jt()(t))r=t(n);else{var o=n.x1,i=n.y1,a=n.x2,s=n.y2,l=n.key,c=dr(n,rr),d=(0,Ft.J9)(c,!1),u=(d.offset,dr(d,or));r=e.createElement("line",cr({},u,{x1:o,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function fr(t){var n=t.x,r=t.width,o=t.horizontal,i=void 0===o||o,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(e,o){var a=sr(sr({},t),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(o),index:o});return pr(i,a)}));return e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function hr(t){var n=t.y,r=t.height,o=t.vertical,i=void 0===o||o,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(e,o){var a=sr(sr({},t),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(o),index:o});return pr(i,a)}));return e.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mr(t){var n=t.horizontalFill,r=t.fillOpacity,o=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal;if(!(void 0===c||c)||!n||!n.length)return null;var d=l.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==d[0]&&d.unshift(0);var u=d.map((function(t,l){var c=!d[l+1]?i+s-t:d[l+1]-t;if(c<=0)return null;var u=l%n.length;return e.createElement("rect",{key:"react-".concat(l),y:t,x:o,height:c,width:a,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function gr(t){var n=t.vertical,r=void 0===n||n,o=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!o||!o.length)return null;var u=d.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==u[0]&&u.unshift(0);var p=u.map((function(t,n){var r=!u[n+1]?a+l-t:u[n+1]-t;if(r<=0)return null;var d=n%o.length;return e.createElement("rect",{key:"react-".concat(n),x:t,y:s,width:r,height:c,stroke:"none",fill:o[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var vr=function(e,t){var n=e.xAxis,r=e.width,o=e.height,i=e.offset;return(0,Lt.PW)(gn(sr(sr(sr({},Tn.defaultProps),n),{},{ticks:(0,Lt.Rh)(n,!0),viewBox:{x:0,y:0,width:r,height:o}})),i.left,i.left+i.width,t)},xr=function(e,t){var n=e.yAxis,r=e.width,o=e.height,i=e.offset;return(0,Lt.PW)(gn(sr(sr(sr({},Tn.defaultProps),n),{},{ticks:(0,Lt.Rh)(n,!0),viewBox:{x:0,y:0,width:r,height:o}})),i.top,i.top+i.height,t)},br={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function yr(t){var n,r,o,i,a,s,l=(0,en.yi)(),c=(0,en.rY)(),d=(0,en.hj)(),u=sr(sr({},t),{},{stroke:null!==(n=t.stroke)&&void 0!==n?n:br.stroke,fill:null!==(r=t.fill)&&void 0!==r?r:br.fill,horizontal:null!==(o=t.horizontal)&&void 0!==o?o:br.horizontal,horizontalFill:null!==(i=t.horizontalFill)&&void 0!==i?i:br.horizontalFill,vertical:null!==(a=t.vertical)&&void 0!==a?a:br.vertical,verticalFill:null!==(s=t.verticalFill)&&void 0!==s?s:br.verticalFill,x:(0,Dt.Et)(t.x)?t.x:d.left,y:(0,Dt.Et)(t.y)?t.y:d.top,width:(0,Dt.Et)(t.width)?t.width:d.width,height:(0,Dt.Et)(t.height)?t.height:d.height}),p=u.x,f=u.y,h=u.width,m=u.height,g=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,b=(0,en.pj)(),y=(0,en.$G)();if(!(0,Dt.Et)(h)||h<=0||!(0,Dt.Et)(m)||m<=0||!(0,Dt.Et)(p)||p!==+p||!(0,Dt.Et)(f)||f!==+f)return null;var w=u.verticalCoordinatesGenerator||vr,j=u.horizontalCoordinatesGenerator||xr,N=u.horizontalPoints,S=u.verticalPoints;if((!N||!N.length)&&jt()(j)){var A=v&&v.length,E=j({yAxis:y?sr(sr({},y),{},{ticks:A?v:y.ticks}):void 0,width:l,height:c,offset:d},!!A||g);(0,nr.R)(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ir(E),"]")),Array.isArray(E)&&(N=E)}if((!S||!S.length)&&jt()(w)){var k=x&&x.length,C=w({xAxis:b?sr(sr({},b),{},{ticks:k?x:b.ticks}):void 0,width:l,height:c,offset:d},!!k||g);(0,nr.R)(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ir(C),"]")),Array.isArray(C)&&(S=C)}return e.createElement("g",{className:"recharts-cartesian-grid"},e.createElement(ur,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),e.createElement(fr,cr({},u,{offset:d,horizontalPoints:N,xAxis:b,yAxis:y})),e.createElement(hr,cr({},u,{offset:d,verticalPoints:S,xAxis:b,yAxis:y})),e.createElement(mr,cr({},u,{horizontalPoints:N})),e.createElement(gr,cr({},u,{verticalPoints:S})))}yr.displayName="CartesianGrid";var wr=n(86150),jr=n(38813),Nr=["type","layout","connectNulls","ref"],Sr=["key"];function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Er(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(this,arguments)}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){Lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e){return function(e){if(Array.isArray(e))return Or(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fr(r.key),r)}}function Mr(e,t,n){return t=Rr(t),function(e,t){if(t&&("object"===Ar(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ir()?Reflect.construct(t,n||[],Rr(e).constructor):t.apply(e,n))}function Ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ir=function(){return!!e})()}function Rr(e){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rr(e)}function Dr(e,t){return Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dr(e,t)}function Lr(e,t,n){return(t=Fr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e){var t=function(e,t){if("object"!=Ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ar(t)?t:t+""}var Br=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Lr(e=Mr(this,n,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Lr(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),Lr(e,"getStrokeDasharray",(function(t,r,o){var i=o.reduce((function(e,t){return e+t}));if(!i)return e.generateSimpleStrokeDasharray(r,t);for(var a=Math.floor(t/i),s=t%i,l=r-t,c=[],d=0,u=0;d<o.length;u+=o[d],++d)if(u+o[d]>s){c=[].concat(Pr(o.slice(0,d)),[s-u]);break}var p=c.length%2===0?[0,l]:[l];return[].concat(Pr(n.repeat(o,a)),Pr(c),p).map((function(e){return"".concat(e,"px")})).join(", ")})),Lr(e,"id",(0,Dt.NF)("recharts-line-")),Lr(e,"pathRef",(function(t){e.mainCurve=t})),Lr(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Lr(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dr(e,t)}(n,t),r=n,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(Pr(e),[0]):e,r=[],o=0;o<t;++o)r=[].concat(Pr(r),Pr(n));return r}},{key:"renderDotItem",value:function(t,n){var r;if(e.isValidElement(t))r=e.cloneElement(t,n);else if(jt()(t))r=t(n);else{var o=n.key,i=Er(n,Sr),a=(0,bt.A)("recharts-line-dot","boolean"!==typeof t?t.className:"");r=e.createElement(Tt.c,kr({key:o},i,{className:a}))}return r}}],(o=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(t,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,o=r.points,i=r.xAxis,a=r.yAxis,s=r.layout,l=r.children,c=(0,Ft.aS)(l,jr.u);if(!c)return null;var d=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,Lt.kr)(e.payload,t)}},u={clipPath:t?"url(#clipPath-".concat(n,")"):null};return e.createElement(Mt.W,u,c.map((function(t){return e.cloneElement(t,{key:"bar-".concat(t.props.dataKey),data:o,xAxis:i,yAxis:a,layout:s,dataPointFormatter:d})})))}},{key:"renderDots",value:function(t,r,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.dot,s=i.points,l=i.dataKey,c=(0,Ft.J9)(this.props,!1),d=(0,Ft.J9)(a,!0),u=s.map((function(e,t){var r=_r(_r(_r({key:"dot-".concat(t),r:3},c),d),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return n.renderDotItem(a,r)})),p={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(o,")"):null};return e.createElement(Mt.W,kr({className:"recharts-line-dots",key:"dots"},p),u)}},{key:"renderCurveStatically",value:function(t,n,r,o){var i=this.props,a=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,Er(i,Nr)),d=_r(_r(_r({},(0,Ft.J9)(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(r,")"):null,points:t},o),{},{type:a,layout:s,connectNulls:l});return e.createElement(Ot.I,kr({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,n){var r=this,o=this.props,i=o.points,a=o.strokeDasharray,s=o.isAnimationActive,l=o.animationBegin,c=o.animationDuration,d=o.animationEasing,u=o.animationId,p=o.animateNewValues,f=o.width,h=o.height,m=this.state,g=m.prevPoints,v=m.totalLength;return e.createElement(yt.Ay,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(e){var o=e.t;if(g){var s=g.length/i.length,l=i.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],i=(0,Dt.Dj)(r.x,e.x),a=(0,Dt.Dj)(r.y,e.y);return _r(_r({},e),{},{x:i(o),y:a(o)})}if(p){var l=(0,Dt.Dj)(2*f,e.x),c=(0,Dt.Dj)(h/2,e.y);return _r(_r({},e),{},{x:l(o),y:c(o)})}return _r(_r({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(l,t,n)}var c,d=(0,Dt.Dj)(0,v)(o);if(a){var u="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=r.getStrokeDasharray(d,v,u)}else c=r.generateSimpleStrokeDasharray(v,d);return r.renderCurveStatically(i,t,n,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,o=n.isAnimationActive,i=this.state,a=i.prevPoints,s=i.totalLength;return o&&r&&r.length&&(!a&&s>0||!Pt()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var t,n=this.props,r=n.hide,o=n.dot,i=n.points,a=n.className,s=n.xAxis,l=n.yAxis,c=n.top,d=n.left,u=n.width,p=n.height,f=n.isAnimationActive,h=n.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,v=(0,bt.A)("recharts-line",a),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,y=x||b,w=Et()(h)?this.id:h,j=null!==(t=(0,Ft.J9)(o,!1))&&void 0!==t?t:{r:3,strokeWidth:2},N=j.r,S=void 0===N?3:N,A=j.strokeWidth,E=void 0===A?2:A,k=((0,Ft.sT)(o)?o:{}).clipDot,C=void 0===k||k,_=2*S+E;return e.createElement(Mt.W,{className:v},x||b?e.createElement("defs",null,e.createElement("clipPath",{id:"clipPath-".concat(w)},e.createElement("rect",{x:x?d:d-u/2,y:b?c:c-p/2,width:x?u:2*u,height:b?p:2*p})),!C&&e.createElement("clipPath",{id:"clipPath-dots-".concat(w)},e.createElement("rect",{x:d-_/2,y:c-_/2,width:u+_,height:p+_}))):null,!g&&this.renderCurve(y,w),this.renderErrorBar(y,w),(g||o)&&this.renderDots(y,C,w),(!f||m)&&It.Z.renderCallByParent(this.props,i))}}])&&Tr(r.prototype,o),i&&Tr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(e.PureComponent);Lr(Br,"displayName","Line"),Lr(Br,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rt.m.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Lr(Br,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return _r({points:l.map((function(e,t){var l=(0,Lt.kr)(e,a);return"horizontal"===d?{x:(0,Lt.nb)({axis:n,ticks:o,bandSize:s,entry:e,index:t}),y:Et()(l)?null:r.scale(l),value:l,payload:e}:{x:Et()(l)?null:n.scale(l),y:(0,Lt.nb)({axis:r,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}})),layout:d},c)}));var zr=(0,xt.gu)({chartName:"LineChart",GraphicalChild:Br,axisComponents:[{axisType:"xAxis",AxisComp:Wn},{axisType:"yAxis",AxisComp:er}],formatAxisMap:cn.pr}),Ur=n(21327);const Vr=new Intl.NumberFormat,Wr=new Intl.NumberFormat(void 0,{maximumFractionDigits:2});function Hr(e){if(null==e)return"\u2013";if(e<1e3)return"".concat(Math.round(e)," ms");const t=e/1e3;return t<60?"".concat(Wr.format(t)," s"):"".concat(Wr.format(t/60)," min")}function qr(e){let{value:t}=e;const n=Math.max(0,Math.min(100,t));return(0,u.jsx)("div",{className:"w-full h-3 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:(0,u.jsx)("div",{className:"h-full bg-emerald-500 transition-all",style:{width:"".concat(n,"%")}})})}function Kr(e){let{title:t,value:n,subtitle:r,icon:o,accent:i=""}=e;return(0,u.jsxs)("div",{className:"rounded-2xl p-4 shadow-sm bg-white/70 dark:bg-zinc-900/60 border border-zinc-200/50 dark:border-zinc-800 ".concat(i),children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"p-2 rounded-xl bg-zinc-100 dark:bg-zinc-800",children:(0,u.jsx)(o,{className:"w-5 h-5"})}),(0,u.jsx)("div",{className:"text-sm opacity-70",children:t})]}),(0,u.jsx)("div",{className:"mt-2 text-2xl font-semibold tracking-tight",children:n}),r&&(0,u.jsx)("div",{className:"mt-1 text-xs opacity-60",children:r})]})}function Gr(e){let{message:t}=e;return t?(0,u.jsxs)("div",{className:"rounded-xl border border-red-200 dark:border-red-900 bg-red-50 dark:bg-red-950/40 text-red-800 dark:text-red-300 px-4 py-3 flex items-center gap-2",children:[(0,u.jsx)(st.A,{className:"w-4 h-4"}),(0,u.jsx)("span",{className:"text-sm",children:t})]}):null}function Yr(t){var n,r,o,l,d,p,f,h,m,g,v;let{campaignId:b="",refreshMs:y=4e3}=t;const{campaignId:w}=(0,i.g)(),j=w||b,[N,S]=(0,e.useState)(j),[A,E]=(0,e.useState)(!0),[k,C]=(0,e.useState)(!1),[_,P]=(0,e.useState)(""),[O,T]=(0,e.useState)(null),[M,I]=(0,e.useState)([]),[R,D]=(0,e.useState)(null),L=(0,e.useRef)(null),F=Boolean(N);async function B(){var e;if(!F)return;C(!0),P(""),null===(e=L.current)||void 0===e||e.abort();const t=new AbortController;L.current=t;try{const e=(await c.default.get("/campaigns/".concat(N,"/progress"),{signal:t.signal})).data;T(e),D((e=>null!==e&&void 0!==e?e:new Date)),I((t=>{const n=[...t,{t:new Date(e.retrievedAtUtc),pending:e.pending,inFlight:e.inFlight,sent:e.sent,failed:e.failed,dead:e.dead,completionPct:e.completionPct}];return n.slice(Math.max(0,n.length-50))}))}catch(Jg){var n,r;if("CanceledError"===(null===Jg||void 0===Jg?void 0:Jg.name)||"AbortError"===(null===Jg||void 0===Jg?void 0:Jg.name))return;const t=(null===Jg||void 0===Jg||null===(n=Jg.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===Jg||void 0===Jg?void 0:Jg.message)||"Failed to load progress";P(t),a.oR.error("\u274c ".concat(t))}finally{C(!1)}}(0,e.useEffect)((()=>{w&&w!==N&&S(w)}),[w]),(0,e.useEffect)((()=>{if(!A)return;B();const e=setInterval(B,y);return()=>clearInterval(e)}),[A,y,N]);const z=null!==(n=null===O||void 0===O?void 0:O.completionPct)&&void 0!==n?n:0,U=((0,e.useMemo)((()=>O?"".concat(Vr.format(O.sent)," sent \u2022 ").concat(Vr.format(O.failed)," failed \u2022 ").concat(Vr.format(O.dead)," dead"):""),[O]),function(e){if(!e)return"\u2013";try{return new Date(e).toLocaleString()}catch(t){return e}}(null===O||void 0===O?void 0:O.retrievedAtUtc));return(0,u.jsx)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:(0,u.jsxs)("div",{className:"p-4 md:p-6 lg:p-8 max-w-7xl mx-auto",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-3 md:gap-4 mb-6",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,u.jsx)(lt.A,{className:"w-6 h-6"})," Campaign Progress"]}),(0,u.jsx)("p",{className:"text-sm opacity-70 mt-1",children:"Live view of queue and delivery metrics for a single campaign."})]}),(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-end",children:[(0,u.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,u.jsxs)("div",{className:"flex flex-col",children:[(0,u.jsx)("label",{className:"text-xs font-medium mb-1",children:"Campaign ID"}),(0,u.jsx)("input",{className:"rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white/80 dark:bg-zinc-900/60 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"00000000-0000-0000-0000-000000000000",value:N,onChange:e=>S(e.target.value)})]})}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsxs)("button",{className:"inline-flex items-center gap-2 rounded-xl border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-sm hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:B,disabled:!F||k,title:"Refresh now",children:[k?(0,u.jsx)(s.A,{className:"w-4 h-4 animate-spin"}):(0,u.jsx)(ct.A,{className:"w-4 h-4"})," ","Refresh"]}),(0,u.jsxs)("button",{className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm border ".concat(A?"border-emerald-500/60 bg-emerald-500 text-white":"border-zinc-300 dark:border-zinc-700"),onClick:()=>E((e=>!e)),disabled:!F,title:A?"Pause auto-refresh":"Start auto-refresh",children:[A?(0,u.jsx)(dt,{className:"w-4 h-4"}):(0,u.jsx)(Fe.A,{className:"w-4 h-4"})," ",A?"Pause":"Auto"]})]})]})]}),_&&(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)(Gr,{message:_})}),(0,u.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3 mb-6",children:[(0,u.jsx)(Kr,{title:"Total",value:Vr.format(null!==(r=null===O||void 0===O?void 0:O.totalJobs)&&void 0!==r?r:0),icon:ut}),(0,u.jsx)(Kr,{title:"Completed",value:Vr.format(null!==(o=null===O||void 0===O?void 0:O.completed)&&void 0!==o?o:0),subtitle:"".concat(Wr.format(z),"%"),icon:pt.A}),(0,u.jsx)(Kr,{title:"Pending",value:Vr.format(null!==(l=null===O||void 0===O?void 0:O.pending)&&void 0!==l?l:0),icon:x.A}),(0,u.jsx)(Kr,{title:"In Flight",value:Vr.format(null!==(d=null===O||void 0===O?void 0:O.inFlight)&&void 0!==d?d:0),icon:ft}),(0,u.jsx)(Kr,{title:"Sent",value:Vr.format(null!==(p=null===O||void 0===O?void 0:O.sent)&&void 0!==p?p:0),icon:ht}),(0,u.jsx)(Kr,{title:"Failed",value:Vr.format(null!==(f=null===O||void 0===O?void 0:O.failed)&&void 0!==f?f:0),icon:st.A}),(0,u.jsx)(Kr,{title:"Dead",value:Vr.format(null!==(h=null===O||void 0===O?void 0:O.dead)&&void 0!==h?h:0),icon:mt}),(0,u.jsx)(Kr,{title:"Last Updated",value:U,icon:lt.A})]}),(0,u.jsxs)("div",{className:"rounded-2xl p-5 border border-zinc-200/60 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60 shadow-sm mb-6",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 text-sm opacity-80",children:[(0,u.jsx)(ht,{className:"w-4 h-4"})," Completion"]}),(0,u.jsxs)("div",{className:"text-sm font-medium",children:[Wr.format(z),"%"]})]}),(0,u.jsx)(qr,{value:z}),(0,u.jsx)("div",{className:"mt-3 text-xs opacity-70",children:O?"".concat(Vr.format(O.sent)," sent \u2022 ").concat(Vr.format(O.failed)," failed \u2022 ").concat(Vr.format(O.dead)," dead"):""})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"rounded-2xl p-4 border border-zinc-200/60 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60 shadow-sm",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 text-sm opacity-80",children:[(0,u.jsx)(ht,{className:"w-4 h-4"})," Completion over time"]}),(0,u.jsxs)("div",{className:"text-xs opacity-60",children:["since ",R?R.toLocaleTimeString():"\u2013"]})]}),(0,u.jsx)("div",{className:"h-56",children:(0,u.jsx)(vt.u,{width:"100%",height:"100%",children:(0,u.jsxs)(tr,{data:M,margin:{left:0,right:8,top:8,bottom:0},children:[(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"grad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:.3}),(0,u.jsx)("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:.05})]})}),(0,u.jsx)(yr,{strokeDasharray:"3 3",className:"opacity-30"}),(0,u.jsx)(Wn,{dataKey:"t",tickFormatter:e=>new Date(e).toLocaleTimeString(),minTickGap:24}),(0,u.jsx)(er,{domain:[0,100],tickFormatter:e=>"".concat(e,"%"),width:40}),(0,u.jsx)(wr.m,{labelFormatter:e=>new Date(e).toLocaleTimeString(),formatter:e=>["".concat(Wr.format(e),"%"),"completion"]}),(0,u.jsx)(Qt,{type:"monotone",dataKey:"completionPct",stroke:"currentColor",fill:"url(#grad)"})]})})})]}),(0,u.jsxs)("div",{className:"rounded-2xl p-4 border border-zinc-200/60 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60 shadow-sm",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 text-sm opacity-80",children:[(0,u.jsx)(x.A,{className:"w-4 h-4"})," Queue state over time"]}),(0,u.jsx)("div",{className:"text-xs opacity-60",children:"pending & in-flight"})]}),(0,u.jsx)("div",{className:"h-56",children:(0,u.jsx)(vt.u,{width:"100%",height:"100%",children:(0,u.jsxs)(zr,{data:M,margin:{left:0,right:8,top:8,bottom:0},children:[(0,u.jsx)(yr,{strokeDasharray:"3 3",className:"opacity-30"}),(0,u.jsx)(Wn,{dataKey:"t",tickFormatter:e=>new Date(e).toLocaleTimeString(),minTickGap:24}),(0,u.jsx)(er,{width:48}),(0,u.jsx)(wr.m,{labelFormatter:e=>new Date(e).toLocaleTimeString()}),(0,u.jsx)(Ur.s,{}),(0,u.jsx)(Br,{type:"monotone",dataKey:"pending",stroke:"currentColor",dot:!1,name:"Pending"}),(0,u.jsx)(Br,{type:"monotone",dataKey:"inFlight",stroke:"currentColor",dot:!1,name:"InFlight"})]})})})]})]}),(0,u.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,u.jsxs)("div",{className:"rounded-xl p-3 border border-zinc-200/60 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60",children:[(0,u.jsx)("div",{className:"text-xs opacity-70",children:"p50 latency (last hour)"}),(0,u.jsx)("div",{className:"text-lg font-semibold",children:Hr(null!==(m=null===O||void 0===O?void 0:O.p50ms)&&void 0!==m?m:null)})]}),(0,u.jsxs)("div",{className:"rounded-xl p-3 border border-zinc-200/60 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60",children:[(0,u.jsx)("div",{className:"text-xs opacity-70",children:"p95 latency (last hour)"}),(0,u.jsx)("div",{className:"text-lg font-semibold",children:Hr(null!==(g=null===O||void 0===O?void 0:O.p95ms)&&void 0!==g?g:null)})]}),(0,u.jsxs)("div",{className:"rounded-xl p-3 border border-zinc-200/60 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60",children:[(0,u.jsx)("div",{className:"text-xs opacity-70",children:"p99 latency (last hour)"}),(0,u.jsx)("div",{className:"text-lg font-semibold",children:Hr(null!==(v=null===O||void 0===O?void 0:O.p99ms)&&void 0!==v?v:null)})]})]}),!O&&(0,u.jsx)("div",{className:"mt-10 text-center text-sm opacity-60",children:"Enter a campaign ID above, then enable auto-refresh."})]})})}var Xr=n(38643),$r=(0,xt.gu)({chartName:"BarChart",GraphicalChild:Xr.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wn},{axisType:"yAxis",AxisComp:er}],formatAxisMap:cn.pr});function Zr(){const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[l,d]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{(async()=>{try{const e=await c.default.get("/flow-analytics/summary"),t=await c.default.get("/flow-analytics/most-triggered-steps"),r=await c.default.get("/flow-analytics/step-journey-breakdown");n(e.data),o(t.data),s(r.data)}catch(e){a.oR.error("\u274c Failed to load flow analytics data")}finally{d(!1)}})()}),[]),l?(0,u.jsx)("div",{className:"p-4",children:"Loading analytics..."}):t?(0,u.jsxs)("div",{className:"p-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-purple-700 mb-4",children:"\ud83d\udcc8 Visual CTA Flow Dashboard"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[(0,u.jsxs)("div",{className:"bg-white p-4 shadow rounded-xl",children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Total Steps Triggered"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:t.totalExecutions})]}),(0,u.jsxs)("div",{className:"bg-white p-4 shadow rounded-xl",children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Unique Contacts"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:t.uniqueContacts})]}),(0,u.jsxs)("div",{className:"bg-white p-4 shadow rounded-xl",children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Top Triggered Step"}),(0,u.jsx)("p",{className:"text-xl font-semibold text-purple-600",children:t.topStepTriggered}),(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:["Triggered ",t.topStepCount," times"]})]}),(0,u.jsxs)("div",{className:"bg-white p-4 shadow rounded-xl",children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Last Execution"}),(0,u.jsx)("p",{className:"text-md text-gray-700",children:t.lastExecutedAt?new Date(t.lastExecutedAt).toLocaleString():"-"})]})]}),(0,u.jsxs)("div",{className:"bg-white p-4 shadow rounded-xl",children:[(0,u.jsx)("h3",{className:"text-lg font-bold text-purple-600 mb-2",children:"\ud83c\udfc6 Top Triggered Steps"}),0===r.length?(0,u.jsx)("p",{className:"text-gray-500",children:"No execution data available."}):(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full border",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-gray-100",children:[(0,u.jsx)("th",{className:"text-left p-2 border",children:"Step Name"}),(0,u.jsx)("th",{className:"text-left p-2 border",children:"Trigger Count"})]})}),(0,u.jsx)("tbody",{children:r.map(((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,u.jsx)("td",{className:"p-2 border",children:e.stepName}),(0,u.jsx)("td",{className:"p-2 border",children:e.count})]},t)))})]})})]}),r.length>0&&(0,u.jsxs)("div",{className:"bg-white p-4 shadow rounded-xl mt-6",children:[(0,u.jsx)("h3",{className:"text-lg font-bold text-purple-600 mb-2",children:"\ud83d\udcca Step Trigger Frequency"}),(0,u.jsx)(vt.u,{width:"100%",height:300,children:(0,u.jsxs)($r,{data:r,children:[(0,u.jsx)(yr,{strokeDasharray:"3 3"}),(0,u.jsx)(Wn,{dataKey:"stepName",tick:{fontSize:12}}),(0,u.jsx)(er,{}),(0,u.jsx)(wr.m,{}),(0,u.jsx)(Xr.y,{dataKey:"count",fill:"#7c3aed",radius:[4,4,0,0]})]})})]}),i.length>0&&(0,u.jsxs)("div",{className:"bg-white p-4 shadow rounded-xl mt-6",children:[(0,u.jsx)("h3",{className:"text-lg font-bold text-purple-600 mb-2",children:"\ud83e\udded Step-by-Step Journey Breakdown"}),(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full border",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-gray-100",children:[(0,u.jsx)("th",{className:"p-2 border text-left",children:"Step Name"}),(0,u.jsx)("th",{className:"p-2 border text-left",children:"Total Reached"}),(0,u.jsx)("th",{className:"p-2 border text-left",children:"Clicked Next"}),(0,u.jsx)("th",{className:"p-2 border text-left",children:"Drop-Off"}),(0,u.jsx)("th",{className:"p-2 border text-left",children:"Next Step"})]})}),(0,u.jsx)("tbody",{children:i.map(((e,t)=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(e.dropOff>0?"bg-red-50":""),children:[(0,u.jsx)("td",{className:"p-2 border font-medium text-purple-700",children:e.templateName}),(0,u.jsx)("td",{className:"p-2 border",children:e.totalReached}),(0,u.jsx)("td",{className:"p-2 border",children:e.clickedNext}),(0,u.jsx)("td",{className:"p-2 border font-semibold text-red-600",children:e.dropOff}),(0,u.jsx)("td",{className:"p-2 border text-xs text-gray-500",children:e.nextStepId||"-"})]},t)))})]})})]})]}):(0,u.jsx)("div",{className:"p-4",children:"No analytics data available."})}var Jr=n(39292),Qr=n(28646),eo=n(2580);const to=(0,_.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var no=n(16388),ro=n(7104);const oo=(0,_.A)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);var io=n(60163),ao=n(4240),so=n(17869),lo=n(80045),co=n(98139),uo=n.n(co);const po=["className","children"];function fo(e){let{className:t="",children:n}=e,r=(0,lo.A)(e,po);return(0,u.jsx)("div",(0,b.A)((0,b.A)({className:uo()("rounded-2xl bg-white shadow p-4 border border-gray-200",t)},r),{},{children:n}))}"undefined"===typeof window||!window.document||window.document.createElement;function ho(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}function mo(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function go(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=mo(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():mo(t[e],null)}}}}function vo(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(go(...n),n)}const xo=["children"],bo=["scope","children"];function yo(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];if(1===n.length)return o;const i=()=>{const t=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=t.reduce(((e,t)=>{let{useScope:r,scopeName:o}=t;const i=r(n)["__scope".concat(o)];return(0,b.A)((0,b.A)({},e),i)}),{});return e.useMemo((()=>({["__scope".concat(o.scopeName)]:r})),[r])}};return i.scopeName=o.scopeName,i}var wo=null!==globalThis&&void 0!==globalThis&&globalThis.document?e.useLayoutEffect:()=>{},jo=t[" useId ".trim().toString()]||(()=>{}),No=0;function So(t){const[n,r]=e.useState(jo());return wo((()=>{t||r((e=>null!==e&&void 0!==e?e:String(No++)))}),[t]),t||(n?"radix-".concat(n):"")}var Ao=t[" useInsertionEffect ".trim().toString()]||wo;function Eo(t){let{prop:n,defaultProp:r,onChange:o=()=>{},caller:i}=t;const[a,s,l]=function(t){let{defaultProp:n,onChange:r}=t;const[o,i]=e.useState(n),a=e.useRef(o),s=e.useRef(r);return Ao((()=>{s.current=r}),[r]),e.useEffect((()=>{var e;a.current!==o&&(null===(e=s.current)||void 0===e||e.call(s,o),a.current=o)}),[o,a]),[o,i,s]}({defaultProp:r,onChange:o}),c=void 0!==n,d=c?n:a;{const t=e.useRef(void 0!==n);e.useEffect((()=>{const e=t.current;if(e!==c){const t=e?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(t," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}t.current=c}),[c,i])}const u=e.useCallback((e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(n):e;var t;if(r!==n)null===(t=l.current)||void 0===t||t.call(l,r)}else s(e)}),[c,n,s,l]);return[d,u]}Symbol("RADIX:SYNC_STATE");var ko=n(97950);const Co=["children"],_o=["children"];function Po(t){const n=Oo(t),r=e.forwardRef(((t,r)=>{const{children:o}=t,i=(0,lo.A)(t,Co),a=e.Children.toArray(o),s=a.find(Mo);if(s){const t=s.props.children,o=a.map((n=>n===s?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n));return(0,u.jsx)(n,(0,b.A)((0,b.A)({},i),{},{ref:r,children:e.isValidElement(t)?e.cloneElement(t,void 0,o):null}))}return(0,u.jsx)(n,(0,b.A)((0,b.A)({},i),{},{ref:r,children:o}))}));return r.displayName="".concat(t,".Slot"),r}function Oo(t){const n=e.forwardRef(((t,n)=>{const{children:r}=t,o=(0,lo.A)(t,_o);if(e.isValidElement(r)){const t=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;if(o)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o)return e.props.ref;return e.props.ref||e.ref}(r),i=function(e,t){const n=(0,b.A)({},t);for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=function(){const e=i(...arguments);return o(...arguments),e}:o&&(n[r]=o):"style"===r?n[r]=(0,b.A)((0,b.A)({},o),i):"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return(0,b.A)((0,b.A)({},e),n)}(o,r.props);return r.type!==e.Fragment&&(i.ref=n?go(n,t):t),e.cloneElement(r,i)}return e.Children.count(r)>1?e.Children.only(null):null}));return n.displayName="".concat(t,".SlotClone"),n}var To=Symbol("radix.slottable");function Mo(t){return e.isValidElement(t)&&"function"===typeof t.type&&"__radixId"in t.type&&t.type.__radixId===To}const Io=["asChild"];var Ro=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((t,n)=>{const r=Po("Primitive.".concat(n)),o=e.forwardRef(((e,t)=>{const{asChild:o}=e,i=(0,lo.A)(e,Io),a=o?r:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,u.jsx)(a,(0,b.A)((0,b.A)({},i),{},{ref:t}))}));return o.displayName="Primitive.".concat(n),(0,b.A)((0,b.A)({},t),{},{[n]:o})}),{});function Do(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),e.useMemo((()=>function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return null===(e=n.current)||void 0===e?void 0:e.call(n,...r)}),[])}const Lo=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Fo,Bo="dismissableLayer.update",zo="dismissableLayer.pointerDownOutside",Uo="dismissableLayer.focusOutside",Vo=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wo=e.forwardRef(((t,n)=>{var r;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:l,onDismiss:c}=t,d=(0,lo.A)(t,Lo),p=e.useContext(Vo),[f,h]=e.useState(null),m=null!==(r=null===f||void 0===f?void 0:f.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=e.useState({}),v=vo(n,(e=>h(e))),x=Array.from(p.layers),[y]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),j=f?x.indexOf(f):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,S=j>=w,A=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Do(t),o=e.useRef(!1),i=e.useRef((()=>{}));return e.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let t=function(){Ko(zo,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",i.current),i.current=t,n.addEventListener("click",i.current,{once:!0})):t()}else n.removeEventListener("click",i.current);o.current=!1},t=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",i.current)}}),[n,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...p.branches].some((e=>e.contains(t)));S&&!n&&(null===a||void 0===a||a(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())}),m),E=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Do(t),o=e.useRef(!1);return e.useEffect((()=>{const e=e=>{if(e.target&&!o.current){Ko(Uo,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...p.branches].some((e=>e.contains(t)))||(null===s||void 0===s||s(e),null===l||void 0===l||l(e),e.defaultPrevented||null===c||void 0===c||c())}),m);return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const r=Do(t);e.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})}),[r,n])}((e=>{j===p.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))}),m),e.useEffect((()=>{if(f)return o&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(Fo=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),qo(),()=>{o&&1===p.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=Fo)}}),[f,m,o,p]),e.useEffect((()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),qo())}),[f,p]),e.useEffect((()=>{const e=()=>g({});return document.addEventListener(Bo,e),()=>document.removeEventListener(Bo,e)}),[]),(0,u.jsx)(Ro.div,(0,b.A)((0,b.A)({},d),{},{ref:v,style:(0,b.A)({pointerEvents:N?S?"auto":"none":void 0},t.style),onFocusCapture:ho(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ho(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ho(t.onPointerDownCapture,A.onPointerDownCapture)}))}));Wo.displayName="DismissableLayer";var Ho=e.forwardRef(((t,n)=>{const r=e.useContext(Vo),o=e.useRef(null),i=vo(n,o);return e.useEffect((()=>{const e=o.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,u.jsx)(Ro.div,(0,b.A)((0,b.A)({},t),{},{ref:i}))}));function qo(){const e=new CustomEvent(Bo);document.dispatchEvent(e)}function Ko(e,t,n,r){let{discrete:o}=r;const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),o?function(e,t){e&&ko.flushSync((()=>e.dispatchEvent(t)))}(i,a):i.dispatchEvent(a)}Ho.displayName="DismissableLayerBranch";const Go=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var Yo="focusScope.autoFocusOnMount",Xo="focusScope.autoFocusOnUnmount",$o={bubbles:!1,cancelable:!0},Zo=e.forwardRef(((t,n)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a}=t,s=(0,lo.A)(t,Go),[l,c]=e.useState(null),d=Do(i),p=Do(a),f=e.useRef(null),h=vo(n,(e=>c(e))),m=e.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;e.useEffect((()=>{if(o){let e=function(e){if(m.paused||!l)return;const t=e.target;l.contains(t)?f.current=t:ti(f.current,{select:!0})},t=function(e){if(m.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||ti(f.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&ti(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[o,l,m.paused]),e.useEffect((()=>{if(l){ni.add(m);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(Yo,$o);l.addEventListener(Yo,d),l.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(ti(r,{select:t}),document.activeElement!==n)return}((e=Jo(l),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&ti(l))}return()=>{l.removeEventListener(Yo,d),setTimeout((()=>{const e=new CustomEvent(Xo,$o);l.addEventListener(Xo,p),l.dispatchEvent(e),e.defaultPrevented||ti(null!==t&&void 0!==t?t:document.body,{select:!0}),l.removeEventListener(Xo,p),ni.remove(m)}),0)}}var e}),[l,d,p,m]);const g=e.useCallback((e=>{if(!r&&!o)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[o,i]=function(e){const t=Jo(e),n=Qo(t,e),r=Qo(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&ti(i,{select:!0})):(e.preventDefault(),r&&ti(o,{select:!0})):n===t&&e.preventDefault()}}),[r,o,m.paused]);return(0,u.jsx)(Ro.div,(0,b.A)((0,b.A)({tabIndex:-1},s),{},{ref:h,onKeyDown:g}))}));function Jo(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qo(e,t){for(const n of e)if(!ei(n,{upTo:t}))return n}function ei(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function ti(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Zo.displayName="FocusScope";var ni=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=ri(e,t),e.unshift(t)},remove(t){var n;e=ri(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function ri(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const oi=["container"];var ii=e.forwardRef(((t,n)=>{var r;const{container:o}=t,i=(0,lo.A)(t,oi),[a,s]=e.useState(!1);wo((()=>s(!0)),[]);const l=o||a&&(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body);return l?ko.createPortal((0,u.jsx)(Ro.div,(0,b.A)((0,b.A)({},i),{},{ref:n})),l):null}));ii.displayName="Portal";var ai=t=>{const{present:n,children:r}=t,o=function(t){const[n,r]=e.useState(),o=e.useRef(null),i=e.useRef(t),a=e.useRef("none"),s=t?"mounted":"unmounted",[l,c]=function(t,n){return e.useReducer(((e,t)=>{const r=n[e][t];return null!==r&&void 0!==r?r:e}),t)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return e.useEffect((()=>{const e=si(o.current);a.current="mounted"===l?e:"none"}),[l]),wo((()=>{const e=o.current,n=i.current;if(n!==t){const r=a.current,o=si(e);if(t)c("MOUNT");else if("none"===o||"none"===(null===e||void 0===e?void 0:e.display))c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=t}}),[t,c]),wo((()=>{if(n){var e;let t;const r=null!==(e=n.ownerDocument.defaultView)&&void 0!==e?e:window,s=e=>{const a=si(o.current).includes(CSS.escape(e.animationName));if(e.target===n&&a&&(c("ANIMATION_END"),!i.current)){const e=n.style.animationFillMode;n.style.animationFillMode="forwards",t=r.setTimeout((()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=e)}))}},l=e=>{e.target===n&&(a.current=si(o.current))};return n.addEventListener("animationstart",l),n.addEventListener("animationcancel",s),n.addEventListener("animationend",s),()=>{r.clearTimeout(t),n.removeEventListener("animationstart",l),n.removeEventListener("animationcancel",s),n.removeEventListener("animationend",s)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:e.useCallback((e=>{o.current=e?getComputedStyle(e):null,r(e)}),[])}}(n),i="function"===typeof r?r({present:o.isPresent}):e.Children.only(r),a=vo(o.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;if(o)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof r||o.isPresent?e.cloneElement(i,{ref:a}):null};function si(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}ai.displayName="Presence";var li=0;function ci(){e.useEffect((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:di()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:di()),li++,()=>{1===li&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),li--}}),[])}function di(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ui=function(){return ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ui.apply(this,arguments)};function pi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;function fi(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var hi="right-scroll-bar-position",mi="width-before-scroll-bar";function gi(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var vi="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,xi=new WeakMap;function bi(t,n){var r=function(t,n){var r=(0,e.useState)((function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(e){return t.forEach((function(t){return gi(t,e)}))}));return vi((function(){var e=xi.get(r);if(e){var n=new Set(e),o=new Set(t),i=r.current;n.forEach((function(e){o.has(e)||gi(e,null)})),o.forEach((function(e){n.has(e)||gi(e,i)}))}xi.set(r,t)}),[t]),r}function yi(e){return e}function wi(e,t){void 0===t&&(t=yi);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}var ji=function(e){void 0===e&&(e={});var t=wi(null);return t.options=ui({async:!0,ssr:!1},e),t}(),Ni=function(){},Si=e.forwardRef((function(t,n){var r=e.useRef(null),o=e.useState({onScrollCapture:Ni,onWheelCapture:Ni,onTouchMoveCapture:Ni}),i=o[0],a=o[1],s=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,p=t.shards,f=t.sideCar,h=t.noRelative,m=t.noIsolation,g=t.inert,v=t.allowPinchZoom,x=t.as,b=void 0===x?"div":x,y=t.gapMode,w=pi(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=bi([r,n]),S=ui(ui({},w),i);return e.createElement(e.Fragment,null,u&&e.createElement(j,{sideCar:ji,removeScrollBar:d,shards:p,noRelative:h,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:y}),s?e.cloneElement(e.Children.only(l),ui(ui({},S),{ref:N})):e.createElement(b,ui({},S,{className:c,ref:N}),l))}));Si.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Si.classNames={fullWidth:mi,zeroRight:hi};var Ai,Ei=function(t){var n=t.sideCar,r=pi(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return e.createElement(o,ui({},r))};Ei.isSideCarExport=!0;function ki(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ai||n.nc;return t&&e.setAttribute("nonce",t),e}var Ci=function(){var e=0,t=null;return{add:function(n){var r,o;0==e&&(t=ki())&&(o=n,(r=t).styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_i=function(){var t=function(){var t=Ci();return function(n,r){e.useEffect((function(){return t.add(n),function(){t.remove()}}),[n&&r])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},Pi={left:0,top:0,right:0,gap:0},Oi=function(e){return parseInt(e||"",10)||0},Ti=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Pi;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[Oi(n),Oi(r),Oi(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Mi=_i(),Ii="data-scroll-locked",Ri=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(Ii,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(hi," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(mi," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(hi," .").concat(hi," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(mi," .").concat(mi," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Ii,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Di=function(){var e=parseInt(document.body.getAttribute(Ii)||"0",10);return isFinite(e)?e:0},Li=function(t){var n=t.noRelative,r=t.noImportant,o=t.gapMode,i=void 0===o?"margin":o;e.useEffect((function(){return document.body.setAttribute(Ii,(Di()+1).toString()),function(){var e=Di()-1;e<=0?document.body.removeAttribute(Ii):document.body.setAttribute(Ii,e.toString())}}),[]);var a=e.useMemo((function(){return Ti(i)}),[i]);return e.createElement(Mi,{styles:Ri(a,!n,i,r?"":"!important")})},Fi=!1;if("undefined"!==typeof window)try{var Bi=Object.defineProperty({},"passive",{get:function(){return Fi=!0,!0}});window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch(oD){Fi=!1}var zi=!!Fi&&{passive:!1},Ui=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Vi=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Wi(e,r)){var o=Hi(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wi=function(e,t){return"v"===e?function(e){return Ui(e,"overflowY")}(t):function(e){return Ui(e,"overflowX")}(t)},Hi=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},qi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ki=function(e){return[e.deltaX,e.deltaY]},Gi=function(e){return e&&"current"in e?e.current:e},Yi=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Xi=0,$i=[];function Zi(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ji=(Qi=function(t){var n=e.useRef([]),r=e.useRef([0,0]),o=e.useRef(),i=e.useState(Xi++)[0],a=e.useState(_i)[0],s=e.useRef(t);e.useEffect((function(){s.current=t}),[t]),e.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var e=fi([t.lockRef.current],(t.shards||[]).map(Gi),!0).filter(Boolean);return e.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),e.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[t.inert,t.lockRef.current,t.shards]);var l=e.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var n,i=qi(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-i[0],c="deltaY"in e?e.deltaY:a[1]-i[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var p=Vi(u,d);if(!p)return!0;if(p?n=u:(n="v"===u?"h":"v",p=Vi(u,d)),!p)return!1;if(!o.current&&"changedTouches"in e&&(l||c)&&(o.current=n),!n)return!0;var f=o.current||n;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),c=!1,d=a>0,u=0,p=0;do{if(!s)break;var f=Hi(e,s),h=f[0],m=f[1]-f[2]-i*h;(h||m)&&Wi(e,s)&&(u+=m,p+=h);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(o&&Math.abs(u)<1||!o&&a>u)||!d&&(o&&Math.abs(p)<1||!o&&-a>p))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)}),[]),c=e.useCallback((function(e){var t=e;if($i.length&&$i[$i.length-1]===a){var r="deltaY"in t?Ki(t):qi(t),o=n.current.filter((function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(n=e.delta,o=r,n[0]===o[0]&&n[1]===o[1]);var n,o}))[0];if(o&&o.should)t.cancelable&&t.preventDefault();else if(!o){var i=(s.current.shards||[]).map(Gi).filter(Boolean).filter((function(e){return e.contains(t.target)}));(i.length>0?l(t,i[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),d=e.useCallback((function(e,t,r,o){var i={name:e,delta:t,target:r,should:o,shadowParent:Zi(r)};n.current.push(i),setTimeout((function(){n.current=n.current.filter((function(e){return e!==i}))}),1)}),[]),u=e.useCallback((function(e){r.current=qi(e),o.current=void 0}),[]),p=e.useCallback((function(e){d(e.type,Ki(e),e.target,l(e,t.lockRef.current))}),[]),f=e.useCallback((function(e){d(e.type,qi(e),e.target,l(e,t.lockRef.current))}),[]);e.useEffect((function(){return $i.push(a),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,zi),document.addEventListener("touchmove",c,zi),document.addEventListener("touchstart",u,zi),function(){$i=$i.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,zi),document.removeEventListener("touchmove",c,zi),document.removeEventListener("touchstart",u,zi)}}),[]);var h=t.removeScrollBar,m=t.inert;return e.createElement(e.Fragment,null,m?e.createElement(a,{styles:Yi(i)}):null,h?e.createElement(Li,{noRelative:t.noRelative,gapMode:t.gapMode}):null)},ji.useMedium(Qi),Ei);var Qi,ea=e.forwardRef((function(t,n){return e.createElement(Si,ui({},t,{ref:n,sideCar:Ji}))}));ea.classNames=Si.classNames;const ta=ea;var na=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},ra=new WeakMap,oa=new WeakMap,ia={},aa=0,sa=function(e){return e&&(e.host||sa(e.parentNode))},la=function(e,t,n,r){var o=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=sa(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);ia[n]||(ia[n]=new WeakMap);var i=ia[n],a=[],s=new Set,l=new Set(o),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};o.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))d(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,l=(ra.get(e)||0)+1,c=(i.get(e)||0)+1;ra.set(e,l),i.set(e,c),a.push(e),1===l&&o&&oa.set(e,!0),1===c&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(Jg){console.error("aria-hidden: cannot operate on ",e,Jg)}}))};return d(t),s.clear(),aa++,function(){a.forEach((function(e){var t=ra.get(e)-1,o=i.get(e)-1;ra.set(e,t),i.set(e,o),t||(oa.has(e)||e.removeAttribute(r),oa.delete(e)),o||e.removeAttribute(n)})),--aa||(ra=new WeakMap,ra=new WeakMap,oa=new WeakMap,ia={})}},ca=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||na(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),la(r,o,n,"aria-hidden")):function(){return null}};const da=["__scopeDialog"],ua=["forceMount"],pa=["__scopeDialog"],fa=["forceMount"],ha=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],ma=["__scopeDialog"],ga=["__scopeDialog"],va=["__scopeDialog"];var xa="Dialog",[ba,ya]=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const o=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const o=(null===r||void 0===r?void 0:r[t])||n;return e.useMemo((()=>({["__scope".concat(t)]:(0,b.A)((0,b.A)({},r),{},{[t]:o})})),[r,o])}};return o.scopeName=t,[function(n,o){const i=e.createContext(o),a=r.length;r=[...r,o];const s=n=>{var r;const{scope:o,children:s}=n,l=(0,lo.A)(n,bo),c=(null===o||void 0===o||null===(r=o[t])||void 0===r?void 0:r[a])||i,d=e.useMemo((()=>l),Object.values(l));return(0,u.jsx)(c.Provider,{value:d,children:s})};return s.displayName=n+"Provider",[s,function(r,s){var l;const c=(null===s||void 0===s||null===(l=s[t])||void 0===l?void 0:l[a])||i,d=e.useContext(c);if(d)return d;if(void 0!==o)return o;throw new Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},yo(o,...n)]}(xa),[wa,ja]=ba(xa),Na=t=>{const{__scopeDialog:n,children:r,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,l=e.useRef(null),c=e.useRef(null),[d,p]=Eo({prop:o,defaultProp:null!==i&&void 0!==i&&i,onChange:a,caller:xa});return(0,u.jsx)(wa,{scope:n,triggerRef:l,contentRef:c,contentId:So(),titleId:So(),descriptionId:So(),open:d,onOpenChange:p,onOpenToggle:e.useCallback((()=>p((e=>!e))),[p]),modal:s,children:r})};Na.displayName=xa;var Sa="DialogTrigger",Aa=e.forwardRef(((e,t)=>{const{__scopeDialog:n}=e,r=(0,lo.A)(e,da),o=ja(Sa,n),i=vo(t,o.triggerRef);return(0,u.jsx)(Ro.button,(0,b.A)((0,b.A)({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":qa(o.open)},r),{},{ref:i,onClick:ho(e.onClick,o.onOpenToggle)}))}));Aa.displayName=Sa;var Ea="DialogPortal",[ka,Ca]=ba(Ea,{forceMount:void 0}),_a=t=>{const{__scopeDialog:n,forceMount:r,children:o,container:i}=t,a=ja(Ea,n);return(0,u.jsx)(ka,{scope:n,forceMount:r,children:e.Children.map(o,(e=>(0,u.jsx)(ai,{present:r||a.open,children:(0,u.jsx)(ii,{asChild:!0,container:i,children:e})})))})};_a.displayName=Ea;var Pa="DialogOverlay",Oa=e.forwardRef(((e,t)=>{const n=Ca(Pa,e.__scopeDialog),{forceMount:r=n.forceMount}=e,o=(0,lo.A)(e,ua),i=ja(Pa,e.__scopeDialog);return i.modal?(0,u.jsx)(ai,{present:r||i.open,children:(0,u.jsx)(Ma,(0,b.A)((0,b.A)({},o),{},{ref:t}))}):null}));Oa.displayName=Pa;var Ta=Po("DialogOverlay.RemoveScroll"),Ma=e.forwardRef(((e,t)=>{const{__scopeDialog:n}=e,r=(0,lo.A)(e,pa),o=ja(Pa,n);return(0,u.jsx)(ta,{as:Ta,allowPinchZoom:!0,shards:[o.contentRef],children:(0,u.jsx)(Ro.div,(0,b.A)((0,b.A)({"data-state":qa(o.open)},r),{},{ref:t,style:(0,b.A)({pointerEvents:"auto"},r.style)}))})})),Ia="DialogContent",Ra=e.forwardRef(((e,t)=>{const n=Ca(Ia,e.__scopeDialog),{forceMount:r=n.forceMount}=e,o=(0,lo.A)(e,fa),i=ja(Ia,e.__scopeDialog);return(0,u.jsx)(ai,{present:r||i.open,children:i.modal?(0,u.jsx)(Da,(0,b.A)((0,b.A)({},o),{},{ref:t})):(0,u.jsx)(La,(0,b.A)((0,b.A)({},o),{},{ref:t}))})}));Ra.displayName=Ia;var Da=e.forwardRef(((t,n)=>{const r=ja(Ia,t.__scopeDialog),o=e.useRef(null),i=vo(n,r.contentRef,o);return e.useEffect((()=>{const e=o.current;if(e)return ca(e)}),[]),(0,u.jsx)(Fa,(0,b.A)((0,b.A)({},t),{},{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ho(t.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:ho(t.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:ho(t.onFocusOutside,(e=>e.preventDefault()))}))})),La=e.forwardRef(((t,n)=>{const r=ja(Ia,t.__scopeDialog),o=e.useRef(!1),i=e.useRef(!1);return(0,u.jsx)(Fa,(0,b.A)((0,b.A)({},t),{},{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var n,a;(null===(n=t.onCloseAutoFocus)||void 0===n||n.call(t,e),e.defaultPrevented)||(o.current||null===(a=r.triggerRef.current)||void 0===a||a.focus(),e.preventDefault());o.current=!1,i.current=!1},onInteractOutside:e=>{var n,a;null===(n=t.onInteractOutside)||void 0===n||n.call(t,e),e.defaultPrevented||(o.current=!0,"pointerdown"===e.detail.originalEvent.type&&(i.current=!0));const s=e.target;(null===(a=r.triggerRef.current)||void 0===a?void 0:a.contains(s))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&i.current&&e.preventDefault()}}))})),Fa=e.forwardRef(((t,n)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a}=t,s=(0,lo.A)(t,ha),l=ja(Ia,r),c=e.useRef(null),d=vo(n,c);return ci(),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Zo,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:(0,u.jsx)(Wo,(0,b.A)((0,b.A)({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qa(l.open)},s),{},{ref:d,onDismiss:()=>l.onOpenChange(!1)}))}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Xa,{titleId:l.titleId}),(0,u.jsx)($a,{contentRef:c,descriptionId:l.descriptionId})]})]})})),Ba="DialogTitle",za=e.forwardRef(((e,t)=>{const{__scopeDialog:n}=e,r=(0,lo.A)(e,ma),o=ja(Ba,n);return(0,u.jsx)(Ro.h2,(0,b.A)((0,b.A)({id:o.titleId},r),{},{ref:t}))}));za.displayName=Ba;var Ua="DialogDescription",Va=e.forwardRef(((e,t)=>{const{__scopeDialog:n}=e,r=(0,lo.A)(e,ga),o=ja(Ua,n);return(0,u.jsx)(Ro.p,(0,b.A)((0,b.A)({id:o.descriptionId},r),{},{ref:t}))}));Va.displayName=Ua;var Wa="DialogClose",Ha=e.forwardRef(((e,t)=>{const{__scopeDialog:n}=e,r=(0,lo.A)(e,va),o=ja(Wa,n);return(0,u.jsx)(Ro.button,(0,b.A)((0,b.A)({type:"button"},r),{},{ref:t,onClick:ho(e.onClick,(()=>o.onOpenChange(!1)))}))}));function qa(e){return e?"open":"closed"}Ha.displayName=Wa;var Ka="DialogTitleWarning",[Ga,Ya]=function(t,n){const r=e.createContext(n),o=t=>{const{children:n}=t,o=(0,lo.A)(t,xo),i=e.useMemo((()=>o),Object.values(o));return(0,u.jsx)(r.Provider,{value:i,children:n})};return o.displayName=t+"Provider",[o,function(o){const i=e.useContext(r);if(i)return i;if(void 0!==n)return n;throw new Error("`".concat(o,"` must be used within `").concat(t,"`"))}]}(Ka,{contentName:Ia,titleName:Ba,docsSlug:"dialog"}),Xa=t=>{let{titleId:n}=t;const r=Ya(Ka),o="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return e.useEffect((()=>{if(n){document.getElementById(n)||console.error(o)}}),[o,n]),null},$a=t=>{let{contentRef:n,descriptionId:r}=t;const o=Ya("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(o.contentName,"}.");return e.useEffect((()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(r&&t){document.getElementById(r)||console.warn(i)}}),[i,n,r]),null},Za=_a,Ja=Oa,Qa=Ra,es=za,ts=Ha;function ns(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const rs=["className"],os=["className"],is=["className"],as=Na,ss=e.forwardRef(((e,t)=>{let{className:n}=e,r=(0,lo.A)(e,rs);return(0,u.jsxs)(Za,{children:[(0,u.jsx)(Ja,{className:"fixed inset-0 bg-black/50 z-[100]"}),(0,u.jsx)(Qa,(0,b.A)({ref:t,className:ns("fixed left-1/2 top-1/2 w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-lg bg-white p-6 shadow-lg z-[100]",n)},r))]})}));ss.displayName=Qa.displayName;const ls=e=>{let{className:t}=e,n=(0,lo.A)(e,os);return(0,u.jsx)("div",(0,b.A)({className:ns("mb-4",t)},n))},cs=es,ds=e=>{let{className:t}=e,n=(0,lo.A)(e,is);return(0,u.jsx)("div",(0,b.A)({className:ns("mt-4 flex justify-end gap-2",t)},n))},us=ts;async function ps(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{repliedWindowDays:n=7,windowDays:r}=t,o=Number.isFinite(Number(r))?Number(r):Number(n);return async function(e,t){var n;let r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const s of e){const e=s.startsWith("/")?s.slice(1):s;try{var i;return await c.default.get(e,(0,b.A)((0,b.A)({__silent:null===(i=o.__silent)||void 0===i||i},o),{},{params:t}))}catch(oD){var a;const t=null===oD||void 0===oD||null===(a=oD.response)||void 0===a?void 0:a.status;if(404===t||405===t){r=oD;continue}throw oD}}throw null!==(n=r)&&void 0!==n?n:new Error("No campaign report endpoint responded.")}(["campaign-logs/campaign/".concat(e,"/summary"),"CampaignTracking/campaign/".concat(e,"/summary"),"CampaignReports/campaign/".concat(e,"/summary"),"CampaignReport/campaign/".concat(e,"/summary"),"campaign-tracking/campaign/".concat(e,"/summary"),"campaign-reports/campaign/".concat(e,"/summary"),"campaign-report/campaign/".concat(e,"/summary")],{repliedWindowDays:o,windowDays:o},{__silent:!0})}function fs(e){const t=String(e||"").trim().toLowerCase();return t?"sent"===t?"sent":"delivered"===t?"delivered":"read"===t?"read":"clicked"===t?"clicked":"replied"===t?"replied":"failed"===t?"failed":t:t}function hs(e){if(!e)return[];const t=e.items||e.Items||e.contacts||e.Contacts||e.rows||e.Rows||[];return Array.isArray(t)?t:[]}function ms(e,t){for(const n of t){const t=null===e||void 0===e?void 0:e[n];if(null!=t)return t}return null}function gs(e){var t,n,r;const o=(null===e||void 0===e?void 0:e.contactId)||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.id)||(null===e||void 0===e||null===(n=e.contact)||void 0===n?void 0:n.contactId)||null,i=(null===e||void 0===e?void 0:e.contactName)||(null===e||void 0===e||null===(r=e.contact)||void 0===r?void 0:r.name)||(null===e||void 0===e?void 0:e.name)||[null===e||void 0===e?void 0:e.firstName,null===e||void 0===e?void 0:e.lastName].filter(Boolean).join(" ")||"-",a=(null===e||void 0===e?void 0:e.contactPhone)||(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.recipientNumber)||(null===e||void 0===e?void 0:e.to)||(null===e||void 0===e?void 0:e.recipient)||"-",s=(null===e||void 0===e?void 0:e.sendStatus)||(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e?void 0:e.lastStatus)||"-",l=(null===e||void 0===e?void 0:e.lastUpdatedAt)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.readAt)||(null===e||void 0===e?void 0:e.deliveredAt)||(null===e||void 0===e?void 0:e.clickedAt)||(null===e||void 0===e?void 0:e.sentAt)||(null===e||void 0===e?void 0:e.createdAt)||null;return{id:o||a,contactId:o,contactName:i,contactPhone:a,phone:a,status:s,lastUpdatedAt:l,updatedAt:l,_source:"campaign-logs"}}async function vs(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{q:o="",page:i=1,pageSize:a=50,repliedWindowDays:s=7,fromUtc:l,toUtc:d,runId:u}=r,p=fs(t),f={bucket:p,search:o,fromUtc:l,toUtc:d,repliedWindowDays:s,runId:u,page:i,pageSize:a};Object.keys(f).forEach((e=>{null!=f[e]&&""!==f[e]||delete f[e]}));const h=Math.min(5e3,Math.max(10*Number(a),500)),m=await c.default.get("campaign-logs/campaign/".concat(e),{__silent:!0,params:{page:1,pageSize:h,search:o}}),g=null!==(n=null===m||void 0===m?void 0:m.data)&&void 0!==n?n:{},v=(Array.isArray(g.items)?g.items:hs(g)).filter((e=>function(e,t,n){const r=String(t||"").toLowerCase();if(!r)return!0;const o=String(ms(e,["sendStatus","SendStatus","status","Status"])||"").toUpperCase(),i=ms(e,["deliveredAt","DeliveredAt"]),a=ms(e,["readAt","ReadAt"]),s=ms(e,["clickedAt","ClickedAt"]),l=ms(e,["isClicked","IsClicked"]),c=ms(e,["clickType","ClickType"]),d=ms(e,["repliedAt","RepliedAt"]),u=ms(e,["errorMessage","ErrorMessage"]);if("failed"===r)return o.includes("FAILED")||!!u;if("delivered_not_read"===r)return!!i&&!a;if("read_not_replied"===r)return!!a&&!o.includes("REPLIED");if("clicked_not_replied"===r)return(!0===l||!!s||!!c)&&!o.includes("REPLIED");if("replied"===r){if(o.includes("REPLIED")||d){const t=Number(n);if(!Number.isFinite(t)||t<=0)return!0;const r=ms(e,["sentAt","SentAt","createdAt","CreatedAt"]),o=d||ms(e,["lastUpdatedAt","LastUpdatedAt"]),i=r?new Date(r):null,a=o?new Date(o):null;if(!i||Number.isNaN(i.getTime())||!a||Number.isNaN(a.getTime()))return!0;const s=24*t*60*60*1e3;return a.getTime()-i.getTime()<=s}return!1}return!0}(e,p,s))),x=function(e){const t=new Map;for(const n of e){const e=(null===n||void 0===n?void 0:n.contactId)||(null===n||void 0===n?void 0:n.phone)||(null===n||void 0===n?void 0:n.contactPhone)||null;if(!e)continue;const r=t.get(e);if(!r){t.set(e,n);continue}const o=null!==r&&void 0!==r&&r.lastUpdatedAt?new Date(r.lastUpdatedAt).getTime():0;(null!==n&&void 0!==n&&n.lastUpdatedAt?new Date(n.lastUpdatedAt).getTime():0)>=o&&t.set(e,n)}return Array.from(t.values())}(v.filter((e=>!!function(e){var t;return(null===e||void 0===e?void 0:e.contactId)||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.id)||(null===e||void 0===e?void 0:e.recipientId)||(null===e||void 0===e?void 0:e.contactPhone)||(null===e||void 0===e?void 0:e.recipientNumber)||(null===e||void 0===e?void 0:e.to)||(null===e||void 0===e?void 0:e.id)||null}(e))).map(gs)),y=(Math.max(1,i)-1)*Math.max(1,a),w=x.slice(y,y+Math.max(1,a));return(0,b.A)((0,b.A)({},m),{},{data:{items:w,totalCount:x.length,page:i,pageSize:a,total:x.length,_fallback:!0}})}const xs=90,bs=50;function ys(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const ws=["recipients","sent","delivered","read","clicked","replied","failed"],js="ALL_RECIPIENTS",Ns=[{key:js,label:"All recipients"},{key:"DELIVERED_NOT_READ",label:"Delivered not read"},{key:"READ_NOT_REPLIED",label:"Read not replied"},{key:"CLICKED_NOT_REPLIED",label:"Clicked not replied"},{key:"FAILED",label:"Failed"},{key:"REPLIED",label:"Replied (within window)"}],Ss={recipients:js,sent:js,delivered:"DELIVERED_NOT_READ",read:"READ_NOT_REPLIED",clicked:"CLICKED_NOT_REPLIED",failed:"FAILED",replied:"REPLIED"},As=Object.freeze({None:"none",Text:"text",Image:"image",Video:"video",Document:"document"}),Es=e=>e===As.Image||e===As.Video||e===As.Document,ks=new Set(Ns.filter((e=>!1!==e.retargetable)).map((e=>e.key)));function Cs(e){var t;return(null===(t=Ns.find((t=>t.key===e)))||void 0===t?void 0:t.label)||e}function _s(e){const t=String(null!==e&&void 0!==e?e:"").trim(),n=t.toUpperCase();if(!n)return{ok:!1,reason:"Campaign status is unknown, so retargeting is disabled."};return"SENT"===n||"COMPLETED"===n||"FINISHED"===n||"DONE"===n||n.includes("SENT")||n.includes("COMPLETE")?{ok:!0,reason:""}:{ok:!1,reason:"Retargeting is available only after the campaign is sent. Current status: ".concat(t,".")}}function Ps(e){const t=Number(e);return Number.isFinite(t)?t:0}function Os(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function Ts(e){const t=Os(e);return t?t.toLocaleString():"-"}function Ms(e){if(!Number.isFinite(e)||e<=0)return"-";const t=Math.floor(e/1e3),n=Math.floor(t/60),r=t%60;if(n<1)return"".concat(r,"s");if(n<60)return"".concat(n,"m ").concat(r,"s");const o=Math.floor(n/60),i=n%60;return"".concat(o,"h ").concat(i,"m")}function Is(e){if(null==e)return null;if("number"===typeof e&&Number.isFinite(e))return e;if("string"!==typeof e)return null;const t=e.replace(/[^0-9.-]/g,"");if(!t)return null;const n=Number(t);return Number.isFinite(n)?n:null}function Rs(e,t){if(!e)return;const n=t.split(".");let r=e;for(const o of n){if(null==r)return;r=r[o]}return r}function Ds(e,t){for(const n of t){const t=Is(Rs(e,n));if(null!=t)return t}return null}function Ls(e){var t,n,r,o;if(!e)return"";const i=[e.body,e.bodyText,e.text,e.message,e.content,e.templateText,e.TemplateText];for(const u of i)if("string"===typeof u&&u.trim())return u;const a=null!==(t=null!==(n=null!==(r=null!==(o=e.components)&&void 0!==o?o:e.Components)&&void 0!==r?r:e.componentsJson)&&void 0!==n?n:e.ComponentsJson)&&void 0!==t?t:null,s=Array.isArray(a)?a:function(e){if("string"!==typeof e)return null;const t=e.trim();if(!t)return null;try{return JSON.parse(t)}catch(n){return null}}(a);if(Array.isArray(s)){var l,c,d;const e=null!==(l=null!==(c=s.find((e=>"BODY"===String((null===e||void 0===e?void 0:e.type)||(null===e||void 0===e?void 0:e.Type)||"").toUpperCase())))&&void 0!==c?c:s.find((e=>{var t;return"string"===typeof(null!==(t=null===e||void 0===e?void 0:e.text)&&void 0!==t?t:null===e||void 0===e?void 0:e.Text)})))&&void 0!==l?l:null,t=null!==(d=null===e||void 0===e?void 0:e.text)&&void 0!==d?d:null===e||void 0===e?void 0:e.Text;if("string"===typeof t&&t.trim())return t}return""}function Fs(e){const t=new Set,n=String(null!==e&&void 0!==e?e:""),r=/\{\{\s*(\d+)\s*\}\}/g;let o;for(;o=r.exec(n);){const e=Number(o[1]);Number.isFinite(e)&&e>0&&t.add(e)}return[...t].sort(((e,t)=>e-t))}function Bs(e){const t=String(e||"").trim();return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function zs(e){var t;return(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.contactName)||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.name)||(null===e||void 0===e?void 0:e.fullName)||(null===e||void 0===e?void 0:e.displayName)||""}function Us(e){return(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.contactPhone)||(null===e||void 0===e?void 0:e.recipientNumber)||(null===e||void 0===e?void 0:e.to)||(null===e||void 0===e?void 0:e.recipient)||""}function Vs(t){let{isOpen:n,onClose:r,campaignId:o,selectedContactIds:s,selectedContacts:d,campaignStatus:p,initialBucket:f,initialWindowDays:h,campaignMeta:m}=t;const g=(0,i.Zp)(),{businessId:v}=(0,l.h)(),[x,y]=(0,e.useState)(f),[w,j]=(0,e.useState)(h),[N,S]=(0,e.useState)(""),[A,E]=(0,e.useState)(!1),[k,C]=(0,e.useState)(!1),[_,P]=(0,e.useState)(!1),[O,T]=(0,e.useState)(!1),[M,I]=(0,e.useState)([]),[R,D]=(0,e.useState)(""),[L,F]=(0,e.useState)(""),[B,z]=(0,e.useState)(null),[U,V]=(0,e.useState)(!1),[W,H]=(0,e.useState)(null),[q,K]=(0,e.useState)(!1),[G,Y]=(0,e.useState)(""),[X,$]=(0,e.useState)([]),[Z,J]=(0,e.useState)([]),[Q,ee]=(0,e.useState)(As.None),[te,ne]=(0,e.useState)(!1),re=(0,e.useRef)(!1),[oe,ie]=(0,e.useState)({}),[ae,se]=(0,e.useState)([]),[le,de]=(0,e.useState)(!1),[ue,pe]=(0,e.useState)(""),[fe,he]=(0,e.useState)("now"),[me,ge]=(0,e.useState)("");(0,e.useEffect)((()=>{if(n){re.current=!1;try{sessionStorage.removeItem("retarget_contactIds")}catch(e){}y(f),j(h),S(""),D(""),P(!1),F(""),K(!1),Y(""),$([]),J([]),ee(As.None),ne(!1),he("now"),ge(""),se([]),pe(""),v&&(T(!0),c.default.get("templates/".concat(v,"?status=APPROVED")).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.success?I(e.data.templates||[]):a.oR.error("Failed to load templates.")})).catch((e=>{console.error("Failed to fetch templates",e),a.oR.error("Error loading templates.")})).finally((()=>T(!1))),de(!0),c.default.get("WhatsAppSettings/senders/".concat(v),{__silent:!0}).then((e=>{var t;const n=(Array.isArray(e.data)?e.data:(null===(t=e.data)||void 0===t?void 0:t.items)||[]).map((e=>{var t,n,r,o,i,a,s,l,c,d,u,p;const f=String(e.provider||e.Provider||"").toUpperCase(),h=null!==(t=null!==(n=e.phoneNumberId)&&void 0!==n?n:e.PhoneNumberId)&&void 0!==t?t:"",m=null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=null!==(l=null!==(c=null!==(d=e.whatsAppBusinessNumber)&&void 0!==d?d:e.whatsappBusinessNumber)&&void 0!==c?c:e.displayNumber)&&void 0!==l?l:e.phoneNumber)&&void 0!==s?s:e.WhatsAppBusinessNumber)&&void 0!==a?a:e.PhoneNumber)&&void 0!==i?i:e.phoneNumberId)&&void 0!==o?o:e.PhoneNumberId)&&void 0!==r?r:"";return{id:null!==(u=null!==(p=e.id)&&void 0!==p?p:e.Id)&&void 0!==u?u:"".concat(f,"|").concat(h),provider:f,phoneNumberId:h,whatsAppNumber:m}})).filter((e=>e.provider&&e.phoneNumberId));se(n),1===n.length&&pe(n[0].id)})).catch((()=>{se([])})).finally((()=>de(!1))))}}),[n,f,h,v]);const ve=(0,e.useMemo)((()=>function(e){var t,n,r,o,i,a,s,l,c,d;const u=(null===e||void 0===e?void 0:e.sender)||(null===e||void 0===e?void 0:e.Sender)||(null===e||void 0===e?void 0:e.whatsAppSender)||(null===e||void 0===e?void 0:e.WhatsAppSender)||(null===e||void 0===e?void 0:e.phoneNumber)||(null===e||void 0===e?void 0:e.PhoneNumber)||null,p=null!==(t=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=null!==(l=null!==(c=null!==(d=null===e||void 0===e?void 0:e.provider)&&void 0!==d?d:null===e||void 0===e?void 0:e.Provider)&&void 0!==c?c:null===e||void 0===e?void 0:e.senderProvider)&&void 0!==l?l:null===e||void 0===e?void 0:e.SenderProvider)&&void 0!==s?s:null===e||void 0===e?void 0:e.whatsAppProvider)&&void 0!==a?a:null===e||void 0===e?void 0:e.WhatsAppProvider)&&void 0!==i?i:null===e||void 0===e?void 0:e.messagingProvider)&&void 0!==o?o:null===e||void 0===e?void 0:e.MessagingProvider)&&void 0!==r?r:null===u||void 0===u?void 0:u.provider)&&void 0!==n?n:null===u||void 0===u?void 0:u.Provider)&&void 0!==t?t:"",f=String(p||"").trim();return f?f.toUpperCase():""}(m)),[m]),xe=(0,e.useMemo)((()=>function(e){var t,n,r,o,i,a,s,l,c,d,u,p,f,h;const m=(null===e||void 0===e?void 0:e.sender)||(null===e||void 0===e?void 0:e.Sender)||(null===e||void 0===e?void 0:e.whatsAppSender)||(null===e||void 0===e?void 0:e.WhatsAppSender)||(null===e||void 0===e?void 0:e.phoneNumber)||(null===e||void 0===e?void 0:e.PhoneNumber)||null,g=null!==(t=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=null!==(l=null!==(c=null!==(d=null!==(u=null!==(p=null!==(f=null!==(h=null===e||void 0===e?void 0:e.phoneNumberId)&&void 0!==h?h:null===e||void 0===e?void 0:e.PhoneNumberId)&&void 0!==f?f:null===e||void 0===e?void 0:e.phoneNumberID)&&void 0!==p?p:null===e||void 0===e?void 0:e.PhoneNumberID)&&void 0!==u?u:null===e||void 0===e?void 0:e.senderPhoneNumberId)&&void 0!==d?d:null===e||void 0===e?void 0:e.SenderPhoneNumberId)&&void 0!==c?c:null===e||void 0===e?void 0:e.whatsAppPhoneNumberId)&&void 0!==l?l:null===e||void 0===e?void 0:e.WhatsAppPhoneNumberId)&&void 0!==s?s:null===e||void 0===e?void 0:e.wabaPhoneNumberId)&&void 0!==a?a:null===e||void 0===e?void 0:e.WabaPhoneNumberId)&&void 0!==i?i:null===m||void 0===m?void 0:m.phoneNumberId)&&void 0!==o?o:null===m||void 0===m?void 0:m.PhoneNumberId)&&void 0!==r?r:null===m||void 0===m?void 0:m.id)&&void 0!==n?n:null===m||void 0===m?void 0:m.Id)&&void 0!==t?t:"";return String(g||"").trim()}(m)),[m]);(0,e.useEffect)((()=>{if(!n)return;if(ue)return;if(!ve||!xe)return;const e=(ae||[]).find((e=>e.provider===ve&&e.phoneNumberId===xe));pe((null===e||void 0===e?void 0:e.id)||"".concat(ve,"|").concat(xe))}),[n,ue,ve,xe,ae]);const be=(0,e.useMemo)((()=>ue&&(ae||[]).find((e=>e.id===ue))||null),[ae,ue]),ye=(null===be||void 0===be?void 0:be.provider)||ve,we=(null===be||void 0===be?void 0:be.phoneNumberId)||xe,je=(0,e.useMemo)((()=>ye&&we?null:"Provider and PhoneNumberId are required. Please select a sender."),[ye,we]);(0,e.useEffect)((()=>{if(!n)return;if(!v||!L)return z(null),H(null),void V(!1);let e=!0;return V(!0),H(null),(async()=>{try{var t,n,r;const d="/templates/".concat(v,"/").concat(encodeURIComponent(L)),u=await c.default.get(d,{__silent:!0,params:{language:"en_US"}}),p=null!==(t=null!==(n=null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.template)&&void 0!==n?n:null===u||void 0===u?void 0:u.data)&&void 0!==t?t:null;if(e&&p){var o,i,a,s;z(p);const e=null!==(o=null!==(i=null!==(a=p.buttonsJson)&&void 0!==a?a:p.buttons)&&void 0!==i?i:p.urlButtons)&&void 0!==o?o:null;let t=[];if(Array.isArray(e))t=e;else if("string"===typeof e&&e.trim().startsWith("["))try{t=JSON.parse(e)}catch(l){t=[]}J(t);const n=(e=>{const t=(e.headerKind||e.HeaderKind||"").toString().toLowerCase();return t===As.Image||t===As.Video||t===As.Document||t===As.Text||t===As.None?t:e.hasImageHeader||e.HasImageHeader?As.Image:As.None})(p);ee(n),ne(!0===p.requiresHeaderMediaUrl||!0===p.RequiresMediaHeader||Es(n));const r=(null===(s=t)||void 0===s?void 0:s.map((e=>{const t=(null===e||void 0===e?void 0:e.ParameterValue)||(null===e||void 0===e?void 0:e.parameterValue)||"",n=((null===e||void 0===e?void 0:e.SubType)||(null===e||void 0===e?void 0:e.subType)||"").toLowerCase();return["url","copy_code","flow"].includes(n)||t.includes("{{1}}")?"":null})))||[];$(r)}}catch(oD){if(!e)return;console.error("Failed to load template details",oD),z(null),H("Failed to load template details.")}finally{e&&V(!1)}})(),()=>{e=!1}}),[n,v,L]);const Ne=(0,e.useMemo)((()=>{const e=String(R||"").trim().toLowerCase();return e?(M||[]).filter((t=>String((null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.templateName)||(null===t||void 0===t?void 0:t.id)||"").toLowerCase().includes(e))):M}),[M,R]),Se=(0,e.useMemo)((()=>{if(L){const e=Ls(B);if(e)return e}return Ls((M||[]).find((e=>String((null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.templateName)||(null===e||void 0===e?void 0:e.id)||"")===String(L||""))))}),[B,M,L]),Ee=(0,e.useMemo)((()=>Fs(Se)),[Se]);(0,e.useEffect)((()=>{n&&ie((e=>{const t={};for(const r of Ee){var n;const o=String(r);t[o]=null!==(n=null===e||void 0===e?void 0:e[o])&&void 0!==n?n:{source:"const",constValue:"",missingPolicy:"skip",fallbackValue:""}}return t}))}),[n,Ee,ie]);const ke=(null===s||void 0===s?void 0:s.size)||0,Ce=(0,e.useMemo)((()=>{const e=_s(p);return e.ok?null:e.reason}),[p]),_e=(0,e.useMemo)((()=>ke>0?null:"Select at least one contact to retarget."),[ke]),Oe=(0,e.useMemo)((()=>null!==N&&void 0!==N&&N.trim()?null:"Campaign name is required."),[N]),Te=(0,e.useMemo)((()=>L?U?"Loading template details...":W||null:"Template is required."),[L,U,W]),Me=Ce||_e||Oe||je||Te||null,Ie=!A&&!Ce&&!_e&&!Oe&&!je&&!Te,Re=!!Ce||A,De=(0,e.useMemo)((()=>Array.isArray(d)?d:[]),[d]),Le=ke>0&&De.length===ke,Fe=(0,e.useMemo)((()=>{if(!Le)return[];const e=new Set;for(const n of De){var t;const r=(null===n||void 0===n?void 0:n.customFields)||(null===n||void 0===n?void 0:n.CustomFields)||(null===n||void 0===n?void 0:n.fields)||(null===n||void 0===n?void 0:n.Fields)||(null===n||void 0===n||null===(t=n.meta)||void 0===t?void 0:t.customFields)||null;if(r&&"object"===typeof r&&(Object.keys(r).forEach((t=>e.add(t))),e.size>=50))break}return[...e].sort(((e,t)=>e.localeCompare(t)))}),[Le,De]),Be=(0,e.useCallback)(((e,t)=>{var n;const r=null===oe||void 0===oe?void 0:oe[String(t)];if(!r)return{value:"",missing:!0};const o=String(r.source||"const");if("const"===o){var i;const e=String(null!==(i=r.constValue)&&void 0!==i?i:"");return{value:e,missing:!e.trim()}}let a="";"contact:name"===o?a=zs(e):"contact:phone"===o?a=Us(e):o.startsWith("custom:")&&(a=function(e,t){var n,r,o;const i=(null===e||void 0===e?void 0:e.customFields)||(null===e||void 0===e?void 0:e.CustomFields)||(null===e||void 0===e?void 0:e.fields)||(null===e||void 0===e?void 0:e.Fields)||(null===e||void 0===e||null===(n=e.meta)||void 0===n?void 0:n.customFields)||null;return i&&"object"===typeof i&&null!==(r=null!==(o=null===i||void 0===i?void 0:i[t])&&void 0!==o?o:null===i||void 0===i?void 0:i[String(t)])&&void 0!==r?r:""}(e,o.slice(7)));const s=String(null!==(n=a)&&void 0!==n?n:"");if(s.trim())return{value:s,missing:!1};if("fallback"===String(r.missingPolicy||"skip")){var l;const e=String(null!==(l=r.fallbackValue)&&void 0!==l?l:"");if(e.trim())return{value:e,missing:!1}}return{value:s,missing:!0}}),[oe]),ze=(0,e.useCallback)((e=>Se?String(Se).replace(/\{\{\s*(\d+)\s*\}\}/g,((t,n)=>{const r=Number(n),o=Be(e,r);return o.missing?"[missing {{".concat(n,"}}]"):o.value})):""),[Be,Se]);return(0,u.jsx)(as,{open:n,onOpenChange:function(e){if(e)return;if(A)return;if(!(null===N||void 0===N||!N.trim())||!!L||!!R.trim()){if(!window.confirm("Discard changes and close?"))return}if(!re.current)try{sessionStorage.removeItem("retarget_contactIds")}catch(t){}r()},children:(0,u.jsxs)(ss,{onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),"aria-describedby":void 0,className:"!max-w-4xl p-0 border-none shadow-2xl rounded-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-white shrink-0",children:[(0,u.jsx)(ls,{className:"p-0 mb-0 border-none",children:(0,u.jsx)(cs,{className:"text-xl font-bold text-slate-800 tracking-tight",children:"Retarget selected contacts"})}),(0,u.jsx)(us,{asChild:!0,children:(0,u.jsx)("button",{className:"text-slate-400 hover:text-slate-600 transition-colors",children:(0,u.jsx)(Pe.A,{className:"w-5 h-5"})})})]}),(0,u.jsx)("div",{className:"px-8 py-5 border-b border-slate-100 bg-slate-50/30 shrink-0",children:(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-tight text-slate-400 mb-1.5",children:"Segment"}),(0,u.jsx)("div",{className:"text-[15px] font-bold text-slate-800",children:Cs(x)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-tight text-slate-400 mb-1.5",children:"Selected contacts"}),(0,u.jsx)("div",{className:"text-[15px] font-bold text-slate-800",children:ke.toLocaleString()})]})]})}),(0,u.jsxs)("div",{className:"px-6 py-8 space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[Ce?(0,u.jsx)("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4",children:(0,u.jsxs)("div",{className:"flex items-start gap-3",children:[(0,u.jsx)("div",{className:"mt-0.5 rounded-xl bg-amber-100 p-2 text-amber-800",children:(0,u.jsx)(st.A,{className:"h-4 w-4"})}),(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-sm font-bold text-amber-900",children:"Retargeting is disabled"}),(0,u.jsx)("div",{className:"mt-1 text-xs text-amber-800",children:Ce})]})]})}):null,(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-x-8 gap-y-4",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"text-[13px] font-bold text-slate-800",children:"Campaign Name"}),(0,u.jsx)("p",{className:"text-[11px] text-slate-500 leading-tight",children:"Identifies this retarget run."})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("input",{value:N,onChange:e=>S(e.target.value),placeholder:"e.g. Retarget - Selected Contacts",disabled:Re,className:"w-full bg-slate-100 border-none rounded-xl px-4 py-2.5 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20"}),q&&Oe?(0,u.jsx)("div",{className:"text-[11px] font-semibold text-rose-600",children:Oe}):null]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-x-8 gap-y-4",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsxs)("label",{className:"text-[13px] font-bold text-slate-800",children:["Sender ",(0,u.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,u.jsx)("p",{className:"text-[11px] text-slate-500 leading-tight",children:"WhatsApp number used to send."})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("select",{value:ue,onChange:e=>pe(e.target.value),disabled:le||Re,className:"w-full bg-slate-100 border-none rounded-xl px-4 py-2.5 text-sm font-semibold text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20 appearance-none cursor-pointer disabled:opacity-60",children:[(0,u.jsx)("option",{value:"",children:le?"Loading...":ae.length?"Select sender":"No senders found"}),ae.map((e=>(0,u.jsxs)("option",{value:e.id,children:[(e.whatsAppNumber||e.phoneNumberId||"Sender").toString()," (",e.provider,")"]},e.id))),!ae.find((e=>e.id==="".concat(ve,"|").concat(xe)))&&ve&&xe?(0,u.jsxs)("option",{value:"".concat(ve,"|").concat(xe),children:[xe," (",ve,")"]}):null]}),q&&je?(0,u.jsx)("div",{className:"text-[11px] font-semibold text-rose-600",children:je}):null]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-x-8 gap-y-4",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"text-[13px] font-bold text-slate-800",children:"Template Name"}),(0,u.jsx)("p",{className:"text-[11px] text-slate-500 leading-tight",children:"Approved WhatsApp template."})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsxs)("div",{className:"flex-1 flex items-center gap-2 min-w-0 relative",children:[_&&(0,u.jsxs)("div",{className:"w-[180px] flex items-center gap-2 bg-slate-100 rounded-xl px-3 py-1.5 animate-in fade-in slide-in-from-right-2 duration-300 relative z-20",children:[(0,u.jsx)(Jr.A,{className:"w-3.5 h-3.5 text-slate-400"}),(0,u.jsx)("input",{autoFocus:!0,value:R,onChange:e=>D(e.target.value),placeholder:"Search...",className:"w-full bg-transparent border-none py-0.5 text-sm text-slate-800 outline-none placeholder:text-slate-400"}),(0,u.jsx)("button",{onClick:()=>{P(!1),D("")},className:"p-1 hover:bg-slate-200 rounded-md text-slate-500 transition-colors",children:(0,u.jsx)(Pe.A,{className:"w-3.5 h-3.5"})}),R.trim()&&(0,u.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden z-30 max-h-[250px] overflow-y-auto custom-scrollbar animate-in zoom-in-95 duration-200",children:Ne.length>0?Ne.map((e=>(0,u.jsx)("button",{type:"button",onClick:()=>{F(e.name),P(!1),D("")},className:"w-full text-left px-4 py-2.5 text-[13px] font-medium text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 transition-colors border-b border-slate-50 last:border-none",children:e.name},e.id||e.name))):(0,u.jsx)("div",{className:"px-4 py-3 text-[12px] text-slate-400 italic",children:"No templates found"})})]}),(0,u.jsxs)("div",{className:"flex-1 relative",children:[(0,u.jsxs)("select",{value:L,disabled:O||Re,onChange:e=>F(e.target.value),className:"w-full bg-slate-100 border-none rounded-xl px-4 py-2.5 text-sm font-semibold text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20 appearance-none cursor-pointer disabled:opacity-60",children:[(0,u.jsx)("option",{value:"",children:O?"Loading...":"Select template"}),Ne.map((e=>(0,u.jsx)("option",{value:e.name,children:e.name},e.id||e.name)))]}),(0,u.jsx)(Ae.A,{className:"absolute right-4 top-3.5 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),!_&&(0,u.jsx)("button",{type:"button",onClick:()=>P(!0),disabled:Re,className:"flex items-center justify-center h-[40px] w-[40px] rounded-lg bg-slate-100 text-slate-500 hover:bg-slate-200 hover:text-emerald-600 transition-all shadow-sm",title:"Search Templates",children:(0,u.jsx)(Jr.A,{className:"h-4 w-4"})}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(v){C(!0);try{var e;const n=await c.default.post("templates/sync/".concat(v));if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.success||200===(null===n||void 0===n?void 0:n.status)){var t;a.oR.success("Templates synced!");const e=await c.default.get("templates/".concat(v,"?status=APPROVED"));null!==(t=e.data)&&void 0!==t&&t.success&&I(e.data.templates||[])}else a.oR.error("Sync failed.")}catch(n){a.oR.error("Error syncing templates.")}finally{C(!1)}}},disabled:Re||k||O,className:"flex items-center justify-center h-[40px] w-[40px] rounded-lg bg-slate-100 text-slate-500 hover:bg-slate-200 hover:text-emerald-600 transition-all disabled:opacity-50 shadow-sm",title:"Sync Templates from Meta",children:(0,u.jsx)(ct.A,{className:"h-4 w-4 ".concat(k?"animate-spin":"")})})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-slate-400 mt-1",children:[(0,u.jsx)("span",{className:"font-medium",children:R?"Filtered: ".concat(Ne.length):"Total: ".concat(M.length)}),q&&Te?(0,u.jsx)("span",{className:"font-bold text-rose-600",children:Te}):null]})]}),(0,u.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-[13px] font-bold text-slate-800 uppercase tracking-tight",children:"Template Personalization"}),(0,u.jsx)("div",{className:"mt-1 text-[12px] text-slate-500",children:"Configure all required components for this template."})]}),L?U?(0,u.jsxs)("div",{className:"mt-4 text-[12px] text-slate-600 font-medium flex items-center justify-center gap-2 py-8 bg-slate-50 rounded-xl border border-slate-100",children:[(0,u.jsx)(ct.A,{className:"w-4 h-4 animate-spin text-emerald-500"}),"Loading template details..."]}):W?(0,u.jsx)("div",{className:"mt-4 text-[12px] font-semibold text-rose-600 bg-rose-50 rounded-xl p-4 border border-rose-100",children:W}):(0,u.jsxs)("div",{className:"mt-4 space-y-6",children:[(0,u.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[(0,u.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-400 mb-3",children:"Preview (first 3 contacts)"}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(Le?De.slice(0,3):[null,null,null]).map(((e,t)=>{const n=Se?ze(e||{}):"";return(0,u.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 relative overflow-hidden flex flex-col min-h-[120px]",children:[(0,u.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-emerald-500/20"}),(0,u.jsx)("div",{className:"text-[11px] font-bold text-slate-900 border-b border-slate-200/60 pb-2 mb-2",children:Le?zs(e)||Us(e)||"Contact ".concat(t+1):"Sample ".concat(t+1)}),(0,u.jsx)("div",{className:"flex-1 text-[12px] text-slate-600 leading-relaxed overflow-hidden",children:n||"No body text found."})]},t)}))})]}),te&&(0,u.jsxs)("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-1 duration-300",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"}),(0,u.jsx)("h4",{className:"text-[11px] font-bold text-slate-700 uppercase tracking-wider",children:"Header Content"})]}),(0,u.jsxs)("div",{className:"rounded-xl bg-slate-50 border border-slate-100 p-3.5",children:[(0,u.jsxs)("label",{className:"block text-[11px] font-bold text-slate-600 mb-2",children:[(Ue=Q,Ue===As.Image?"Image URL":Ue===As.Video?"Video URL":"Document URL")," ",(0,u.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,u.jsx)("input",{type:"url",value:G,onChange:e=>Y(e.target.value),placeholder:"https://example.com/media.".concat(Q===As.Image?"jpg":Q===As.Video?"mp4":"pdf"),className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20 shadow-sm"}),(0,u.jsxs)("p",{className:"mt-1.5 text-[10px] text-slate-500 leading-normal",children:["Provide a direct public link to the ",Q," file."]})]})]}),X.some((e=>null!==e))&&(0,u.jsxs)("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-1 duration-300",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-1.5 h-6 bg-blue-500 rounded-full"}),(0,u.jsx)("h4",{className:"text-[11px] font-bold text-slate-700 uppercase tracking-wider",children:"Interactive Buttons"})]}),(0,u.jsx)("div",{className:"rounded-xl bg-slate-50 border border-slate-100 p-3.5 space-y-4",children:Z.map(((e,t)=>null===X[t]?null:(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsxs)("label",{className:"block text-[11px] font-bold text-slate-600",children:[e.text||e.Text," ",(0,u.jsxs)("span",{className:"text-[10px] font-normal text-slate-400",children:["(",e.type||e.Type,")"]})]}),(0,u.jsx)("input",{value:X[t],onChange:e=>{const n=[...X];n[t]=e.target.value,$(n)},placeholder:"Enter dynamic value or URL",className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-blue-500/20 shadow-sm"})]},t)))})]}),Ee.length>0&&(0,u.jsxs)("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-1 duration-300",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-1.5 h-6 bg-amber-500 rounded-full"}),(0,u.jsx)("h4",{className:"text-[11px] font-bold text-slate-700 uppercase tracking-wider",children:"Message Variables"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-[120px,1fr] gap-3 text-[11px] font-bold uppercase tracking-wider text-slate-400 px-1",children:[(0,u.jsx)("div",{children:"Placeholder"}),(0,u.jsx)("div",{children:"Mapping Configuration"})]}),(0,u.jsx)("div",{className:"space-y-3",children:Ee.map((e=>{var t,n;const r=(null===oe||void 0===oe?void 0:oe[String(e)])||{},o=String(r.source||"const"),i="const"===o,a=String(r.missingPolicy||"skip"),s=t=>ie((n=>(0,b.A)((0,b.A)({},n||{}),{},{[String(e)]:(0,b.A)((0,b.A)({},(null===n||void 0===n?void 0:n[String(e)])||{source:"const",constValue:"",missingPolicy:"skip",fallbackValue:""}),t)})));return(0,u.jsxs)("div",{className:"grid grid-cols-[120px,1fr] gap-3 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[(0,u.jsx)("div",{className:"flex items-center gap-2",children:(0,u.jsx)("span",{className:"rounded-lg bg-white px-2 py-1 font-mono text-[12px] font-semibold text-slate-800 border border-slate-200",children:"{{".concat(e,"}}")})}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(0,u.jsxs)("select",{value:o,onChange:e=>s({source:e.target.value}),className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20",children:[(0,u.jsx)("option",{value:"const",children:"Constant"}),Le?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("option",{value:"contact:name",children:"Contact field: Name"}),(0,u.jsx)("option",{value:"contact:phone",children:"Contact field: Phone"}),Fe.length?(0,u.jsx)("optgroup",{label:"Custom fields",children:Fe.map((e=>(0,u.jsxs)("option",{value:"custom:".concat(e),children:["Custom field: ",e]},e)))}):null]}):null]}),i?(0,u.jsx)("input",{value:String(null!==(t=r.constValue)&&void 0!==t?t:""),onChange:e=>s({constValue:e.target.value}),placeholder:"Constant value",className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20"}):(0,u.jsxs)("select",{value:a,onChange:e=>s({missingPolicy:e.target.value}),className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20",children:[(0,u.jsx)("option",{value:"skip",children:"Skip missing"}),(0,u.jsx)("option",{value:"fallback",children:"Use fallback constant"})]})]}),i||"fallback"!==a?null:(0,u.jsx)("input",{value:String(null!==(n=r.fallbackValue)&&void 0!==n?n:""),onChange:e=>s({fallbackValue:e.target.value}),placeholder:"Fallback constant (when contact value is missing)",className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20"})]})]},e)}))})]})]}):(0,u.jsx)("div",{className:"mt-4 text-[12px] text-slate-500 italic bg-slate-50 rounded-xl p-4 border border-dashed border-slate-200 text-center",children:"Select a template above to begin personalization."})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-x-8 gap-y-4",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"text-[13px] font-bold text-slate-800",children:"Scheduling"}),(0,u.jsx)("p",{className:"text-[11px] text-slate-500 leading-tight",children:"When should this campaign run?"})]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,u.jsxs)("label",{className:ys("relative flex cursor-pointer rounded-xl border p-3 transition-all","now"===fe?"border-emerald-600 bg-emerald-50 ring-1 ring-emerald-600":"border-slate-200 bg-white hover:bg-slate-50",Re?"pointer-events-none opacity-60":""),children:[(0,u.jsx)("input",{type:"radio",name:"schedule",value:"now",className:"sr-only",checked:"now"===fe,onChange:()=>he("now"),disabled:Re}),(0,u.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,u.jsx)("span",{className:"text-sm font-bold text-slate-900",children:"Send Immediately"}),(0,u.jsx)("span",{className:"text-[11px] text-slate-500",children:"Launch as soon as created."})]}),(0,u.jsx)(ce.A,{className:ys("h-4 w-4","now"===fe?"text-emerald-600":"text-slate-300")})]}),(0,u.jsxs)("label",{className:ys("relative flex cursor-pointer rounded-xl border p-3 transition-all","later"===fe?"border-emerald-600 bg-emerald-50 ring-1 ring-emerald-600":"border-slate-200 bg-white hover:bg-slate-50",Re?"pointer-events-none opacity-60":""),children:[(0,u.jsx)("input",{type:"radio",name:"schedule",value:"later",className:"sr-only",checked:"later"===fe,onChange:()=>he("later"),disabled:Re}),(0,u.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,u.jsx)("span",{className:"text-sm font-bold text-slate-900",children:"Schedule for Later"}),(0,u.jsx)("span",{className:"text-[11px] text-slate-500",children:"Pick a future time."})]}),(0,u.jsx)(Qr.A,{className:ys("h-4 w-4","later"===fe?"text-emerald-600":"text-slate-300")})]})]}),"later"===fe&&(0,u.jsx)("div",{className:"mt-2 animate-in slide-in-from-top-1 duration-200",children:(0,u.jsx)("input",{type:"datetime-local",className:"w-full bg-slate-100 border-none rounded-xl px-4 py-2.5 text-sm font-semibold text-slate-800 outline-none focus:ring-2 focus:ring-emerald-500/20",value:me,onChange:e=>ge(e.target.value),min:(new Date).toISOString().slice(0,16),disabled:Re})})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-x-8 gap-y-4 items-center pt-2",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"text-[13px] font-bold text-slate-800",children:"Test Campaign"}),(0,u.jsx)("p",{className:"text-[11px] text-slate-500 leading-tight",children:"Send a quick test."})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"button",onClick:()=>a.oR.info("Test message is coming soon."),disabled:Re||!L,className:"inline-flex items-center gap-2 px-6 py-2 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:"Send Test Message"})})]})]})]}),(0,u.jsx)(ds,{className:"px-6 py-4 bg-white border-t border-slate-100 mt-0 shrink-0",children:(0,u.jsxs)("div",{className:"w-full space-y-2",children:[q&&Me?(0,u.jsx)("div",{className:"text-[12px] font-semibold text-rose-600",children:Me}):null,(0,u.jsxs)("div",{className:"flex gap-3",children:[(0,u.jsx)("button",{onClick:r,disabled:A,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg border border-slate-200 bg-white px-6 py-3 text-sm font-bold text-slate-600 hover:bg-slate-50 transition-all disabled:opacity-50",children:"Close"}),(0,u.jsxs)("button",{onClick:function(){K(!0),Ie?async function(){if(o){E(!0);try{var e,t,n,i;const p=Ce||_e||Oe||je||Te||null;if(p)return void a.oR.warn(p);const f=(null===Z||void 0===Z?void 0:Z.map(((e,t)=>{const n=(null===e||void 0===e?void 0:e.ParameterValue)||(null===e||void 0===e?void 0:e.parameterValue)||"",r=((null===e||void 0===e?void 0:e.SubType)||(null===e||void 0===e?void 0:e.subType)||"").toLowerCase(),o=["url","copy_code","flow"].includes(r)||n.includes("{{1}}");return{text:(null===e||void 0===e?void 0:e.Text)||(null===e||void 0===e?void 0:e.text)||"Button",type:(null===e||void 0===e?void 0:e.Type)||(null===e||void 0===e?void 0:e.type)||"",value:o?X[t]||"":n,position:t+1}})))||[],h=Array.from(s||[]),b=[],y=[],j=e=>{const t=String(e||"").trim();t&&y.push(t)};for(const e of h)Bs(e)?b.push(String(e)):j(e);const S=Array.isArray(d)?d:[];for(const e of S){const t=(null===e||void 0===e?void 0:e.contactId)||(null===e||void 0===e?void 0:e.ContactId)||(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.Id)||"";Bs(t)?b.push(String(t)):j(Us(e)||t)}const A=e=>[...new Set((e||[]).map((e=>String(e).trim())).filter(Boolean))],E=A(b),k=A(y);if(!E.length&&!k.length)return void a.oR.warn("No valid contacts/phone numbers selected.");const C=Fs(Ls(B)),_={};for(const e of C){var l,u;const t=(null===oe||void 0===oe?void 0:oe[String(e)])||{};_[String(e)]={source:String(t.source||"const"),constValue:String(null!==(l=t.constValue)&&void 0!==l?l:""),missingPolicy:String(t.missingPolicy||"skip"),fallbackValue:String(null!==(u=t.fallbackValue)&&void 0!==u?u:"")}}const P=Array.isArray(d)?d[0]:null,O=C.map((e=>{var t;const n=Be(P,e);return String(null!==(t=null===n||void 0===n?void 0:n.value)&&void 0!==t?t:"")})),T={};C.forEach(((e,t)=>{var n;T["{{".concat(e,"}}")]=null!==(n=O[t])&&void 0!==n?n:""}));const M=Ls(B),I=(null===B||void 0===B?void 0:B.language)||"en_US",R="later"===fe&&me?new Date(me).toISOString():null,D=Q===As.Image?"image":Q===As.Video?"video":"text",F=String(ye||"").toUpperCase(),z=String(we||"").trim(),U=localStorage.getItem("userId")||localStorage.getItem("createdBy")||"",V=v||localStorage.getItem("businessId")||"",W=await c.default.post("campaigns/retarget",{campaignId:o,sourceCampaignId:o,bucket:x,sourceBucket:x,repliedWindowDays:w,windowDays:w,createMode:"DRAFT_CAMPAIGN",name:(null===N||void 0===N?void 0:N.trim())||null,contactIds:E,recipientNumbers:k,recipients:k,phones:k,deduplicate:!0,businessId:V,createdBy:U,messageTemplate:M,templateId:L,templateName:L,templateLanguage:I,headerKind:Q,headerMediaUrl:Es(Q)?G:null,imageUrl:Q===As.Image?G:null,videoUrl:Q===As.Video?G:null,documentUrl:Q===As.Document?G:null,buttonParams:f,templateParameters:O,templateParametersMap:T,templateVariableConfigs:_,provider:F,phoneNumberId:z,scheduledAt:R,campaignType:D,useCsvPersonalization:!1,campaign:{name:(null===N||void 0===N?void 0:N.trim())||"Retarget: ".concat(null!==(e=null===m||void 0===m?void 0:m.name)&&void 0!==e?e:"Campaign"),businessId:V,createdBy:U,messageTemplate:M,templateId:L,templateName:L,templateLanguage:I,headerKind:Q,headerMediaUrl:Es(Q)?G:null,imageUrl:Q===As.Image?G:null,videoUrl:Q===As.Video?G:null,documentUrl:Q===As.Document?G:null,buttonParams:f,multiButtons:f.map((e=>({buttonText:e.text,buttonType:e.type,targetUrl:e.value,position:e.position}))),templateParameters:O,templateParametersMap:T,templateVariableConfigs:_,provider:F,phoneNumberId:z,scheduledAt:R,campaignType:D,useCsvPersonalization:!1}},{__silent:!0}),H=null!==(t=null!==(n=null===W||void 0===W||null===(i=W.data)||void 0===i?void 0:i.data)&&void 0!==n?n:null===W||void 0===W?void 0:W.data)&&void 0!==t?t:null;if(a.oR.success("Retarget wizard completed."),null!==H&&void 0!==H&&H.newCampaignId)return re.current=!0,r(),void g("/app/campaigns/".concat(H.newCampaignId),{replace:!0});Array.isArray(null===H||void 0===H?void 0:H.contactIds),r()}catch(oD){var p;console.error(oD);const t=null===oD||void 0===oD||null===(p=oD.response)||void 0===p?void 0:p.data,n=(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.error)||(null===t||void 0===t?void 0:t.title)||("string"===typeof t?t:null)||(null===oD||void 0===oD?void 0:oD.message)||"Failed to run retarget wizard.";a.oR.error(n)}finally{E(!1)}}}():Me&&a.oR.warn(Me)},disabled:A||0===ke,"aria-disabled":!Ie,className:ys("flex-[2] inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-6 py-3 text-sm font-bold text-white shadow-xl shadow-emerald-600/20 hover:bg-emerald-700 active:scale-[0.98] transition-all disabled:opacity-50 disabled:active:scale-100",!Ie&&ke>0?"opacity-50 cursor-not-allowed":""),children:[A?(0,u.jsx)(ct.A,{className:"h-4 w-4 animate-spin"}):(0,u.jsx)(ce.A,{className:"h-4 w-4"}),A?"Processing...":"now"===fe?"Launch Campaign":"Schedule Campaign"]})]})]})})]})});var Ue}function Ws(t){let{label:n,value:r,copyable:o}=t;const[i,s]=(0,e.useState)(!1);return(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 py-2 group/kv",children:[(0,u.jsx)("div",{className:"text-[11px] font-bold uppercase tracking-wider text-slate-400",children:n}),(0,u.jsxs)("div",{onClick:()=>{r&&o&&(navigator.clipboard.writeText(r),s(!0),setTimeout((()=>s(!1)),2e3),a.oR.info("Copied to clipboard",{autoClose:1e3}))},className:ys("text-xs font-semibold text-slate-900 text-right transition-all",o?"cursor-pointer hover:text-emerald-600 font-mono bg-slate-50 px-1.5 py-0.5 rounded border border-transparent hover:border-emerald-200 hover:bg-emerald-50":""),children:[null!==r&&void 0!==r?r:"-",o&&(0,u.jsx)("span",{className:"ml-1.5 opacity-0 group-hover/kv:opacity-100 transition-opacity text-[10px] text-emerald-500 font-bold uppercase",children:i?"Copied!":"Copy"})]})]})}function Hs(e){let{className:t}=e;return(0,u.jsx)("div",{className:ys("animate-pulse bg-slate-200 rounded-xl",t)})}function qs(){return(0,u.jsxs)("div",{className:"bg-slate-50/50 border border-slate-200 rounded-xl p-5 shadow-sm animate-pulse h-full w-full flex flex-col items-center justify-center text-center",children:[(0,u.jsx)(Hs,{className:"h-5 w-16 mb-2"}),(0,u.jsx)(Hs,{className:"h-4 w-28 mb-4"}),(0,u.jsx)(Hs,{className:"h-10 w-10 rounded-full"})]})}function Ks(e){let{label:t,value:n}=e;return(0,u.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[(0,u.jsx)("div",{className:"text-[11px] font-semibold text-slate-600",children:t}),(0,u.jsx)("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:null!==n&&void 0!==n?n:"-"})]})}function Gs(e){let{percentage:t,size:n=32,strokeWidth:r=3,colorClass:o="text-emerald-500",children:i}=e;const a=(n-r)/2,s=2*a*Math.PI,l=s-t/100*s;return(0,u.jsxs)("div",{className:"relative inline-flex items-center justify-center shrink-0",style:{width:n,height:n},children:[(0,u.jsxs)("svg",{width:n,height:n,className:"transform -rotate-90",children:[(0,u.jsx)("circle",{className:"text-slate-100",strokeWidth:r,stroke:"currentColor",fill:"transparent",r:a,cx:n/2,cy:n/2}),(0,u.jsx)("circle",{className:ys("transition-all duration-500 ease-out",o),strokeWidth:r,strokeDasharray:s,style:{strokeDashoffset:l},strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:a,cx:n/2,cy:n/2})]}),(0,u.jsx)("div",{className:"absolute flex items-center justify-center",children:i})]})}function Ys(e){let{title:t,percentage:n,count:r,icon:o,iconClassName:i,ringColor:a,active:s,onClick:l}=e;return(0,u.jsxs)("button",{type:"button",onClick:l,"aria-pressed":Boolean(s),className:ys("relative flex flex-col items-center justify-center text-center p-5 rounded-lg border transition-all duration-300 h-full w-full focus:outline-none group shadow-sm",s?"border-2 border-emerald-600 bg-gradient-to-br from-white via-emerald-50 to-emerald-100/20 shadow-xl -translate-y-1 z-10":"border-slate-200 bg-slate-50/30 hover:border-slate-300 hover:bg-white hover:shadow-md hover:-translate-y-0.5"),children:[(0,u.jsxs)("div",{className:"space-y-1 mb-4",children:[(0,u.jsxs)("div",{className:"text-xl font-bold text-slate-900 tracking-tight leading-none flex items-baseline justify-center gap-1.5",children:[(0,u.jsx)("span",{children:null!=n?"".concat(n.toFixed(0),"%"):"0%"}),(0,u.jsxs)("span",{className:ys("text-sm font-semibold transition-colors opacity-70",s?"text-emerald-900":"text-slate-500"),children:["(",(null===r||void 0===r?void 0:r.toLocaleString())||"0",")"]})]}),(0,u.jsx)("p",{className:ys("text-[11px] font-bold tracking-wider leading-tight transition-colors px-1",s?"text-emerald-900":"text-slate-700"),children:t})]}),(0,u.jsx)("div",{className:"transform transition-transform duration-300 group-hover:scale-110",children:o?(0,u.jsx)(Gs,{percentage:n||0,colorClass:a,size:44,strokeWidth:3,children:(0,u.jsx)("div",{className:ys("p-2 rounded-full transition-all duration-300",s?i:"bg-slate-50 text-slate-400 grayscale-[0.8]"),children:(0,u.jsx)(o,{className:"w-4.5 h-4.5"})})}):null}),s&&(0,u.jsx)("div",{className:"absolute left-1/2 -bottom-2 -translate-x-1/2 w-4 h-4 bg-emerald-500 transform rotate-45 border-r border-b border-emerald-600 shadow-lg z-10"})]})}function Xs(){var t,n,r,s;const{campaignId:d}=(0,i.g)(),p=(0,i.Zp)(),{can:f,isLoading:h}=(0,l.h)(),[m,g]=(0,o.ok)(),x=(0,e.useMemo)((()=>(null===f||void 0===f?void 0:f(v.FK.CAMPAIGN_STATUS_VIEW))||(null===f||void 0===f?void 0:f(v.FK.CAMPAIGN_LIST_VIEW))),[f]),y=(m.get("tab")||"").toLowerCase(),w=(()=>{const e=m.get("windowDays"),t=Number.parseInt(String(null!==e&&void 0!==e?e:xs),10);return Number.isFinite(t)&&t>0?t:xs})(),[j,N]=(0,e.useState)(ws.includes(y)?y:"recipients"),[S,A]=(0,e.useState)(Number.isFinite(w)&&w>0?w:xs),[E,k]=(0,e.useState)(!1),[C,_]=(0,e.useState)(null),[P,O]=(0,e.useState)(null),[T,M]=(0,e.useState)((()=>Ss[y]||js)),[I,D]=(0,e.useState)(""),[L,F]=(0,e.useState)(1),[B,z]=(0,e.useState)([]),[U,V]=(0,e.useState)(null),[W,H]=(0,e.useState)(!1),[q,K]=(0,e.useState)(!1),[G,Y]=(0,e.useState)(null),[X,Z]=(0,e.useState)(null),[J,Q]=(0,e.useState)(null),[ee,te]=(0,e.useState)(!1),[ne,re]=(0,e.useState)(new Set),[oe,ie]=(0,e.useState)({}),[ae,se]=(0,e.useState)(!1),le=(0,e.useRef)(null),de=(0,e.useRef)({segment:null,search:null,windowDays:null}),pe=(0,e.useRef)({campaignId:null,items:null}),fe=(0,e.useRef)({audience:null,bucketContacts:null,campaignLogs:null}),he=null!=U?Math.max(1,Math.ceil(Number(U)/bs)):null;function me(e){const t=new URLSearchParams(m);e.tab&&t.set("tab",e.tab),e.windowDays&&t.set("windowDays",String(e.windowDays)),g(t,{replace:!0})}function ge(e){const t=ws.includes(e)?e:"recipients";N(t),me({tab:t,windowDays:S});const n=Ss[t];n&&(M(n),requestAnimationFrame((()=>{var e,t;null===(e=le.current)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{behavior:"smooth",block:"start"})})))}function ve(e){const t=Number(e),n=Number.isFinite(t)&&t>0?t:xs;A(n),me({tab:j,windowDays:n}),"recipients"===j&&"REPLIED"===T&&(F(1),re(new Set),ie({}),Ce({resetPage:!0,windowDays:n}))}const xe=(0,e.useMemo)((()=>{var e,t,n,r,o,i,a;const s=C||{},l=null!==(e=Ds(s,["recipients","totalRecipients","audience","total","totalCount","stats.recipients","data.totalRecipients"]))&&void 0!==e?e:0,c=null!==(t=Ds(s,["sent","stats.sent","data.sent"]))&&void 0!==t?t:0,d=null!==(n=Ds(s,["delivered","stats.delivered","data.delivered"]))&&void 0!==n?n:0,u=null!==(r=Ds(s,["read","stats.read","data.read"]))&&void 0!==r?r:0,p=null!==(o=Ds(s,["clicked","stats.clicked","data.clicked"]))&&void 0!==o?o:0,f=null!==(i=Ds(s,["replied","repliedWithinWindow","stats.repliedWithinWindow","stats.replied","data.replied"]))&&void 0!==i?i:0,h=null!==(a=Ds(s,["failed","stats.failed","data.failed"]))&&void 0!==a?a:0,m=l||Math.max(Ps(c),Ps(d),Ps(u),Ps(p),Ps(f),Ps(h));return{recipients:Ps(m),sent:Ps(c),delivered:Ps(d),read:Ps(u),clicked:Ps(p),replied:Ps(f),failed:Ps(h)}}),[C]),be=(0,e.useMemo)((()=>{const e=xe.recipients||0,t=t=>{if(!e)return 0;const n=Ps(t)/Ps(e)*100;return Number.isFinite(n)?Math.max(0,Math.min(100,n)):0};return{recipients:{pct:100,count:e},sent:{pct:t(xe.sent),count:xe.sent},delivered:{pct:t(xe.delivered),count:xe.delivered},read:{pct:t(xe.read),count:xe.read},clicked:{pct:t(xe.clicked),count:xe.clicked},replied:{pct:t(xe.replied),count:xe.replied},failed:{pct:t(xe.failed),count:xe.failed}}}),[xe]);async function ye(){if(d){k(!0);try{var e,t,n;const r=await ps(d,{repliedWindowDays:S}),o=null!==(e=null!==(t=null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data)&&void 0!==t?t:null===r||void 0===r?void 0:r.data)&&void 0!==e?e:null;_(o)}catch(oD){console.error(oD),a.oR.error("Failed to load campaign report.")}finally{k(!1)}}}async function we(){if(d)try{var e,t,n;const r=await c.default.get("/campaign/".concat(d),{__silent:!0}),o=null!==(e=null!==(t=null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data)&&void 0!==t?t:null===r||void 0===r?void 0:r.data)&&void 0!==e?e:null;O(o)}catch(oD){var r;const t=null===oD||void 0===oD||null===(r=oD.response)||void 0===r?void 0:r.status;404!==t&&405!==t&&console.error(oD),O(null)}}function je(e){const t=(0,b.A)({},e);return Object.keys(t).forEach((e=>{null!=t[e]&&""!==t[e]||delete t[e]})),t}function Ne(e){if(!e)return[];const t=e.items||e.Items||e.contacts||e.Contacts||e.rows||e.Rows||[];return Array.isArray(t)?t:[]}function Se(e,t){const n=String(t||"").trim().toLowerCase();return n?e.filter((e=>function(e){var t;const n=(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.contactName)||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.name)||"",r=(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.contactPhone)||(null===e||void 0===e?void 0:e.recipientNumber)||(null===e||void 0===e?void 0:e.to)||(null===e||void 0===e?void 0:e.recipient)||"",o=(null===e||void 0===e?void 0:e.lastStatus)||(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e?void 0:e.sendStatus)||"";return"".concat(n," ").concat(r," ").concat(o).toLowerCase()}(e).includes(n))):e}function Ae(e,t){var n,r,o,i;let{page:a,pageSize:s}=t;const l=Ne(e),c=function(e){var t,n,r,o,i,a,s,l,c,d;if(!e)return null;const u=null!==(t=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=null!==(l=e.totalCount)&&void 0!==l?l:e.TotalCount)&&void 0!==s?s:e.total)&&void 0!==a?a:e.Total)&&void 0!==i?i:e.count)&&void 0!==o?o:e.Count)&&void 0!==r?r:null===e||void 0===e||null===(c=e.meta)||void 0===c?void 0:c.total)&&void 0!==n?n:null===e||void 0===e||null===(d=e.Meta)||void 0===d?void 0:d.Total)&&void 0!==t?t:null;return Number.isFinite(Number(u))?Number(u):null}(e);return{items:l,totalCount:c,page:Number.isFinite(Number(null!==(n=null===e||void 0===e?void 0:e.page)&&void 0!==n?n:null===e||void 0===e?void 0:e.Page))?Number(null!==(r=null===e||void 0===e?void 0:e.page)&&void 0!==r?r:null===e||void 0===e?void 0:e.Page):Number(a||1),pageSize:Number.isFinite(Number(null!==(o=null===e||void 0===e?void 0:e.pageSize)&&void 0!==o?o:null===e||void 0===e?void 0:e.PageSize))?Number(null!==(i=null===e||void 0===e?void 0:e.pageSize)&&void 0!==i?i:null===e||void 0===e?void 0:e.PageSize):Number(s||bs)}}function Ee(e,t,n){const r=String(t||"").toUpperCase();if(r===js)return e;const o=Date.now(),i=Number.isFinite(Number(n))&&Number(n)>0?24*Number(n)*60*60*1e3:null;return(e||[]).filter((e=>{const t=function(e){var t,n,r;const o=null!==(t=null!==(n=null!==(r=null===e||void 0===e?void 0:e.lastStatus)&&void 0!==r?r:null===e||void 0===e?void 0:e.status)&&void 0!==n?n:null===e||void 0===e?void 0:e.sendStatus)&&void 0!==t?t:"";return String(o||"").trim().toUpperCase().replace(/\s+/g,"_")}(e);if(!t)return!1;if("FAILED"===r)return t.includes("FAILED")||"FAIL"===t||t.includes("ERROR");if("REPLIED"===r){if(!t.includes("REPLIED")&&!t.includes("REPLY"))return!1;if(!i)return!0;const n=function(e){var t,n,r,o,i,a,s,l,c,d,u;return Os(null!==(t=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=null!==(l=null!==(c=null!==(d=null!==(u=null===e||void 0===e?void 0:e.repliedAt)&&void 0!==u?u:null===e||void 0===e?void 0:e.RepliedAt)&&void 0!==d?d:null===e||void 0===e?void 0:e.replyAt)&&void 0!==c?c:null===e||void 0===e?void 0:e.ReplyAt)&&void 0!==l?l:null===e||void 0===e?void 0:e.lastReplyAt)&&void 0!==s?s:null===e||void 0===e?void 0:e.LastReplyAt)&&void 0!==a?a:null===e||void 0===e?void 0:e.lastActivityAt)&&void 0!==i?i:null===e||void 0===e?void 0:e.lastUpdatedAt)&&void 0!==o?o:null===e||void 0===e?void 0:e.updatedAt)&&void 0!==r?r:null===e||void 0===e?void 0:e.sentAt)&&void 0!==n?n:null===e||void 0===e?void 0:e.createdAt)&&void 0!==t?t:null)}(e);return!n||o-n.getTime()<=i}return"DELIVERED_NOT_READ"===r?"DELIVERED_NOT_READ"===t||t.includes("DELIVERED")&&!t.includes("READ")&&!t.includes("REPLIED")&&!t.includes("CLICK"):"READ_NOT_REPLIED"===r?"READ_NOT_REPLIED"===t||t.includes("READ")&&!t.includes("REPLIED"):"CLICKED_NOT_REPLIED"!==r||("CLICKED_NOT_REPLIED"===t||t.includes("CLICK")&&!t.includes("REPLIED"))}))}async function ke(e){let{segment:t,windowDays:n,q:r,page:o,pageSize:i}=e;const s=e=>404===e||405===e,l=String(r||"").trim(),u=async e=>{const r=Ee(await async function(){var e,t,n;const r=pe.current;if((null===r||void 0===r?void 0:r.campaignId)===d&&Array.isArray(null===r||void 0===r?void 0:r.items))return r.items;const o=await c.default.get("/campaigns/".concat(d,"/recipients"),{__silent:!0}),i=null!==(e=null!==(t=null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)&&void 0!==t?t:null===o||void 0===o?void 0:o.data)&&void 0!==e?e:[],a=Array.isArray(i)?i:Ne(i);return pe.current={campaignId:d,items:a},a}(),t,n),a=l?Se(r,l):r,s=Number(o||1),u=Number(i||bs),p=(s-1)*u;return{items:a.slice(p,p+u),totalCount:a.length,page:s,pageSize:u,source:e}};if(t===js)return await u("recipients");const p=async function(e,t,n){let{mapQueryTo:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=je(n);r&&l&&(a[r]=l);try{var s,d,u;const n=await c.default.get(t,{__silent:!0,params:a});let r=Ae(null!==(s=null!==(d=null===n||void 0===n||null===(u=n.data)||void 0===u?void 0:u.data)&&void 0!==d?d:null===n||void 0===n?void 0:n.data)&&void 0!==s?s:{},{page:o,pageSize:i});return l&&r.items.length,(0,b.A)((0,b.A)({},r),{},{source:e})}catch(oD){var p;const s=null===oD||void 0===oD||null===(p=oD.response)||void 0===p?void 0:p.status;if(l&&400===s){var f,h,m;const a=(0,b.A)({},n);r&&delete a[r];const s=await c.default.get(t,{__silent:!0,params:je(a)}),d=Ae(null!==(f=null!==(h=null===s||void 0===s||null===(m=s.data)||void 0===m?void 0:m.data)&&void 0!==h?h:null===s||void 0===s?void 0:s.data)&&void 0!==f?f:{},{page:o,pageSize:i});return(0,b.A)((0,b.A)({},d),{},{items:Se(d.items,l),source:e,_clientFiltered:!0})}throw oD}};if(!1!==fe.current.audience)try{return await p("audience","/campaigns/".concat(d,"/reports/audience"),{segment:t,windowDays:n,page:o,pageSize:i},{mapQueryTo:"q"})}catch(oD){var f;s(null===oD||void 0===oD||null===(f=oD.response)||void 0===f?void 0:f.status)&&(fe.current.audience=!1)}if(!1!==fe.current.bucketContacts)try{return await p("bucket-contacts","/campaigntracking/campaigns/".concat(d,"/bucket-contacts"),{bucket:t,windowDays:n,page:o,pageSize:i},{mapQueryTo:"q"})}catch(oD){var h;s(null===oD||void 0===oD||null===(h=oD.response)||void 0===h?void 0:h.status)&&(fe.current.bucketContacts=!1)}if(!1!==fe.current.campaignLogs)try{var m,g,v;const e=await vs(d,t,{q:l,page:o,pageSize:i,repliedWindowDays:n}),r=Ae(null!==(m=null!==(g=null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.data)&&void 0!==g?g:null===e||void 0===e?void 0:e.data)&&void 0!==m?m:{},{page:o,pageSize:i});return(0,b.A)((0,b.A)({},r),{},{source:"campaign-logs"})}catch(oD){var x;s(null===oD||void 0===oD||null===(x=oD.response)||void 0===x?void 0:x.status)&&(fe.current.campaignLogs=!1)}try{return await u("recipients-derived")}catch(oD){var y;if(s(null===oD||void 0===oD||null===(y=oD.response)||void 0===y?void 0:y.status))return a.oR.warn("Audience endpoint not found. Backend work required.",{toastId:"audience-endpoint-missing"}),{items:[],totalCount:0,page:o,pageSize:i,source:"mock"};throw oD}}async function Ce(){let{nextPage:e,resetPage:t,segment:n,windowDays:r,q:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!d)return;const i=t?1:null!==e&&void 0!==e?e:L,s=null!==n&&void 0!==n?n:T,l=null!==r&&void 0!==r?r:S,c=null!==o&&void 0!==o?o:I;H(!0),Y(null);try{const e=await ke({segment:s,windowDays:l,q:c,page:i,pageSize:bs});z(e.items||[]),V(e.totalCount),Z(e.source||null),K(!0),F(i),Q((new Date).toISOString()),de.current={segment:s,search:c,windowDays:l}}catch(oD){console.error(oD);const{status:t,message:n}=function(e){var t,n;const r=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status,o=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;let i="";if("string"===typeof o)i=o;else if("string"===typeof(null===o||void 0===o?void 0:o.message))i=o.message;else try{i=o?JSON.stringify(o):""}catch(a){i=""}return i&&i.length>220&&(i="".concat(i.slice(0,220),"...")),{status:r,message:i||(null===e||void 0===e?void 0:e.message)||""}}(oD);z([]),V(null),Z(null),K(!0),Y(n||(null===oD||void 0===oD?void 0:oD.message)||"Failed to load contacts."),a.oR.error("Failed to load contacts".concat(t?" (".concat(t,")"):"").concat(n?": ".concat(n):""))}finally{H(!1)}}function _e(e){return(null===e||void 0===e?void 0:e.contactId)||(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.contactPhone)||(null===e||void 0===e?void 0:e.recipientNumber)||(null===e||void 0===e?void 0:e.to)||(null===e||void 0===e?void 0:e.recipient)||null}function Oe(e,t){let{filename:n}=t;const r=["Name","Phone","Segment","LastActivityAt"],o=[r.join(","),...e.map((e=>r.map((t=>(e=>{const t=String(null!==e&&void 0!==e?e:"");return/[",\r\n]/.test(t)?'"'.concat(t.replace(/"/g,'""'),'"'):t})(e[t]))).join(",")))],i=new Blob([o.join("\r\n")],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=n,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(a)}if((0,e.useEffect)((()=>{y||me({tab:j,windowDays:S})}),[]),(0,e.useEffect)((()=>{ws.includes(y)&&y!==j&&N(y)}),[y,j]),(0,e.useEffect)((()=>{w!==S&&Number.isFinite(w)&&w>0&&A(w)}),[w,S]),(0,e.useEffect)((()=>{x&&(we(),ye())}),[x,d,S]),(0,e.useEffect)((()=>{if(!q)return;const e=setTimeout((()=>{I!==de.current.search&&Ce({resetPage:!0})}),600);return()=>clearTimeout(e)}),[I]),h)return(0,u.jsx)("div",{className:"min-h-screen bg-slate-50 p-8",children:(0,u.jsxs)("div",{className:"mx-auto max-w-7xl space-y-8",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(Hs,{className:"h-8 w-64"}),(0,u.jsx)(Hs,{className:"h-4 w-48"})]}),(0,u.jsx)(Hs,{className:"h-10 w-32"})]}),(0,u.jsx)("div",{className:"grid grid-cols-7 gap-3",children:[...Array(7)].map(((e,t)=>(0,u.jsx)(qs,{},t)))}),(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,u.jsx)(Hs,{className:"h-96 rounded-3xl"}),(0,u.jsxs)("div",{className:"col-span-2 space-y-6",children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,u.jsx)(Hs,{className:"h-24"}),(0,u.jsx)(Hs,{className:"h-24"})]}),(0,u.jsx)(Hs,{className:"h-64 rounded-3xl"})]})]})]})});if(!x)return(0,u.jsx)("div",{className:"p-6",children:(0,u.jsxs)("div",{className:"max-w-xl bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[(0,u.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"Campaign Log Report"}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"You don't have permission to view this report."})]})});const Te=(null===P||void 0===P?void 0:P.createdAt)||(null===P||void 0===P?void 0:P.created_at)||(null===P||void 0===P?void 0:P.createdOn),Me=(null===P||void 0===P?void 0:P.completedAt)||(null===P||void 0===P?void 0:P.completed_at)||(null===P||void 0===P?void 0:P.completedOn)||(null===P||void 0===P?void 0:P.updatedAt),Ie=(()=>{const e=Os(Te),t=Os(Me);return e&&t?t.getTime()-e.getTime():null})(),Re=(null===P||void 0===P?void 0:P.name)||(null===P||void 0===P?void 0:P.campaignName)||(null===P||void 0===P?void 0:P.title)||"Campaign Log Report",De=(null===P||void 0===P?void 0:P.templateName)||(null===P||void 0===P||null===(t=P.template)||void 0===t?void 0:t.name)||(null===P||void 0===P?void 0:P.template)||null,Le=(null===P||void 0===P?void 0:P.campaignType)||(null===P||void 0===P?void 0:P.type)||(null===P||void 0===P?void 0:P.kind)||null,Fe=(null===P||void 0===P?void 0:P.status)||(null===P||void 0===P?void 0:P.state)||null,Be=_s(Fe),ze=null!==(n=null!==(r=null!==(s=Is(null===P||void 0===P?void 0:P.totalCreditUsage))&&void 0!==s?s:Is(null===C||void 0===C?void 0:C.totalCreditUsage))&&void 0!==r?r:Is(null===C||void 0===C?void 0:C.creditUsage))&&void 0!==n?n:null,Ue=q&&(de.current.segment!==T||de.current.search!==I||de.current.windowDays!==S),Ve=q&&!Ue,We=Ve?ct.A:eo.A,He=Ve?"Reload":Ue?"Apply filters":"Apply";return(0,u.jsxs)("div",{className:"min-h-screen bg-[#f5f6f7]",children:[(0,u.jsx)("style",{children:"\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(16px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in-up {\n          animation: fadeInUp 0.5s ease-out forwards;\n        }\n      "}),(0,u.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8 space-y-6",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between animate-fade-in-up",children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"p-2 bg-emerald-100 rounded-xl",children:(0,u.jsx)(ue.A,{className:"h-5 w-5 text-emerald-600"})}),(0,u.jsx)("h1",{className:"text-2xl font-bold text-emerald-700 tracking-tight",children:"Campaign Log Report"})]})}),(0,u.jsx)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:(0,u.jsxs)("button",{type:"button",onClick:async function(){await Promise.all([we(),ye()]),q&&await Ce({nextPage:L})},disabled:E,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:[(0,u.jsx)(ct.A,{className:ys("h-4 w-4",E&&"animate-spin")}),"Refresh"]})})]}),(0,u.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[(0,u.jsx)("div",{className:"p-4",children:E&&!C?(0,u.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-7 auto-rows-fr",children:[...Array(7)].map(((e,t)=>(0,u.jsx)(qs,{},t)))}):(0,u.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-7 auto-rows-fr",children:[(0,u.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"0ms"},children:(0,u.jsx)(Ys,{title:"Total Recipients",percentage:be.recipients.pct,count:be.recipients.count,icon:to,iconClassName:"bg-emerald-50 text-emerald-700",ringColor:"text-emerald-500",active:"recipients"===j,onClick:()=>ge("recipients")})}),(0,u.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"50ms"},children:(0,u.jsx)(Ys,{title:"Sent",percentage:be.sent.pct,count:be.sent.count,icon:ce.A,iconClassName:"bg-emerald-50 text-emerald-700",ringColor:"text-emerald-500",active:"sent"===j,onClick:()=>ge("sent")})}),(0,u.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"100ms"},children:(0,u.jsx)(Ys,{title:"Delivered",percentage:be.delivered.pct,count:be.delivered.count,icon:pt.A,iconClassName:"bg-emerald-50 text-emerald-700",ringColor:"text-emerald-500",active:"delivered"===j,onClick:()=>ge("delivered")})}),(0,u.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"150ms"},children:(0,u.jsx)(Ys,{title:"Read",percentage:be.read.pct,count:be.read.count,icon:R.A,iconClassName:"bg-blue-50 text-blue-700",ringColor:"text-blue-500",active:"read"===j,onClick:()=>ge("read")})}),(0,u.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"200ms"},children:(0,u.jsx)(Ys,{title:"Clicked",percentage:be.clicked.pct,count:be.clicked.count,icon:no.A,iconClassName:"bg-emerald-50 text-emerald-700",ringColor:"text-emerald-500",active:"clicked"===j,onClick:()=>ge("clicked")})}),(0,u.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"250ms"},children:(0,u.jsx)(Ys,{title:"Replied",percentage:be.replied.pct,count:be.replied.count,icon:$,iconClassName:"bg-emerald-50 text-emerald-700",ringColor:"text-emerald-500",active:"replied"===j,onClick:()=>ge("replied")})}),(0,u.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"300ms"},children:(0,u.jsx)(Ys,{title:"Failed",percentage:be.failed.pct,count:be.failed.count,icon:st.A,iconClassName:"bg-red-50 text-red-700",ringColor:"text-red-500",active:"failed"===j,onClick:()=>ge("failed")})})]})}),(0,u.jsxs)("div",{className:"border-t border-slate-200 p-5 bg-slate-50/40",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-sm font-semibold text-slate-900",children:"Total recipients insights"}),(0,u.jsx)("p",{className:"mt-1 text-xs text-slate-600",children:"Overview of campaign health, plus an internal audience filter for retargeting."})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>{requestAnimationFrame((()=>{var e,t;null===(e=le.current)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{behavior:"smooth",block:"start"})})),q||W||Ce({resetPage:!0})},className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-3 py-2 text-xs font-semibold text-white hover:bg-emerald-700 shadow-sm transition-all",children:[(0,u.jsx)(eo.A,{className:"w-4 h-4"}),"Audience Filter & Retarget"]}),(0,u.jsxs)("button",{type:"button",onClick:()=>p("/app/campaigns/logs/".concat(d)),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 shadow-sm transition-all",children:[(0,u.jsx)(to,{className:"w-4 h-4 text-slate-500"}),"View Contact Journey"]})]})]}),(0,u.jsxs)("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[(0,u.jsxs)(fo,{className:"p-6 lg:col-span-1",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Campaign details"}),(0,u.jsxs)("div",{className:"mt-3 divide-y divide-slate-100",children:[(0,u.jsx)(Ws,{label:"Campaign name",value:Re}),(0,u.jsx)(Ws,{label:"Campaign type",value:Le||"-"}),(0,u.jsx)(Ws,{label:"Status",value:Fe||"-"}),(0,u.jsx)(Ws,{label:"Template name",value:De||"-",copyable:!0}),(0,u.jsx)(Ws,{label:"Created at",value:Ts(Te)}),(0,u.jsx)(Ws,{label:"Completed at",value:Ts(Me)}),(0,u.jsx)(Ws,{label:"Campaign duration",value:Ms(Ie)})]})]}),(0,u.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,u.jsx)(Ks,{label:"Audience",value:xe.recipients?xe.recipients.toLocaleString():"-"}),(0,u.jsx)(Ks,{label:"Total credit usage",value:null==ze?"-":"\xe2\u201a\xb9 ".concat(ze)}),(0,u.jsxs)(fo,{className:"md:col-span-2 p-6 overflow-hidden",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Performance rates"}),(0,u.jsxs)("div",{className:"flex items-center gap-4 text-[11px] font-medium text-slate-500",children:[(0,u.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,u.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Success"]}),(0,u.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,u.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Engagement"]}),(0,u.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,u.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Failure"]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,u.jsxs)("div",{className:"h-[300px] w-full",children:[(0,u.jsx)("p",{className:"text-[11px] font-bold uppercase text-slate-400 mb-4 tracking-wider",children:"Campaign Funnel"}),(0,u.jsx)(vt.u,{width:"100%",height:"100%",children:(0,u.jsxs)($r,{layout:"vertical",data:[{name:"Recipients",value:xe.recipients,fill:"#94a3b8"},{name:"Sent",value:xe.sent,fill:"#10b981"},{name:"Delivered",value:xe.delivered,fill:"#10b981"},{name:"Read",value:xe.read,fill:"#3b82f6"},{name:"Clicked",value:xe.clicked,fill:"#f59e0b"},{name:"Replied",value:xe.replied,fill:"#ec4899"}],margin:{top:5,right:30,left:40,bottom:5},children:[(0,u.jsx)(Wn,{type:"number",hide:!0}),(0,u.jsx)(er,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:11,fontWeight:500,fill:"#64748b"},width:70}),(0,u.jsx)(wr.m,{cursor:{fill:"transparent"},content:e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0].payload,t=xe.recipients?(e.value/xe.recipients*100).toFixed(1):0;return(0,u.jsxs)("div",{className:"bg-white border border-slate-200 p-2 shadow-lg rounded-lg text-xs",children:[(0,u.jsx)("p",{className:"font-bold text-slate-900",children:e.name}),(0,u.jsxs)("p",{className:"text-slate-600",children:["Count: ",e.value.toLocaleString()]}),(0,u.jsxs)("p",{className:"text-emerald-600 font-semibold",children:[t,"% of total"]})]})}return null}}),(0,u.jsx)(Xr.y,{dataKey:"value",radius:[0,4,4,0],barSize:24,children:(0,u.jsx)(It.Z,{dataKey:"value",position:"right",formatter:e=>e.toLocaleString(),style:{fontSize:10,fontWeight:600,fill:"#475569"}})})]})})]}),(0,u.jsxs)("div",{className:"h-[300px] w-full flex flex-col",children:[(0,u.jsx)("p",{className:"text-[11px] font-bold uppercase text-slate-400 mb-4 tracking-wider",children:"Delivery Health"}),(0,u.jsxs)("div",{className:"flex-1 flex items-center justify-center relative",children:[(0,u.jsx)(vt.u,{width:"100%",height:"100%",children:(0,u.jsxs)(io.r,{children:[(0,u.jsxs)(ao.F,{data:[{name:"Delivered",value:xe.delivered,fill:"#10b981"},{name:"Failed",value:xe.failed,fill:"#ef4444"},{name:"Pending/Other",value:Math.max(0,xe.recipients-xe.delivered-xe.failed),fill:"#f1f5f9"}],innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:[(0,u.jsx)(so.f,{fill:"#10b981"},"cell-0"),(0,u.jsx)(so.f,{fill:"#ef4444"},"cell-1"),(0,u.jsx)(so.f,{fill:"#f1f5f9"},"cell-2")]}),(0,u.jsx)(wr.m,{content:e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0],t=xe.recipients||1;return(0,u.jsxs)("div",{className:"bg-white border border-slate-200 p-2 shadow-lg rounded-lg text-xs",children:[(0,u.jsx)("p",{className:"font-bold text-slate-900",children:e.name}),(0,u.jsxs)("p",{className:"text-slate-600",children:[e.value.toLocaleString()," (",(e.value/t*100).toFixed(1),"%)"]})]})}return null}}),(0,u.jsx)(Ur.s,{verticalAlign:"bottom",height:36,formatter:e=>(0,u.jsx)("span",{className:"text-[11px] font-medium text-slate-600",children:e})})]})}),(0,u.jsxs)("div",{className:"absolute flex flex-col items-center justify-center",children:[(0,u.jsxs)("span",{className:"text-xl font-bold text-slate-900",children:[xe.recipients?(xe.delivered/xe.recipients*100).toFixed(0):0,"%"]}),(0,u.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Success"})]})]})]})]}),(0,u.jsxs)("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,u.jsxs)("div",{className:"p-3 rounded-2xl bg-slate-50 border border-slate-100",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tight",children:"Read Rate"}),(0,u.jsxs)("div",{className:"flex items-baseline gap-1 mt-1",children:[(0,u.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[xe.recipients?(xe.read/xe.recipients*100).toFixed(1):0,"%"]}),(0,u.jsxs)("span",{className:"text-[10px] font-medium text-slate-400",children:["(",xe.read,")"]})]})]}),(0,u.jsxs)("div",{className:"p-3 rounded-2xl bg-slate-50 border border-slate-100",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tight",children:"Click Rate"}),(0,u.jsxs)("div",{className:"flex items-baseline gap-1 mt-1",children:[(0,u.jsxs)("span",{className:"text-lg font-bold text-amber-600",children:[xe.recipients?(xe.clicked/xe.recipients*100).toFixed(1):0,"%"]}),(0,u.jsxs)("span",{className:"text-[10px] font-medium text-slate-400",children:["(",xe.clicked,")"]})]})]}),(0,u.jsxs)("div",{className:"p-3 rounded-2xl bg-slate-50 border border-slate-100",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tight",children:"Reply Rate"}),(0,u.jsxs)("div",{className:"flex items-baseline gap-1 mt-1",children:[(0,u.jsxs)("span",{className:"text-lg font-bold text-pink-600",children:[xe.recipients?(xe.replied/xe.recipients*100).toFixed(1):0,"%"]}),(0,u.jsxs)("span",{className:"text-[10px] font-medium text-slate-400",children:["(",xe.replied,")"]})]})]}),(0,u.jsxs)("div",{className:"p-3 rounded-2xl bg-slate-50 border border-slate-100",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tight",children:"Failure Rate"}),(0,u.jsxs)("div",{className:"flex items-baseline gap-1 mt-1",children:[(0,u.jsxs)("span",{className:"text-lg font-bold text-red-600",children:[xe.recipients?(xe.failed/xe.recipients*100).toFixed(1):0,"%"]}),(0,u.jsxs)("span",{className:"text-[10px] font-medium text-slate-400",children:["(",xe.failed,")"]})]})]})]})]})]})]}),(0,u.jsx)("div",{ref:le,className:"mt-4"}),(0,u.jsxs)(fo,{className:"p-0 overflow-hidden",children:[(0,u.jsxs)("div",{className:"border-b border-slate-200 bg-white px-5 py-4",children:[(0,u.jsx)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:"Audience Filter & Retarget"}),q?(0,u.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[11px] text-slate-500",children:[(0,u.jsxs)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white px-2 py-0.5 font-medium",children:["Window:"," ",de.current.windowDays||S,"d"]}),de.current.search?(0,u.jsxs)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white px-2 py-0.5 font-medium",children:["Search: ",de.current.search]}):null,J?(0,u.jsxs)("span",{className:"text-slate-400",children:["Updated ",Ts(J)]}):null,X&&"audience"!==X?(0,u.jsxs)("span",{className:"text-slate-400",children:["Source: ",X]}):null]}):null,"mock"===X?(0,u.jsx)("div",{className:"mt-2 text-xs text-amber-700",children:"Audience endpoint not available. Backend work required."}):null,G?(0,u.jsx)("div",{className:"mt-2 text-xs text-red-600",children:G}):null]})}),(0,u.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-3 lg:grid-cols-12",children:[(0,u.jsxs)("div",{className:"lg:col-span-3",children:[(0,u.jsx)("div",{className:"text-[11px] font-semibold text-slate-600 mb-1.5",children:"Segment"}),(0,u.jsx)("select",{value:T,onChange:e=>{const t=e.target.value;M(t),F(1),re(new Set),ie({}),"recipients"===j&&Ce({resetPage:!0,segment:t})},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900",children:Ns.map((e=>(0,u.jsx)("option",{value:e.key,children:e.label},e.key)))})]}),"REPLIED"===T&&(0,u.jsxs)("div",{className:"lg:col-span-2",children:[(0,u.jsx)("div",{className:"text-[11px] font-semibold text-slate-600 mb-1.5",children:"Reply window"}),(0,u.jsxs)("select",{value:S,onChange:e=>ve(e.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900",children:[(0,u.jsx)("option",{value:90,children:"All"}),(0,u.jsx)("option",{value:1,children:"24 hours"}),(0,u.jsx)("option",{value:3,children:"3 days"}),(0,u.jsx)("option",{value:7,children:"7 days"}),(0,u.jsx)("option",{value:14,children:"14 days"})]})]}),(0,u.jsxs)("div",{className:"lg:col-span-4",children:[(0,u.jsx)("div",{className:"text-[11px] font-semibold text-slate-600 mb-1.5",children:"Search"}),(0,u.jsxs)("div",{className:"flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2",children:[(0,u.jsx)(Jr.A,{className:"w-4 h-4 text-slate-400"}),(0,u.jsx)("input",{value:I,onChange:e=>D(e.target.value),onKeyDown:e=>{"Enter"===e.key&&Ce({resetPage:!0})},placeholder:"Name or phone (press Enter)",className:"w-full outline-none text-sm text-slate-900"}),I?(0,u.jsx)("button",{type:"button",onClick:()=>D(""),className:"inline-flex items-center justify-center rounded-md p-1 text-slate-500 hover:bg-slate-100","aria-label":"Clear search",children:(0,u.jsx)(Pe.A,{className:"w-4 h-4"})}):null]})]}),(0,u.jsxs)("div",{className:ys("flex items-end gap-2","REPLIED"===T?"lg:col-span-3":"lg:col-span-5"),children:[(0,u.jsxs)("button",{type:"button",onClick:()=>Ce(Ve?{nextPage:L}:{resetPage:!0}),disabled:W,className:ys("w-full inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm font-semibold text-white disabled:opacity-60 whitespace-nowrap",Ue?"bg-emerald-600 hover:bg-emerald-700 ring-2 ring-emerald-200":"bg-emerald-600 hover:bg-emerald-700"),children:[(0,u.jsx)(We,{className:ys("w-4 h-4",W&&"animate-spin")}),He]}),(0,u.jsxs)("button",{type:"button",onClick:async function(){if(!d)return;if(ee)return;try{te(!0);const e=Number.isFinite(Number(U))?Number(U):null;let t=Array.isArray(B)?[...B]:[];if(null!=e&&e>t.length)if(e>5e3)a.oR.warn("Export limited to current page (too many results: ".concat(e.toLocaleString(),"). Narrow filters to export all."));else{const n=Math.max(1,Math.ceil(e/500)),r=[];for(let e=1;e<=n;e+=1){const t=await ke({segment:T,windowDays:S,q:I,page:e,pageSize:500}),n=Array.isArray(null===t||void 0===t?void 0:t.items)?t.items:[];r.push(...n)}t=r}const n=new Set,r=[];for(const i of t){const e=(null===i||void 0===i?void 0:i.contactId)||(null===i||void 0===i?void 0:i.id)||(null===i||void 0===i?void 0:i.phone)||(null===i||void 0===i?void 0:i.contactPhone)||(null===i||void 0===i?void 0:i.recipientNumber)||(null===i||void 0===i?void 0:i.to)||null;if(!e)continue;const t=String(e);if(!n.has(t)&&(n.add(t),r.push(i),r.length>=5e3))break}const o=(r||[]).map((e=>{var t;const n=(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.contactName)||(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.name)||"",r=(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.contactPhone)||(null===e||void 0===e?void 0:e.recipientNumber)||(null===e||void 0===e?void 0:e.to)||(null===e||void 0===e?void 0:e.recipient)||"",o=(null===e||void 0===e?void 0:e.lastActivityAt)||(null===e||void 0===e?void 0:e.lastUpdatedAt)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.sentAt)||(null===e||void 0===e?void 0:e.createdAt)||"";return{Name:n,Phone:r,Segment:(null===e||void 0===e?void 0:e.segment)||T,LastActivityAt:o}}));Oe(o,{filename:"campaign_".concat(d,"_").concat(T,"_").concat(S,"d.csv")}),a.oR.success("Exported ".concat(o.length.toLocaleString()," contacts."))}catch(oD){console.error(oD),a.oR.error("Failed to export CSV.")}finally{te(!1)}},disabled:ee||!q||0===B.length,className:"inline-flex h-9 px-3 items-center justify-center gap-2 rounded-lg border border-slate-200 bg-white text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-60 whitespace-nowrap",title:q?0===B.length?"No contacts to export":"Export contacts as CSV":"Load contacts first",children:[(0,u.jsx)(ro.A,{className:ys("w-4 h-4 text-slate-500",ee&&"animate-pulse")}),ee?"Exporting\xe2\u20ac\xa6":"Export"]}),(0,u.jsxs)("button",{type:"button",onClick:function(){se(!0)},disabled:!Be.ok||!ks.has(T)||0===ne.size,className:"inline-flex h-9 px-3 items-center justify-center gap-2 rounded-lg bg-emerald-600 text-[13px] font-semibold text-white hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60 whitespace-nowrap",title:Be.ok?ks.has(T)?0===ne.size?"Select at least one contact to retarget":"Retarget ".concat(ne.size," selected contacts"):"Select a retargetable segment":Be.reason,children:[(0,u.jsx)(oo,{className:"w-4 h-4"}),"Retarget"]})]})]})]}),(0,u.jsx)("div",{className:"overflow-auto",children:(0,u.jsxs)("table",{className:"min-w-full text-sm",children:[(0,u.jsx)("thead",{className:"bg-slate-100 border-b border-slate-300",children:(0,u.jsxs)("tr",{className:"bg-slate-50",children:[(0,u.jsx)("th",{className:"w-10 px-4 py-3 text-left",children:(0,u.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 cursor-pointer",checked:B.length>0&&B.every((e=>ne.has(_e(e)))),onChange:function(){const e=B||[],t=e.map(_e).filter(Boolean),n=t.every((e=>ne.has(e)));re((r=>{const o=new Set(r);return n?t.forEach((e=>o.delete(e))):t.forEach((e=>o.add(e))),ie((r=>{const o=(0,b.A)({},r||{});return n?t.forEach((e=>delete o[String(e)])):e.forEach((e=>{const t=_e(e);t&&(o[String(t)]=e)})),o})),o}))}})}),(0,u.jsx)("th",{className:"text-left px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-tight",children:"Name"}),(0,u.jsx)("th",{className:"text-left px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-tight",children:"Phone"}),(0,u.jsx)("th",{className:"text-left px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-tight",children:"Segment"}),(0,u.jsx)("th",{className:"text-left px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-tight",children:"Last status"}),(0,u.jsx)("th",{className:"text-left px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-tight",children:"Last activity"})]})}),(0,u.jsx)("tbody",{className:ys("divide-y divide-slate-200",W&&B.length>0&&"opacity-60"),children:W&&0===B.length?[...Array(6)].map(((e,t)=>(0,u.jsxs)("tr",{className:"bg-white",children:[(0,u.jsx)("td",{className:"px-4 py-3",children:(0,u.jsx)("div",{className:"h-4 w-4 rounded bg-slate-100"})}),[...Array(5)].map(((e,t)=>(0,u.jsx)("td",{className:"px-4 py-3",children:(0,u.jsx)("div",{className:"h-3 w-full max-w-[220px] rounded bg-slate-100"})},t)))]},t))):q?0===B.length?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-10 text-center text-slate-500",children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"text-sm font-medium text-slate-700",children:"No contacts found."}),(0,u.jsx)("div",{className:"mt-1 text-xs text-slate-500",children:"Try a different segment or clear the search."}),(0,u.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-2",children:[I?(0,u.jsx)("button",{type:"button",onClick:()=>{D(""),Ce({resetPage:!0,q:""})},className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Clear search"}):null,(0,u.jsx)("button",{type:"button",onClick:()=>{M(js),D(""),ve(xs),Ce({resetPage:!0,segment:js,q:"",windowDays:xs})},className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:"Reset filters"})]})]})})}):B.map(((e,t)=>{var n;const r=(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.contactName)||(null===e||void 0===e||null===(n=e.contact)||void 0===n?void 0:n.name)||"Unknown",o=(null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.contactPhone)||(null===e||void 0===e?void 0:e.recipientNumber)||(null===e||void 0===e?void 0:e.to)||(null===e||void 0===e?void 0:e.recipient)||"-",i=(null===e||void 0===e?void 0:e.segment)||T,a=(null===e||void 0===e?void 0:e.lastStatus)||(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e?void 0:e.sendStatus)||"-",s=(null===e||void 0===e?void 0:e.lastActivityAt)||(null===e||void 0===e?void 0:e.lastUpdatedAt)||(null===e||void 0===e?void 0:e.updatedAt)||(null===e||void 0===e?void 0:e.sentAt)||(null===e||void 0===e?void 0:e.createdAt)||null;return(0,u.jsxs)("tr",{className:ys("bg-white transition-colors hover:bg-slate-50",ne.has(_e(e))&&"bg-emerald-50/50"),children:[(0,u.jsx)("td",{className:"px-4 py-3",children:(0,u.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 cursor-pointer",checked:ne.has(_e(e)),onChange:()=>function(e){const t=_e(e);if(!t)return;const n=String(t);re((r=>{const o=new Set(r),i=!o.has(t);return i?o.add(t):o.delete(t),ie((t=>{const r=(0,b.A)({},t||{});return i?r[n]=e:delete r[n],r})),o}))}(e)})}),(0,u.jsx)("td",{className:"px-4 py-3 text-slate-900 font-medium",children:r}),(0,u.jsx)("td",{className:"px-4 py-3 font-mono text-slate-700",children:o}),(0,u.jsx)("td",{className:"px-4 py-3 text-slate-700",children:Cs(i)}),(0,u.jsx)("td",{className:"px-4 py-3 text-slate-700",children:a}),(0,u.jsx)("td",{className:"px-4 py-3 text-slate-500",children:s?Ts(s):"-"})]},(null===e||void 0===e?void 0:e.contactId)||(null===e||void 0===e?void 0:e.id)||o||t)})):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-16 text-center",children:(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,u.jsx)("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center mb-4",children:(0,u.jsx)(to,{className:"w-8 h-8 text-slate-300"})}),(0,u.jsx)("p",{className:"text-base font-semibold text-slate-900",children:"Get started with filters"}),(0,u.jsx)("p",{className:"mt-1 text-sm text-slate-500 max-w-[280px] mx-auto",children:"Choose a segment above and click Apply to load the contact list."})]})})})})]})}),(0,u.jsx)("div",{className:"border-t border-slate-200 bg-white px-5 py-4",children:(0,u.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,u.jsx)("div",{className:"text-xs text-slate-600",children:null!=U?(()=>{const e=Number(U),t=Number(L)||1,n=0===e?0:(t-1)*bs+1,r=0===e?0:Math.min(t*bs,e);return"Showing ".concat(n,"-").concat(r," of ").concat(e.toLocaleString()," - Page ").concat(t).concat(he?" of ".concat(he):"")})():X?"Page ".concat(L):""}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{type:"button",onClick:()=>Ce({nextPage:Math.max(1,L-1)}),disabled:W||L<=1,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 disabled:opacity-60",children:"Prev"}),(0,u.jsx)("button",{type:"button",onClick:()=>Ce({nextPage:L+1}),disabled:W||null!=he&&L>=he,className:"rounded-lg border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 disabled:opacity-60",children:"Next"})]})]})})]}),(0,u.jsx)(Vs,{isOpen:ae,onClose:()=>se(!1),campaignId:d,selectedContactIds:ne,selectedContacts:Object.values(oe||{}),campaignStatus:Fe,initialBucket:T,initialWindowDays:S,campaignMeta:P})]})]})]})]})}var $s=n(9463);function Zs(){const{campaignId:t,bucket:n}=(0,i.g)(),r=(0,i.Zp)(),{can:s,isLoading:c}=(0,l.h)(),[d]=(0,o.ok)(),p=Number(d.get("windowDays")||7),f=d.get("tab"),h="/app/campaigns/".concat(t,"/reports/logs").concat(f?"?tab=".concat(encodeURIComponent(f)):""),m=(0,e.useMemo)((()=>(null===s||void 0===s?void 0:s(v.FK.CAMPAIGN_STATUS_VIEW))||(null===s||void 0===s?void 0:s(v.FK.CAMPAIGN_LIST_VIEW))),[s]),[g,x]=(0,e.useState)(""),[b,y]=(0,e.useState)(""),[w,j]=(0,e.useState)(!1),[N,S]=(0,e.useState)(1),[A,E]=(0,e.useState)([]),[k,C]=(0,e.useState)(null);async function _(){let{q:e,page:r,repliedWindowDays:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&n){j(!0);try{var i,s,l,c,d,u,f;const a=await vs(t,n,{q:null!==e&&void 0!==e?e:b,page:null!==r&&void 0!==r?r:N,pageSize:50,repliedWindowDays:null!==o&&void 0!==o?o:p}),h=null!==(i=null!==(s=null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.data)&&void 0!==s?s:null===a||void 0===a?void 0:a.data)&&void 0!==i?i:{},m=h.items||h.Items||h.contacts||h.rows||[];E(Array.isArray(m)?m:[]),C(null!==(c=null!==(d=null!==(u=null!==(f=h.totalCount)&&void 0!==f?f:h.TotalCount)&&void 0!==u?u:h.total)&&void 0!==d?d:h.count)&&void 0!==c?c:null)}catch(oD){var h,m;console.error("[BucketContacts] load failed",{status:null===oD||void 0===oD||null===(h=oD.response)||void 0===h?void 0:h.status,data:null===oD||void 0===oD||null===(m=oD.response)||void 0===m?void 0:m.data,err:oD});const{status:t,message:n}=function(e){var t,n;const r=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status,o=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;let i=(()=>{if(!o)return"";if("string"===typeof o)return o;if("string"===typeof(null===o||void 0===o?void 0:o.message))return o.message;try{return JSON.stringify(o)}catch(e){return""}})();return i&&i.length>220&&(i="".concat(i.slice(0,220),"...")),{status:r,message:i||(null===e||void 0===e?void 0:e.message)||""}}(oD);a.oR.error("Failed to load contacts".concat(t?" (".concat(t,")"):"").concat(n?": ".concat(n):""))}finally{j(!1)}}}(0,e.useEffect)((()=>{const e=setTimeout((()=>y(String(g||"").trim())),320);return()=>clearTimeout(e)}),[g]);const P=(0,e.useRef)({q:b,repliedWindowDays:p});if((0,e.useEffect)((()=>{if(!m)return;const e={q:b,repliedWindowDays:p},t=P.current;if((t.q!==e.q||t.repliedWindowDays!==e.repliedWindowDays)&&1!==N)return P.current=e,void S(1);P.current=e,_({q:b,page:N,repliedWindowDays:p})}),[t,n,N,m,b,p]),c)return(0,u.jsx)("div",{className:"p-6 text-sm text-slate-500",children:"Loading\u2026"});if(!m)return(0,u.jsx)("div",{className:"p-6",children:(0,u.jsxs)("div",{className:"max-w-xl bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[(0,u.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"Bucket Contacts"}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"You don\u2019t have permission to view this page."})]})});const O=null==k?null:Math.max(1,Math.ceil(k/50));return(0,u.jsxs)("div",{className:"p-6 space-y-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("button",{type:"button",onClick:()=>r(h),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900",children:[(0,u.jsx)($s.A,{className:"w-4 h-4"}),"Back to report"]}),(0,u.jsxs)("h1",{className:"text-2xl font-semibold text-slate-900 mt-2",children:["Bucket:"," ",(0,u.jsx)("span",{className:"font-mono text-[14px] text-slate-700",children:n})]}),(0,u.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["CampaignId:"," ",(0,u.jsx)("span",{className:"font-mono text-[12px] text-slate-800",children:t})]})]}),(0,u.jsx)("div",{className:"w-full max-w-md",children:(0,u.jsxs)("div",{className:"flex items-center gap-2 bg-white border border-slate-200 rounded-2xl px-3 py-2 shadow-sm",children:[(0,u.jsx)(Jr.A,{className:"w-4 h-4 text-slate-400"}),(0,u.jsx)("input",{value:g,onChange:e=>x(e.target.value),placeholder:"Search by name/phone\u2026",className:"w-full outline-none text-sm text-slate-900"}),(0,u.jsx)("button",{type:"button",onClick:()=>{S(1),y(String(g||"").trim())},disabled:w,className:"rounded-xl bg-purple-600 px-3 py-2 text-xs font-semibold text-white hover:bg-purple-700 disabled:opacity-60",children:"Search"})]})})]}),(0,u.jsx)(fo,{className:"p-0 overflow-hidden",children:(0,u.jsx)("div",{className:"overflow-auto",children:(0,u.jsxs)("table",{className:"min-w-full text-sm",children:[(0,u.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Name"}),(0,u.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Phone"}),(0,u.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Last status"}),(0,u.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:"Last update"})]})}),(0,u.jsx)("tbody",{className:"divide-y divide-slate-200",children:0===A.length?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:4,className:"px-4 py-8 text-center text-slate-500",children:w?"Loading\u2026":"No contacts found in this bucket."})}):A.map(((e,t)=>(0,u.jsxs)("tr",{className:"bg-white",children:[(0,u.jsx)("td",{className:"px-4 py-3 text-slate-900",children:e.contactName||e.name||"\u2014"}),(0,u.jsx)("td",{className:"px-4 py-3 font-mono text-slate-700",children:e.phone||e.contactPhone||e.recipientNumber||"\u2014"}),(0,u.jsx)("td",{className:"px-4 py-3 text-slate-700",children:e.status||e.lastStatus||"\u2014"}),(0,u.jsx)("td",{className:"px-4 py-3 text-slate-500",children:e.lastUpdatedAt||e.updatedAt||e.sentAt||e.createdAt||"\u2014"})]},e.contactId||e.id||t)))})]})})}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("p",{className:"text-xs text-slate-500",children:null!=k?"Total: ".concat(k):" "}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{type:"button",onClick:()=>S((e=>Math.max(1,e-1))),disabled:N<=1||w,className:"rounded-xl border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 disabled:opacity-60",children:"Prev"}),(0,u.jsxs)("span",{className:"text-sm text-slate-600",children:["Page ",N,O?" / ".concat(O):""]}),(0,u.jsx)("button",{type:"button",onClick:()=>S((e=>O?Math.min(O,e+1):e+1)),disabled:w||!!O&&N>=O,className:"rounded-xl border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 disabled:opacity-60",children:"Next"})]})]})]})}function Js(){const{campaignId:t}=(0,i.g)(),n=(0,i.Zp)(),[r]=(0,o.ok)(),s=r.get("bucket")||r.get("segment")||"READ_NOT_REPLIED",d=Number(r.get("windowDays")||7),p=r.get("tab"),f="/app/campaigns/".concat(t,"/reports/logs").concat(p?"?tab=".concat(encodeURIComponent(p)):""),{can:h,isLoading:m}=(0,l.h)(),g=(0,e.useMemo)((()=>(null===h||void 0===h?void 0:h(v.FK.CAMPAIGN_BUILDER))||(null===h||void 0===h?void 0:h(v.FK.CAMPAIGN_STATUS_VIEW))),[h]),[x,y]=(0,e.useState)(s),[w,j]=(0,e.useState)(Number.isFinite(d)&&d>0?d:7),[N,S]=(0,e.useState)(""),[A,E]=(0,e.useState)(!1);function k(){n(f)}return m?(0,u.jsx)("div",{className:"p-6 text-sm text-slate-500",children:"Loading\u2026"}):g?(0,u.jsxs)("div",{className:"p-6 space-y-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("button",{type:"button",onClick:k,className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900",children:[(0,u.jsx)($s.A,{className:"w-4 h-4"}),"Back to report"]}),(0,u.jsxs)("h1",{className:"text-2xl font-semibold text-slate-900 mt-2 flex items-center gap-2",children:[(0,u.jsx)(oo,{className:"w-5 h-5 text-emerald-600"}),"Retarget Wizard"]}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Create a fresh draft campaign for your selected audience segment."})]}),(0,u.jsxs)(fo,{className:"p-6 space-y-5",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Target Segment"}),(0,u.jsxs)("select",{value:x,onChange:e=>y(e.target.value),className:"w-full border border-slate-300 rounded-xl px-3 py-2 bg-white text-slate-900",children:[(0,u.jsx)("option",{value:"DELIVERED_NOT_READ",children:"Delivered not read"}),(0,u.jsx)("option",{value:"READ_NOT_REPLIED",children:"Read, not replied"}),(0,u.jsx)("option",{value:"CLICKED_NOT_REPLIED",children:"Clicked, not replied"}),(0,u.jsx)("option",{value:"DELIVERED_NOT_REPLIED",children:"Delivered, not replied"}),(0,u.jsx)("option",{value:"FAILED",children:"Failed"}),(0,u.jsx)("option",{value:"REPLIED",children:"Replied (for follow-up)"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Engagement Window"}),(0,u.jsxs)("select",{value:w,onChange:e=>j(Number(e.target.value)),className:"w-full border border-slate-300 rounded-xl px-3 py-2 bg-white text-slate-900",children:[(0,u.jsx)("option",{value:3,children:"3 days"}),(0,u.jsx)("option",{value:7,children:"7 days"}),(0,u.jsx)("option",{value:14,children:"14 days"})]})]}),(0,u.jsxs)("div",{className:"md:col-span-2",children:[(0,u.jsxs)("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:["New Campaign Name ",(0,u.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,u.jsx)("input",{value:N,onChange:e=>S(e.target.value),placeholder:"E.g. Retargeting Run - [Segment Name] - Jan 2024",className:"w-full border border-slate-300 rounded-xl px-3 py-2 bg-white text-slate-900"})]})]}),(0,u.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-2",children:[(0,u.jsx)("button",{type:"button",onClick:k,className:"rounded-xl border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",children:"Cancel"}),(0,u.jsxs)("button",{type:"button",onClick:async function(){if(!t)return;const e=String(x||"").trim();if(!e)return void a.oR.warn("Select a bucket.");const r=Number(w),o=Number.isFinite(r)&&r>0?r:7,i=String(N||"").trim();if(i){E(!0);try{var s,l,d;const r=await async function(e,t){var n;const r=t&&"object"===typeof t?(0,b.A)({},t):{};null==r.campaignId&&(r.campaignId=e),null==r.sourceCampaignId&&(r.sourceCampaignId=e);const o=["campaigns/retarget","campaign/retarget","CampaignTracking/campaign/".concat(e,"/retarget"),"CampaignReports/campaign/".concat(e,"/retarget"),"CampaignReport/campaign/".concat(e,"/retarget"),"campaign-tracking/campaign/".concat(e,"/retarget"),"campaign-reports/campaign/".concat(e,"/retarget"),"campaign-report/campaign/".concat(e,"/retarget"),"campaigns/campaign/".concat(e,"/retarget"),"campaigns/".concat(e,"/retarget"),"campaign/".concat(e,"/retarget"),"campaign/campaign/".concat(e,"/retarget")];let i;for(const s of o){const e=s.startsWith("/")?s.slice(1):s;try{return await c.default.post(e,r,{__silent:!0})}catch(oD){var a;const t=null===oD||void 0===oD||null===(a=oD.response)||void 0===a?void 0:a.status;if(404===t||405===t){i=oD;continue}throw oD}}throw null!==(n=i)&&void 0!==n?n:new Error("Retarget wizard failed (all endpoints returned 404/405).")}(t,{bucket:e,repliedWindowDays:o,windowDays:o,name:i}),u=null!==(s=null!==(l=null===r||void 0===r||null===(d=r.data)||void 0===d?void 0:d.data)&&void 0!==l?l:null===r||void 0===r?void 0:r.data)&&void 0!==s?s:null;if(null!==u&&void 0!==u&&u.newCampaignId)return a.oR.success("Retargeted draft campaign created."),void n("/app/campaigns/".concat(u.newCampaignId),{replace:!0});console.warn("Retarget wizard response missing newCampaignId:",u),a.oR.error("Failed to initialize new campaign. Returning to report."),n(f,{replace:!0})}catch(oD){console.error(oD),a.oR.error("Failed to run retarget wizard.")}finally{E(!1)}}else a.oR.warn("Campaign name is required.")},disabled:A,className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:opacity-60",children:[(0,u.jsx)(oo,{className:"w-4 h-4"}),A?"Initializing...":"Create Draft Campaign"]})]})]})]}):(0,u.jsx)("div",{className:"p-6",children:(0,u.jsxs)("div",{className:"max-w-xl bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[(0,u.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"Retarget Wizard"}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"You don\u2019t have permission to run retargeting."})]})})}const Qs=(0,_.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),el=e=>{const t=["bg-emerald-100 text-emerald-700","bg-blue-100 text-blue-700","bg-violet-100 text-violet-700","bg-amber-100 text-amber-700","bg-rose-100 text-rose-700","bg-cyan-100 text-cyan-700"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]};function tl(t){let{numbers:n,setNumbers:r}=t;const[o,i]=(0,e.useState)(""),a=e=>{let t=e.replace(/\D/g,"");/^\d{10}$/.test(t)&&(t="91"+t),/^\d{10,15}$/.test(t)&&(n.includes(t)||r([...n,t]))};return(0,u.jsxs)("div",{className:"w-full border border-gray-200 rounded-xl p-2 flex flex-wrap gap-2 min-h-[56px] bg-gray-50 focus-within:ring-2 focus-within:ring-emerald-500/20 focus-within:border-emerald-500 transition-all cursor-text",children:[n.map(((e,t)=>(0,u.jsxs)("span",{className:"flex items-center gap-1 bg-white border border-gray-200 text-gray-700 text-xs font-medium px-2 py-1 rounded-full shadow-sm",children:[e,(0,u.jsx)("button",{type:"button",className:"text-gray-400 hover:text-red-500 transition-colors",onClick:()=>(e=>{r(n.filter((t=>t!==e)))})(e),children:(0,u.jsx)(Pe.A,{size:12})})]},t))),(0,u.jsx)("input",{type:"text",className:"flex-grow min-w-[120px] bg-transparent p-1 text-sm outline-none placeholder:text-gray-400",placeholder:"Type number & press Enter",value:o,onChange:e=>{const t=e.target.value,n=t.slice(-1);/[\n, ]/.test(n)?(a(o.trim()),i("")):i(t)},onKeyDown:e=>{"Enter"===e.key?(a(o.trim()),i(""),e.preventDefault()):"Backspace"===e.key&&""===o&&r(n.slice(0,-1))}})]})}function nl(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)([]),[s,l]=(0,e.useState)([]),[d,p]=(0,e.useState)(""),[f,h]=(0,e.useState)(!1),[m,g]=(0,e.useState)([]),[v,x]=(0,e.useState)(!1),[b,y]=(0,e.useState)(""),[w,j]=(0,e.useState)(""),N=(0,i.Zp)();(0,e.useEffect)((()=>{(async()=>{try{var e,t;const n=await c.default.get("/contacts/");l((null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.items)||[])}catch(oD){console.error("\u274c Error loading contacts",oD),a.oR.error("Failed to load contacts.")}})(),(async()=>{try{var e;const t=await c.default.get("/reporting/messages/recent?limit=10");g((null===(e=t.data)||void 0===e?void 0:e.data)||[])}catch(oD){console.error("\u274c Error loading history",oD)}})()}),[f]);const S=[...new Set([...t,...r])],A=e=>String(e||"").replace(/\D/g,""),E=e=>{const t=String((null===e||void 0===e?void 0:e.name)||"").trim(),n=String((null===e||void 0===e?void 0:e.profileName)||(null===e||void 0===e?void 0:e.ProfileName)||"").trim();return t&&"WhatsApp User"!==t?t:n||(t||"Unknown")},k=e=>{const n=(e=>{const t=A(e);return s.find((e=>A(null===e||void 0===e?void 0:e.phoneNumber)===t))})(e),r=E(n);if(r&&"WhatsApp User"!==r&&"Unknown"!==r)return r;if(1===t.length&&A(t[0])===A(e)){return w.trim()||void 0}},C=s.filter((e=>E(e).toLowerCase().includes(b.toLowerCase())||String(e.phoneNumber||"").includes(b)));return(0,u.jsx)("div",{className:"bg-[#F8F9FC] min-h-screen p-6 font-sans",children:(0,u.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight flex items-center gap-2",children:[(0,u.jsx)(ce.A,{className:"text-emerald-600",size:24}),"Send Direct Message"]}),(0,u.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Compose and send instant text messages to your contacts or new numbers."})]}),(0,u.jsxs)("button",{onClick:()=>N("/messages/history"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm",children:[(0,u.jsx)(Qs,{size:16}),"View Full History"]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,u.jsxs)("div",{className:"lg:col-span-4 space-y-6",children:[(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden flex flex-col h-[500px]",children:[(0,u.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,u.jsxs)("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,u.jsx)(to,{size:18,className:"text-emerald-600"}),"Select Contacts"]}),(0,u.jsxs)("span",{className:"text-xs font-medium bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full",children:[r.length," selected"]})]}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(Jr.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,u.jsx)("input",{type:"text",placeholder:"Search name or number...",className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all",value:b,onChange:e=>y(e.target.value)})]})]}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:C.length>0?C.map((e=>{const t=r.includes(e.phoneNumber);return(0,u.jsxs)("label",{className:"group flex items-center gap-3 p-2 rounded-xl cursor-pointer transition-all border border-transparent ".concat(t?"bg-emerald-50 border-emerald-100":"hover:bg-gray-50"),children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("input",{type:"checkbox",className:"peer sr-only",checked:t,onChange:t=>{const n=e.phoneNumber;o((e=>t.target.checked?[...e,n]:e.filter((e=>e!==n))))}}),(0,u.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all ".concat(t?"bg-emerald-500 text-white shadow-md scale-105":el(E(e)||"?")),children:t?(0,u.jsx)(Le,{size:16}):(n=E(e)||"?",null===n||void 0===n?void 0:n.split(" ").map((e=>e[0])).join("").slice(0,2).toUpperCase())})]}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("p",{className:"text-sm font-medium truncate ".concat(t?"text-emerald-900":"text-gray-700"),children:E(e)}),(0,u.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.phoneNumber})]})]},e.id);var n})):(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:[(0,u.jsx)(Jr.A,{size:32,className:"mb-2 opacity-50"}),(0,u.jsx)("p",{className:"text-sm",children:"No contacts found"})]})})]}),(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[(0,u.jsxs)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[(0,u.jsx)(ge.A,{size:18,className:"text-emerald-600"}),"Manual Entry"]}),(0,u.jsx)(tl,{numbers:t,setNumbers:n}),(0,u.jsxs)("div",{className:"mt-4 flex items-start gap-2",children:[(0,u.jsx)("div",{className:"relative flex items-center h-5",children:(0,u.jsx)("input",{id:"saveContact",type:"checkbox",className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500",checked:v,onChange:e=>x(e.target.checked)})}),(0,u.jsx)("label",{htmlFor:"saveContact",className:"text-xs text-gray-500 leading-tight cursor-pointer select-none",children:"Automatically save new manual numbers to your Contacts list after sending."})]}),v&&1===t.length&&1===S.length&&(0,u.jsxs)("div",{className:"mt-3",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Contact name (optional)"}),(0,u.jsx)("input",{type:"text",value:w,onChange:e=>j(e.target.value),placeholder:"Leave empty to use WhatsApp profile name if available",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]})]}),(0,u.jsxs)("div",{className:"lg:col-span-8 space-y-6",children:[(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 relative",children:[(0,u.jsx)("div",{className:"absolute top-0 right-0 p-6 pointer-events-none opacity-10",children:(0,u.jsx)($,{size:120})}),(0,u.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2 relative z-10",children:[(0,u.jsx)($,{size:18,className:"text-emerald-600"}),"Compose Message"]}),(0,u.jsxs)("div",{className:"relative z-10",children:[(0,u.jsx)("textarea",{rows:6,className:"w-full p-4 text-sm text-gray-700 border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all resize-none placeholder:text-gray-400",placeholder:"Type your message here... (Hit Shift+Enter for new line)",value:d,onChange:e=>p(e.target.value)}),(0,u.jsxs)("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-400",children:[(0,u.jsxs)("span",{children:["Format:",(0,u.jsx)("span",{className:"font-mono mx-1",children:"*bold*"}),(0,u.jsx)("span",{className:"font-mono mx-1",children:"_italic_"}),(0,u.jsx)("span",{className:"font-mono mx-1",children:"~strike~"})]}),(0,u.jsxs)("span",{className:d.length>1e3?"text-amber-500":"",children:[d.length," characters"]})]})]}),(0,u.jsxs)("div",{className:"mt-6 flex justify-end items-center gap-4 relative z-10",children:[(0,u.jsx)("div",{className:"text-right",children:(0,u.jsxs)("p",{className:"text-xs text-gray-500 mb-1",children:["Total Recipients: ",(0,u.jsx)("strong",{className:"text-gray-900",children:S.length})]})}),(0,u.jsx)("button",{onClick:async()=>{if(!d||0===S.length)return void a.oR.warn("\u26a0\ufe0f Please enter a message and at least one valid number.");h(!0);let e=0,t=0;for(const n of S)try{var r;const o=v?k(n):void 0,i=await c.default.post("/messageengine/send-contentfree-text",{recipientNumber:n,textContent:d,isSaveContact:v,contactName:o});null!==(r=i.data)&&void 0!==r&&r.success||200===i.status?e++:t++}catch(oD){t++,console.error("Send failed:",n,oD)}a.oR.success("\u2705 Sent: ".concat(e,", \u274c Failed: ").concat(t)),h(!1),p(""),n([]),o([]),j("")},disabled:f||0===S.length||!d,className:"flex items-center gap-2 px-8 py-3 rounded-xl font-semibold shadow-lg shadow-emerald-200 transition-all transform active:scale-95 ".concat(f||0===S.length||!d?"bg-gray-100 text-gray-400 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-500 to-teal-600 text-white hover:shadow-xl hover:from-emerald-600 hover:to-teal-700"),children:f?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):(0,u.jsxs)(u.Fragment,{children:["Send Message ",(0,u.jsx)(ce.A,{size:18})]})})]})]}),(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[(0,u.jsxs)("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,u.jsx)(Qs,{size:18,className:"text-emerald-600"}),"Recent Activity"]}),(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,u.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider w-10",children:"#"}),(0,u.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Recipient"}),(0,u.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider w-1/2",children:"Message"}),(0,u.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),(0,u.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Time"})]})}),(0,u.jsx)("tbody",{className:"divide-y divide-gray-100",children:m.length>0?m.map(((e,t)=>{var n;const r=(null===(n=e.status)||void 0===n?void 0:n.toLowerCase())||"",o=["failed","undelivered","rejected","error"].some((e=>r.includes(e)));return(0,u.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors group text-sm",children:[(0,u.jsx)("td",{className:"px-4 py-3 text-center",children:(0,u.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center ".concat(o?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"),children:o?(0,u.jsx)(U.A,{size:14}):(0,u.jsx)(Le,{size:14})})}),(0,u.jsx)("td",{className:"px-4 py-3 font-medium text-gray-900",children:e.recipientNumber}),(0,u.jsx)("td",{className:"px-4 py-3 text-gray-600 max-w-xs truncate",title:e.messageContent,children:e.messageContent||(0,u.jsx)("span",{className:"italic text-gray-400",children:"No content"})}),(0,u.jsx)("td",{className:"px-4 py-3",children:(0,u.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium uppercase tracking-wide ".concat(o?"bg-red-50 text-red-700 border border-red-100":"bg-emerald-50 text-emerald-700 border border-emerald-100"),children:e.status||"Unknown"})}),(0,u.jsx)("td",{className:"px-4 py-3 text-right text-gray-500 text-xs whitespace-nowrap",children:e.sentAt?new Date(e.sentAt).toLocaleString():"Just now"})]},e.id)})):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"5",className:"px-4 py-12 text-center text-gray-400",children:(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,u.jsx)(Qs,{size:24,className:"opacity-30"}),(0,u.jsx)("p",{children:"No recent message history"})]})})})})]})})]})]})]})]})})}var rl=n(56099);function ol(){const e=(0,i.Zp)();return(0,u.jsx)("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center px-4 py-10 bg-[#f5f6f7]",children:(0,u.jsxs)("div",{className:"max-w-xl w-full bg-white rounded-2xl shadow-lg border border-emerald-100 p-8 relative overflow-hidden",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full bg-emerald-100 opacity-40"}),(0,u.jsx)("div",{className:"pointer-events-none absolute -bottom-16 -left-16 h-40 w-40 rounded-full bg-cyan-100 opacity-40"}),(0,u.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,u.jsx)("div",{className:"shrink-0 rounded-xl bg-emerald-50 p-3",children:(0,u.jsx)(de.A,{className:"h-8 w-8 text-emerald-700"})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 mb-3 border border-amber-200",children:[(0,u.jsx)(rl.A,{className:"h-4 w-4 text-amber-500"}),(0,u.jsx)("span",{className:"text-xs font-semibold text-amber-700 uppercase tracking-wide",children:"Coming soon"})]}),(0,u.jsx)("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:"Template-based Messaging is on the way"}),(0,u.jsxs)("p",{className:"text-sm text-slate-600 mb-3",children:["You\u2019ll soon be able to send"," ",(0,u.jsx)("span",{className:"font-semibold",children:"approved WhatsApp templates"})," ","directly from this workspace \u2013 perfect for OTPs, alerts, and recurring campaigns that must stay compliant."]}),(0,u.jsxs)("ul",{className:"list-disc list-inside text-sm text-slate-600 mb-4 space-y-1",children:[(0,u.jsx)("li",{children:"Pick from pre-approved WhatsApp templates."}),(0,u.jsx)("li",{children:"Personalise placeholders with contact fields."}),(0,u.jsx)("li",{children:"Track delivery and performance for every send."})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mb-6",children:"We\u2019re wiring this to the same Entitlements & Quota engine, so your plan limits and permissions will apply automatically when this feature goes live."}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>e("/app/messaging"),className:"inline-flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-900",children:[(0,u.jsx)(V.A,{className:"h-4 w-4"}),"Back to Messaging workspace"]}),(0,u.jsx)("span",{className:"text-[11px] text-emerald-700 bg-emerald-50 border border-emerald-100 px-3 py-1 rounded-full",children:"You already discovered this before launch \ud83d\ude80"})]})]})]})]})})}function il(){const e=(0,i.Zp)();return(0,u.jsx)("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center px-4 py-10 bg-[#f5f6f7]",children:(0,u.jsxs)("div",{className:"max-w-xl w-full bg-white rounded-2xl shadow-lg border border-indigo-100 p-8 relative overflow-hidden",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute -top-16 -right-10 h-36 w-36 rounded-full bg-indigo-100 opacity-40"}),(0,u.jsx)("div",{className:"pointer-events-none absolute -bottom-16 -left-10 h-40 w-40 rounded-full bg-emerald-100 opacity-30"}),(0,u.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,u.jsx)("div",{className:"shrink-0 rounded-xl bg-indigo-50 p-3",children:(0,u.jsx)(ue.A,{className:"h-8 w-8 text-indigo-700"})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 mb-3 border border-sky-200",children:[(0,u.jsx)(lt.A,{className:"h-4 w-4 text-sky-500"}),(0,u.jsx)("span",{className:"text-xs font-semibold text-sky-700 uppercase tracking-wide",children:"Analytics in progress"})]}),(0,u.jsx)("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:"Messaging Reports & Analytics are coming"}),(0,u.jsxs)("p",{className:"text-sm text-slate-600 mb-3",children:["Very soon you\u2019ll see a visual dashboard for"," ",(0,u.jsx)("span",{className:"font-semibold",children:"message sends, delivery, reads, and campaign performance"})," ","\u2013 all powered by the existing Message Logs and Catalog tracking."]}),(0,u.jsxs)("ul",{className:"list-disc list-inside text-sm text-slate-600 mb-4 space-y-1",children:[(0,u.jsx)("li",{children:"Track delivery & read rates across campaigns."}),(0,u.jsx)("li",{children:"See which journeys and CTAs drive replies."}),(0,u.jsx)("li",{children:"Slice data by time range, template, and audience."})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mb-6",children:"The Reports module is being designed with the same Entitlements system, so higher plans will unlock deeper analytics and breakdowns."}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>e("/app/messaging"),className:"inline-flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-900",children:[(0,u.jsx)(V.A,{className:"h-4 w-4"}),"Back to Messaging workspace"]}),(0,u.jsx)("span",{className:"text-[11px] text-indigo-700 bg-indigo-50 border border-indigo-100 px-3 py-1 rounded-full",children:"This insight hub is under construction \ud83d\udcca"})]})]})]})]})})}function al(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=al(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var sl=n(98443);const ll=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},cl=e=>e?ll(e):ll;const{useDebugValue:dl}=e,{useSyncExternalStoreWithSelector:ul}=sl,pl=e=>e;function fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl,n=arguments.length>2?arguments[2]:void 0;const r=ul(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return dl(r),r}const hl=(e,t)=>{const n=cl(e),r=function(e){return fl(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r},ml=(e,t)=>e?hl(e,t):hl;function gl(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var vl={value:()=>{}};function xl(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new bl(r)}function bl(e){this._=e}function yl(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function wl(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=vl,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}bl.prototype=xl.prototype={constructor:bl,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)o[n]=wl(o[n],e.name,t);else if(null==t)for(n in o)o[n]=wl(o[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=yl(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new bl(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const jl=xl;function Nl(){}function Sl(e){return null==e?Nl:function(){return this.querySelector(e)}}function Al(){return[]}function El(e){return null==e?Al:function(){return this.querySelectorAll(e)}}function kl(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function Cl(e){return function(){return this.matches(e)}}function _l(e){return function(t){return t.matches(e)}}var Pl=Array.prototype.find;function Ol(){return this.firstElementChild}var Tl=Array.prototype.filter;function Ml(){return Array.from(this.children)}function Il(e){return new Array(e.length)}function Rl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Dl(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Rl(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function Ll(e,t,n,r,o,i,a){var s,l,c,d=new Map,u=t.length,p=i.length,f=new Array(u);for(s=0;s<u;++s)(l=t[s])&&(f[s]=c=a.call(l,l.__data__,s,t)+"",d.has(c)?o[s]=l:d.set(c,l));for(s=0;s<p;++s)c=a.call(e,i[s],s,i)+"",(l=d.get(c))?(r[s]=l,l.__data__=i[s],d.delete(c)):n[s]=new Rl(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&d.get(f[s])===l&&(o[s]=l)}function Fl(e){return e.__data__}function Bl(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function zl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Rl.prototype={constructor:Rl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Ul="http://www.w3.org/1999/xhtml";const Vl={svg:"http://www.w3.org/2000/svg",xhtml:Ul,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wl(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Vl.hasOwnProperty(t)?{space:Vl[t],local:e}:e}function Hl(e){return function(){this.removeAttribute(e)}}function ql(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kl(e,t){return function(){this.setAttribute(e,t)}}function Gl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Yl(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Xl(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $l(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Zl(e){return function(){this.style.removeProperty(e)}}function Jl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ql(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ec(e,t){return e.style.getPropertyValue(t)||$l(e).getComputedStyle(e,null).getPropertyValue(t)}function tc(e){return function(){delete this[e]}}function nc(e,t){return function(){this[e]=t}}function rc(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function oc(e){return e.trim().split(/^|\s+/)}function ic(e){return e.classList||new ac(e)}function ac(e){this._node=e,this._names=oc(e.getAttribute("class")||"")}function sc(e,t){for(var n=ic(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function lc(e,t){for(var n=ic(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function cc(e){return function(){sc(this,e)}}function dc(e){return function(){lc(this,e)}}function uc(e,t){return function(){(t.apply(this,arguments)?sc:lc)(this,e)}}function pc(){this.textContent=""}function fc(e){return function(){this.textContent=e}}function hc(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function mc(){this.innerHTML=""}function gc(e){return function(){this.innerHTML=e}}function vc(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function xc(){this.nextSibling&&this.parentNode.appendChild(this)}function bc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yc(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ul&&t.documentElement.namespaceURI===Ul?t.createElement(e):t.createElementNS(n,e)}}function wc(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jc(e){var t=Wl(e);return(t.local?wc:yc)(t)}function Nc(){return null}function Sc(){var e=this.parentNode;e&&e.removeChild(this)}function Ac(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ec(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kc(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Cc(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function _c(e,t,n){var r=$l(e),o=r.CustomEvent;"function"===typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Pc(e,t){return function(){return _c(this,e,t)}}function Oc(e,t){return function(){return _c(this,e,t.apply(this,arguments))}}ac.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Tc=[null];function Mc(e,t){this._groups=e,this._parents=t}function Ic(){return new Mc([[document.documentElement]],Tc)}Mc.prototype=Ic.prototype={constructor:Mc,select:function(e){"function"!==typeof e&&(e=Sl(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),d=0;d<l;++d)(i=s[d])&&(a=e.call(i,i.__data__,d,s))&&("__data__"in i&&(a.__data__=i.__data__),c[d]=a);return new Mc(r,this._parents)},selectAll:function(e){e="function"===typeof e?kl(e):El(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new Mc(r,o)},selectChild:function(e){return this.select(null==e?Ol:function(e){return function(){return Pl.call(this.children,e)}}("function"===typeof e?e:_l(e)))},selectChildren:function(e){return this.selectAll(null==e?Ml:function(e){return function(){return Tl.call(this.children,e)}}("function"===typeof e?e:_l(e)))},filter:function(e){"function"!==typeof e&&(e=Cl(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Mc(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Fl);var n,r=t?Ll:Dl,o=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),d=0;d<a;++d){var u=o[d],p=i[d],f=p.length,h=Bl(e.call(u,u&&u.__data__,d,o)),m=h.length,g=l[d]=new Array(m),v=s[d]=new Array(m);r(u,p,g,v,c[d]=new Array(f),h,t);for(var x,b,y=0,w=0;y<m;++y)if(x=g[y]){for(y>=w&&(w=y+1);!(b=v[w])&&++w<m;);x._next=b||null}}return(s=new Mc(s,o))._enter=l,s._exit=c,s},enter:function(){return new Mc(this._enter||this._groups.map(Il),this._parents)},exit:function(){return new Mc(this._exit||this._groups.map(Il),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,d=n[l],u=r[l],p=d.length,f=s[l]=new Array(p),h=0;h<p;++h)(c=d[h]||u[h])&&(f[h]=c);for(;l<o;++l)s[l]=n[l];return new Mc(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=zl);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),d=0;d<l;++d)(a=s[d])&&(c[d]=a);c.sort(t)}return new Mc(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=Wl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?ql:Hl:"function"===typeof t?n.local?Xl:Yl:n.local?Gl:Kl)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Zl:"function"===typeof t?Ql:Jl)(e,t,null==n?"":n)):ec(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?tc:"function"===typeof t?rc:nc)(e,t)):this.node()[e]},classed:function(e,t){var n=oc(e+"");if(arguments.length<2){for(var r=ic(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?uc:t?cc:dc)(n,t))},text:function(e){return arguments.length?this.each(null==e?pc:("function"===typeof e?hc:fc)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?mc:("function"===typeof e?vc:gc)(e)):this.node().innerHTML},raise:function(){return this.each(xc)},lower:function(){return this.each(bc)},append:function(e){var t="function"===typeof e?e:jc(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:jc(e),r=null==t?Nc:"function"===typeof t?t:Sl(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Sc)},clone:function(e){return this.select(e?Ec:Ac)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Cc:kc,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,d=s.length;c<d;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Oc:Pc)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const Rc=Ic;function Dc(e){return"string"===typeof e?new Mc([[document.querySelector(e)]],[document.documentElement]):new Mc([[e]],Tc)}const Lc={passive:!1},Fc={capture:!0,passive:!1};function Bc(e){e.stopImmediatePropagation()}function zc(e){e.preventDefault(),e.stopImmediatePropagation()}function Uc(e){var t=e.document.documentElement,n=Dc(e).on("dragstart.drag",zc,Fc);"onselectstart"in t?n.on("selectstart.drag",zc,Fc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vc(e,t){var n=e.document.documentElement,r=Dc(e).on("dragstart.drag",null);t&&(r.on("click.drag",zc,Fc),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Wc(e){return((e=Math.exp(e))+1/e)/2}const Hc=function e(t,n,r){function o(e,o){var i,a,s=e[0],l=e[1],c=e[2],d=o[0],u=o[1],p=o[2],f=d-s,h=u-l,m=f*f+h*h;if(m<1e-12)a=Math.log(p/c)/t,i=function(e){return[s+e*f,l+e*h,c*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),v=(p*p-c*c+r*m)/(2*c*n*g),x=(p*p-c*c-r*m)/(2*p*n*g),b=Math.log(Math.sqrt(v*v+1)-v),y=Math.log(Math.sqrt(x*x+1)-x);a=(y-b)/t,i=function(e){var r,o=e*a,i=Wc(b),d=c/(n*g)*(i*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+d*f,l+d*h,c*i/Wc(t*o+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function qc(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var Kc,Gc,Yc=0,Xc=0,$c=0,Zc=0,Jc=0,Qc=0,ed="object"===typeof performance&&performance.now?performance:Date,td="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nd(){return Jc||(td(rd),Jc=ed.now()+Qc)}function rd(){Jc=0}function od(){this._call=this._time=this._next=null}function id(e,t,n){var r=new od;return r.restart(e,t,n),r}function ad(){Jc=(Zc=ed.now())+Qc,Yc=Xc=0;try{!function(){nd(),++Yc;for(var e,t=Kc;t;)(e=Jc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Yc}()}finally{Yc=0,function(){var e,t,n=Kc,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Kc=t);Gc=e,ld(r)}(),Jc=0}}function sd(){var e=ed.now(),t=e-Zc;t>1e3&&(Qc-=t,Zc=e)}function ld(e){Yc||(Xc&&(Xc=clearTimeout(Xc)),e-Jc>24?(e<1/0&&(Xc=setTimeout(ad,e-ed.now()-Qc)),$c&&($c=clearInterval($c))):($c||(Zc=ed.now(),$c=setInterval(sd,1e3)),Yc=1,td(ad)))}function cd(e,t,n){var r=new od;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}od.prototype=id.prototype={constructor:od,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?nd():+n)+(null==t?0:+t),this._next||Gc===this||(Gc?Gc._next=this:Kc=this,Gc=this),this._call=e,this._time=n,ld()},stop:function(){this._call&&(this._call=null,this._time=1/0,ld())}};var dd=jl("start","end","cancel","interrupt"),ud=[];function pd(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var c,d,u,p;if(1!==n.state)return l();for(c in o)if((p=o[c]).name===n.name){if(3===p.state)return cd(a);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[c]):+c<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[c])}if(cd((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(u=n.tween.length),c=0,d=-1;c<u;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=p);r.length=d+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=id(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:dd,tween:ud,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function fd(e,t){var n=md(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function hd(e,t){var n=md(e,t);if(n.state>3)throw new Error("too late; already running");return n}function md(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gd(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}var vd,xd=n(50010),bd=180/Math.PI,yd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wd(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*bd,skewX:Math.atan(l)*bd,scaleX:a,scaleY:s}}function jd(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:(0,xd.A)(e,o)},{i:l-2,x:(0,xd.A)(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:(0,xd.A)(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:(0,xd.A)(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:(0,xd.A)(e,n)},{i:s-2,x:(0,xd.A)(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Nd=jd((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yd:wd(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Sd=jd((function(e){return null==e?yd:(vd||(vd=document.createElementNS("http://www.w3.org/2000/svg","g")),vd.setAttribute("transform",e),(e=vd.transform.baseVal.consolidate())?wd((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):yd)}),", ",")",")");function Ad(e,t){var n,r;return function(){var o=hd(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function Ed(e,t,n){var r,o;if("function"!==typeof n)throw new Error;return function(){var i=hd(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function kd(e,t,n){var r=e._id;return e.each((function(){var e=hd(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return md(e,r).value[t]}}var Cd=n(75206),_d=n(75365),Pd=n(97162);function Od(e,t){var n;return("number"===typeof t?xd.A:t instanceof Cd.Ay?_d.Ay:(n=(0,Cd.Ay)(t))?(t=n,_d.Ay):Pd.A)(e,t)}function Td(e){return function(){this.removeAttribute(e)}}function Md(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Id(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Rd(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Dd(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttribute(e)}}function Ld(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function Fd(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Bd(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function zd(e,t){return function(){fd(this,e).delay=+t.apply(this,arguments)}}function Ud(e,t){return t=+t,function(){fd(this,e).delay=t}}function Vd(e,t){return function(){hd(this,e).duration=+t.apply(this,arguments)}}function Wd(e,t){return t=+t,function(){hd(this,e).duration=t}}var Hd=Rc.prototype.constructor;function qd(e){return function(){this.style.removeProperty(e)}}var Kd=0;function Gd(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Yd(){return++Kd}var Xd=Rc.prototype;Gd.prototype=function(e){return Rc().transition(e)}.prototype={constructor:Gd,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Sl(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],d=c.length,u=i[a]=new Array(d),p=0;p<d;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),u[p]=l,pd(u[p],t,n,p,u,md(s,n)));return new Gd(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=El(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],d=c.length,u=0;u<d;++u)if(l=c[u]){for(var p,f=e.call(l,l.__data__,u,c),h=md(l,n),m=0,g=f.length;m<g;++m)(p=f[m])&&pd(p,t,n,m,f,h);i.push(f),a.push(l)}return new Gd(i,a,t,n)},selectChild:Xd.selectChild,selectChildren:Xd.selectChildren,filter:function(e){"function"!==typeof e&&(e=Cl(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Gd(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],d=n[s],u=c.length,p=a[s]=new Array(u),f=0;f<u;++f)(l=c[f]||d[f])&&(p[f]=l);for(;s<r;++s)a[s]=t[s];return new Gd(a,this._parents,this._name,this._id)},selection:function(){return new Hd(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Yd(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var d=md(a,t);pd(a,e,n,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Gd(r,this._parents,e,n)},call:Xd.call,nodes:Xd.nodes,node:Xd.node,size:Xd.size,empty:Xd.empty,each:Xd.each,on:function(e,t){var n=this._id;return arguments.length<2?md(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?fd:hd;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=Wl(e),r="transform"===n?Sd:Od;return this.attrTween(e,"function"===typeof t?(n.local?Ld:Dd)(n,r,kd(this,"attr."+e,t)):null==t?(n.local?Md:Td)(n):(n.local?Rd:Id)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Wl(e);return this.tween(n,(r.local?Fd:Bd)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Nd:Od;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=ec(this,e),a=(this.style.removeProperty(e),ec(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,qd(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=ec(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=ec(this,e)),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}(e,r,kd(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=hd(this,e),c=l.on,d=null==l.value[a]?i||(i=qd(t)):void 0;c===n&&o===d||(r=(n=c).copy()).on(s,o=d),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=ec(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(kd(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=md(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?Ad:Ed)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?zd:Ud)(t,e)):md(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Vd:Wd)(t,e)):md(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){hd(this,e).ease=t}}(t,e)):md(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;hd(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},l={value:function(){0===--o&&i()}};n.each((function(){var n=hd(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:Xd[Symbol.iterator]};var $d={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Zd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Rc.prototype.interrupt=function(e){return this.each((function(){gd(this,e)}))},Rc.prototype.transition=function(e){var t,n;e instanceof Gd?(t=e._id,e=e._name):(t=Yd(),(n=$d).time=nd(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&pd(a,e,t,c,s,n||Zd(a,t));return new Gd(r,this._parents,e,t)};const Jd=e=>()=>e;function Qd(e,t){let{sourceEvent:n,target:r,transform:o,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function eu(e,t,n){this.k=e,this.x=t,this.y=n}eu.prototype={constructor:eu,scale:function(e){return 1===e?this:new eu(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new eu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tu=new eu(1,0,0);function nu(e){for(;!e.__zoom;)if(!(e=e.parentNode))return tu;return e.__zoom}function ru(e){e.stopImmediatePropagation()}function ou(e){e.preventDefault(),e.stopImmediatePropagation()}function iu(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function au(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function su(){return this.__zoom||tu}function lu(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cu(){return navigator.maxTouchPoints||"ontouchstart"in this}function du(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function uu(){var e,t,n,r=iu,o=au,i=du,a=lu,s=cu,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,u=Hc,p=jl("start","zoom","end"),f=0,h=10;function m(e){e.property("__zoom",su).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",A).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new eu(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new eu(e.k,r,o)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",(function(){y(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){y(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=y(e,i).event(r),s=o.apply(e,i),l=null==n?x(s):"function"===typeof n?n.apply(e,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),d=e.__zoom,p="function"===typeof t?t.apply(e,i):t,f=u(d.invert(l).concat(c/d.k),p.invert(l).concat(c/p.k));return function(e){if(1===e)e=p;else{var t=f(e),n=c/t[2];e=new eu(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function y(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=y(this,n).event(e),d=this.__zoom,u=Math.max(l[0],Math.min(l[1],d.k*Math.pow(2,a.apply(this,arguments)))),p=qc(e);if(s.wheel)s.mouse[0][0]===p[0]&&s.mouse[0][1]===p[1]||(s.mouse[1]=d.invert(s.mouse[0]=p)),clearTimeout(s.wheel);else{if(d.k===u)return;s.mouse=[p,d.invert(p)],gd(this),s.start()}ou(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),150),s.zoom("mouse",i(v(g(d,u),s.mouse[0],s.mouse[1]),s.extent,c))}}function N(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=y(this,o,!0).event(e),d=Dc(e.view).on("mousemove.zoom",(function(e){if(ou(e),!l.moved){var t=e.clientX-p,n=e.clientY-h;l.moved=t*t+n*n>f}l.event(e).zoom("mouse",i(v(l.that.__zoom,l.mouse[0]=qc(e,s),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){d.on("mousemove.zoom mouseup.zoom",null),Vc(e.view,l.moved),ou(e),l.event(e).end()}),!0),u=qc(e,s),p=e.clientX,h=e.clientY;Uc(e.view),ru(e),l.mouse=[u,this.__zoom.invert(u)],gd(this),l.start()}}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var s=this.__zoom,l=qc(e.changedTouches?e.changedTouches[0]:e,this),u=s.invert(l),p=s.k*(e.shiftKey?.5:2),f=i(v(g(s,p),l,u),o.apply(this,n),c);ou(e),d>0?Dc(this).transition().duration(d).call(b,f,l,e):Dc(this).call(m.transform,f,l,e)}}function A(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r.apply(this,arguments)){var s,l,c,d,u=n.touches,p=u.length,f=y(this,i,n.changedTouches.length===p).event(n);for(ru(n),l=0;l<p;++l)d=[d=qc(c=u[l],this),this.__zoom.invert(d),c.identifier],f.touch0?f.touch1||f.touch0[2]===d[2]||(f.touch1=d,f.taps=0):(f.touch0=d,s=!0,f.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(f.taps<2&&(t=d[0],e=setTimeout((function(){e=null}),500)),gd(this),f.start())}}function E(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,a,s,l,d=y(this,n).event(e),u=e.changedTouches,p=u.length;for(ou(e),o=0;o<p;++o)s=qc(a=u[o],this),d.touch0&&d.touch0[2]===a.identifier?d.touch0[0]=s:d.touch1&&d.touch1[2]===a.identifier&&(d.touch1[0]=s);if(a=d.that.__zoom,d.touch1){var f=d.touch0[0],h=d.touch0[1],m=d.touch1[0],x=d.touch1[1],b=(b=m[0]-f[0])*b+(b=m[1]-f[1])*b,w=(w=x[0]-h[0])*w+(w=x[1]-h[1])*w;a=g(a,Math.sqrt(b/w)),s=[(f[0]+m[0])/2,(f[1]+m[1])/2],l=[(h[0]+x[0])/2,(h[1]+x[1])/2]}else{if(!d.touch0)return;s=d.touch0[0],l=d.touch0[1]}d.zoom("touch",i(v(a,s,l),d.extent,c))}}function k(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(this.__zooming){var a,s,l=y(this,o).event(e),c=e.changedTouches,d=c.length;for(ru(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),a=0;a<d;++a)s=c[a],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=qc(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<h)){var u=Dc(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",su),e!==o?b(e,t,n,r):o.interrupt().each((function(){y(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?x(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"===typeof t?t.apply(this,arguments):t;return i(v(g(r,l),a,s),e,c)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)}),null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?x(e):"function"===typeof r?r.apply(this,arguments):r;return i(tu.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),r,a)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Dc(this.that).datum();p.call(e,this.that,new Qd(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:p}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:Jd(+e),m):a},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:Jd(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Jd(!!e),m):s},m.extent=function(e){return arguments.length?(o="function"===typeof e?e:Jd([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(d=+e,m):d},m.interpolate=function(e){return arguments.length?(u=e,m):u},m.on=function(){var e=p.on.apply(p,arguments);return e===p?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(h=+e,m):h},m}nu.prototype=eu.prototype;const pu=e=>()=>e;function fu(e,t){let{sourceEvent:n,subject:r,target:o,identifier:i,active:a,x:s,y:l,dx:c,dy:d,dispatch:u}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}function hu(e){return!e.ctrlKey&&!e.button}function mu(){return this.parentNode}function gu(e,t){return null==t?{x:e.x,y:e.y}:t}function vu(){return navigator.maxTouchPoints||"ontouchstart"in this}function xu(){var e,t,n,r,o=hu,i=mu,a=gu,s=vu,l={},c=jl("start","drag","end"),d=0,u=0;function p(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,Lc).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&o.call(this,a,s)){var l=b(this,i.call(this,a,s),a,s,"mouse");l&&(Dc(a.view).on("mousemove.drag",h,Fc).on("mouseup.drag",m,Fc),Uc(a.view),Bc(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function h(r){if(zc(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>u}l.mouse("drag",r)}function m(e){Dc(e.view).on("mousemove.drag mouseup.drag",null),Vc(e.view,n),zc(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=b(this,s,e,t,a[n].identifier,a[n]))&&(Bc(e),r("start",e,a[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(zc(e),n("drag",e,r[t]))}function x(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=l[o[t].identifier])&&(Bc(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var s,u,f,h=c.copy(),m=qc(i||n,t);if(null!=(f=a.call(e,new fu("beforestart",{sourceEvent:n,target:p,identifier:o,active:d,x:m[0],y:m[1],dx:0,dy:0,dispatch:h}),r)))return s=f.x-m[0]||0,u=f.y-m[1]||0,function n(i,a,c){var g,v=m;switch(i){case"start":l[o]=n,g=d++;break;case"end":delete l[o],--d;case"drag":m=qc(c||a,t),g=d}h.call(i,e,new fu(i,{sourceEvent:a,subject:f,target:p,identifier:o,active:g,x:m[0]+s,y:m[1]+u,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:h}),r)}}return p.filter=function(e){return arguments.length?(o="function"===typeof e?e:pu(!!e),p):o},p.container=function(e){return arguments.length?(i="function"===typeof e?e:pu(e),p):i},p.subject=function(e){return arguments.length?(a="function"===typeof e?e:pu(e),p):a},p.touchable=function(e){return arguments.length?(s="function"===typeof e?e:pu(!!e),p):s},p.on=function(){var e=c.on.apply(c,arguments);return e===c?p:e},p.clickDistance=function(e){return arguments.length?(u=(e=+e)*e,p):Math.sqrt(u)},p}fu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const bu=["position","children","className","style"],yu=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],wu=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],ju=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],Nu=(0,e.createContext)(null),Su=Nu.Provider,Au=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),Eu=()=>"The React Flow parent container needs a width and a height to render the graph.",ku=()=>"Only child nodes can use a parent extent.",Cu=()=>"Can't create edge. An edge needs a source and a target.",_u=e=>'Marker type "'.concat(e,"\" doesn't exist."),Pu=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),Ou=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",Tu=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),Mu=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),Iu=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function Ru(t,n){const r=(0,e.useContext)(Nu);if(null===r)throw new Error(Iu);return fl(r,t,n)}const Du=()=>{const t=(0,e.useContext)(Nu);if(null===t)throw new Error(Iu);return(0,e.useMemo)((()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy})),[t])},Lu=e=>e.userSelectionActive?"none":"all";function Fu(t){let{position:n,children:r,className:o,style:i}=t,a=(0,lo.A)(t,bu);const s=Ru(Lu),l="".concat(n).split("-");return e.createElement("div",(0,b.A)({className:al(["react-flow__panel",o,...l]),style:(0,b.A)((0,b.A)({},i),{},{pointerEvents:s})},a),r)}function Bu(t){let{proOptions:n,position:r="bottom-right"}=t;return null!==n&&void 0!==n&&n.hideAttribution?null:e.createElement(Fu,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},e.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var zu=(0,e.memo)((t=>{let{x:n,y:r,label:o,labelStyle:i={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:u}=t,p=(0,lo.A)(t,yu);const f=(0,e.useRef)(null),[h,m]=(0,e.useState)({x:0,y:0,width:0,height:0}),g=al(["react-flow__edge-textwrapper",u]);return(0,e.useEffect)((()=>{if(f.current){const e=f.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}}),[o]),"undefined"!==typeof o&&o?e.createElement("g",(0,b.A)({transform:"translate(".concat(n-h.width/2," ").concat(r-h.height/2,")"),className:g,visibility:h.width?"visible":"hidden"},p),a&&e.createElement("rect",{width:h.width+2*l[0],x:-l[0],y:-l[1],height:h.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),e.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:i},o),d):null}));const Uu=e=>({width:e.offsetWidth,height:e.offsetHeight}),Vu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Wu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Vu(e.x,t[0][0],t[1][0]),y:Vu(e.y,t[0][1],t[1][1])}},Hu=(e,t,n)=>e<t?Vu(Math.abs(e-t),1,50)/50:e>n?-Vu(Math.abs(e-n),1,50)/50:0,qu=(e,t)=>[20*Hu(e.x,35,t.width-35),20*Hu(e.y,35,t.height-35)],Ku=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},Gu=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Yu=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},Xu=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},$u=e=>(0,b.A)((0,b.A)({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),Zu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Ju=e=>!isNaN(e)&&isFinite(e),Qu=Symbol.for("internals"),ep=["Enter"," ","Escape"],tp=(e,t)=>{0};function np(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const rp=e=>"clientX"in e,op=(e,t)=>{var n,r,o,i;const a=rp(e),s=a?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=a?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:s-(null!==(o=null===t||void 0===t?void 0:t.left)&&void 0!==o?o:0),y:l-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},ip=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},ap=t=>{let{id:n,path:r,labelX:o,labelY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:f,markerStart:h,interactionWidth:m=20}=t;return e.createElement(e.Fragment,null,e.createElement("path",{id:n,style:p,d:r,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),m&&e.createElement("path",{d:r,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&Ju(o)&&Ju(i)?e.createElement(zu,{x:o,y:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u}):null)};ap.displayName="BaseEdge";function sp(e,t,n){return void 0===n?n:r=>{const o=t().edges.find((t=>t.id===e));o&&n(r,(0,b.A)({},o))}}function lp(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const i=Math.abs(r-t)/2,a=r<t?r+i:r-i,s=Math.abs(o-n)/2;return[a,o<n?o+s:o-s,i,s]}function cp(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*i+.375*s+.125*r,d=.125*n+.375*a+.375*l+.125*o;return[c,d,Math.abs(c-t),Math.abs(d-n)]}var dp,up,pp,fp,hp,mp,gp,vp,xp,bp,yp;function wp(e){let{pos:t,x1:n,y1:r,x2:o,y2:i}=e;return t===yp.Left||t===yp.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function jp(e){let{sourceX:t,sourceY:n,sourcePosition:r=yp.Bottom,targetX:o,targetY:i,targetPosition:a=yp.Top}=e;const[s,l]=wp({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,d]=wp({pos:a,x1:o,y1:i,x2:t,y2:n}),[u,p,f,h]=cp({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(s,",").concat(l," ").concat(c,",").concat(d," ").concat(o,",").concat(i),u,p,f,h]}(up=dp||(dp={})).Strict="strict",up.Loose="loose",(fp=pp||(pp={})).Free="free",fp.Vertical="vertical",fp.Horizontal="horizontal",(mp=hp||(hp={})).Partial="partial",mp.Full="full",(vp=gp||(gp={})).Bezier="default",vp.Straight="straight",vp.Step="step",vp.SmoothStep="smoothstep",vp.SimpleBezier="simplebezier",(bp=xp||(xp={})).Arrow="arrow",bp.ArrowClosed="arrowclosed",function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(yp||(yp={}));const Np=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=yp.Bottom,targetPosition:s=yp.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:p,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:v}=t;const[x,b,y]=jp({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s});return e.createElement(ap,{path:x,labelX:b,labelY:y,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:p,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:v})}));Np.displayName="SimpleBezierEdge";const Sp={[yp.Left]:{x:-1,y:0},[yp.Right]:{x:1,y:0},[yp.Top]:{x:0,y:-1},[yp.Bottom]:{x:0,y:1}},Ap=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ep(e){let{source:t,sourcePosition:n=yp.Bottom,target:r,targetPosition:o=yp.Top,center:i,offset:a}=e;const s=Sp[n],l=Sp[o],c={x:t.x+s.x*a,y:t.y+s.y*a},d={x:r.x+l.x*a,y:r.y+l.y*a},u=(e=>{let{source:t,sourcePosition:n=yp.Bottom,target:r}=e;return n===yp.Left||n===yp.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:d}),p=0!==u.x?"x":"y",f=u[p];let h,m,g=[];const v={x:0,y:0},x={x:0,y:0},[b,y,w,j]=lp({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(s[p]*l[p]===-1){var N,S;h=null!==(N=i.x)&&void 0!==N?N:b,m=null!==(S=i.y)&&void 0!==S?S:y;const e=[{x:h,y:c.y},{x:h,y:d.y}],t=[{x:c.x,y:m},{x:d.x,y:m}];g=s[p]===f?"x"===p?e:t:"x"===p?t:e}else{const e=[{x:c.x,y:d.y}],i=[{x:d.x,y:c.y}];if(g="x"===p?s.x===f?i:e:s.y===f?e:i,n===o){const e=Math.abs(t[p]-r[p]);if(e<=a){const n=Math.min(a-1,a-e);s[p]===f?v[p]=(c[p]>t[p]?-1:1)*n:x[p]=(d[p]>r[p]?-1:1)*n}}if(n!==o){const t="x"===p?"y":"x",n=s[p]===l[t],r=c[t]>d[t],o=c[t]<d[t];(1===s[p]&&(!n&&r||n&&o)||1!==s[p]&&(!n&&o||n&&r))&&(g="x"===p?e:i)}const u={x:c.x+v.x,y:c.y+v.y},b={x:d.x+x.x,y:d.y+x.y};Math.max(Math.abs(u.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(u.y-g[0].y),Math.abs(b.y-g[0].y))?(h=(u.x+b.x)/2,m=g[0].y):(h=g[0].x,m=(u.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:d.x+x.x,y:d.y+x.y},r],h,m,w,j]}function kp(e){let{sourceX:t,sourceY:n,sourcePosition:r=yp.Bottom,targetX:o,targetY:i,targetPosition:a=yp.Top,borderRadius:s=5,centerX:l,centerY:c,offset:d=20}=e;const[u,p,f,h,m]=Ep({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:l,y:c},offset:d});return[u.reduce(((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const o=Math.min(Ap(e,t)/2,Ap(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return"L".concat(i," ").concat(a);if(e.y===a){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(i+o*t,",").concat(a,"Q ").concat(i,",").concat(a," ").concat(i,",").concat(a+o*r)}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(i,",").concat(a+o*l,"Q ").concat(i,",").concat(a," ").concat(i+o*s,",").concat(a)}(u[n-1],t,u[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r}),""),p,f,h,m]}const Cp=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:p,sourcePosition:f=yp.Bottom,targetPosition:h=yp.Top,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:x}=t;const[b,y,w]=kp({sourceX:n,sourceY:r,sourcePosition:f,targetX:o,targetY:i,targetPosition:h,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return e.createElement(ap,{path:b,labelX:y,labelY:w,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:m,markerStart:g,interactionWidth:x})}));Cp.displayName="SmoothStepEdge";const _p=(0,e.memo)((t=>{var n;return e.createElement(Cp,(0,b.A)((0,b.A)({},t),{},{pathOptions:(0,e.useMemo)((()=>{var e;return{borderRadius:0,offset:null===(e=t.pathOptions)||void 0===e?void 0:e.offset}}),[null===(n=t.pathOptions)||void 0===n?void 0:n.offset])}))}));_p.displayName="StepEdge";const Pp=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:f,markerStart:h,interactionWidth:m}=t;const[g,v,x]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const[i,a,s,l]=lp({sourceX:t,sourceY:n,targetX:r,targetY:o});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),i,a,s,l]}({sourceX:n,sourceY:r,targetX:o,targetY:i});return e.createElement(ap,{path:g,labelX:v,labelY:x,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:f,markerStart:h,interactionWidth:m})}));function Op(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Tp(e){let{pos:t,x1:n,y1:r,x2:o,y2:i,c:a}=e;switch(t){case yp.Left:return[n-Op(n-o,a),r];case yp.Right:return[n+Op(o-n,a),r];case yp.Top:return[n,r-Op(r-i,a)];case yp.Bottom:return[n,r+Op(i-r,a)]}}function Mp(e){let{sourceX:t,sourceY:n,sourcePosition:r=yp.Bottom,targetX:o,targetY:i,targetPosition:a=yp.Top,curvature:s=.25}=e;const[l,c]=Tp({pos:r,x1:t,y1:n,x2:o,y2:i,c:s}),[d,u]=Tp({pos:a,x1:o,y1:i,x2:t,y2:n,c:s}),[p,f,h,m]=cp({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(d,",").concat(u," ").concat(o,",").concat(i),p,f,h,m]}Pp.displayName="StraightEdge";const Ip=(0,e.memo)((t=>{let{sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=yp.Bottom,targetPosition:s=yp.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:p,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,pathOptions:v,interactionWidth:x}=t;const[b,y,w]=Mp({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:null===v||void 0===v?void 0:v.curvature});return e.createElement(ap,{path:b,labelX:y,labelY:w,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:p,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:x})}));Ip.displayName="BezierEdge";const Rp=(0,e.createContext)(null),Dp=Rp.Provider;Rp.Consumer;const Lp=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(o||"")},Fp=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((t=>"".concat(t,"=").concat(e[t]))).join("&"))},Bp=(e,t)=>{if(!e.source||!e.target)return tp(0,Cu()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?(0,b.A)({},e):(0,b.A)((0,b.A)({},e),{},{id:Lp(e)}),((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:t.concat(n)},zp=(e,t,n,r)=>{let{x:o,y:i}=e,[a,s,l]=t,[c,d]=r;const u={x:(o-a)/l,y:(i-s)/l};return n?{x:c*Math.round(u.x/c),y:d*Math.round(u.y/d)}:u},Up=(e,t)=>{let{x:n,y:r}=e,[o,i,a]=t;return{x:n*a+o,y:r*a+i}},Vp=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const o=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],i=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],a={x:e.position.x-o,y:e.position.y-i};return(0,b.A)((0,b.A)({},a),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-i}:a})},Wp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:r,y:o}=Vp(n,t).positionAbsolute;return Gu(e,Yu({x:r,y:o,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Xu(n)},Hp=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach((e=>{const{width:t,height:n,selectable:r=!0,hidden:o=!1}=e;if(a&&!r||o)return!1;const{positionAbsolute:d}=Vp(e,s),u={x:d.x,y:d.y,width:t||0,height:n||0},p=Zu(l,u);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||i&&p>0||p>=(t||0)*(n||0)||e.dragging)&&c.push(e)})),c},qp=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Kp=function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(a,s),c=Vu(l,r,o);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},Gp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Yp(e,t,n,r){return(t[n]||[]).reduce(((t,o)=>{var i,a,s,l;"".concat(e.id,"-").concat(o.id,"-").concat(n)!==r&&t.push({id:o.id||null,type:n,nodeId:e.id,x:(null!==(i=null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+o.x+o.width/2,y:(null!==(s=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+o.y+o.height/2});return t}),[])}const Xp={source:null,target:null,sourceHandle:null,targetHandle:null},$p=()=>({handleDomNode:null,isValid:!1,connection:Xp,endHandle:null});function Zp(e,t,n,r,o,i,a){const s="target"===o,l=a.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),c=(0,b.A)((0,b.A)({},$p()),{},{handleDomNode:l});if(l){const e=Jp(void 0,l),o=l.getAttribute("data-nodeid"),a=l.getAttribute("data-handleid"),d=l.classList.contains("connectable"),u=l.classList.contains("connectableend"),p={source:s?o:n,sourceHandle:s?a:r,target:s?n:o,targetHandle:s?r:a};c.connection=p;d&&u&&(t===dp.Strict?s&&"source"===e||!s&&"target"===e:o!==n||a!==r)&&(c.endHandle={nodeId:o,handleId:a,type:e},c.isValid=i(p))}return c}function Jp(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Qp(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ef(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function tf(e){let{event:t,handleId:n,nodeId:r,onConnect:o,isTarget:i,getState:a,setState:s,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:d}=e;const u=Ku(t.target),{connectionMode:p,domNode:f,autoPanOnConnect:h,connectionRadius:m,onConnectStart:g,panBy:v,getNodes:x,cancelConnection:b}=a();let y,w=0;const{x:j,y:N}=op(t),S=null===u||void 0===u?void 0:u.elementFromPoint(j,N),A=Jp(c,S),E=null===f||void 0===f?void 0:f.getBoundingClientRect();if(!E||!A)return;let k,C=op(t,E),_=!1,P=null,O=!1,T=null;const M=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:o}=e;return t.reduce(((e,t)=>{if(t[Qu]){const{handleBounds:i}=t[Qu];let a=[],s=[];i&&(a=Yp(t,i,"source","".concat(n,"-").concat(r,"-").concat(o)),s=Yp(t,i,"target","".concat(n,"-").concat(r,"-").concat(o))),e.push(...a,...s)}return e}),[])}({nodes:x(),nodeId:r,handleId:n,handleType:A}),I=()=>{if(!h)return;const[e,t]=qu(C,E);v({x:e,y:t}),w=requestAnimationFrame(I)};function R(e){const{transform:t}=a();C=op(e,E);const{handle:o,validHandleResult:c}=function(e,t,n,r,o,i){const{x:a,y:s}=op(e),l=t.elementsFromPoint(a,s).find((e=>e.classList.contains("react-flow__handle")));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=Jp(void 0,l),r=l.getAttribute("data-handleid"),a=i({nodeId:e,id:r,type:t});if(a){const i=o.find((n=>n.nodeId===e&&n.type===t&&n.id===r));return{handle:{id:r,type:t,nodeId:e,x:(null===i||void 0===i?void 0:i.x)||n.x,y:(null===i||void 0===i?void 0:i.y)||n.y},validHandleResult:a}}}}let c=[],d=1/0;if(o.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=i(e);t<=d&&(t<d?c=[{handle:e,validHandleResult:n}]:t===d&&c.push({handle:e,validHandleResult:n}),d=t)}})),!c.length)return{handle:null,validHandleResult:$p()};if(1===c.length)return c[0];const u=c.some((e=>{let{validHandleResult:t}=e;return t.isValid})),p=c.some((e=>{let{handle:t}=e;return"target"===t.type}));return c.find((e=>{let{handle:t,validHandleResult:n}=e;return p?"target"===t.type:!u||n.isValid}))||c[0]}(e,u,zp(C,t,!1,[1,1]),m,M,(e=>Zp(e,p,r,n,i?"target":"source",l,u)));if(y=o,_||(I(),_=!0),T=c.handleDomNode,P=c.connection,O=c.isValid,s({connectionPosition:y&&O?Up({x:y.x,y:y.y},t):C,connectionStatus:ef(!!y,O),connectionEndHandle:c.endHandle}),!y&&!O&&!T)return Qp(k);P.source!==P.target&&T&&(Qp(k),k=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",O),T.classList.toggle("react-flow__handle-valid",O))}function D(e){var t,n;(y||T)&&P&&O&&(null===o||void 0===o||o(P)),null===(t=(n=a()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===d||void 0===d||d(e)),Qp(k),b(),cancelAnimationFrame(w),_=!1,O=!1,P=null,T=null,u.removeEventListener("mousemove",R),u.removeEventListener("mouseup",D),u.removeEventListener("touchmove",R),u.removeEventListener("touchend",D)}s({connectionPosition:C,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:A,connectionStartHandle:{nodeId:r,handleId:n,type:A},connectionEndHandle:null}),null===g||void 0===g||g(t,{nodeId:r,handleId:n,handleType:A}),u.addEventListener("mousemove",R),u.addEventListener("mouseup",D),u.addEventListener("touchmove",R),u.addEventListener("touchend",D)}const nf=()=>!0,rf=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),of=(0,e.forwardRef)(((t,n)=>{let{type:r="source",position:o=yp.Top,isValidConnection:i,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:c,onConnect:d,children:u,className:p,onMouseDown:f,onTouchStart:h}=t,m=(0,lo.A)(t,wu);const g=c||null,v="target"===r,x=Du(),y=(0,e.useContext)(Rp),{connectOnClick:w,noPanClassName:j}=Ru(rf,gl),{connecting:N,clickConnecting:S}=Ru(((e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n||(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n,clickConnecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n}})(y,g,r),gl);var A,E;y||(null===(A=(E=x.getState()).onError)||void 0===A||A.call(E,"010",Ou()));const k=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=x.getState(),o=(0,b.A)((0,b.A)({},t),e);if(r){const{edges:e,setEdges:t}=x.getState();t(Bp(o,e))}null===n||void 0===n||n(o),null===d||void 0===d||d(o)},C=e=>{if(!y)return;const t=rp(e);s&&(t&&0===e.button||!t)&&tf({event:e,handleId:g,nodeId:y,onConnect:k,isTarget:v,getState:x.getState,setState:x.setState,isValidConnection:i||x.getState().isValidConnection||nf}),t?null===f||void 0===f||f(e):null===h||void 0===h||h(e)};return e.createElement("div",(0,b.A)({"data-handleid":g,"data-nodeid":y,"data-handlepos":o,"data-id":"".concat(y,"-").concat(g,"-").concat(r),className:al(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",j,p,{source:!v,target:v,connectable:a,connectablestart:s,connectableend:l,connecting:S,connectionindicator:a&&(s&&!N||l&&N)}]),onMouseDown:C,onTouchStart:C,onClick:w?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:o,connectionMode:a,isValidConnection:l}=x.getState();if(!y||!o&&!s)return;if(!o)return null===t||void 0===t||t(e,{nodeId:y,handleId:g,handleType:r}),void x.setState({connectionClickStartHandle:{nodeId:y,type:r,handleId:g}});const c=Ku(e.target),d=i||l||nf,{connection:u,isValid:p}=Zp({nodeId:y,id:g,type:r},a,o.nodeId,o.handleId||null,o.type,d,c);p&&k(u),null===n||void 0===n||n(e),x.setState({connectionClickStartHandle:null})}:void 0,ref:n},m),u)}));of.displayName="Handle";var af=(0,e.memo)(of);const sf=t=>{let{data:n,isConnectable:r,targetPosition:o=yp.Top,sourcePosition:i=yp.Bottom}=t;return e.createElement(e.Fragment,null,e.createElement(af,{type:"target",position:o,isConnectable:r}),null===n||void 0===n?void 0:n.label,e.createElement(af,{type:"source",position:i,isConnectable:r}))};sf.displayName="DefaultNode";var lf=(0,e.memo)(sf);const cf=t=>{let{data:n,isConnectable:r,sourcePosition:o=yp.Bottom}=t;return e.createElement(e.Fragment,null,null===n||void 0===n?void 0:n.label,e.createElement(af,{type:"source",position:o,isConnectable:r}))};cf.displayName="InputNode";var df=(0,e.memo)(cf);const uf=t=>{let{data:n,isConnectable:r,targetPosition:o=yp.Top}=t;return e.createElement(e.Fragment,null,e.createElement(af,{type:"target",position:o,isConnectable:r}),null===n||void 0===n?void 0:n.label)};uf.displayName="OutputNode";var pf=(0,e.memo)(uf);const ff=()=>null;ff.displayName="GroupNode";const hf=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>(0,b.A)({},e)))}),mf=e=>e.id;function gf(e,t){return gl(e.selectedNodes.map(mf),t.selectedNodes.map(mf))&&gl(e.selectedEdges.map(mf),t.selectedEdges.map(mf))}const vf=(0,e.memo)((t=>{let{onSelectionChange:n}=t;const r=Du(),{selectedNodes:o,selectedEdges:i}=Ru(hf,gf);return(0,e.useEffect)((()=>{const e={nodes:o,edges:i};null===n||void 0===n||n(e),r.getState().onSelectionChange.forEach((t=>t(e)))}),[o,i,n]),null}));vf.displayName="SelectionListener";const xf=e=>!!e.onSelectionChange;function bf(t){let{onSelectionChange:n}=t;const r=Ru(xf);return n||r?e.createElement(vf,{onSelectionChange:n}):null}const yf=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function wf(t,n){(0,e.useEffect)((()=>{"undefined"!==typeof t&&n(t)}),[t])}function jf(t,n,r){(0,e.useEffect)((()=>{"undefined"!==typeof n&&r({[t]:n})}),[n])}const Nf=t=>{let{nodes:n,edges:r,defaultNodes:o,defaultEdges:i,onConnect:a,onConnectStart:s,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:d,nodesDraggable:u,nodesConnectable:p,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:v,maxZoom:x,nodeExtent:y,onNodesChange:w,onEdgesChange:j,elementsSelectable:N,connectionMode:S,snapGrid:A,snapToGrid:E,translateExtent:k,connectOnClick:C,defaultEdgeOptions:_,fitView:P,fitViewOptions:O,onNodesDelete:T,onEdgesDelete:M,onNodeDrag:I,onNodeDragStart:R,onNodeDragStop:D,onSelectionDrag:L,onSelectionDragStart:F,onSelectionDragStop:B,noPanClassName:z,nodeOrigin:U,rfId:V,autoPanOnConnect:W,autoPanOnNodeDrag:H,onError:q,connectionRadius:K,isValidConnection:G,nodeDragThreshold:Y}=t;const{setNodes:X,setEdges:$,setDefaultNodesAndEdges:Z,setMinZoom:J,setMaxZoom:Q,setTranslateExtent:ee,setNodeExtent:te,reset:ne}=Ru(yf,gl),re=Du();return(0,e.useEffect)((()=>{const e=null===i||void 0===i?void 0:i.map((e=>(0,b.A)((0,b.A)({},e),_)));return Z(o,e),()=>{ne()}}),[]),jf("defaultEdgeOptions",_,re.setState),jf("connectionMode",S,re.setState),jf("onConnect",a,re.setState),jf("onConnectStart",s,re.setState),jf("onConnectEnd",l,re.setState),jf("onClickConnectStart",c,re.setState),jf("onClickConnectEnd",d,re.setState),jf("nodesDraggable",u,re.setState),jf("nodesConnectable",p,re.setState),jf("nodesFocusable",f,re.setState),jf("edgesFocusable",h,re.setState),jf("edgesUpdatable",m,re.setState),jf("elementsSelectable",N,re.setState),jf("elevateNodesOnSelect",g,re.setState),jf("snapToGrid",E,re.setState),jf("snapGrid",A,re.setState),jf("onNodesChange",w,re.setState),jf("onEdgesChange",j,re.setState),jf("connectOnClick",C,re.setState),jf("fitViewOnInit",P,re.setState),jf("fitViewOnInitOptions",O,re.setState),jf("onNodesDelete",T,re.setState),jf("onEdgesDelete",M,re.setState),jf("onNodeDrag",I,re.setState),jf("onNodeDragStart",R,re.setState),jf("onNodeDragStop",D,re.setState),jf("onSelectionDrag",L,re.setState),jf("onSelectionDragStart",F,re.setState),jf("onSelectionDragStop",B,re.setState),jf("noPanClassName",z,re.setState),jf("nodeOrigin",U,re.setState),jf("rfId",V,re.setState),jf("autoPanOnConnect",W,re.setState),jf("autoPanOnNodeDrag",H,re.setState),jf("onError",q,re.setState),jf("connectionRadius",K,re.setState),jf("isValidConnection",G,re.setState),jf("nodeDragThreshold",Y,re.setState),wf(n,X),wf(r,$),wf(v,J),wf(x,Q),wf(k,ee),wf(y,te),null},Sf={display:"none"},Af={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ef="react-flow__node-desc",kf="react-flow__edge-desc",Cf=e=>e.ariaLiveMessage;function _f(t){let{rfId:n}=t;const r=Ru(Cf);return e.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(n),"aria-live":"assertive","aria-atomic":"true",style:Af},r)}function Pf(t){let{rfId:n,disableKeyboardA11y:r}=t;return e.createElement(e.Fragment,null,e.createElement("div",{id:"".concat(Ef,"-").concat(n),style:Sf},"Press enter or space to select a node.",!r&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),e.createElement("div",{id:"".concat(kf,"-").concat(n),style:Sf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!r&&e.createElement(_f,{rfId:n}))}var Of=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[r,o]=(0,e.useState)(!1),i=(0,e.useRef)(!1),a=(0,e.useRef)(new Set([])),[s,l]=(0,e.useMemo)((()=>{if(null!==t){const e=(Array.isArray(t)?t:[t]).filter((e=>"string"===typeof e)).map((e=>e.split("+"))),n=e.reduce(((e,t)=>e.concat(...t)),[]);return[e,n]}return[[],[]]}),[t]);return(0,e.useEffect)((()=>{const e="undefined"!==typeof document?document:null,r=(null===n||void 0===n?void 0:n.target)||e;if(null!==t){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!i.current||i.current&&!n.actInsideInputWithModifier)&&np(e))return!1;const t=Mf(e.code,l);a.current.add(e[t]),Tf(s,a.current,!1)&&(e.preventDefault(),o(!0))},t=e=>{if((!i.current||i.current&&!n.actInsideInputWithModifier)&&np(e))return!1;const t=Mf(e.code,l);Tf(s,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(e[t]),"Meta"===e.key&&a.current.clear(),i.current=!1},c=()=>{a.current.clear(),o(!1)};return null===r||void 0===r||r.addEventListener("keydown",e),null===r||void 0===r||r.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{null===r||void 0===r||r.removeEventListener("keydown",e),null===r||void 0===r||r.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}}),[t,o]),r};function Tf(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function Mf(e,t){return t.includes(e)?"code":"key"}function If(e,t,n,r){var o,i,a,s,l,c,d,u;const p=e.parentNode||e.parentId;if(!p)return n;const f=t.get(p),h=Vp(f,r);return If(f,t,{x:(null!==(o=n.x)&&void 0!==o?o:0)+h.x,y:(null!==(i=n.y)&&void 0!==i?i:0)+h.y,z:(null!==(a=null===(s=f[Qu])||void 0===s?void 0:s.z)&&void 0!==a?a:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(d=f[Qu])||void 0===d?void 0:d.z)&&void 0!==c?c:0:null!==(u=n.z)&&void 0!==u?u:0},r)}function Rf(e,t,n){e.forEach((r=>{const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error("Parent node ".concat(o," not found"));if(o||null!==n&&void 0!==n&&n[r.id]){var i,a;const{x:o,y:s,z:l}=If(r,e,(0,b.A)((0,b.A)({},r.position),{},{z:null!==(i=null===(a=r[Qu])||void 0===a?void 0:a.z)&&void 0!==i?i:0}),t);r.positionAbsolute={x:o,y:s},r[Qu].z=l,null!==n&&void 0!==n&&n[r.id]&&(r[Qu].isParent=!0)}}))}function Df(e,t,n,r){const o=new Map,i={},a=r?1e3:0;return e.forEach((e=>{var n;const r=(Ju(e.zIndex)?e.zIndex:0)+(e.selected?a:0),s=t.get(e.id),l=(0,b.A)((0,b.A)({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),c=e.parentNode||e.parentId;c&&(i[c]=!0);const d=(null===s||void 0===s?void 0:s.type)&&(null===s||void 0===s?void 0:s.type)!==e.type;Object.defineProperty(l,Qu,{enumerable:!1,value:{handleBounds:d||null===s||void 0===s||null===(n=s[Qu])||void 0===n?void 0:n.handleBounds,z:r}}),o.set(e.id,l)})),Rf(o,n,i),o}function Lf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:u}=e(),p=t.initial&&!c&&d;if(s&&l&&(p||!t.initial)){const e=n().filter((e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some((t=>t.id===e.id)):r})),c=e.every((e=>e.width&&e.height));if(e.length>0&&c){var f,h,m;const n=Wp(e,u),{x:c,y:d,zoom:p}=Kp(n,r,o,null!==(f=t.minZoom)&&void 0!==f?f:i,null!==(h=t.maxZoom)&&void 0!==h?h:a,null!==(m=t.padding)&&void 0!==m?m:.1),g=tu.translate(c,d).scale(p);return"number"===typeof t.duration&&t.duration>0?s.transform(Gp(l,t.duration),g):s.transform(l,g),!0}}return!1}function Ff(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,(0,b.A)((0,b.A)({},n),{},{[Qu]:n[Qu],selected:e.selected}))})),new Map(t)}function Bf(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function zf(e){let{changedNodes:t,changedEdges:n,get:r,set:o}=e;const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:d}=r();null!==t&&void 0!==t&&t.length&&(c&&o({nodeInternals:Ff(t,i)}),null===s||void 0===s||s(t)),null!==n&&void 0!==n&&n.length&&(d&&o({edges:Bf(n,a)}),null===l||void 0===l||l(n))}const Uf=()=>{},Vf={zoomIn:Uf,zoomOut:Uf,zoomTo:Uf,getZoom:()=>1,setViewport:Uf,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Uf,fitBounds:Uf,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Wf=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function Hf(){const t=(()=>{const t=Du(),{d3Zoom:n,d3Selection:r}=Ru(Wf,gl);return(0,e.useMemo)((()=>r&&n?{zoomIn:e=>n.scaleBy(Gp(r,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>n.scaleBy(Gp(r,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(Gp(r,null===t||void 0===t?void 0:t.duration),e),getZoom:()=>t.getState().transform[2],setViewport:(e,o)=>{var i,a,s;const[l,c,d]=t.getState().transform,u=tu.translate(null!==(i=e.x)&&void 0!==i?i:l,null!==(a=e.y)&&void 0!==a?a:c).scale(null!==(s=e.zoom)&&void 0!==s?s:d);n.transform(Gp(r,null===o||void 0===o?void 0:o.duration),u)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>Lf(t.getState,e),setCenter:(e,o,i)=>{const{width:a,height:s,maxZoom:l}=t.getState(),c="undefined"!==typeof(null===i||void 0===i?void 0:i.zoom)?i.zoom:l,d=a/2-e*c,u=s/2-o*c,p=tu.translate(d,u).scale(c);n.transform(Gp(r,null===i||void 0===i?void 0:i.duration),p)},fitBounds:(e,o)=>{var i;const{width:a,height:s,minZoom:l,maxZoom:c}=t.getState(),{x:d,y:u,zoom:p}=Kp(e,a,s,l,c,null!==(i=null===o||void 0===o?void 0:o.padding)&&void 0!==i?i:.1),f=tu.translate(d,u).scale(p);n.transform(Gp(r,null===o||void 0===o?void 0:o.duration),f)},project:e=>{const{transform:n,snapToGrid:r,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),zp(e,n,r,o)},screenToFlowPosition:e=>{const{transform:n,snapToGrid:r,snapGrid:o,domNode:i}=t.getState();if(!i)return e;const{x:a,y:s}=i.getBoundingClientRect(),l={x:e.x-a,y:e.y-s};return zp(l,n,r,o)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:o,y:i}=r.getBoundingClientRect(),a=Up(e,n);return{x:a.x+o,y:a.y+i}},viewportInitialized:!0}:Vf),[n,r])})(),n=Du(),r=(0,e.useCallback)((()=>n.getState().getNodes().map((e=>(0,b.A)({},e)))),[]),o=(0,e.useCallback)((e=>n.getState().nodeInternals.get(e)),[]),i=(0,e.useCallback)((()=>{const{edges:e=[]}=n.getState();return e.map((e=>(0,b.A)({},e)))}),[]),a=(0,e.useCallback)((e=>{const{edges:t=[]}=n.getState();return t.find((t=>t.id===e))}),[]),s=(0,e.useCallback)((e=>{const{getNodes:t,setNodes:r,hasDefaultNodes:o,onNodesChange:i}=n.getState(),a=t(),s="function"===typeof e?e(a):e;if(o)r(s);else if(i){i(0===s.length?a.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"}))))}}),[]),l=(0,e.useCallback)((e=>{const{edges:t=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i}=n.getState(),a="function"===typeof e?e(t):e;if(o)r(a);else if(i){i(0===a.length?t.map((e=>({type:"remove",id:e.id}))):a.map((e=>({item:e,type:"reset"}))))}}),[]),c=(0,e.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{getNodes:r,setNodes:o,hasDefaultNodes:i,onNodesChange:a}=n.getState();if(i){o([...r(),...t])}else if(a){a(t.map((e=>({item:e,type:"add"}))))}}),[]),d=(0,e.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{edges:r=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:a}=n.getState();if(i)o([...r,...t]);else if(a){a(t.map((e=>({item:e,type:"add"}))))}}),[]),u=(0,e.useCallback)((()=>{const{getNodes:e,edges:t=[],transform:r}=n.getState(),[o,i,a]=r;return{nodes:e().map((e=>(0,b.A)({},e))),edges:t.map((e=>(0,b.A)({},e))),viewport:{x:o,y:i,zoom:a}}}),[]),p=(0,e.useCallback)((e=>{let{nodes:t,edges:r}=e;const{nodeInternals:o,getNodes:i,edges:a,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:d,onNodesChange:u,onEdgesChange:p}=n.getState(),f=(t||[]).map((e=>e.id)),h=(r||[]).map((e=>e.id)),m=i().reduce(((e,t)=>{const n=t.parentNode||t.parentId,r=!f.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!==typeof t.deletable||t.deletable)&&(f.includes(t.id)||r)&&e.push(t),e}),[]),g=a.filter((e=>"boolean"!==typeof e.deletable||e.deletable)),v=g.filter((e=>h.includes(e.id)));if(m||v){const e=qp(m,g),t=[...v,...e],r=t.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((l||s)&&(l&&n.setState({edges:a.filter((e=>!r.includes(e.id)))}),s&&(m.forEach((e=>{o.delete(e.id)})),n.setState({nodeInternals:new Map(o)}))),r.length>0&&(null===d||void 0===d||d(t),p&&p(r.map((e=>({id:e,type:"remove"}))))),m.length>0&&(null===c||void 0===c||c(m),u)){u(m.map((e=>({id:e.id,type:"remove"}))))}}}),[]),f=(0,e.useCallback)((e=>{const t=Ju((r=e).width)&&Ju(r.height)&&Ju(r.x)&&Ju(r.y);var r;const o=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!o)return[null,null,t];return[t?e:$u(o),o,t]}),[]),h=(0,e.useCallback)((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[o,i,a]=f(e);return o?(r||n.getState().getNodes()).filter((e=>{if(!a&&(e.id===i.id||!e.positionAbsolute))return!1;const n=$u(e),r=Zu(n,o);return t&&r>0||r>=o.width*o.height})):[]}),[]),m=(0,e.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=f(e);if(!r)return!1;const o=Zu(r,t);return n&&o>0||o>=r.width*r.height}),[]);return(0,e.useMemo)((()=>(0,b.A)((0,b.A)({},t),{},{getNodes:r,getNode:o,getEdges:i,getEdge:a,setNodes:s,setEdges:l,addNodes:c,addEdges:d,toObject:u,deleteElements:p,getIntersectingNodes:h,isNodeIntersecting:m})),[t,r,o,i,a,s,l,c,d,u,p,h,m])}const qf={actInsideInputWithModifier:!1};const Kf={position:"absolute",width:"100%",height:"100%",top:0,left:0},Gf=e=>({x:e.x,y:e.y,zoom:e.k}),Yf=(e,t)=>e.target.closest(".".concat(t)),Xf=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),$f=e=>{const t=e.ctrlKey&&ip()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},Zf=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Jf=t=>{let{onMove:n,onMoveStart:r,onMoveEnd:o,onPaneContextMenu:i,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:d=pp.Free,zoomOnDoubleClick:u=!0,elementsSelectable:p,panOnDrag:f=!0,defaultViewport:h,translateExtent:m,minZoom:g,maxZoom:v,zoomActivationKeyCode:x,preventScrolling:b=!0,children:y,noWheelClassName:w,noPanClassName:j}=t;const N=(0,e.useRef)(),S=Du(),A=(0,e.useRef)(!1),E=(0,e.useRef)(!1),k=(0,e.useRef)(null),C=(0,e.useRef)({x:0,y:0,zoom:0}),{d3Zoom:_,d3Selection:P,d3ZoomHandler:O,userSelectionActive:T}=Ru(Zf,gl),M=Of(x),I=(0,e.useRef)(0),R=(0,e.useRef)(!1),D=(0,e.useRef)();return function(t){const n=Du();(0,e.useEffect)((()=>{let e;const r=()=>{if(!t.current)return;const e=Uu(t.current);var r,o;0!==e.height&&0!==e.width||null===(r=(o=n.getState()).onError)||void 0===r||r.call(o,"004",Eu()),n.setState({width:e.width||500,height:e.height||500})};return r(),window.addEventListener("resize",r),t.current&&(e=new ResizeObserver((()=>r())),e.observe(t.current)),()=>{window.removeEventListener("resize",r),e&&t.current&&e.unobserve(t.current)}}),[])}(k),(0,e.useEffect)((()=>{if(k.current){const e=k.current.getBoundingClientRect(),t=uu().scaleExtent([g,v]).translateExtent(m),n=Dc(k.current).call(t),r=tu.translate(h.x,h.y).scale(Vu(h.zoom,g,v)),o=[[0,0],[e.width,e.height]],i=t.constrain()(r,o,m);t.transform(n,i),t.wheelDelta($f),S.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:k.current.closest(".react-flow")})}}),[]),(0,e.useEffect)((()=>{P&&_&&(!l||M||T?"undefined"!==typeof O&&P.on("wheel.zoom",(function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||Yf(e,w))return null;e.preventDefault(),O.call(this,e,t)}),{passive:!1}):P.on("wheel.zoom",(e=>{if(Yf(e,w))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=P.property("__zoom").k||1;if(e.ctrlKey&&s){const n=qc(e),r=$f(e),o=t*Math.pow(2,r);return void _.scaleTo(P,o,n,e)}const i=1===e.deltaMode?20:1;let a=d===pp.Vertical?0:e.deltaX*i,l=d===pp.Horizontal?0:e.deltaY*i;!ip()&&e.shiftKey&&d!==pp.Vertical&&(a=e.deltaY*i,l=0),_.translateBy(P,-a/t*c,-l/t*c,{internal:!0});const u=Gf(P.property("__zoom")),{onViewportChangeStart:p,onViewportChange:f,onViewportChangeEnd:h}=S.getState();clearTimeout(D.current),R.current||(R.current=!0,null===r||void 0===r||r(e,u),null===p||void 0===p||p(u)),R.current&&(null===n||void 0===n||n(e,u),null===f||void 0===f||f(u),D.current=setTimeout((()=>{null===o||void 0===o||o(e,u),null===h||void 0===h||h(u),R.current=!1}),150))}),{passive:!1}))}),[T,l,d,P,_,O,M,s,b,w,r,n,o]),(0,e.useEffect)((()=>{_&&_.on("start",(e=>{var t,n;if(!e.sourceEvent||e.sourceEvent.internal)return null;I.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:o}=S.getState(),i=Gf(e.transform);A.current=!0,C.current=i,"mousedown"===(null===(n=e.sourceEvent)||void 0===n?void 0:n.type)&&S.setState({paneDragging:!0}),null===o||void 0===o||o(i),null===r||void 0===r||r(e.sourceEvent,i)}))}),[_,r]),(0,e.useEffect)((()=>{_&&(T&&!A.current?_.on("zoom",null):T||_.on("zoom",(e=>{var t,r;const{onViewportChange:o}=S.getState();if(S.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),E.current=!(!i||!Xf(f,null!==(t=I.current)&&void 0!==t?t:0)),(n||o)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const t=Gf(e.transform);null===o||void 0===o||o(t),null===n||void 0===n||n(e.sourceEvent,t)}})))}),[T,_,n,f,i]),(0,e.useEffect)((()=>{_&&_.on("end",(e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=S.getState();if(A.current=!1,S.setState({paneDragging:!1}),i&&Xf(f,null!==(t=I.current)&&void 0!==t?t:0)&&!E.current&&i(e.sourceEvent),E.current=!1,(o||n)&&(r=C.current,a=e.transform,r.x!==a.x||r.y!==a.y||r.zoom!==a.k)){const t=Gf(e.transform);C.current=t,clearTimeout(N.current),N.current=setTimeout((()=>{null===n||void 0===n||n(t),null===o||void 0===o||o(e.sourceEvent,t)}),l?150:0)}var r,a}))}),[_,l,f,o,i]),(0,e.useEffect)((()=>{_&&_.filter((e=>{const t=M||a,n=s&&e.ctrlKey;if((!0===f||Array.isArray(f)&&f.includes(1))&&1===e.button&&"mousedown"===e.type&&(Yf(e,"react-flow__node")||Yf(e,"react-flow__edge")))return!0;if(!f&&!t&&!l&&!u&&!s)return!1;if(T)return!1;if(!u&&"dblclick"===e.type)return!1;if(Yf(e,w)&&"wheel"===e.type)return!1;if(Yf(e,j)&&("wheel"!==e.type||l&&"wheel"===e.type&&!M))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!f&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(f)&&!f.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(f)&&f.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r}))}),[T,_,a,s,l,u,f,p,M]),e.createElement("div",{className:"react-flow__renderer",ref:k,style:Kf},y)},Qf=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eh(){const{userSelectionActive:t,userSelectionRect:n}=Ru(Qf,gl);return t&&n?e.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function th(e,t){const n=t.parentNode||t.parentId,r=e.find((e=>e.id===n));if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var o,i;if(r.style=(0,b.A)({},r.style)||{},r.style.width=null!==(o=r.style.width)&&void 0!==o?o:r.width,r.style.height=null!==(i=r.style.height)&&void 0!==i?i:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function nh(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const r=e.filter((e=>e.id===n.id));if(0===r.length)return t.push(n),t;const o=(0,b.A)({},n);for(const e of r)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(o.position=e.position),"undefined"!==typeof e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(o.dragging=e.dragging),o.expandParent&&th(t,o);break;case"dimensions":"undefined"!==typeof e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(o.style=(0,b.A)((0,b.A)({},o.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&th(t,o);break;case"remove":return t}return t.push(o),t}),n)}function rh(e,t){return nh(e,t)}const oh=(e,t)=>({id:e,type:"select",selected:t});function ih(e,t){return e.reduce(((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(oh(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(oh(n.id,!1))),e}),[])}const ah=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},sh=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),lh=(0,e.memo)((t=>{let{isSelecting:n,selectionMode:r=hp.Full,panOnDrag:o,onSelectionStart:i,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:u,onPaneMouseLeave:p,children:f}=t;const h=(0,e.useRef)(null),m=Du(),g=(0,e.useRef)(0),v=(0,e.useRef)(0),x=(0,e.useRef)(),{userSelectionActive:y,elementsSelectable:w,dragging:j}=Ru(sh,gl),N=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,v.current=0},S=e=>{null===s||void 0===s||s(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=c?e=>c(e):void 0,E=w&&(n||y);return e.createElement("div",{className:al(["react-flow__pane",{dragging:j,selection:n}]),onClick:E?void 0:ah(S,h),onContextMenu:ah((e=>{Array.isArray(o)&&null!==o&&void 0!==o&&o.includes(2)?e.preventDefault():null===l||void 0===l||l(e)}),h),onWheel:ah(A,h),onMouseEnter:E?void 0:d,onMouseDown:E?e=>{const{resetSelectedElements:t,domNode:r}=m.getState();if(x.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!w||!n||0!==e.button||e.target!==h.current||!x.current)return;const{x:o,y:a}=op(e,x.current);t(),m.setState({userSelectionRect:{width:0,height:0,startX:o,startY:a,x:o,y:a}}),null===i||void 0===i||i(e)}:void 0,onMouseMove:E?e=>{var t,o;const{userSelectionRect:i,nodeInternals:a,edges:s,transform:l,onNodesChange:c,onEdgesChange:d,nodeOrigin:u,getNodes:p}=m.getState();if(!n||!x.current||!i)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const f=op(e,x.current),h=null!==(t=i.startX)&&void 0!==t?t:0,y=null!==(o=i.startY)&&void 0!==o?o:0,w=(0,b.A)((0,b.A)({},i),{},{x:f.x<h?f.x:h,y:f.y<y?f.y:y,width:Math.abs(f.x-h),height:Math.abs(f.y-y)}),j=p(),N=Hp(a,w,l,r===hp.Partial,!0,u),S=qp(N,s).map((e=>e.id)),A=N.map((e=>e.id));if(g.current!==A.length){g.current=A.length;const e=ih(j,A);e.length&&(null===c||void 0===c||c(e))}if(v.current!==S.length){v.current=S.length;const e=ih(s,S);e.length&&(null===d||void 0===d||d(e))}m.setState({userSelectionRect:w})}:u,onMouseUp:E?e=>{if(0!==e.button)return;const{userSelectionRect:t}=m.getState();!y&&t&&e.target===h.current&&(null===S||void 0===S||S(e)),m.setState({nodesSelectionActive:g.current>0}),N(),null===a||void 0===a||a(e)}:void 0,onMouseLeave:E?e=>{y&&(m.setState({nodesSelectionActive:g.current>0}),null===a||void 0===a||a(e)),N()}:p,ref:h,style:Kf},f,e.createElement(eh,null))}));function ch(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||ch(r,t))}function dh(e,t,n){let r=e;do{var o;if(null!==(o=r)&&void 0!==o&&o.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function uh(e,t,n,r){return Array.from(e.values()).filter((n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!ch(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable))).map((e=>{var t,r,o,i;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(o=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==o?o:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}}))}function ph(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0;const a=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let s=a;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:i}=Vp(t,o).positionAbsolute;s=[[e.extent[0][0]+r,e.extent[0][1]+i],[e.extent[1][0]+r,e.extent[1][1]+i]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:i}=Vp(t,o).positionAbsolute;s=t&&Ju(r)&&Ju(i)&&Ju(t.width)&&Ju(t.height)?[[r+e.width*o[0],i+e.height*o[1]],[r+t.width-e.width+e.width*o[0],i+t.height-e.height+e.height*o[1]]]:s}else null===i||void 0===i||i("005",ku()),s=a;let c={x:0,y:0};if(l){const e=n.get(l);c=Vp(e,o).positionAbsolute}const d=s&&"parent"!==s?Wu(t,s):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function fh(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const o=n.map((e=>{const t=r.get(e.id);return(0,b.A)((0,b.A)({},t),{},{position:e.position,positionAbsolute:e.positionAbsolute})}));return[t?o.find((e=>e.id===t)):o[0],o]}lh.displayName="Pane";const hh=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),a=t.getBoundingClientRect(),s=a.width*r[0],l=a.height*r[1];return i.map((e=>{const t=e.getBoundingClientRect();return(0,b.A)({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-s)/n,y:(t.top-a.top-l)/n},Uu(e))}))};function mh(e,t,n){return void 0===n?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,(0,b.A)({},o))}}function gh(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e;const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:l,onError:c}=n.getState(),d=l.get(t);d?(n.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&s)&&(a({nodes:[d],edges:[]}),requestAnimationFrame((()=>{var e;return null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.blur()}))):i([t])):null===c||void 0===c||c("012",Mu(t))}function vh(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function xh(t){let{nodeRef:n,disabled:r=!1,noDragClassName:o,handleSelector:i,nodeId:a,isSelectable:s,selectNodesOnDrag:l}=t;const c=Du(),[d,u]=(0,e.useState)(!1),p=(0,e.useRef)([]),f=(0,e.useRef)({x:null,y:null}),h=(0,e.useRef)(0),m=(0,e.useRef)(null),g=(0,e.useRef)({x:0,y:0}),v=(0,e.useRef)(null),x=(0,e.useRef)(!1),y=(0,e.useRef)(!1),w=(0,e.useRef)(!1),j=function(){const t=Du();return(0,e.useCallback)((e=>{let{sourceEvent:n}=e;const{transform:r,snapGrid:o,snapToGrid:i}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(s-r[1])/r[2]};return(0,b.A)({xSnapped:i?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:i?o[1]*Math.round(l.y/o[1]):l.y},l)}),[])}();return(0,e.useEffect)((()=>{if(null!==n&&void 0!==n&&n.current){const e=Dc(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:o,onSelectionDrag:i,updateNodePositions:s,nodeExtent:l,snapGrid:d,snapToGrid:h,nodeOrigin:m,onError:g}=c.getState();f.current={x:t,y:n};let x=!1,b={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&l){const e=Wp(p.current,m);b=Yu(e)}if(p.current=p.current.map((e=>{const o={x:t-e.distance.x,y:n-e.distance.y};h&&(o.x=d[0]*Math.round(o.x/d[0]),o.y=d[1]*Math.round(o.y/d[1]));const i=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var a,s;p.current.length>1&&l&&!e.extent&&(i[0][0]=e.positionAbsolute.x-b.x+l[0][0],i[1][0]=e.positionAbsolute.x+(null!==(a=e.width)&&void 0!==a?a:0)-b.x2+l[1][0],i[0][1]=e.positionAbsolute.y-b.y+l[0][1],i[1][1]=e.positionAbsolute.y+(null!==(s=e.height)&&void 0!==s?s:0)-b.y2+l[1][1]);const c=ph(e,o,r,i,m,g);return x=x||e.position.x!==c.position.x||e.position.y!==c.position.y,e.position=c.position,e.positionAbsolute=c.positionAbsolute,e})),!x)return;s(p.current,!0,!0),u(!0);const y=a?o:vh(i);if(y&&v.current){const[e,t]=fh({nodeId:a,dragItems:p.current,nodeInternals:r});y(v.current,e,t)}},d=()=>{if(!m.current)return;const[e,n]=qu(g.current,m.current);if(0!==e||0!==n){var r,o;const{transform:i,panBy:a}=c.getState();f.current.x=(null!==(r=f.current.x)&&void 0!==r?r:0)-e/i[2],f.current.y=(null!==(o=f.current.y)&&void 0!==o?o:0)-n/i[2],a({x:e,y:n})&&t(f.current)}h.current=requestAnimationFrame(d)},b=e=>{const{nodeInternals:t,multiSelectionActive:r,nodesDraggable:o,unselectNodesAndEdges:i,onNodeDragStart:d,onSelectionDragStart:u}=c.getState();y.current=!0;const h=a?d:vh(u);var m;l&&s||r||!a||(null!==(m=t.get(a))&&void 0!==m&&m.selected||i());a&&s&&l&&gh({id:a,store:c,nodeRef:n});const g=j(e);if(f.current=g,p.current=uh(t,o,g,a),h&&p.current){const[n,r]=fh({nodeId:a,dragItems:p.current,nodeInternals:t});h(e.sourceEvent,n,r)}};if(!r){const r=xu().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&b(e),w.current=!1;const r=j(e);f.current=r,m.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,g.current=op(e.sourceEvent,m.current)})).on("drag",(e=>{const n=j(e),{autoPanOnNodeDrag:r,nodeDragThreshold:o}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!x.current&&y.current&&r&&(x.current=!0,d()),!y.current){var i,a,s,l;const t=n.xSnapped-(null!==(i=null===f||void 0===f||null===(a=f.current)||void 0===a?void 0:a.x)&&void 0!==i?i:0),r=n.ySnapped-(null!==(s=null===f||void 0===f||null===(l=f.current)||void 0===l?void 0:l.y)&&void 0!==s?s:0);Math.sqrt(t*t+r*r)>o&&b(e)}(f.current.x!==n.xSnapped||f.current.y!==n.ySnapped)&&p.current&&y.current&&(v.current=e.sourceEvent,g.current=op(e.sourceEvent,m.current),t(n))}})).on("end",(e=>{if(y.current&&!w.current&&(u(!1),x.current=!1,y.current=!1,cancelAnimationFrame(h.current),p.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:o}=c.getState(),i=a?r:vh(o);if(t(p.current,!1,!1),i){const[t,r]=fh({nodeId:a,dragItems:p.current,nodeInternals:n});i(e.sourceEvent,t,r)}}})).filter((e=>{const t=e.target;return!e.button&&(!o||!dh(t,".".concat(o),n))&&(!i||dh(t,i,n))}));return e.call(r),()=>{e.on(".drag",null)}}e.on(".drag",null)}}),[n,r,o,i,s,c,a,l,j]),d}function bh(){const t=Du();return(0,e.useCallback)((e=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:o,getNodes:i,snapToGrid:a,snapGrid:s,onError:l,nodesDraggable:c}=t.getState(),d=i().filter((e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable))),u=a?s[0]:5,p=a?s[1]:5,f=e.isShiftPressed?4:1,h=e.x*u*f,m=e.y*p*f;o(d.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+h,y:e.positionAbsolute.y+m};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:o,position:i}=ph(e,t,n,r,void 0,l);e.position=i,e.positionAbsolute=o}return e})),!0,!1)}),[])}const yh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wh=t=>{const n=n=>{let{id:r,type:o,data:i,xPos:a,yPos:s,xPosOrigin:l,yPosOrigin:c,selected:d,onClick:u,onMouseEnter:p,onMouseMove:f,onMouseLeave:h,onContextMenu:m,onDoubleClick:g,style:v,className:x,isDraggable:y,isSelectable:w,isConnectable:j,isFocusable:N,selectNodesOnDrag:S,sourcePosition:A,targetPosition:E,hidden:k,resizeObserver:C,dragHandle:_,zIndex:P,isParent:O,noDragClassName:T,noPanClassName:M,initialized:I,disableKeyboardA11y:R,ariaLabel:D,rfId:L,hasHandleBounds:F}=n;const B=Du(),z=(0,e.useRef)(null),U=(0,e.useRef)(null),V=(0,e.useRef)(A),W=(0,e.useRef)(E),H=(0,e.useRef)(o),q=w||y||u||p||f||h,K=bh(),G=mh(r,B.getState,p),Y=mh(r,B.getState,f),X=mh(r,B.getState,h),$=mh(r,B.getState,m),Z=mh(r,B.getState,g);(0,e.useEffect)((()=>()=>{U.current&&(null===C||void 0===C||C.unobserve(U.current),U.current=null)}),[]),(0,e.useEffect)((()=>{if(z.current&&!k){const e=z.current;I&&F&&U.current===e||(U.current&&(null===C||void 0===C||C.unobserve(U.current)),null===C||void 0===C||C.observe(e),U.current=e)}}),[k,I,F]),(0,e.useEffect)((()=>{const e=H.current!==o,t=V.current!==A,n=W.current!==E;z.current&&(e||t||n)&&(e&&(H.current=o),t&&(V.current=A),n&&(W.current=E),B.getState().updateNodeDimensions([{id:r,nodeElement:z.current,forceUpdate:!0}]))}),[r,o,A,E]);const J=xh({nodeRef:z,disabled:k||!y,noDragClassName:T,handleSelector:_,nodeId:r,isSelectable:w,selectNodesOnDrag:S});return k?null:e.createElement("div",{className:al(["react-flow__node","react-flow__node-".concat(o),{[M]:y},x,{selected:d,selectable:w,parent:O,dragging:J}]),ref:z,style:(0,b.A)({zIndex:P,transform:"translate(".concat(l,"px,").concat(c,"px)"),pointerEvents:q?"all":"none",visibility:I?"visible":"hidden"},v),"data-id":r,"data-testid":"rf__node-".concat(r),onMouseEnter:G,onMouseMove:Y,onMouseLeave:X,onContextMenu:$,onClick:e=>{const{nodeDragThreshold:t}=B.getState();if(w&&(!S||!y||t>0)&&gh({id:r,store:B,nodeRef:z}),u){const t=B.getState().nodeInternals.get(r);t&&u(e,(0,b.A)({},t))}},onDoubleClick:Z,onKeyDown:N?e=>{if(!np(e)&&!R)if(ep.includes(e.key)&&w){const t="Escape"===e.key;gh({id:r,store:B,unselect:t,nodeRef:z})}else y&&d&&Object.prototype.hasOwnProperty.call(yh,e.key)&&(B.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~a,", y: ").concat(~~s)}),K({x:yh[e.key].x,y:yh[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":R?void 0:"".concat(Ef,"-").concat(L),"aria-label":D},e.createElement(Dp,{value:r},e.createElement(t,{id:r,data:i,type:o,xPos:a,yPos:s,selected:d,isConnectable:j,sourcePosition:A,targetPosition:E,dragging:J,dragHandle:_,zIndex:P})))};return n.displayName="NodeWrapper",(0,e.memo)(n)};const jh=e=>{const t=e.getNodes().filter((e=>e.selected));return(0,b.A)((0,b.A)({},Wp(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var Nh=(0,e.memo)((function(t){let{onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:o}=t;const i=Du(),{width:a,height:s,x:l,y:c,transformString:d,userSelectionActive:u}=Ru(jh,gl),p=bh(),f=(0,e.useRef)(null);if((0,e.useEffect)((()=>{var e;o||(null===(e=f.current)||void 0===e||e.focus({preventScroll:!0}))}),[o]),xh({nodeRef:f}),u||!a||!s)return null;const h=n?e=>{const t=i.getState().getNodes().filter((e=>e.selected));n(e,t)}:void 0;return e.createElement("div",{className:al(["react-flow__nodesselection","react-flow__container",r]),style:{transform:d}},e.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:o?void 0:-1,onKeyDown:o?void 0:e=>{Object.prototype.hasOwnProperty.call(yh,e.key)&&p({x:yh[e.key].x,y:yh[e.key].y,isShiftPressed:e.shiftKey})},style:{width:a,height:s,top:c,left:l}}))}));const Sh=e=>e.nodesSelectionActive,Ah=t=>{let{children:n,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:c,onMove:d,onMoveStart:u,onMoveEnd:p,selectionKeyCode:f,selectionOnDrag:h,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:x,panActivationKeyCode:b,zoomActivationKeyCode:y,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:S,panOnScrollSpeed:A,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:C,defaultViewport:_,translateExtent:P,minZoom:O,maxZoom:T,preventScrolling:M,onSelectionContextMenu:I,noWheelClassName:R,noPanClassName:D,disableKeyboardA11y:L}=t;const F=Ru(Sh),B=Of(f),z=Of(b),U=z||C,V=z||S,W=B||h&&!0!==U;return(t=>{let{deleteKeyCode:n,multiSelectionKeyCode:r}=t;const o=Du(),{deleteElements:i}=Hf(),a=Of(n,qf),s=Of(r);(0,e.useEffect)((()=>{if(a){const{edges:e,getNodes:t}=o.getState(),n=t().filter((e=>e.selected)),r=e.filter((e=>e.selected));i({nodes:n,edges:r}),o.setState({nodesSelectionActive:!1})}}),[a]),(0,e.useEffect)((()=>{o.setState({multiSelectionActive:s})}),[s])})({deleteKeyCode:c,multiSelectionKeyCode:x}),e.createElement(Jf,{onMove:d,onMoveStart:u,onMoveEnd:p,onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:V,panOnScrollSpeed:A,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:!B&&U,defaultViewport:_,translateExtent:P,minZoom:O,maxZoom:T,zoomActivationKeyCode:y,preventScrolling:M,noWheelClassName:R,noPanClassName:D},e.createElement(lh,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:U,isSelecting:!!W,selectionMode:m},n,F&&e.createElement(Nh,{onSelectionContextMenu:I,noPanClassName:D,disableKeyboardA11y:L})))};Ah.displayName="FlowRenderer";var Eh=(0,e.memo)(Ah);function kh(e){const t={input:wh(e.input||df),default:wh(e.default||lf),output:wh(e.output||pf),group:wh(e.group||ff)},n=Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=wh(e[n]||lf),t)),{});return(0,b.A)((0,b.A)({},t),n)}const Ch=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),_h=t=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Ru(Ch,gl),l=(c=t.onlyRenderVisibleElements,Ru((0,e.useCallback)((e=>c?Hp(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[c])));var c;const d=(0,e.useRef)(),u=(0,e.useMemo)((()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));a(t)}));return d.current=e,e}),[]);return(0,e.useEffect)((()=>()=>{var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.disconnect()}),[]),e.createElement("div",{className:"react-flow__nodes",style:Kf},l.map((a=>{var l,c,d,p,f,h,m,g;let v=a.type||"default";t.nodeTypes[v]||(null===s||void 0===s||s("003",Au(v)),v="default");const x=t.nodeTypes[v]||t.nodeTypes.default,b=!!(a.draggable||n&&"undefined"===typeof a.draggable),y=!!(a.selectable||i&&"undefined"===typeof a.selectable),w=!!(a.connectable||r&&"undefined"===typeof a.connectable),j=!!(a.focusable||o&&"undefined"===typeof a.focusable),N=t.nodeExtent?Wu(a.positionAbsolute,t.nodeExtent):a.positionAbsolute,S=null!==(l=null===N||void 0===N?void 0:N.x)&&void 0!==l?l:0,A=null!==(c=null===N||void 0===N?void 0:N.y)&&void 0!==c?c:0,E=(e=>{let{x:t,y:n,width:r,height:o,origin:i}=e;return r&&o?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-r*i[0],y:n-o*i[1]}:{x:t,y:n}})({x:S,y:A,width:null!==(d=a.width)&&void 0!==d?d:0,height:null!==(p=a.height)&&void 0!==p?p:0,origin:t.nodeOrigin});return e.createElement(x,{key:a.id,id:a.id,className:a.className,style:a.style,type:v,data:a.data,sourcePosition:a.sourcePosition||yp.Bottom,targetPosition:a.targetPosition||yp.Top,hidden:a.hidden,xPos:S,yPos:A,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!a.selected,isDraggable:b,isSelectable:y,isConnectable:w,isFocusable:j,resizeObserver:u,dragHandle:a.dragHandle,zIndex:null!==(f=null===(h=a[Qu])||void 0===h?void 0:h.z)&&void 0!==f?f:0,isParent:!(null===(m=a[Qu])||void 0===m||!m.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!a.width&&!!a.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!(null===(g=a[Qu])||void 0===g||!g.handleBounds)})})))};_h.displayName="NodeRenderer";var Ph=(0,e.memo)(_h);const Oh=(e,t,n)=>n===yp.Left?e-t:n===yp.Right?e+t:e,Th=(e,t,n)=>n===yp.Top?e-t:n===yp.Bottom?e+t:e,Mh="react-flow__edgeupdater",Ih=t=>{let{position:n,centerX:r,centerY:o,radius:i=10,onMouseDown:a,onMouseEnter:s,onMouseOut:l,type:c}=t;return e.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:l,className:al([Mh,"".concat(Mh,"-").concat(c)]),cx:Oh(r,i,n),cy:Th(o,i,n),r:i,stroke:"transparent",fill:"transparent"})},Rh=()=>!0;var Dh=t=>{const n=n=>{let{id:r,className:o,type:i,data:a,onClick:s,onEdgeDoubleClick:l,selected:c,animated:d,label:u,labelStyle:p,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:v,source:x,target:b,sourceX:y,sourceY:w,targetX:j,targetY:N,sourcePosition:S,targetPosition:A,elementsSelectable:E,hidden:k,sourceHandleId:C,targetHandleId:_,onContextMenu:P,onMouseEnter:O,onMouseMove:T,onMouseLeave:M,reconnectRadius:I,onReconnect:R,onReconnectStart:D,onReconnectEnd:L,markerEnd:F,markerStart:B,rfId:z,ariaLabel:U,isFocusable:V,isReconnectable:W,pathOptions:H,interactionWidth:q,disableKeyboardA11y:K}=n;const G=(0,e.useRef)(null),[Y,X]=(0,e.useState)(!1),[$,Z]=(0,e.useState)(!1),J=Du(),Q=(0,e.useMemo)((()=>"url('#".concat(Fp(B,z),"')")),[B,z]),ee=(0,e.useMemo)((()=>"url('#".concat(Fp(F,z),"')")),[F,z]);if(k)return null;const te=sp(r,J.getState,l),ne=sp(r,J.getState,P),re=sp(r,J.getState,O),oe=sp(r,J.getState,T),ie=sp(r,J.getState,M),ae=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:o}=J.getState(),i=t?b:x,a=(t?_:C)||null,s=t?"target":"source",l=o||Rh,c=t,d=n.find((e=>e.id===r));Z(!0),null===D||void 0===D||D(e,d,s);tf({event:e,handleId:a,nodeId:i,onConnect:e=>null===R||void 0===R?void 0:R(d,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{Z(!1),null===L||void 0===L||L(e,d,s)}})},se=()=>X(!0),le=()=>X(!1),ce=!E&&!s;return e.createElement("g",{className:al(["react-flow__edge","react-flow__edge-".concat(i),o,{selected:c,animated:d,inactive:ce,updating:Y}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:o,multiSelectionActive:i}=J.getState(),a=t.find((e=>e.id===r));if(a){var l;if(E)if(J.setState({nodesSelectionActive:!1}),a.selected&&i)o({nodes:[],edges:[a]}),null===(l=G.current)||void 0===l||l.blur();else n([r]);s&&s(e,a)}},onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:oe,onMouseLeave:ie,onKeyDown:V?e=>{if(!K&&ep.includes(e.key)&&E){const{unselectNodesAndEdges:n,addSelectedEdges:o,edges:i}=J.getState();var t;if("Escape"===e.key)null===(t=G.current)||void 0===t||t.blur(),n({edges:[i.find((e=>e.id===r))]});else o([r])}}:void 0,tabIndex:V?0:void 0,role:V?"button":"img","data-testid":"rf__edge-".concat(r),"aria-label":null===U?void 0:U||"Edge from ".concat(x," to ").concat(b),"aria-describedby":V?"".concat(kf,"-").concat(z):void 0,ref:G},!$&&e.createElement(t,{id:r,source:x,target:b,selected:c,animated:d,label:u,labelStyle:p,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,data:a,style:v,sourceX:y,sourceY:w,targetX:j,targetY:N,sourcePosition:S,targetPosition:A,sourceHandleId:C,targetHandleId:_,markerStart:Q,markerEnd:ee,pathOptions:H,interactionWidth:q}),W&&e.createElement(e.Fragment,null,("source"===W||!0===W)&&e.createElement(Ih,{position:S,centerX:y,centerY:w,radius:I,onMouseDown:e=>ae(e,!0),onMouseEnter:se,onMouseOut:le,type:"source"}),("target"===W||!0===W)&&e.createElement(Ih,{position:A,centerX:j,centerY:N,radius:I,onMouseDown:e=>ae(e,!1),onMouseEnter:se,onMouseOut:le,type:"target"})))};return n.displayName="EdgeWrapper",(0,e.memo)(n)};function Lh(e){const t={default:Dh(e.default||Ip),straight:Dh(e.bezier||Pp),step:Dh(e.step||_p),smoothstep:Dh(e.step||Cp),simplebezier:Dh(e.simplebezier||Np)},n=Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=Dh(e[n]||Ip),t)),{});return(0,b.A)((0,b.A)({},t),n)}function Fh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,o=((null===n||void 0===n?void 0:n.y)||0)+t.y,i=(null===n||void 0===n?void 0:n.width)||t.width,a=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case yp.Top:return{x:r+i/2,y:o};case yp.Right:return{x:r+i,y:o+a/2};case yp.Bottom:return{x:r+i/2,y:o+a};case yp.Left:return{x:r,y:o+a/2}}}function Bh(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function zh(e){var t,n,r,o,i;const a=(null===e||void 0===e||null===(t=e[Qu])||void 0===t?void 0:t.handleBounds)||null,s=a&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)||0,y:(null===e||void 0===e||null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},a,!!s]}const Uh=[{level:0,isMaxLevel:!0,edges:[]}];function Vh(t,n,r){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const o=e.reduce(((e,o)=>{const i=Ju(o.zIndex);let a=i?o.zIndex:0;if(n){var s,l;const e=t.get(o.target),n=t.get(o.source),r=o.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(s=n[Qu])||void 0===s?void 0:s.z)||0,(null===e||void 0===e||null===(l=e[Qu])||void 0===l?void 0:l.z)||0,1e3);a=(i?o.zIndex:0)+(r?c:0)}return e[a]?e[a].push(o):e[a]=[o],r=a>r?a:r,e}),{}),i=Object.entries(o).map((e=>{let[t,n]=e;const o=+t;return{edges:n,level:o,isMaxLevel:o===r}}));return 0===i.length?Uh:i}(Ru((0,e.useCallback)((e=>t?e.edges.filter((t=>{const r=n.get(t.source),o=n.get(t.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:i,targetHeight:a,width:s,height:l,transform:c}=e;const d={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+i),y2:Math.max(t.y+o,n.y+a)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const u=Yu({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),p=Math.max(0,Math.min(u.x2,d.x2)-Math.max(u.x,d.x)),f=Math.max(0,Math.min(u.y2,d.y2)-Math.max(u.y,d.y));return Math.ceil(p*f)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:e.width,height:e.height,transform:e.transform})})):e.edges),[t,n])),n,r)}const Wh={[xp.Arrow]:t=>{let{color:n="none",strokeWidth:r=1}=t;return e.createElement("polyline",{style:{stroke:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[xp.ArrowClosed]:t=>{let{color:n="none",strokeWidth:r=1}=t;return e.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Hh=t=>{let{id:n,type:r,color:o,width:i=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=t;const d=function(t){const n=Du();return(0,e.useMemo)((()=>{var e,r;return Object.prototype.hasOwnProperty.call(Wh,t)?Wh[t]:(null===(e=(r=n.getState()).onError)||void 0===e||e.call(r,"009",_u(t)),null)}),[t])}(r);return d?e.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(i),markerHeight:"".concat(a),viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},e.createElement(d,{color:o,strokeWidth:l})):null},qh=t=>{let{defaultColor:n,rfId:r}=t;const o=Ru((0,e.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce(((e,o)=>([o.markerStart,o.markerEnd].forEach((o=>{if(o&&"object"===typeof o){const i=Fp(o,n);r.includes(i)||(e.push((0,b.A)({id:i,color:o.color||t},o)),r.push(i))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}})({defaultColor:n,rfId:r}),[n,r]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return e.createElement("defs",null,o.map((t=>e.createElement(Hh,{id:t.id,key:t.id,type:t.type,color:t.color,width:t.width,height:t.height,markerUnits:t.markerUnits,strokeWidth:t.strokeWidth,orient:t.orient}))))};qh.displayName="MarkerDefinitions";var Kh=(0,e.memo)(qh);const Gh=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Yh=t=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:r,elevateEdgesOnSelect:o,rfId:i,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:u,onEdgeClick:p,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,children:x,disableKeyboardA11y:b}=t;const{edgesFocusable:y,edgesUpdatable:w,elementsSelectable:j,width:N,height:S,connectionMode:A,nodeInternals:E,onError:k}=Ru(Gh,gl),C=Vh(r,E,o);return N?e.createElement(e.Fragment,null,C.map((t=>{let{level:r,edges:o,isMaxLevel:x}=t;return e.createElement("svg",{key:r,style:{zIndex:r},width:N,height:S,className:"react-flow__edges react-flow__container"},x&&e.createElement(Kh,{defaultColor:n,rfId:i}),e.createElement("g",null,o.map((t=>{var n,r;const[o,x,N]=zh(E.get(t.source)),[S,C,_]=zh(E.get(t.target));if(!N||!_)return null;let P=t.type||"default";a[P]||(null===k||void 0===k||k("011",Tu(P)),P="default");const O=a[P]||a.default,T=A===dp.Strict?C.target:(null!==(n=C.target)&&void 0!==n?n:[]).concat(null!==(r=C.source)&&void 0!==r?r:[]),M=Bh(x.source,t.sourceHandle),I=Bh(T,t.targetHandle),R=(null===M||void 0===M?void 0:M.position)||yp.Bottom,D=(null===I||void 0===I?void 0:I.position)||yp.Top,L=!!(t.focusable||y&&"undefined"===typeof t.focusable),F=t.reconnectable||t.updatable,B="undefined"!==typeof h&&(F||w&&"undefined"===typeof F);if(!M||!I)return null===k||void 0===k||k("008",Pu(M,t)),null;const{sourceX:z,sourceY:U,targetX:V,targetY:W}=((e,t,n,r,o,i)=>{const a=Fh(n,e,t),s=Fh(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}})(o,M,R,S,I,D);return e.createElement(O,{key:t.id,id:t.id,className:al([t.className,s]),type:P,data:t.data,selected:!!t.selected,animated:!!t.animated,hidden:!!t.hidden,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,source:t.source,target:t.target,sourceHandleId:t.sourceHandle,targetHandleId:t.targetHandle,markerEnd:t.markerEnd,markerStart:t.markerStart,sourceX:z,sourceY:U,targetX:V,targetY:W,sourcePosition:R,targetPosition:D,elementsSelectable:j,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:u,onClick:p,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:v,rfId:i,ariaLabel:t.ariaLabel,isFocusable:L,isReconnectable:B,pathOptions:"pathOptions"in t?t.pathOptions:void 0,interactionWidth:t.interactionWidth,disableKeyboardA11y:b})}))))})),x):null};Yh.displayName="EdgeRenderer";var Xh=(0,e.memo)(Yh);const $h=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function Zh(t){let{children:n}=t;const r=Ru($h);return e.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:r}},n)}const Jh={[yp.Left]:yp.Right,[yp.Right]:yp.Left,[yp.Top]:yp.Bottom,[yp.Bottom]:yp.Top},Qh=t=>{var n,r,o,i,a,s,l;let{nodeId:c,handleType:d,style:u,type:p=gp.Bezier,CustomComponent:f,connectionStatus:h}=t;const{fromNode:m,handleId:g,toX:v,toY:x,connectionMode:y}=Ru((0,e.useCallback)((e=>({fromNode:e.nodeInternals.get(c),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode})),[c]),gl),w=null===m||void 0===m||null===(n=m[Qu])||void 0===n?void 0:n.handleBounds;let j=null===w||void 0===w?void 0:w[d];if(y===dp.Loose&&(j=j||(null===w||void 0===w?void 0:w["source"===d?"target":"source"])),!m||!j)return null;const N=g?j.find((e=>e.id===g)):j[0],S=N?N.x+N.width/2:(null!==(r=m.width)&&void 0!==r?r:0)/2,A=N?N.y+N.height/2:null!==(o=m.height)&&void 0!==o?o:0,E=(null!==(i=null===(a=m.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+S,k=(null!==(s=null===(l=m.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+A,C=null===N||void 0===N?void 0:N.position,_=C?Jh[C]:null;if(!C||!_)return null;if(f)return e.createElement(f,{connectionLineType:p,connectionLineStyle:u,fromNode:m,fromHandle:N,fromX:E,fromY:k,toX:v,toY:x,fromPosition:C,toPosition:_,connectionStatus:h});let P="";const O={sourceX:E,sourceY:k,sourcePosition:C,targetX:v,targetY:x,targetPosition:_};return p===gp.Bezier?[P]=Mp(O):p===gp.Step?[P]=kp((0,b.A)((0,b.A)({},O),{},{borderRadius:0})):p===gp.SmoothStep?[P]=kp(O):p===gp.SimpleBezier?[P]=jp(O):P="M".concat(E,",").concat(k," ").concat(v,",").concat(x),e.createElement("path",{d:P,fill:"none",className:"react-flow__connection-path",style:u})};Qh.displayName="ConnectionLine";const em=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function tm(t){let{containerStyle:n,style:r,type:o,component:i}=t;const{nodeId:a,handleType:s,nodesConnectable:l,width:c,height:d,connectionStatus:u}=Ru(em,gl);return!!(a&&s&&c&&l)?e.createElement("svg",{style:n,width:c,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},e.createElement("g",{className:al(["react-flow__connection",u])},e.createElement(Qh,{nodeId:a,handleType:s,style:r,type:o,CustomComponent:i,connectionStatus:u}))):null}function nm(t,n){(0,e.useRef)(null),Du();return(0,e.useMemo)((()=>n(t)),[t])}const rm=t=>{let{nodeTypes:n,edgeTypes:r,onMove:o,onMoveStart:i,onMoveEnd:a,onInit:s,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:d,onEdgeDoubleClick:u,onNodeMouseEnter:p,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:x,connectionLineType:b,connectionLineStyle:y,connectionLineComponent:w,connectionLineContainerStyle:j,selectionKeyCode:N,selectionOnDrag:S,selectionMode:A,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:C,deleteKeyCode:_,onlyRenderVisibleElements:P,elementsSelectable:O,selectNodesOnDrag:T,defaultViewport:M,translateExtent:I,minZoom:R,maxZoom:D,preventScrolling:L,defaultMarkerColor:F,zoomOnScroll:B,zoomOnPinch:z,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:W,zoomOnDoubleClick:H,panOnDrag:q,onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneScroll:$,onPaneContextMenu:Z,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ie,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:de,nodeOrigin:ue,nodeExtent:pe,rfId:fe}=t;const he=nm(n,kh),me=nm(r,Lh);return function(t){const n=Hf(),r=(0,e.useRef)(!1);(0,e.useEffect)((()=>{!r.current&&n.viewportInitialized&&t&&(setTimeout((()=>t(n)),1),r.current=!0)}),[t,n.viewportInitialized])}(s),e.createElement(Eh,{onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneContextMenu:Z,onPaneScroll:$,deleteKeyCode:_,selectionKeyCode:N,selectionOnDrag:S,selectionMode:A,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:C,elementsSelectable:O,onMove:o,onMoveStart:i,onMoveEnd:a,zoomOnScroll:B,zoomOnPinch:z,zoomOnDoubleClick:H,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:W,panOnDrag:q,defaultViewport:M,translateExtent:I,minZoom:R,maxZoom:D,onSelectionContextMenu:g,preventScrolling:L,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:de},e.createElement(Zh,null,e.createElement(Xh,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:u,onlyRenderVisibleElements:P,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,reconnectRadius:ie,defaultMarkerColor:F,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:de,rfId:fe},e.createElement(tm,{style:y,type:b,component:w,containerStyle:j})),e.createElement("div",{className:"react-flow__edgelabel-renderer"}),e.createElement(Ph,{nodeTypes:he,onNodeClick:l,onNodeDoubleClick:d,onNodeMouseEnter:p,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:T,onlyRenderVisibleElements:P,noPanClassName:le,noDragClassName:ae,disableKeyboardA11y:de,nodeOrigin:ue,nodeExtent:pe,rfId:fe})))};rm.displayName="GraphView";var om=(0,e.memo)(rm);const im=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],am={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:im,nodeExtent:im,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:dp.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:tp,isValidConnection:void 0},sm=t=>{let{children:n}=t;const r=(0,e.useRef)(null);return r.current||(r.current=ml(((e,t)=>(0,b.A)((0,b.A)({},am),{},{setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Df(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map((e=>(0,b.A)((0,b.A)({},r),e)))})},setDefaultNodesAndEdges:(n,r)=>{const o="undefined"!==typeof n,i="undefined"!==typeof r,a=o?Df(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),d=null===l||void 0===l?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const u=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(u.transform),f=n.reduce(((e,t)=>{const n=o.get(t.id);if(null!==n&&void 0!==n&&n.hidden)o.set(n.id,(0,b.A)((0,b.A)({},n),{},{[Qu]:(0,b.A)((0,b.A)({},n[Qu]),{},{handleBounds:void 0})}));else if(n){const r=Uu(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(o.set(n.id,(0,b.A)((0,b.A)({},n),{},{[Qu]:(0,b.A)((0,b.A)({},n[Qu]),{},{handleBounds:{source:hh(".source",t.nodeElement,p,c),target:hh(".target",t.nodeElement,p,c)}})},r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e}),[]);Rf(o,c);const h=a||i&&!a&&Lf(t,(0,b.A)({initial:!0},s));e({nodeInternals:new Map(o),fitViewOnInitDone:h}),(null===f||void 0===f?void 0:f.length)>0&&(null===r||void 0===r||r(f))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:o}=t();o(e.map((e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t})))},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(i){const t=Df(rh(n,s()),o,a,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map((e=>oh(e,!0))):(a=ih(i(),n),s=ih(o,[])),zf({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map((e=>oh(e,!0))):(a=ih(o,n),s=ih(i(),[])),zf({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:o,getNodes:i}=t(),a=r||o;zf({changedNodes:(n||i()).map((e=>(e.selected=!1,oh(e.id,!1)))),changedEdges:a.map((e=>oh(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();null===r||void 0===r||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();null===r||void 0===r||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t();zf({changedNodes:r().filter((e=>e.selected)).map((e=>oh(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>oh(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach((e=>{e.positionAbsolute=Wu(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:o,d3Zoom:i,d3Selection:a,translateExtent:s}=t();if(!i||!a||!e.x&&!e.y)return!1;const l=tu.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,o]],d=null===i||void 0===i?void 0:i.constrain()(l,c,s);return i.transform(a,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:am.connectionNodeId,connectionHandleId:am.connectionHandleId,connectionHandleType:am.connectionHandleType,connectionStatus:am.connectionStatus,connectionStartHandle:am.connectionStartHandle,connectionEndHandle:am.connectionEndHandle}),reset:()=>e((0,b.A)({},am))})),Object.is)),e.createElement(Su,{value:r.current},n)};sm.displayName="ReactFlowProvider";const lm=t=>{let{children:n}=t;return(0,e.useContext)(Nu)?e.createElement(e.Fragment,null,n):e.createElement(sm,null,n)};lm.displayName="ReactFlowWrapper";const cm={input:df,default:lf,output:pf,group:ff},dm={default:Ip,straight:Pp,step:_p,smoothstep:Cp,simplebezier:Np},um=[0,0],pm=[15,15],fm={x:0,y:0,zoom:1},hm={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},mm=(0,e.forwardRef)(((t,n)=>{let{nodes:r,edges:o,defaultNodes:i,defaultEdges:a,className:s,nodeTypes:l=cm,edgeTypes:c=dm,onNodeClick:d,onEdgeClick:u,onInit:p,onMove:f,onMoveStart:h,onMoveEnd:m,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:y,onClickConnectEnd:w,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:S,onNodeContextMenu:A,onNodeDoubleClick:E,onNodeDragStart:k,onNodeDrag:C,onNodeDragStop:_,onNodesDelete:P,onEdgesDelete:O,onSelectionChange:T,onSelectionDragStart:M,onSelectionDrag:I,onSelectionDragStop:R,onSelectionContextMenu:D,onSelectionStart:L,onSelectionEnd:F,connectionMode:B=dp.Strict,connectionLineType:z=gp.Bezier,connectionLineStyle:U,connectionLineComponent:V,connectionLineContainerStyle:W,deleteKeyCode:H="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:K=!1,selectionMode:G=hp.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:X=(ip()?"Meta":"Control"),zoomActivationKeyCode:$=(ip()?"Meta":"Control"),snapToGrid:Z=!1,snapGrid:J=pm,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:ee=!0,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:re,nodeOrigin:oe=um,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:se,defaultViewport:le=fm,minZoom:ce=.5,maxZoom:de=2,translateExtent:ue=im,preventScrolling:pe=!0,nodeExtent:fe,defaultMarkerColor:he="#b1b1b7",zoomOnScroll:me=!0,zoomOnPinch:ge=!0,panOnScroll:ve=!1,panOnScrollSpeed:xe=.5,panOnScrollMode:be=pp.Free,zoomOnDoubleClick:ye=!0,panOnDrag:we=!0,onPaneClick:je,onPaneMouseEnter:Ne,onPaneMouseMove:Se,onPaneMouseLeave:Ae,onPaneScroll:Ee,onPaneContextMenu:ke,children:Ce,onEdgeContextMenu:_e,onEdgeDoubleClick:Pe,onEdgeMouseEnter:Oe,onEdgeMouseMove:Te,onEdgeMouseLeave:Me,onEdgeUpdate:Ie,onEdgeUpdateStart:Re,onEdgeUpdateEnd:De,onReconnect:Le,onReconnectStart:Fe,onReconnectEnd:Be,reconnectRadius:ze=10,edgeUpdaterRadius:Ue=10,onNodesChange:Ve,onEdgesChange:We,noDragClassName:He="nodrag",noWheelClassName:qe="nowheel",noPanClassName:Ke="nopan",fitView:Ge=!1,fitViewOptions:Ye,connectOnClick:Xe=!0,attributionPosition:$e,proOptions:Ze,defaultEdgeOptions:Je,elevateNodesOnSelect:Qe=!0,elevateEdgesOnSelect:et=!1,disableKeyboardA11y:tt=!1,autoPanOnConnect:nt=!0,autoPanOnNodeDrag:rt=!0,connectionRadius:ot=20,isValidConnection:it,onError:at,style:st,id:lt,nodeDragThreshold:ct}=t,dt=(0,lo.A)(t,ju);const ut=lt||"1";return e.createElement("div",(0,b.A)((0,b.A)({},dt),{},{style:(0,b.A)((0,b.A)({},st),hm),ref:n,className:al(["react-flow",s]),"data-testid":"rf__wrapper",id:lt}),e.createElement(lm,null,e.createElement(om,{onInit:p,onMove:f,onMoveStart:h,onMoveEnd:m,onNodeClick:d,onEdgeClick:u,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:S,onNodeContextMenu:A,onNodeDoubleClick:E,nodeTypes:l,edgeTypes:c,connectionLineType:z,connectionLineStyle:U,connectionLineComponent:V,connectionLineContainerStyle:W,selectionKeyCode:q,selectionOnDrag:K,selectionMode:G,deleteKeyCode:H,multiSelectionKeyCode:X,panActivationKeyCode:Y,zoomActivationKeyCode:$,onlyRenderVisibleElements:Q,selectNodesOnDrag:ee,defaultViewport:le,translateExtent:ue,minZoom:ce,maxZoom:de,preventScrolling:pe,zoomOnScroll:me,zoomOnPinch:ge,zoomOnDoubleClick:ye,panOnScroll:ve,panOnScrollSpeed:xe,panOnScrollMode:be,panOnDrag:we,onPaneClick:je,onPaneMouseEnter:Ne,onPaneMouseMove:Se,onPaneMouseLeave:Ae,onPaneScroll:Ee,onPaneContextMenu:ke,onSelectionContextMenu:D,onSelectionStart:L,onSelectionEnd:F,onEdgeContextMenu:_e,onEdgeDoubleClick:Pe,onEdgeMouseEnter:Oe,onEdgeMouseMove:Te,onEdgeMouseLeave:Me,onReconnect:null!==Le&&void 0!==Le?Le:Ie,onReconnectStart:null!==Fe&&void 0!==Fe?Fe:Re,onReconnectEnd:null!==Be&&void 0!==Be?Be:De,reconnectRadius:null!==ze&&void 0!==ze?ze:Ue,defaultMarkerColor:he,noDragClassName:He,noWheelClassName:qe,noPanClassName:Ke,elevateEdgesOnSelect:et,rfId:ut,disableKeyboardA11y:tt,nodeOrigin:oe,nodeExtent:fe}),e.createElement(Nf,{nodes:r,edges:o,defaultNodes:i,defaultEdges:a,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:y,onClickConnectEnd:w,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:re,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:se,elevateNodesOnSelect:Qe,minZoom:ce,maxZoom:de,nodeExtent:fe,onNodesChange:Ve,onEdgesChange:We,snapToGrid:Z,snapGrid:J,connectionMode:B,translateExtent:ue,connectOnClick:Xe,defaultEdgeOptions:Je,fitView:Ge,fitViewOptions:Ye,onNodesDelete:P,onEdgesDelete:O,onNodeDragStart:k,onNodeDrag:C,onNodeDragStop:_,onSelectionDrag:I,onSelectionDragStart:M,onSelectionDragStop:R,noPanClassName:Ke,nodeOrigin:oe,rfId:ut,autoPanOnConnect:nt,autoPanOnNodeDrag:rt,onError:at,connectionRadius:ot,isValidConnection:it,nodeDragThreshold:ct}),e.createElement(bf,{onSelectionChange:T}),Ce,e.createElement(Bu,{proOptions:Ze,position:$e}),e.createElement(Pf,{rfId:ut,disableKeyboardA11y:tt})))}));mm.displayName="ReactFlow";function gm(t){return n=>{const[r,o]=(0,e.useState)(n),i=(0,e.useCallback)((e=>o((n=>t(e,n)))),[]);return[r,o,i]}}const vm=gm(rh),xm=gm((function(e,t){return nh(e,t)}));var bm,ym;function wm(t){let{color:n,dimensions:r,lineWidth:o}=t;return e.createElement("path",{stroke:n,strokeWidth:o,d:"M".concat(r[0]/2," 0 V").concat(r[1]," M0 ").concat(r[1]/2," H").concat(r[0])})}function jm(t){let{color:n,radius:r}=t;return e.createElement("circle",{cx:r,cy:r,r:r,fill:n})}(ym=bm||(bm={})).Lines="lines",ym.Dots="dots",ym.Cross="cross";const Nm={[bm.Dots]:"#91919a",[bm.Lines]:"#eee",[bm.Cross]:"#e2e2e2"},Sm={[bm.Dots]:1,[bm.Lines]:1,[bm.Cross]:6},Am=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function Em(t){let{id:n,variant:r=bm.Dots,gap:o=20,size:i,lineWidth:a=1,offset:s=2,color:l,style:c,className:d}=t;const u=(0,e.useRef)(null),{transform:p,patternId:f}=Ru(Am,gl),h=l||Nm[r],m=i||Sm[r],g=r===bm.Dots,v=r===bm.Cross,x=Array.isArray(o)?o:[o,o],y=[x[0]*p[2]||1,x[1]*p[2]||1],w=m*p[2],j=v?[w,w]:y,N=g?[w/s,w/s]:[j[0]/s,j[1]/s];return e.createElement("svg",{className:al(["react-flow__background",d]),style:(0,b.A)((0,b.A)({},c),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:u,"data-testid":"rf__background"},e.createElement("pattern",{id:f+n,x:p[0]%y[0],y:p[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(N[0],",-").concat(N[1],")")},g?e.createElement(jm,{color:h,radius:w/s}):e.createElement(wm,{dimensions:j,color:h,lineWidth:a})),e.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(f+n,")")}))}Em.displayName="Background";var km=(0,e.memo)(Em);const Cm=t=>{let{id:n,x:r,y:o,width:i,height:a,style:s,color:l,strokeColor:c,strokeWidth:d,className:u,borderRadius:p,shapeRendering:f,onClick:h,selected:m}=t;const{background:g,backgroundColor:v}=s||{},x=l||g||v;return e.createElement("rect",{className:al(["react-flow__minimap-node",{selected:m},u]),x:r,y:o,rx:p,ry:p,width:i,height:a,fill:x,stroke:c,strokeWidth:d,shapeRendering:f,onClick:h?e=>h(e,n):void 0})};Cm.displayName="MiniMapNode";var _m=(0,e.memo)(Cm);const Pm=e=>e.nodeOrigin,Om=e=>e.getNodes().filter((e=>!e.hidden&&e.width&&e.height)),Tm=e=>e instanceof Function?e:()=>e;var Mm=(0,e.memo)((function(t){let{nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:s=_m,onClick:l}=t;const c=Ru(Om,gl),d=Ru(Pm),u=Tm(r),p=Tm(n),f=Tm(o),h="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return e.createElement(e.Fragment,null,c.map((t=>{const{x:n,y:r}=Vp(t,d).positionAbsolute;return e.createElement(s,{key:t.id,x:n,y:r,width:t.width,height:t.height,style:t.style,selected:t.selected,className:f(t),color:u(t),borderRadius:i,strokeColor:p(t),strokeWidth:a,shapeRendering:h,onClick:l,id:t.id})})))}));const Im=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(r=Wp(t,e.nodeOrigin),o=n,Xu(Gu(Yu(r),Yu(o)))):n,rfId:e.rfId};var r,o};function Rm(t){var n,r;let{style:o,className:i,nodeStrokeColor:a="transparent",nodeColor:s="#e2e2e2",nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:d=2,nodeComponent:u,maskColor:p="rgb(240, 240, 240, 0.6)",maskStrokeColor:f="none",maskStrokeWidth:h=1,position:m="bottom-right",onClick:g,onNodeClick:v,pannable:x=!1,zoomable:b=!1,ariaLabel:y="React Flow mini map",inversePan:w=!1,zoomStep:j=10,offsetScale:N=5}=t;const S=Du(),A=(0,e.useRef)(null),{boundingRect:E,viewBB:k,rfId:C}=Ru(Im,gl),_=null!==(n=null===o||void 0===o?void 0:o.width)&&void 0!==n?n:200,P=null!==(r=null===o||void 0===o?void 0:o.height)&&void 0!==r?r:150,O=E.width/_,T=E.height/P,M=Math.max(O,T),I=M*_,R=M*P,D=N*M,L=E.x-(I-E.width)/2-D,F=E.y-(R-E.height)/2-D,B=I+2*D,z=R+2*D,U="".concat("react-flow__minimap-desc","-").concat(C),V=(0,e.useRef)(0);V.current=M,(0,e.useEffect)((()=>{if(A.current){const e=Dc(A.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:r}=S.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;const o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*j,i=t[2]*Math.pow(2,o);r.scaleTo(n,i)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:r,translateExtent:o,width:i,height:a}=S.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;const s=V.current*Math.max(1,t[2])*(w?-1:1),l={x:t[0]-e.sourceEvent.movementX*s,y:t[1]-e.sourceEvent.movementY*s},c=[[0,0],[i,a]],d=tu.translate(l.x,l.y).scale(t[2]),u=r.constrain()(d,c,o);r.transform(n,u)},r=uu().on("zoom",x?n:null).on("zoom.wheel",b?t:null);return e.call(r),()=>{e.on("zoom",null)}}}),[x,b,w,j]);const W=g?e=>{const t=qc(e);g(e,{x:t[0],y:t[1]})}:void 0,H=v?(e,t)=>{const n=S.getState().nodeInternals.get(t);v(e,n)}:void 0;return e.createElement(Fu,{position:m,style:o,className:al(["react-flow__minimap",i]),"data-testid":"rf__minimap"},e.createElement("svg",{width:_,height:P,viewBox:"".concat(L," ").concat(F," ").concat(B," ").concat(z),role:"img","aria-labelledby":U,ref:A,onClick:W},y&&e.createElement("title",{id:U},y),e.createElement(Mm,{onClick:H,nodeColor:s,nodeStrokeColor:a,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:u}),e.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(L-D,",").concat(F-D,"h").concat(B+2*D,"v").concat(z+2*D,"h").concat(-B-2*D,"z\n        M").concat(k.x,",").concat(k.y,"h").concat(k.width,"v").concat(k.height,"h").concat(-k.width,"z"),fill:p,fillRule:"evenodd",stroke:f,strokeWidth:h,pointerEvents:"none"})))}Rm.displayName="MiniMap";var Dm=(0,e.memo)(Rm);const Lm=["children","className"];function Fm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Bm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e.createElement("path",{d:"M0 0h32v4.2H0z"}))}function zm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Um(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Vm(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Wm=t=>{let{children:n,className:r}=t,o=(0,lo.A)(t,Lm);return e.createElement("button",(0,b.A)({type:"button",className:al(["react-flow__controls-button",r])},o),n)};Wm.displayName="ControlButton";const Hm=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),qm=t=>{let{style:n,showZoom:r=!0,showFitView:o=!0,showInteractive:i=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:d,className:u,children:p,position:f="bottom-left"}=t;const h=Du(),[m,g]=(0,e.useState)(!1),{isInteractive:v,minZoomReached:x,maxZoomReached:b}=Ru(Hm,gl),{zoomIn:y,zoomOut:w,fitView:j}=Hf();if((0,e.useEffect)((()=>{g(!0)}),[]),!m)return null;return e.createElement(Fu,{className:al(["react-flow__controls",u]),position:f,style:n,"data-testid":"rf__controls"},r&&e.createElement(e.Fragment,null,e.createElement(Wm,{onClick:()=>{y(),null===s||void 0===s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},e.createElement(Fm,null)),e.createElement(Wm,{onClick:()=>{w(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x},e.createElement(Bm,null))),o&&e.createElement(Wm,{className:"react-flow__controls-fitview",onClick:()=>{j(a),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},e.createElement(zm,null)),i&&e.createElement(Wm,{className:"react-flow__controls-interactive",onClick:()=>{h.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),null===d||void 0===d||d(!v)},title:"toggle interactivity","aria-label":"toggle interactivity"},v?e.createElement(Vm,null):e.createElement(Um,null)),p)};qm.displayName="Controls";var Km=(0,e.memo)(qm),Gm=n(13390);const Ym=(0,_.A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function Xm(e){if(!e)return"Unnamed";const t=/^node_(\d+)$/i.exec(e);return t?"Step ".concat(t[1]):e}function $m(e){var t;let{data:n}=e;const r=n.label,o=(null===n||void 0===n?void 0:n.config)||{},i={message:"\ud83d\udcac Message",template:"\ud83d\udcc4 Template",wait:"\u23f1 Wait",tag:"\ud83c\udff7 Tag",cta_flow:"\ud83d\udd00 CTA Flow"}[r]||"\ud83e\udde9 Block",a={message:"border-blue-300 bg-blue-50",template:"border-emerald-300 bg-emerald-50",wait:"border-yellow-300 bg-yellow-50",tag:"border-pink-300 bg-pink-50",cta_flow:"border-emerald-300 bg-emerald-50"}[r]||"border-gray-300 bg-gray-50",s=o.body||o.text||"",l=Array.isArray(o.multiButtons)?o.multiButtons:[],c=(o.templateName||"").toString(),d=o.ctaFlowName||"";return(0,u.jsxs)("div",{className:"relative group rounded-md border px-2 py-1.5 min-h-[70px] w-[220px] max-w-[220px] text-[7px] text-zinc-800 transition-all duration-200 ".concat(a," hover:shadow-md hover:scale-[1.02]"),children:["start"!==r&&(0,u.jsx)(af,{type:"target",position:yp.Top,style:{background:"#ccc"}}),(0,u.jsx)(af,{type:"source",position:yp.Bottom,style:{background:"#ccc"}}),(null===n||void 0===n?void 0:n.onDelete)&&(0,u.jsx)("button",{onClick:e=>{e.stopPropagation(),n.onDelete(n.id)},className:"absolute top-1 right-1.5 text-[7px] text-red-500 hover:text-red-700 opacity-0 group-hover:opacity-100 transition",title:"Delete this block",children:"\u2715"}),(0,u.jsx)("div",{className:"font-semibold text-[8px] leading-tight mb-0.5",children:i}),(0,u.jsx)("div",{className:"text-[7px] text-emerald-600 font-medium mb-0.5",children:Xm(n.id)}),"template"===r&&(0,u.jsx)("div",{className:"text-[7px] text-zinc-700 font-semibold mb-0.5 truncate",children:c||"No template selected"}),"cta_flow"===r&&(0,u.jsxs)("div",{className:"mt-0.5 text-[7px] text-emerald-700",children:["Flow:"," ",(0,u.jsx)("span",{className:"font-semibold",children:d||"No CTA flow selected"})]}),s&&"cta_flow"!==r&&(0,u.jsx)("div",{className:"ar-node-body-scroll text-[7px] text-zinc-700 whitespace-pre-wrap max-h-14 overflow-y-auto pr-1",children:s}),"template"===r&&l.length>0&&(0,u.jsx)("div",{className:"mt-0.5 flex flex-col gap-0.5",children:l.map(((e,t)=>(0,u.jsxs)("div",{className:"relative rounded bg-emerald-100 px-2 py-1 text-[7px] text-emerald-800 border border-emerald-200 flex items-center justify-center text-center",children:[e.buttonText||e.text||"(unnamed)",(0,u.jsx)(af,{type:"source",position:yp.Right,id:"button-".concat(t),style:{top:"50%",transform:"translateY(-50%)",right:-5,width:7,height:7,background:"#10b981",borderRadius:"50%"}})]},t)))}),"tag"===r&&(null===(t=o.tags)||void 0===t?void 0:t.length)>0&&(0,u.jsxs)("div",{className:"mt-0.5 text-[7px] text-zinc-600",children:["Tags: ",o.tags.join(", ")]}),"wait"===r&&o.seconds&&(0,u.jsxs)("div",{className:"mt-0.5 text-[7px] text-zinc-600",children:["Wait for ",o.seconds," seconds"]})]})}var Zm=n(84820),Jm=n(57956),Qm=n(69161);function eg(e,t,n){var r;let o,i=null!==(r=n.initialDeps)&&void 0!==r?r:[];function a(){var r,a,s,l;let c;n.key&&(null==(r=n.debug)?void 0:r.call(n))&&(c=Date.now());const d=e();if(!(d.length!==i.length||d.some(((e,t)=>i[t]!==e))))return o;let u;if(i=d,n.key&&(null==(a=n.debug)?void 0:a.call(n))&&(u=Date.now()),o=t(...d),n.key&&(null==(s=n.debug)?void 0:s.call(n))){const e=Math.round(100*(Date.now()-c))/100,t=Math.round(100*(Date.now()-u))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c\u23f1 ".concat(o(t,5)," /").concat(o(e,5)," ms"),"\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(".concat(Math.max(0,Math.min(120-120*r,120)),"deg 100% 31%);"),null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,o),o}return a.updateDeps=e=>{i=e},a}function tg(e,t){if(void 0===e)throw new Error("Unexpected undefined".concat(t?": ".concat(t):""));return e}const ng=(e,t,n)=>{let r;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];e.clearTimeout(r),r=e.setTimeout((()=>t.apply(this,i)),n)}},rg=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},og=e=>e,ig=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},ag=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(o(rg(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver((t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void o({width:t.inlineSize,height:t.blockSize})}o(rg(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()}));return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},sg={passive:!0},lg="undefined"==typeof window||"onscrollend"in window,cg=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=e.options.useScrollendEvent&&lg?()=>{}:ng(r,(()=>{t(o,!1)}),e.options.isScrollingResetDelay),a=r=>()=>{const{horizontal:a,isRtl:s}=e.options;o=a?n.scrollLeft*(s?-1:1):n.scrollTop,i(),t(o,r)},s=a(!0),l=a(!1);l(),n.addEventListener("scroll",s,sg);const c=e.options.useScrollendEvent&&lg;return c&&n.addEventListener("scrollend",l,sg),()=>{n.removeEventListener("scroll",s),c&&n.removeEventListener("scrollend",l)}},dg=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e){return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},ug=(e,t,n)=>{let{adjustments:r=0,behavior:o}=t;var i,a;const s=e+r;null==(a=null==(i=n.scrollElement)?void 0:i.scrollTo)||a.call(i,{[n.options.horizontal?"left":"top"]:s,behavior:o})};class pg{constructor(e){var t=this;this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver((e=>{e.forEach((e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()}))})):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach((t=>{let[n,r]=t;"undefined"===typeof r&&delete e[n]})),this.options=(0,b.A)({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:og,rangeExtractor:ig,onChange:()=>{},measureElement:dg,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1},e)},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=eg((()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null])),(e=>{this.notify(e)}),{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((e=>e())),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();var n;if(this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement)this.targetWindow=this.scrollElement.ownerDocument.defaultView;else this.targetWindow=null!==(n=null==(e=this.scrollElement)?void 0:e.window)&&void 0!==n?n:null;this.elementsCache.forEach((e=>{this.observer.observe(e)})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,(e=>{this.scrollRect=e,this.maybeNotify()}))),this.unsubs.push(this.options.observeElementOffset(this,((e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()})))}},this.getSize=()=>{var e;return this.options.enabled?(this.scrollRect=null!==(e=this.scrollRect)&&void 0!==e?e:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var e;return this.options.enabled?(this.scrollOffset=null!==(e=this.scrollOffset)&&void 0!==e?e:"function"===typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let o=t-1;o>=0;o--){const t=e[o];if(n.has(t.lane))continue;const i=r.get(t.lane);if(null==i||t.end>i.end?r.set(t.lane,t):t.end<i.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort(((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end))[0]:void 0},this.getMeasurementOptions=eg((()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled]),((e,t,n,r,o)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:o})),{key:!1}),this.getMeasurements=eg((()=>[this.getMeasurementOptions(),this.itemSizeCache]),((e,t)=>{let{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:a}=e;if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((e=>{this.itemSizeCache.set(e.key,e.size)})));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,s);for(let c=s;c<n;c++){const e=i(c),n=1===this.options.lanes?l[c-1]:this.getFurthestMeasurement(l,c),a=n?n.end+this.options.gap:r+o,s=t.get(e),d="number"===typeof s?s:this.options.estimateSize(c),u=a+d,p=n?n.lane:c%this.options.lanes;l[c]={index:c,start:a,size:d,end:u,key:e,lane:p}}return this.measurementsCache=l,l}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=eg((()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes]),((e,t,n,r)=>this.range=e.length>0&&t>0?function(e){let{measurements:t,outerSize:n,scrollOffset:r,lanes:o}=e;const i=t.length-1,a=e=>t[e].start;if(t.length<=o)return{startIndex:0,endIndex:i};let s=fg(0,i,a,r),l=s;if(1===o)for(;l<i&&t[l].end<r+n;)l++;else if(o>1){const e=Array(o).fill(0);for(;l<i&&e.some((e=>e<r+n));){const n=t[l];e[n.lane]=n.end,l++}const a=Array(o).fill(r+n);for(;s>=0&&a.some((e=>e>=r));){const e=t[s];a[e.lane]=e.start,s--}s=Math.max(0,s-s%o),l=Math.min(i,l+(o-1-l%o))}return{startIndex:s,endIndex:l}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null),{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=eg((()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]}),((e,t,n,r,o)=>null===r||null===o?[]:e({startIndex:r,endIndex:o,overscan:t,count:n})),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '".concat(t,"={index}' on measured element.")),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const o=r.key,i=this.elementsCache.get(o);i!==e&&(i&&this.observer.unobserve(i),this.observer.observe(e),this.elementsCache.set(o,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{var n;const r=this.measurementsCache[e];if(!r)return;const o=t-(null!==(n=this.itemSizeCache.get(r.key))&&void 0!==n?n:r.size);0!==o&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(r,o,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach(((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))}))},this.getVirtualItems=eg((()=>[this.getVirtualIndexes(),this.getMeasurements()]),((e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=t[e[r]];n.push(o)}return n}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return tg(t[fg(0,t.length-1,(e=>tg(t[e]).start),e)])},this.getOffsetForAlignment=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=t.getSize(),i=t.getScrollOffset();"auto"===n&&(n=e>=i+o?"end":"start"),"center"===n?e+=(r-o)/2:"end"===n&&(e-=o);const a=t.getTotalSize()-o;return Math.max(Math.min(a,e),0)},this.getOffsetForIndex=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";e=Math.max(0,Math.min(e,t.options.count-1));const r=t.measurementsCache[e];if(!r)return;const o=t.getSize(),i=t.getScrollOffset();if("auto"===n)if(r.end>=i+o-t.options.scrollPaddingEnd)n="end";else{if(!(r.start<=i+t.options.scrollPaddingStart))return[i,n];n="start"}const a="end"===n?r.end+t.options.scrollPaddingEnd:r.start-t.options.scrollPaddingStart;return[t.getOffsetForAlignment(a,n,r.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e){let{align:n="start",behavior:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.cancelScrollToIndex(),"smooth"===r&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:r})},this.scrollToIndex=function(e){let{align:n="auto",behavior:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Math.max(0,Math.min(e,t.options.count-1)),t.cancelScrollToIndex(),"smooth"===r&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=t.getOffsetForIndex(e,n);if(!o)return;const[i,a]=o;t._scrollToOffset(i,{adjustments:void 0,behavior:r}),"smooth"!==r&&t.isDynamicMode()&&t.targetWindow&&(t.scrollToIndexTimeoutId=t.targetWindow.setTimeout((()=>{t.scrollToIndexTimeoutId=null;if(t.elementsCache.has(t.options.getItemKey(e))){const i=t.getOffsetForIndex(e,a);if(!i)return;const[s]=i,l=t.getScrollOffset();n=s,o=l,Math.abs(n-o)<=1||t.scrollToIndex(e,{align:a,behavior:r})}else t.scrollToIndex(e,{align:a,behavior:r});var n,o})))},this.scrollBy=function(e){let{behavior:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.cancelScrollToIndex(),"smooth"===n&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes){var r;n=null!==(r=null==(e=t[t.length-1])?void 0:e.end)&&void 0!==r?r:0}else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some((e=>null===e));){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter((e=>null!==e)))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,t)=>{let{adjustments:n,behavior:r}=t;this.options.scrollToFn(e,{behavior:r,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const fg=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else{if(!(i>r))return o;t=o-1}}return e>0?e-1:0};const hg="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function mg(t){const n=e.useReducer((()=>({})),{})[1],r=(0,b.A)((0,b.A)({},t),{},{onChange:(e,r)=>{var o;r?(0,ko.flushSync)(n):n(),null==(o=t.onChange)||o.call(t,e,r)}}),[o]=e.useState((()=>new pg(r)));return o.setOptions(r),hg((()=>o._didMount()),[]),hg((()=>o._willUpdate())),o}var gg=n(70156);function vg(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}var xg=n(55962);var bg=n(23057),yg=n(97370),wg=n(6716),jg=n(77248),Ng=n(74347),Sg=n(5097),Ag=n(59e3),Eg=n(59561),kg=n(21981),Cg=n(44113),_g=n(41875);function Pg(t){let n=(0,e.useRef)({value:"",selectionStart:null,selectionEnd:null});return(0,_g.M)(t,"blur",(e=>{let t=e.target;Cg.A3(t)&&(n.current={value:t.value,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})})),(0,xg._)((()=>{if(document.activeElement!==t&&Cg.A3(t)&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==n.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:e,selectionEnd:r}=n.current;null!==e&&null!==r&&t.setSelectionRange(e,r)}n.current={value:"",selectionStart:null,selectionEnd:null}}}))}var Og=n(21488),Tg=n(595),Mg=n(59358),Ig=n(72008),Rg=n(73161),Dg=n(10443),Lg=n(22717),Fg=n(62225),Bg=n(51736);function zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let[r,o]of Object.entries(e))Vg(n,Ug(t,r),o);return n}function Ug(e,t){return e?e+"["+t+"]":t}function Vg(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())Vg(e,Ug(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,"".concat(n)]):null==n?e.push([t,""]):zg(n,t,e)}var Wg=n(5641),Hg=n(96593);let qg=(0,e.createContext)(null);function Kg(t){let{children:n}=t,r=(0,e.useContext)(qg);if(!r)return e.createElement(e.Fragment,null,n);let{target:o}=r;return o?(0,ko.createPortal)(e.createElement(e.Fragment,null,n),o):null}function Gg(t){let{data:n,form:r,disabled:o,onReset:i,overrides:a}=t,[s,l]=(0,e.useState)(null),c=(0,bg.L)();return(0,e.useEffect)((()=>{if(i&&s)return c.addEventListener(s,"reset",i)}),[s,r,i]),e.createElement(Kg,null,e.createElement(Yg,{setForm:l,formId:r}),zg(n).map((t=>{let[n,i]=t;return e.createElement(Hg.j,(0,b.A)({features:Hg.u.Hidden},(0,Wg.oE)((0,b.A)({key:n,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:o,name:n,value:i},a))))})))}function Yg(t){let{setForm:n,formId:r}=t;return(0,e.useEffect)((()=>{if(r){let e=document.getElementById(r);e&&n(e)}}),[n,r]),r?null:e.createElement(Hg.j,{features:Hg.u.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:e=>{if(!e)return;let t=e.closest("form");t&&n(t)}})}function Xg(t){let{children:n,freeze:r}=t,o=$g(r,n);return e.createElement(e.Fragment,null,o)}function $g(t,n){let[r,o]=(0,e.useState)(n);return!t&&r!==n&&o(n),t?r:n}var Zg,Jg,Qg=n(7376),ev=n(16794),tv=n(80710),nv=n(16704),rv=n(88068),ov=n(76034),iv=n(82637),av=n(78518),sv=n(43880),lv=n(54530),cv=n(58619),dv=n(37507),uv=n(71075),pv=((Zg=pv||{})[Zg.Left=0]="Left",Zg[Zg.Right=2]="Right",Zg),fv=n(28605),hv=n(30482),mv=n(34781),gv=Object.defineProperty,vv=(e,t,n)=>(((e,t,n)=>{t in e?gv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),xv=((Jg=xv||{})[Jg.Open=0]="Open",Jg[Jg.Closed=1]="Closed",Jg),bv=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bv||{}),yv=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(yv||{}),wv=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e))(wv||{});function jv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&null!==r[0].dataRef.current.order?r.sort(((e,t)=>e.dataRef.current.order-t.dataRef.current.order)):(0,mv.wl)(r,(e=>e.dataRef.current.domRef.current)),i=n?o.indexOf(n):null;return-1===i&&(i=null),{options:o,activeOptionIndex:i}}let Nv={1(e){var t;return null!=(t=e.dataRef.current)&&t.disabled||1===e.comboboxState?e:(0,b.A)((0,b.A)({},e),{},{activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1})},0(e){var t,n;if(null!=(t=e.dataRef.current)&&t.disabled||0===e.comboboxState)return e;if(null!=(n=e.dataRef.current)&&n.value){let t=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(-1!==t)return(0,b.A)((0,b.A)({},e),{},{activeOptionIndex:t,comboboxState:0,__demoMode:!1})}return(0,b.A)((0,b.A)({},e),{},{comboboxState:0,__demoMode:!1})},3:(e,t)=>e.isTyping===t.isTyping?e:(0,b.A)((0,b.A)({},e),{},{isTyping:t.isTyping}),2(e,t){var n,r,o,i;if(null!=(n=e.dataRef.current)&&n.disabled||e.optionsElement&&(null==(r=e.dataRef.current)||!r.optionsPropsRef.current.static)&&1===e.comboboxState)return e;if(e.virtual){let{options:n,disabled:r}=e.virtual,i=t.focus===iv.B.Specific?t.idx:(0,iv.X)(t,{resolveItems:()=>n,resolveActiveIndex:()=>{var t,o;return null!=(o=null!=(t=e.activeOptionIndex)?t:n.findIndex((e=>!r(e))))?o:null},resolveDisabled:r,resolveId(){throw new Error("Function not implemented.")}}),a=null!=(o=t.trigger)?o:2;return e.activeOptionIndex===i&&e.activationTrigger===a?e:(0,b.A)((0,b.A)({},e),{},{activeOptionIndex:i,activationTrigger:a,isTyping:!1,__demoMode:!1})}let a=jv(e);if(null===a.activeOptionIndex){let e=a.options.findIndex((e=>!e.dataRef.current.disabled));-1!==e&&(a.activeOptionIndex=e)}let s=t.focus===iv.B.Specific?t.idx:(0,iv.X)(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled}),l=null!=(i=t.trigger)?i:2;return e.activeOptionIndex===s&&e.activationTrigger===l?e:(0,b.A)((0,b.A)((0,b.A)({},e),a),{},{isTyping:!1,activeOptionIndex:s,activationTrigger:l,__demoMode:!1})},4:(e,t)=>{var n,r,o,i;if(null!=(n=e.dataRef.current)&&n.virtual)return(0,b.A)((0,b.A)({},e),{},{options:[...e.options,t.payload]});let a=t.payload,s=jv(e,(e=>(e.push(a),e)));null===e.activeOptionIndex&&null!=(o=(r=e.dataRef.current).isSelected)&&o.call(r,t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(a));let l=(0,b.A)((0,b.A)((0,b.A)({},e),s),{},{activationTrigger:2});return null!=(i=e.dataRef.current)&&i.__demoMode&&void 0===e.dataRef.current.value&&(l.activeOptionIndex=0),l},5:(e,t)=>{var n;if(null!=(n=e.dataRef.current)&&n.virtual)return(0,b.A)((0,b.A)({},e),{},{options:e.options.filter((e=>e.id!==t.id))});let r=jv(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return(0,b.A)((0,b.A)((0,b.A)({},e),r),{},{activationTrigger:2})},6:(e,t)=>e.defaultToFirstOption===t.value?e:(0,b.A)((0,b.A)({},e),{},{defaultToFirstOption:t.value}),7:(e,t)=>e.activationTrigger===t.trigger?e:(0,b.A)((0,b.A)({},e),{},{activationTrigger:t.trigger}),8:(e,t)=>{var n,r;if(null===e.virtual)return(0,b.A)((0,b.A)({},e),{},{virtual:{options:t.options,disabled:null!=(n=t.disabled)?n:()=>!1}});if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let o=e.activeOptionIndex;if(null!==e.activeOptionIndex){let n=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o=-1!==n?n:null}return(0,b.A)((0,b.A)({},e),{},{activeOptionIndex:o,virtual:{options:t.options,disabled:null!=(r=t.disabled)?r:()=>!1}})},9:(e,t)=>e.inputElement===t.element?e:(0,b.A)((0,b.A)({},e),{},{inputElement:t.element}),10:(e,t)=>e.buttonElement===t.element?e:(0,b.A)((0,b.A)({},e),{},{buttonElement:t.element}),11:(e,t)=>e.optionsElement===t.element?e:(0,b.A)((0,b.A)({},e),{},{optionsElement:t.element})};class Sv extends hv.u5{constructor(e){super(e),vv(this,"actions",{onChange:e=>{let{onChange:t,compare:n,mode:r,value:o}=this.state.dataRef.current;return(0,sv.Y)(r,{0:()=>null==t?void 0:t(e),1:()=>{let r=o.slice(),i=r.findIndex((t=>n(t,e)));return-1===i?r.push(e):r.splice(i,1),null==t?void 0:t(r)}})},registerOption:(e,t)=>(this.send({type:4,payload:{id:e,dataRef:t}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(t.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,t)=>(this.send({type:6,value:!1}),this.send((0,b.A)((0,b.A)({type:2},e),{},{trigger:t}))),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,t;this.send({type:1}),this.send({type:6,value:!1}),null==(t=(e=this.state.dataRef.current).onClose)||t.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(null!==e){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:t}=this.state.options[e];this.actions.onChange(t.current.value)}this.actions.goToOption({focus:iv.B.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}}),vv(this,"selectors",{activeDescendantId:e=>{var t,n;let r=this.selectors.activeOptionIndex(e);if(null!==r)return e.virtual?null==(n=e.options.find((t=>!t.dataRef.current.disabled&&e.dataRef.current.compare(t.dataRef.current.value,e.virtual.options[r]))))?void 0:n.id:null==(t=e.options[r])?void 0:t.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&null===e.activeOptionIndex&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:t,disabled:n}=e.virtual,r=t.findIndex((e=>{var t;return!(null!=(t=null==n?void 0:n(e))&&t)}));if(-1!==r)return r}let t=e.options.findIndex((e=>!e.dataRef.current.disabled));if(-1!==t)return t}return e.activeOptionIndex},activeOption:e=>{var t,n;let r=this.selectors.activeOptionIndex(e);return null===r?null:e.virtual?e.virtual.options[null!=r?r:0]:null!=(n=null==(t=e.options[r])?void 0:t.dataRef.current.value)?n:null},isActive:(e,t,n)=>{var r;let o=this.selectors.activeOptionIndex(e);return null!==o&&(e.virtual?o===e.dataRef.current.calculateIndex(t):(null==(r=e.options[o])?void 0:r.id)===n)},shouldScrollIntoView:(e,t,n)=>!(e.virtual||e.__demoMode||0!==e.comboboxState||0===e.activationTrigger||!this.selectors.isActive(e,t,n))});{let e=this.state.id,t=tv.D.get(null);this.disposables.add(t.on(tv.Q.Push,(n=>{!t.selectors.isTop(n,e)&&0===this.state.comboboxState&&this.actions.closeCombobox()}))),this.on(0,(()=>t.actions.push(e))),this.on(1,(()=>t.actions.pop(e)))}}static new(e){let{id:t,virtual:n=null,__demoMode:r=!1}=e;var o;return new Sv({id:t,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:null!=(o=n.disabled)?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(e,t){return(0,sv.Y)(t.type,Nv,e,t)}}var Av=n(70668);const Ev=(0,e.createContext)(null);function kv(t){let n=(0,e.useContext)(Ev);if(null===n){let e=new Error("<".concat(t," /> is missing a parent <Combobox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(e,Cv),e}return n}function Cv(t){let{id:n,virtual:r=null,__demoMode:o=!1}=t,i=(0,e.useMemo)((()=>Sv.new({id:n,virtual:r,__demoMode:o})),[]);return(0,Av.X)((()=>i.dispose())),i}const _v=["value","defaultValue","onChange","form","name","by","invalid","disabled","onClose","__demoMode","multiple","immediate","virtual","nullable"],Pv=["id","onChange","displayValue","disabled","autoFocus","type"],Ov=["id","disabled","autoFocus"],Tv=["id","hold","anchor","portal","modal","transition"],Mv=["id","value","disabled","order"];let Iv=(0,e.createContext)(null);function Rv(t){let n=(0,e.useContext)(Iv);if(null===n){let e=new Error("<".concat(t," /> is missing a parent <Combobox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(e,Rv),e}return n}Iv.displayName="ComboboxDataContext";let Dv=(0,e.createContext)(null);function Lv(t){let n=kv("VirtualProvider"),r=Rv("VirtualProvider"),{options:o}=r.virtual,i=(0,nv.y)(n,(e=>e.optionsElement)),[a,s]=(0,e.useMemo)((()=>{let e=i;if(!e)return[0,0];let t=window.getComputedStyle(e);return[parseFloat(t.paddingBlockStart||t.paddingTop),parseFloat(t.paddingBlockEnd||t.paddingBottom)]}),[i]),l=(u={enabled:0!==o.length,scrollPaddingStart:a,scrollPaddingEnd:s,count:o.length,estimateSize:()=>40,getScrollElement:()=>n.state.optionsElement,overscan:12},mg((0,b.A)({observeElementRect:ag,observeElementOffset:cg,scrollToFn:ug},u))),[c,d]=(0,e.useState)(0);var u;(0,jg.s)((()=>{d((e=>e+1))}),[o]);let p=l.getVirtualItems(),f=(0,nv.y)(n,(e=>e.activationTrigger===yv.Pointer)),h=(0,nv.y)(n,n.selectors.activeOptionIndex);return 0===p.length?null:e.createElement(Dv.Provider,{value:l},e.createElement("div",{style:{position:"relative",width:"100%",height:"".concat(l.getTotalSize(),"px")},ref:e=>{e&&(f||null!==h&&o.length>h&&l.scrollToIndex(h))}},p.map((n=>{var r;return e.createElement(e.Fragment,{key:n.key},e.cloneElement(null==(r=t.children)?void 0:r.call(t,(0,b.A)((0,b.A)({},t.slot),{},{option:o[n.index]})),{key:"".concat(c,"-").concat(n.key),"data-index":n.index,"aria-setsize":o.length,"aria-posinset":n.index+1,style:{position:"absolute",top:0,left:0,transform:"translateY(".concat(n.start,"px)"),overflowAnchor:"none"}}))}))))}let Fv=e.Fragment;let Bv=Wg.Ac.RenderStrategy|Wg.Ac.Static;let zv=(0,Wg.FX)((function(t,n){let r=(0,e.useId)(),o=(0,Fg._)(),{value:i,defaultValue:a,onChange:s,form:l,name:c,by:d,invalid:u=!1,disabled:p=o||!1,onClose:f,__demoMode:h=!1,multiple:m=!1,immediate:g=!1,virtual:v=null,nullable:x}=t,b=(0,lo.A)(t,_v),y=function(t){let[n]=(0,e.useState)(t);return n}(a),[w=(m?[]:void 0),j]=function(t,n,r){let[o,i]=(0,e.useState)(r),a=void 0!==t,s=(0,e.useRef)(a),l=(0,e.useRef)(!1),c=(0,e.useRef)(!1);return!a||s.current||l.current?!a&&s.current&&!c.current&&(c.current=!0,s.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(l.current=!0,s.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[a?t:o,(0,xg._)((e=>(a||i(e),null==n?void 0:n(e))))]}(i,s,y),N=Cv({id:r,virtual:v,__demoMode:h}),S=(0,e.useRef)({static:!1,hold:!1}),A=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vg;return(0,e.useCallback)(((e,n)=>{if("string"==typeof t){let r=t;return(null==e?void 0:e[r])===(null==n?void 0:n[r])}return t(e,n)}),[t])}(d),E=(0,xg._)((e=>v?null===d?v.options.indexOf(e):v.options.findIndex((t=>A(t,e))):N.state.options.findIndex((t=>A(t.dataRef.current.value,e))))),k=(0,e.useCallback)((e=>(0,sv.Y)(P.mode,{[bv.Multi]:()=>w.some((t=>A(t,e))),[bv.Single]:()=>A(w,e)})),[w]),C=(0,nv.y)(N,(e=>e.virtual)),_=(0,xg._)((()=>null==f?void 0:f())),P=(0,e.useMemo)((()=>({__demoMode:h,immediate:g,optionsPropsRef:S,value:w,defaultValue:y,disabled:p,invalid:u,mode:m?bv.Multi:bv.Single,virtual:v?C:null,onChange:j,isSelected:k,calculateIndex:E,compare:A,onClose:_})),[w,y,p,u,m,j,k,h,N,v,C,_]);(0,jg.s)((()=>{var e;v&&N.send({type:wv.UpdateVirtualConfiguration,options:v.options,disabled:null!=(e=v.disabled)?e:null})}),[v,null==v?void 0:v.options,null==v?void 0:v.disabled]),(0,jg.s)((()=>{N.state.dataRef.current=P}),[P]);let[O,T,M,I]=(0,nv.y)(N,(e=>[e.comboboxState,e.buttonElement,e.inputElement,e.optionsElement])),R=tv.D.get(null),D=(0,nv.y)(R,(0,e.useCallback)((e=>R.selectors.isTop(e,r)),[R,r]));(0,Ag.j)(D,[T,M,I],(()=>N.actions.closeCombobox()));let L=(0,nv.y)(N,N.selectors.activeOptionIndex),F=(0,nv.y)(N,N.selectors.activeOption),B=(0,e.useMemo)((()=>({open:O===xv.Open,disabled:p,invalid:u,activeIndex:L,activeOption:F,value:w})),[P,p,w,u,F,O]),[z,U]=(0,uv.b0)(),V=null===n?{}:{ref:n},W=(0,e.useCallback)((()=>{if(void 0!==y)return null==j?void 0:j(y)}),[j,y]),H=(0,Wg.Ci)();return e.createElement(U,{value:z,props:{htmlFor:null==M?void 0:M.id},slot:{open:O===xv.Open,disabled:p}},e.createElement(Bg.St,null,e.createElement(Iv.Provider,{value:P},e.createElement(Ev.Provider,{value:N},e.createElement(ev.El,{value:(0,sv.Y)(O,{[xv.Open]:ev.Uw.Open,[xv.Closed]:ev.Uw.Closed})},null!=c&&e.createElement(Gg,{disabled:p,data:null!=w?{[c]:w}:{},form:l,onReset:W}),H({ourProps:V,theirProps:b,slot:B,defaultTag:Fv,name:"Combobox"}))))))})),Uv=(0,Wg.FX)((function(t,n){let r=kv("Combobox.Button"),o=Rv("Combobox.Button"),[i,a]=(0,e.useState)(null),s=(0,Mg.P)(n,a,r.actions.setButtonElement),l=(0,e.useId)(),{id:c="headlessui-combobox-button-".concat(l),disabled:d=o.disabled||!1,autoFocus:u=!1}=t,p=(0,lo.A)(t,Ov),[f,h,m]=(0,nv.y)(r,(e=>[e.comboboxState,e.inputElement,e.optionsElement])),g=Pg(h),v=f===xv.Open;(0,kg.s)(v,{trigger:i,action:(0,e.useCallback)((e=>{if(null!=i&&i.contains(e.target))return kg.r.Ignore;if(null!=h&&h.contains(e.target))return kg.r.Ignore;let t=e.target.closest('[role="option"]:not([data-disabled])');return Cg.sb(t)?kg.r.Select(t):null!=m&&m.contains(e.target)?kg.r.Ignore:kg.r.Close}),[i,h,m]),close:r.actions.closeCombobox,select:r.actions.selectActiveOption});let x=(0,xg._)((e=>{switch(e.key){case dv.D.Space:case dv.D.Enter:return e.preventDefault(),e.stopPropagation(),r.state.comboboxState===xv.Closed&&(0,ko.flushSync)((()=>r.actions.openCombobox())),void g();case dv.D.ArrowDown:return e.preventDefault(),e.stopPropagation(),r.state.comboboxState===xv.Closed&&((0,ko.flushSync)((()=>r.actions.openCombobox())),r.state.dataRef.current.value||r.actions.goToOption({focus:iv.B.First})),void g();case dv.D.ArrowUp:return e.preventDefault(),e.stopPropagation(),r.state.comboboxState===xv.Closed&&((0,ko.flushSync)((()=>r.actions.openCombobox())),r.state.dataRef.current.value||r.actions.goToOption({focus:iv.B.Last})),void g();case dv.D.Escape:if(r.state.comboboxState!==xv.Open)return;return e.preventDefault(),r.state.optionsElement&&!o.optionsPropsRef.current.static&&e.stopPropagation(),(0,ko.flushSync)((()=>r.actions.closeCombobox())),void g();default:return}})),b=(0,xg._)((e=>{e.preventDefault(),!(0,ov.l)(e.currentTarget)&&(e.button===pv.Left&&(r.state.comboboxState===xv.Open?r.actions.closeCombobox():r.actions.openCombobox()),g())})),y=(0,uv.o2)([c]),{isFocusVisible:w,focusProps:j}=(0,Jm.o)({autoFocus:u}),{isHovered:N,hoverProps:S}=(0,Qm.M)({isDisabled:d}),{pressed:A,pressProps:E}=(0,gg.Z)({disabled:d}),k=(0,e.useMemo)((()=>({open:f===xv.Open,active:A||f===xv.Open,disabled:d,invalid:o.invalid,value:o.value,hover:N,focus:w})),[o,N,w,A,d,f]),C=(0,Wg.v6)({ref:s,id:c,type:(0,Og.c)(t,i),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":null==m?void 0:m.id,"aria-expanded":f===xv.Open,"aria-labelledby":y,disabled:d||void 0,autoFocus:u,onPointerDown:b,onKeyDown:x},j,S,E);return(0,Wg.Ci)()({ourProps:C,theirProps:p,slot:k,defaultTag:"button",name:"Combobox.Button"})})),Vv=(0,Wg.FX)((function(t,n){var r,o;let i=kv("Combobox.Input"),a=Rv("Combobox.Input"),s=(0,e.useId)(),l=(0,Qg.q)(),{id:c=l||"headlessui-combobox-input-".concat(s),onChange:d,displayValue:u,disabled:p=a.disabled||!1,autoFocus:f=!1,type:h="text"}=t,m=(0,lo.A)(t,Pv),[g]=(0,nv.y)(i,(e=>[e.inputElement])),v=(0,e.useRef)(null),x=(0,Mg.P)(v,n,(0,Bg.Xc)(),i.actions.setInputElement),b=(0,Eg.g)(g),[y,w]=(0,nv.y)(i,(e=>[e.comboboxState,e.isTyping])),j=(0,bg.L)(),N=(0,xg._)((()=>{i.actions.onChange(null),i.state.optionsElement&&(i.state.optionsElement.scrollTop=0),i.actions.goToOption({focus:iv.B.Nothing})})),S=(0,e.useMemo)((()=>{var e;return"function"==typeof u&&void 0!==a.value?null!=(e=u(a.value))?e:"":"string"==typeof a.value?a.value:""}),[a.value,u]);(0,Lg.F)(((e,t)=>{let[n,r]=e,[o,a]=t;if(i.state.isTyping)return;let s=v.current;s&&((a===xv.Open&&r===xv.Closed||n!==o)&&(s.value=n),requestAnimationFrame((()=>{if(i.state.isTyping||!s||(null==b?void 0:b.activeElement)!==s)return;let{selectionStart:e,selectionEnd:t}=s;0===Math.abs((null!=t?t:0)-(null!=e?e:0))&&0===e&&s.setSelectionRange(s.value.length,s.value.length)})))}),[S,y,b,w]),(0,Lg.F)(((e,t)=>{let[n]=e,[r]=t;if(n===xv.Open&&r===xv.Closed){if(i.state.isTyping)return;let e=v.current;if(!e)return;let t=e.value,{selectionStart:n,selectionEnd:r,selectionDirection:o}=e;e.value="",e.value=t,null!==o?e.setSelectionRange(n,r,o):e.setSelectionRange(n,r)}}),[y]);let A=(0,e.useRef)(!1),E=(0,xg._)((()=>{A.current=!0})),k=(0,xg._)((()=>{j.nextFrame((()=>{A.current=!1}))})),C=(0,xg._)((e=>{switch(i.actions.setIsTyping(!0),e.key){case dv.D.Enter:if(i.state.comboboxState!==xv.Open||A.current)return;if(e.preventDefault(),e.stopPropagation(),null===i.selectors.activeOptionIndex(i.state))return void i.actions.closeCombobox();i.actions.selectActiveOption(),a.mode===bv.Single&&i.actions.closeCombobox();break;case dv.D.ArrowDown:return e.preventDefault(),e.stopPropagation(),(0,sv.Y)(i.state.comboboxState,{[xv.Open]:()=>i.actions.goToOption({focus:iv.B.Next}),[xv.Closed]:()=>i.actions.openCombobox()});case dv.D.ArrowUp:return e.preventDefault(),e.stopPropagation(),(0,sv.Y)(i.state.comboboxState,{[xv.Open]:()=>i.actions.goToOption({focus:iv.B.Previous}),[xv.Closed]:()=>{(0,ko.flushSync)((()=>i.actions.openCombobox())),a.value||i.actions.goToOption({focus:iv.B.Last})}});case dv.D.Home:if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),i.actions.goToOption({focus:iv.B.First});case dv.D.PageUp:return e.preventDefault(),e.stopPropagation(),i.actions.goToOption({focus:iv.B.First});case dv.D.End:if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),i.actions.goToOption({focus:iv.B.Last});case dv.D.PageDown:return e.preventDefault(),e.stopPropagation(),i.actions.goToOption({focus:iv.B.Last});case dv.D.Escape:return i.state.comboboxState!==xv.Open?void 0:(e.preventDefault(),i.state.optionsElement&&!a.optionsPropsRef.current.static&&e.stopPropagation(),a.mode===bv.Single&&null===a.value&&N(),i.actions.closeCombobox());case dv.D.Tab:if(i.state.comboboxState!==xv.Open)return;a.mode===bv.Single&&i.state.activationTrigger!==yv.Focus&&i.actions.selectActiveOption(),i.actions.closeCombobox()}})),_=(0,xg._)((e=>{null==d||d(e),a.mode===bv.Single&&""===e.target.value&&N(),i.actions.openCombobox()})),P=(0,xg._)((e=>{var t,n,r;let o=null!=(t=e.relatedTarget)?t:rv.b.find((t=>t!==e.currentTarget));if((null==(n=i.state.optionsElement)||!n.contains(o))&&(null==(r=i.state.buttonElement)||!r.contains(o))&&i.state.comboboxState===xv.Open)return e.preventDefault(),a.mode===bv.Single&&null===a.value&&N(),i.actions.closeCombobox()})),O=(0,xg._)((e=>{var t,n,r;let o=null!=(t=e.relatedTarget)?t:rv.b.find((t=>t!==e.currentTarget));null!=(n=i.state.buttonElement)&&n.contains(o)||null!=(r=i.state.optionsElement)&&r.contains(o)||a.disabled||a.immediate&&i.state.comboboxState!==xv.Open&&j.microTask((()=>{(0,ko.flushSync)((()=>i.actions.openCombobox())),i.actions.setActivationTrigger(yv.Focus)}))})),T=(0,uv.o2)(),M=(0,cv.MM)(),{isFocused:I,focusProps:R}=(0,Jm.o)({autoFocus:f}),{isHovered:D,hoverProps:L}=(0,Qm.M)({isDisabled:p}),F=(0,nv.y)(i,(e=>e.optionsElement)),B=(0,e.useMemo)((()=>({open:y===xv.Open,disabled:p,invalid:a.invalid,hover:D,focus:I,autofocus:f})),[a,D,I,f,p,a.invalid]),z=(0,Wg.v6)({ref:x,id:c,role:"combobox",type:h,"aria-controls":null==F?void 0:F.id,"aria-expanded":y===xv.Open,"aria-activedescendant":(0,nv.y)(i,i.selectors.activeDescendantId),"aria-labelledby":T,"aria-describedby":M,"aria-autocomplete":"list",defaultValue:null!=(o=null!=(r=t.defaultValue)?r:void 0!==a.defaultValue?null==u?void 0:u(a.defaultValue):null)?o:a.defaultValue,disabled:p||void 0,autoFocus:f,onCompositionStart:E,onCompositionEnd:k,onKeyDown:C,onChange:_,onFocus:O,onBlur:P},R,L);return(0,Wg.Ci)()({ourProps:z,theirProps:m,slot:B,defaultTag:"input",name:"Combobox.Input"})})),Wv=uv.JU,Hv=(0,Wg.FX)((function(t,n){var r,o,i;let a=(0,e.useId)(),{id:s="headlessui-combobox-options-".concat(a),hold:l=!1,anchor:c,portal:d=!1,modal:u=!0,transition:p=!1}=t,f=(0,lo.A)(t,Tv),h=kv("Combobox.Options"),m=Rv("Combobox.Options"),g=(0,Bg.zn)(c);g&&(d=!0);let[v,x]=(0,Bg.UF)(g),[y,w]=(0,e.useState)(null),j=(0,Bg.G3)(),N=(0,Mg.P)(n,g?v:null,h.actions.setOptionsElement,w),[S,A,E,k,C]=(0,nv.y)(h,(e=>[e.comboboxState,e.inputElement,e.buttonElement,e.optionsElement,e.activationTrigger])),_=(0,Eg.g)(A||E),P=(0,Eg.g)(k),O=(0,ev.O_)(),[T,M]=(0,Rg.p)(p,y,null!==O?(O&ev.Uw.Open)===ev.Uw.Open:S===xv.Open);(0,Sg.O)(T,A,h.actions.closeCombobox);let I=!m.__demoMode&&(u&&S===xv.Open);(0,Tg.K)(I,P);let R=!m.__demoMode&&(u&&S===xv.Open);(0,wg.v)(R,{allowed:(0,e.useCallback)((()=>[A,E,k]),[A,E,k])}),(0,jg.s)((()=>{var e;m.optionsPropsRef.current.static=null!=(e=t.static)&&e}),[m.optionsPropsRef,t.static]),(0,jg.s)((()=>{m.optionsPropsRef.current.hold=l}),[m.optionsPropsRef,l]),(0,Dg.i)(S===xv.Open,{container:k,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let D=(0,uv.o2)([null==E?void 0:E.id]),L=(0,e.useMemo)((()=>({open:S===xv.Open,option:void 0})),[S]),F=(0,xg._)((()=>{h.actions.setActivationTrigger(yv.Pointer)})),B=(0,xg._)((e=>{e.preventDefault(),h.actions.setActivationTrigger(yv.Pointer)})),z=(0,Wg.v6)(g?j():{},(0,b.A)({"aria-labelledby":D,role:"listbox","aria-multiselectable":m.mode===bv.Multi||void 0,id:s,ref:N,style:(0,b.A)((0,b.A)((0,b.A)({},f.style),x),{},{"--input-width":(0,yg.L)(A,!0).width,"--button-width":(0,yg.L)(E,!0).width}),onWheel:C===yv.Pointer?void 0:F,onMouseDown:B},(0,Rg.B)(M))),U=T&&S===xv.Closed,V=$g(U,null==(r=m.virtual)?void 0:r.options),W=$g(U,m.value),H=(0,xg._)((e=>m.compare(W,e))),q=(0,e.useMemo)((()=>{if(!m.virtual)return m;if(void 0===V)throw new Error("Missing `options` in virtual mode");return V!==m.virtual.options?(0,b.A)((0,b.A)({},m),{},{virtual:(0,b.A)((0,b.A)({},m.virtual),{},{options:V})}):m}),[m,V,null==(o=m.virtual)?void 0:o.options]);m.virtual&&Object.assign(f,{children:e.createElement(Iv.Provider,{value:q},e.createElement(Lv,{slot:L},f.children))});let K=(0,Wg.Ci)(),G=(0,e.useMemo)((()=>m.mode===bv.Multi?m:(0,b.A)((0,b.A)({},m),{},{isSelected:H})),[m,H]);return e.createElement(fv.ZL,{enabled:!!d&&(t.static||T),ownerDocument:_},e.createElement(Iv.Provider,{value:G},K({ourProps:z,theirProps:(0,b.A)((0,b.A)({},f),{},{children:e.createElement(Xg,{freeze:U},"function"==typeof f.children?null==(i=f.children)?void 0:i.call(f,L):f.children)}),slot:L,defaultTag:"div",features:Bv,visible:T,name:"Combobox.Options"})))})),qv=(0,Wg.FX)((function(t,n){var r,o,i;let a=Rv("Combobox.Option"),s=kv("Combobox.Option"),l=(0,e.useId)(),{id:c="headlessui-combobox-option-".concat(l),value:d,disabled:u=null!=(i=null==(o=null==(r=a.virtual)?void 0:r.disabled)?void 0:o.call(r,d))&&i,order:p=null}=t,f=(0,lo.A)(t,Mv),[h]=(0,nv.y)(s,(e=>[e.inputElement])),m=Pg(h),g=(0,nv.y)(s,(0,e.useCallback)((e=>s.selectors.isActive(e,d,c)),[d,c])),v=a.isSelected(d),x=(0,e.useRef)(null),b=(0,Ng.Y)({disabled:u,value:d,domRef:x,order:p}),y=(0,e.useContext)(Dv),w=(0,Mg.P)(n,x,y?y.measureElement:null),j=(0,xg._)((()=>{s.actions.setIsTyping(!1),s.actions.onChange(d)}));(0,jg.s)((()=>s.actions.registerOption(c,b)),[b,c]);let N=(0,nv.y)(s,(0,e.useCallback)((e=>s.selectors.shouldScrollIntoView(e,d,c)),[d,c]));(0,jg.s)((()=>{if(N)return(0,av.e)().requestAnimationFrame((()=>{var e,t;null==(t=null==(e=x.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}))}),[N,x]);let S=(0,xg._)((e=>{e.preventDefault(),e.button===pv.Left&&(u||(j(),(0,lv.Fr)()||requestAnimationFrame((()=>m())),a.mode===bv.Single&&s.actions.closeCombobox()))})),A=(0,xg._)((()=>{if(u)return s.actions.goToOption({focus:iv.B.Nothing});let e=a.calculateIndex(d);s.actions.goToOption({focus:iv.B.Specific,idx:e})})),E=(0,Ig.J)(),k=(0,xg._)((e=>E.update(e))),C=(0,xg._)((e=>{if(!E.wasMoved(e)||u||g)return;let t=a.calculateIndex(d);s.actions.goToOption({focus:iv.B.Specific,idx:t},yv.Pointer)})),_=(0,xg._)((e=>{E.wasMoved(e)&&(u||g&&(a.optionsPropsRef.current.hold||s.actions.goToOption({focus:iv.B.Nothing})))})),P=(0,e.useMemo)((()=>({active:g,focus:g,selected:v,disabled:u})),[g,v,u]),O={id:c,ref:w,role:"option",tabIndex:!0===u?void 0:-1,"aria-disabled":!0===u||void 0,"aria-selected":v,disabled:void 0,onMouseDown:S,onFocus:A,onPointerEnter:k,onMouseEnter:k,onPointerMove:C,onMouseMove:C,onPointerLeave:_,onMouseLeave:_};return(0,Wg.Ci)()({ourProps:O,theirProps:f,slot:P,defaultTag:"div",name:"Combobox.Option"})})),Kv=Object.assign(zv,{Input:Vv,Button:Uv,Label:Wv,Options:Hv,Option:qv});function Gv(t){var n,r,o,i,a,s,l,c,d,p,f,h,m,g,v;let{template:x,headerMediaUrl:b="",bodyParams:y=[],urlButtonParams:w=["","",""],useProfileName:j=!1,profileNameSlot:N=1}=t;const S=null!==(n=null!==(r=null===x||void 0===x?void 0:x.name)&&void 0!==r?r:null===x||void 0===x?void 0:x.Name)&&void 0!==n?n:"",A=null!==(o=null!==(i=null===x||void 0===x?void 0:x.language)&&void 0!==i?i:null===x||void 0===x?void 0:x.Language)&&void 0!==o?o:"en_US",E=null!==(a=null!==(s=null!==(l=null===x||void 0===x?void 0:x.body)&&void 0!==l?l:null===x||void 0===x?void 0:x.bodyText)&&void 0!==s?s:null===x||void 0===x?void 0:x.Body)&&void 0!==a?a:"",k=null!==(c=null!==(d=null===x||void 0===x?void 0:x.placeholderCount)&&void 0!==d?d:null===x||void 0===x?void 0:x.PlaceholderCount)&&void 0!==c?c:0,C=null!==(p=null!==(f=null===x||void 0===x?void 0:x.headerKind)&&void 0!==f?f:null===x||void 0===x?void 0:x.HeaderKind)&&void 0!==p?p:null!==x&&void 0!==x&&x.hasImageHeader||null!==x&&void 0!==x&&x.HasImageHeader?"image":"none",_=String(C||"none").trim().toLowerCase(),P="image"===_||"video"===_||"document"===_,O=!P||(e=>{const t=String(e||"").trim();if(!t)return!1;try{return"https:"===new URL(t).protocol}catch(n){return!1}})(b),T=null!==(h=null!==(m=null!==(g=null!==(v=null===x||void 0===x?void 0:x.buttonParams)&&void 0!==v?v:null===x||void 0===x?void 0:x.ButtonParams)&&void 0!==g?g:null===x||void 0===x?void 0:x.multiButtons)&&void 0!==m?m:null===x||void 0===x?void 0:x.MultiButtons)&&void 0!==h?h:[],M=Array.isArray(T)?T:[],I=(0,e.useMemo)((()=>{const e=j?Math.max(1,Number(N||1)):null;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=String(e||""),o=Array.isArray(t)?t:[],i=new Set;let a=r.replace(/\{\{\s*(\d+)\s*\}\}/g,((e,t)=>{const r=parseInt(t,10);if(!Number.isFinite(r)||r<=0)return e;if(null!=n&&r===n)return"Contact name";const a=r-1;i.add(a);const s=o[a];return String(null!==s&&void 0!==s?s:"").trim()?String(s):e})),s=0;return a=a.replace(/\{\{\s*\}\}/g,(e=>{for(;s<o.length&&i.has(s);)s++;const t=s;if(s++,null!=n&&t===n-1)return"Contact name";const r=o[t];return String(null!==r&&void 0!==r?r:"").trim()?String(r):e})),a}(E||"No content",y,e)}),[E,y,j,N]);return x?(0,u.jsxs)("div",{className:"mt-2 rounded-xl border border-emerald-200 bg-white shadow-sm",children:[(0,u.jsx)("div",{className:"flex items-center justify-between gap-3 px-4 py-2.5 border-b border-slate-100",children:(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900 truncate",children:S||"Template preview"}),(0,u.jsxs)("div",{className:"mt-0.5 flex flex-wrap gap-1",children:[(0,u.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] text-slate-600",children:A}),(0,u.jsxs)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] text-slate-600",children:[k," var",1===k?"":"s"]}),"none"!==_&&(0,u.jsxs)("span",{className:"inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] ".concat(P?O?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-red-200 bg-red-50 text-red-700":"border-slate-200 bg-slate-50 text-slate-600"),children:[_.toUpperCase(),P?O?" \u2022 URL set":" \u2022 URL required":""]}),j&&(0,u.jsxs)("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[11px] text-emerald-800",children:["Contact \u2192 ","{{".concat(Math.max(1,Number(N||1)),"}}")]})]})]})}),P&&(0,u.jsx)("div",{className:"px-4 pt-3",children:(0,u.jsx)("div",{className:"rounded-lg border px-3 py-2 text-[11px] ".concat(O?"border-slate-200 bg-slate-50 text-slate-700":"border-red-200 bg-red-50 text-red-700"),children:O&&b?"Header URL: ".concat(b):"Header URL required (https)"})}),(0,u.jsx)("div",{className:"px-4 py-3",children:(0,u.jsx)("div",{className:"ar-node-body-scroll text-[13px] leading-5 text-slate-700 whitespace-pre-wrap max-h-28 overflow-y-auto pr-1",children:I||"No content"})}),M.length>0&&(0,u.jsx)("div",{className:"px-4 pb-4 pt-0",children:(0,u.jsx)("div",{className:"space-y-2",children:M.map(((e,t)=>{const n=String((null===e||void 0===e?void 0:e.buttonText)||(null===e||void 0===e?void 0:e.text)||(null===e||void 0===e?void 0:e.Text)||"").trim()||"(unnamed)",r=String((null===e||void 0===e?void 0:e.buttonType)||(null===e||void 0===e?void 0:e.subType)||(null===e||void 0===e?void 0:e.SubType)||(null===e||void 0===e?void 0:e.type)||(null===e||void 0===e?void 0:e.Type)||"").trim(),o=r.toLowerCase(),i=String((null===e||void 0===e?void 0:e.parameterValue)||(null===e||void 0===e?void 0:e.ParameterValue)||(null===e||void 0===e?void 0:e.targetUrl)||(null===e||void 0===e?void 0:e.TargetUrl)||"").trim(),a="number"===typeof(null===e||void 0===e?void 0:e.index)?e.index:"number"===typeof(null===e||void 0===e?void 0:e.Index)?e.Index:t,s=("url"===o||"URL"===String((null===e||void 0===e?void 0:e.type)||(null===e||void 0===e?void 0:e.Type)||"").toUpperCase())&&i.includes("{{"),l=Array.isArray(w)&&a>=0&&a<=2?String(w[a]||"").trim():"",c=!s||!!l;return(0,u.jsxs)("div",{className:"w-full rounded-lg px-3 py-2 text-xs font-semibold text-white shadow-sm ring-1 ".concat(c?"bg-emerald-600 ring-emerald-700/25":"bg-emerald-600 ring-red-400/60"),children:[(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,u.jsx)("div",{className:"truncate",children:n}),(0,u.jsx)("div",{className:"shrink-0 text-[11px] text-white/80",children:r||"button"})]}),s&&(0,u.jsx)("div",{className:"mt-1 text-[11px] ".concat(l?"text-white/90":"text-red-200"),children:l?"URL param: ".concat(l):"URL param required"})]},"".concat(n,"-").concat(t))}))})})]}):null}const Yv=e=>{const t=String(e||"").trim();if(!t)return!1;try{return"https:"===new URL(t).protocol}catch(n){return!1}};function Xv(t){let{node:n,onClose:r,onSave:o}=t;const{businessId:i}=(0,l.h)(),[a,s]=(0,e.useState)({text:"",templateName:"",tags:[],seconds:10,body:"",multiButtons:[],headerMediaUrl:"",bodyParams:[],urlButtonParams:["","",""],useProfileName:!1,profileNameSlot:1,ctaFlowConfigId:"",ctaFlowName:""}),[d,p]=(0,e.useState)([]),[f,h]=(0,e.useState)(null),[m,g]=(0,e.useState)(""),[v,x]=(0,e.useState)([]),y="template"===(null===n||void 0===n?void 0:n.type),w="message"===(null===n||void 0===n?void 0:n.type),j="tag"===(null===n||void 0===n?void 0:n.type),N="wait"===(null===n||void 0===n?void 0:n.type),S="cta_flow"===(null===n||void 0===n?void 0:n.type),A=(0,e.useMemo)((()=>{var e,t;const n=null!==(e=null!==(t=null===f||void 0===f?void 0:f.headerKind)&&void 0!==t?t:null===f||void 0===f?void 0:f.HeaderKind)&&void 0!==e?e:"none";return String(n||"none").trim().toLowerCase()}),[f]),E="image"===A||"video"===A||"document"===A,k="image"===A?"Image":"video"===A?"Video":"document"===A?"Document":"Media",C=(0,e.useMemo)((()=>(e=>{if(!e)return 0;const t=String(e),n=t.match(/\{\{\s*\d+\s*\}\}/g)||[],r=t.match(/\{\{\s*\}\}/g)||[];return n.length+r.length})(a.body)),[a.body]),_=C>0,P=(0,e.useMemo)((()=>{const e=(null===f||void 0===f?void 0:f.buttonParams)||(null===f||void 0===f?void 0:f.ButtonParams)||(null===f||void 0===f?void 0:f.multiButtons)||a.multiButtons||[];return(Array.isArray(e)?e:[]).map((e=>({type:String((null===e||void 0===e?void 0:e.type)||(null===e||void 0===e?void 0:e.Type)||"").trim().toUpperCase(),subType:String((null===e||void 0===e?void 0:e.subType)||(null===e||void 0===e?void 0:e.SubType)||"").trim().toLowerCase(),text:String((null===e||void 0===e?void 0:e.text)||(null===e||void 0===e?void 0:e.Text)||"").trim(),index:"number"===typeof(null===e||void 0===e?void 0:e.index)?e.index:"number"===typeof(null===e||void 0===e?void 0:e.Index)?e.Index:0,parameterValue:String((null===e||void 0===e?void 0:e.parameterValue)||(null===e||void 0===e?void 0:e.ParameterValue)||"").trim()}))).filter((e=>{const t="URL"===e.type||"url"===e.subType,n=e.parameterValue.includes("{{");return t&&n})).filter((e=>e.index>=0&&e.index<=2)).sort(((e,t)=>e.index-t.index))}),[f,a.multiButtons]),O=(0,e.useCallback)((()=>i||localStorage.getItem("businessId")||localStorage.getItem("sa_selectedBusinessId")||null),[i]),T=(0,e.useCallback)((async e=>{const t=O();if(t&&e)try{const{data:n}=await c.default.get("WhatsAppTemplateFetcher/get-by-name/".concat(t,"/").concat(encodeURIComponent(e)),{params:{includeButtons:!0}});if(null!==n&&void 0!==n&&n.success){const e=n.template;h(e),s((t=>(0,b.A)((0,b.A)({},t),{},{templateName:e.name,body:e.body||e.bodyText||"",multiButtons:e.multiButtons||e.buttonParams||[]})))}else h(null),console.warn("\u26a0\ufe0f No template found")}catch(oD){console.error("\u274c Failed to fetch full template",oD),h(null)}}),[O]),M=(0,e.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=O();if(t)try{const{data:n}=await c.default.get("WhatsAppTemplateFetcher/get-template/".concat(t));if(null!==n&&void 0!==n&&n.success){const t=(Array.isArray(n.templates)?n.templates:[]).map((e=>"string"===typeof e?{name:e,language:""}:e)).filter((e=>e&&e.name));p(t),e&&await T(e)}}catch(oD){console.error("\u274c Failed to fetch templates",oD)}}),[O,T]),I=(0,e.useCallback)((async()=>{try{const{data:e}=await c.default.get("cta-flow/all-published");x(Array.isArray(e)?e:[])}catch(oD){console.error("\u274c Failed to fetch CTA flows",oD),x([])}}),[]);(0,e.useEffect)((()=>{if(!n)return;const{config:e}=n.data||{},t=null===e||void 0===e?void 0:e.seconds;let r=10;if("number"===typeof t)r=t>0?t:10;else if("string"===typeof t&&""!==t.trim()){const e=Number(t);r=Number.isFinite(e)&&e>0?e:10}const o={text:(null===e||void 0===e?void 0:e.text)||"",templateName:(null===e||void 0===e?void 0:e.templateName)||"",tags:(null===e||void 0===e?void 0:e.tags)||[],seconds:r,body:(null===e||void 0===e?void 0:e.body)||"",multiButtons:(null===e||void 0===e?void 0:e.multiButtons)||[],headerMediaUrl:(null===e||void 0===e?void 0:e.headerMediaUrl)||"",bodyParams:(null===e||void 0===e?void 0:e.bodyParams)||(null===e||void 0===e?void 0:e.placeholders)||[],urlButtonParams:(null===e||void 0===e?void 0:e.urlButtonParams)||["","",""],useProfileName:!(null===e||void 0===e||!e.useProfileName),profileNameSlot:(null===e||void 0===e?void 0:e.profileNameSlot)||1,ctaFlowConfigId:(null===e||void 0===e?void 0:e.ctaFlowConfigId)||(null===e||void 0===e?void 0:e.CtaFlowConfigId)||"",ctaFlowName:(null===e||void 0===e?void 0:e.ctaFlowName)||(null===e||void 0===e?void 0:e.CtaFlowName)||""};s(o),g(""),"template"===n.type?(M(null===e||void 0===e?void 0:e.templateName),h(null)):h(null),"cta_flow"===n.type&&I()}),[n,M,I]),(0,e.useEffect)((()=>{if(!y)return;const e=C;s((t=>{const n=Array.isArray(t.bodyParams)?t.bodyParams:[];if(n.length===e)return t;const r=Array.from({length:e},((e,t)=>{var r;return String(null!==(r=n[t])&&void 0!==r?r:"")}));return(0,b.A)((0,b.A)({},t),{},{bodyParams:r})}))}),[y,C]),(0,e.useEffect)((()=>{y&&s((e=>{const t=Array.isArray(e.urlButtonParams)?e.urlButtonParams:[];if(3===t.length)return e;const n=Array.from({length:3},((e,n)=>{var r;return String(null!==(r=t[n])&&void 0!==r?r:"")}));return(0,b.A)((0,b.A)({},e),{},{urlButtonParams:n})}))}),[y]),(0,e.useEffect)((()=>{if(!y)return;if(!a.useProfileName||!_)return void(a.useProfileName&&s((e=>(0,b.A)((0,b.A)({},e),{},{useProfileName:!1}))));const e=Math.max(1,Math.min(a.profileNameSlot||1,C));e!==a.profileNameSlot&&s((t=>(0,b.A)((0,b.A)({},t),{},{profileNameSlot:e})))}),[y,_,C,a.useProfileName,a.profileNameSlot]);const R=(0,e.useMemo)((()=>{const e=String(m||"").trim().toLowerCase(),t=Array.isArray(d)?d:[];return e?t.filter((t=>{const n=String((null===t||void 0===t?void 0:t.name)||"").toLowerCase(),r=String((null===t||void 0===t?void 0:t.language)||"").toLowerCase();return n.includes(e)||r.includes(e)})):t}),[d,m]),D=(0,e.useMemo)((()=>{const e=String(a.templateName||"").trim();return e?d.find((t=>String((null===t||void 0===t?void 0:t.name)||"").trim()===e))||{name:e,language:""}:null}),[d,a.templateName]),L=e=>{const{name:t,value:n,type:r,checked:o}=e.target;s((e=>(0,b.A)((0,b.A)({},e),{},{[t]:"checkbox"===r?o:n})))},F=()=>{h(null),null===r||void 0===r||r()};if(!n)return null;const B="message"===n.type?"Edit Message Node":"template"===n.type?"Edit Template Node":"tag"===n.type?"Edit Tag Node":"wait"===n.type?"Edit Wait Node":"cta_flow"===n.type?"Edit CTA Flow Node":"Edit Node";return(0,u.jsxs)(Zm.lG,{open:!!n,onClose:F,className:"relative z-50",children:[(0,u.jsx)("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),(0,u.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,u.jsx)("div",{className:"min-h-full flex items-center justify-center p-4",children:(0,u.jsxs)(Zm.lG.Panel,{className:"w-full max-w-lg rounded-lg bg-white shadow-lg p-5 space-y-4",children:[(0,u.jsx)(Zm.lG.Title,{className:"text-lg font-semibold text-gray-900 mb-1",children:B}),(0,u.jsxs)("p",{className:"text-xs text-gray-500 mb-3",children:["Node ID: ",(0,u.jsx)("span",{className:"font-mono",children:n.id})]}),w&&(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reply text"}),(0,u.jsx)("textarea",{name:"text",value:a.text,onChange:L,rows:4,className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Type the auto-reply message..."})]}),y&&(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select WhatsApp template"}),(0,u.jsx)(Kv,{value:D,onChange:e=>{const t=String((null===e||void 0===e?void 0:e.name)||"").trim();s((e=>(0,b.A)((0,b.A)({},e),{},{templateName:t}))),t?T(t):h(null)},nullable:!0,children:(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(Kv.Input,{className:"w-full border rounded-md px-3 py-2 text-sm pr-10 focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Search & select template...",displayValue:e=>String((null===e||void 0===e?void 0:e.name)||""),onChange:e=>g(e.target.value)}),(0,u.jsx)(Kv.Button,{className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-400",children:"\u25be"}),(0,u.jsx)(Kv.Options,{className:"absolute z-50 mt-1 max-h-64 w-full overflow-auto rounded-md border bg-white py-1 text-sm shadow-lg",children:0===R.length?(0,u.jsx)("div",{className:"px-3 py-2 text-slate-500",children:"No templates found"}):R.map((e=>{const t="".concat(e.name,"||").concat(e.language||"");return(0,u.jsx)(Kv.Option,{value:e,className:e=>{let{active:t}=e;return"cursor-pointer select-none px-3 py-2 ".concat(t?"bg-emerald-50 text-emerald-900":"text-slate-700")},children:(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,u.jsx)("span",{className:"truncate",children:e.name}),(0,u.jsx)("span",{className:"shrink-0 text-xs text-slate-400",children:(e.language||"").toString()})]})},t)}))})]})}),(0,u.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"Templates are loaded from Meta and cached by your backend."})]}),(0,u.jsx)(Gv,{template:f,headerMediaUrl:a.headerMediaUrl,bodyParams:a.bodyParams,urlButtonParams:a.urlButtonParams,useProfileName:a.useProfileName,profileNameSlot:a.profileNameSlot}),E&&(0,u.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-2.5",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,u.jsxs)("label",{className:"text-sm font-medium text-slate-800",children:[k," URL (https)"]}),(0,u.jsx)("span",{className:"text-[11px] font-medium ".concat(!a.headerMediaUrl||Yv(a.headerMediaUrl)?"text-slate-500":"text-red-600"),children:a.headerMediaUrl&&!Yv(a.headerMediaUrl)?"Invalid URL":"Required"})]}),(0,u.jsx)("input",{type:"url",inputMode:"url",value:a.headerMediaUrl,onChange:e=>s((t=>(0,b.A)((0,b.A)({},t),{},{headerMediaUrl:e.target.value}))),className:"w-full border rounded-md px-2.5 py-1.5 text-sm focus:outline-none focus:ring-2 ".concat(!a.headerMediaUrl||Yv(a.headerMediaUrl)?"border-slate-200 focus:ring-emerald-500":"border-red-400 focus:ring-red-500"),placeholder:"https://..."}),(0,u.jsxs)("p",{className:"mt-1 text-[11px] text-slate-500",children:[k," templates require a publicly accessible HTTPS URL."]})]}),C>0&&(0,u.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-2.5 space-y-2",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,u.jsx)("label",{className:"text-sm font-medium text-slate-800",children:"Body variables"}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("span",{className:"text-[11px] text-slate-500",children:[C," var",1===C?"":"s"]}),_&&(0,u.jsxs)("label",{className:"flex items-center gap-2 text-[11px] text-slate-600 select-none",children:[(0,u.jsx)("input",{type:"checkbox",checked:!!a.useProfileName,onChange:e=>{if(e.target.checked){const e=Math.max(1,Math.min(a.profileNameSlot||1,C));s((t=>(0,b.A)((0,b.A)({},t),{},{useProfileName:!0,profileNameSlot:e})))}else s((e=>(0,b.A)((0,b.A)({},e),{},{useProfileName:!1})))}}),"Use contact name"]})]})]}),a.useProfileName&&(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-10 text-[11px] text-slate-500 shrink-0",children:"Slot"}),(0,u.jsx)("select",{className:"w-full border rounded-md px-2.5 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",value:a.profileNameSlot||1,onChange:e=>{const t=parseInt(e.target.value,10)||1;s((e=>(0,b.A)((0,b.A)({},e),{},{profileNameSlot:Math.max(1,Math.min(t,C))})))},children:Array.from({length:Math.max(C,1)},((e,t)=>t+1)).map((e=>(0,u.jsx)("option",{value:e,children:"{{".concat(e,"}}")},e)))})]}),(0,u.jsx)("div",{className:"space-y-2",children:Array.from({length:C},((e,t)=>{const n=t+1,r=!!a.useProfileName&&(a.profileNameSlot||1)===n,o=Array.isArray(a.bodyParams)?a.bodyParams[t]:"";return(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-10 text-[11px] text-slate-500 shrink-0",children:"{{".concat(n,"}}")}),(0,u.jsx)("input",{className:"w-full border rounded-md px-2.5 py-1.5 text-sm focus:outline-none focus:ring-2 ".concat(r?"border-slate-200 bg-slate-50 text-slate-600":"border-slate-200 focus:ring-emerald-500"),disabled:r,value:r?"Contact name (auto)":String(o||""),placeholder:r?"":"Enter value",onChange:e=>{const n=Array.isArray(a.bodyParams)?[...a.bodyParams]:Array.from({length:C},(()=>""));n[t]=e.target.value,s((e=>(0,b.A)((0,b.A)({},e),{},{bodyParams:n})))}})]},n)}))}),(0,u.jsx)("div",{className:"text-[11px] leading-tight text-slate-500",children:"Fill values for template placeholders. You can auto-fill one slot with the contact name."})]}),P.length>0&&(0,u.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-2.5 space-y-2",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("label",{className:"text-sm font-medium text-slate-800",children:"URL button values"}),(0,u.jsxs)("span",{className:"text-[11px] text-slate-500",children:[P.length," dynamic"]})]}),(0,u.jsx)("div",{className:"space-y-2",children:P.map((e=>{var t;const n=e.index,r=Array.isArray(a.urlButtonParams)&&a.urlButtonParams[n]||"",o=String(r||"").trim().length>0,i=(null===(t=e.text)||void 0===t?void 0:t.trim())||"Button ".concat(n+1);return(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-16 text-[11px] text-slate-500 shrink-0",children:"Btn ".concat(n+1)}),(0,u.jsx)("input",{className:"w-full border rounded-md px-2.5 py-1.5 text-sm focus:outline-none focus:ring-2 ".concat(o?"border-slate-200 focus:ring-emerald-500":"border-red-400 focus:ring-red-500"),value:r,placeholder:i,onChange:e=>{const t=Array.isArray(a.urlButtonParams)?[...a.urlButtonParams]:["","",""];t[n]=e.target.value,s((e=>(0,b.A)((0,b.A)({},e),{},{urlButtonParams:t})))}})]},"".concat(n,"-").concat(i))}))}),(0,u.jsxs)("div",{className:"text-[11px] leading-tight text-slate-500",children:["Required only for templates with dynamic URL buttons (URL contains ","{{1}}","). Provide the placeholder value."]})]}),!1]}),S&&(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Attach CTA Flow"}),(0,u.jsxs)("select",{value:a.ctaFlowConfigId,onChange:e=>{const t=e.target.value,n=v.find((e=>e.id===t));s((e=>(0,b.A)((0,b.A)({},e),{},{ctaFlowConfigId:t||"",ctaFlowName:(null===n||void 0===n?void 0:n.flowName)||""})))},className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,u.jsx)("option",{value:"",children:"-- Choose published CTA flow --"}),v.map((e=>(0,u.jsx)("option",{value:e.id,children:e.flowName},e.id)))]}),(0,u.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"This CTA flow is built in the CTA Flow Builder. When this auto-reply fires and the user enters that journey, this flow will run and log steps into CTA analytics."}),a.ctaFlowName&&(0,u.jsxs)("p",{className:"text-[11px] text-emerald-700 mt-1",children:["Selected flow: ",(0,u.jsx)("b",{children:a.ctaFlowName})]})]}),j&&(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),(0,u.jsx)("input",{type:"text",value:a.tags.join(", "),onChange:e=>{const t=e.target.value.split(",").map((e=>e.trim())).filter(Boolean);s((e=>(0,b.A)((0,b.A)({},e),{},{tags:t})))},className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. new_lead, hot, whatsapp_inbound"})]}),N&&(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Wait time (seconds)"}),(0,u.jsx)("input",{type:"number",name:"seconds",min:1,value:a.seconds,onChange:L,className:"w-32 border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),(0,u.jsx)("p",{className:"text-[11px] text-gray-500",children:"The flow will pause for this duration before moving to the next node."})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t mt-2",children:[(0,u.jsx)(Gm.$,{variant:"outline",type:"button",onClick:F,className:"text-sm",children:"Cancel"}),(0,u.jsx)(Gm.$,{type:"button",onClick:()=>{if(!n)return;let e=a.seconds;if(N){const t=Number(a.seconds);e=!t||!Number.isFinite(t)||t<=0?10:t}const t=(0,b.A)((0,b.A)({},a),N?{seconds:e}:{}),i=(0,b.A)((0,b.A)({},n),{},{data:(0,b.A)((0,b.A)({},n.data||{}),{},{config:t})});null===o||void 0===o||o(i),null===r||void 0===r||r()},className:"text-sm",children:"Save"})]})]})})})]})}const $v={start:function(e){let{data:t}=e;return(0,u.jsxs)("div",{className:"rounded-md border border-green-400 bg-green-100 px-2 py-1.5 w-48 shadow-sm text-[8px] text-zinc-800",children:[(0,u.jsx)(af,{type:"source",position:yp.Bottom,style:{background:"#aac0b2"}}),(0,u.jsxs)("div",{className:"font-semibold text-[9px] leading-tight",children:["\u25b6 ",t.label||"Start"]}),(0,u.jsx)("div",{className:"text-[8px] text-zinc-600 mt-0.5",children:"Flow begins here"})]})},message:$m,template:$m,wait:$m,tag:$m,cta_flow:$m},Zv=()=>{if("undefined"!==typeof crypto&&"function"===typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(16);if("undefined"!==typeof crypto&&"function"===typeof crypto.getRandomValues)crypto.getRandomValues(e);else for(let n=0;n<e.length;n++)e[n]=Math.floor(256*Math.random());e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.from(e,(e=>e.toString(16).padStart(2,"0")));return"".concat(t.slice(0,4).join(""),"-").concat(t.slice(4,6).join(""),"-").concat(t.slice(6,8).join(""),"-").concat(t.slice(8,10).join(""),"-").concat(t.slice(10,16).join(""))},Jv=()=>{const e=Zv();return{id:e,type:"start",position:{x:100,y:100},data:{id:e,label:"start"}}},Qv=(0,e.forwardRef)(((t,n)=>{const r=(0,e.useRef)(null),[o,i]=(0,e.useState)(null),[s,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(""),[p,f]=(0,e.useState)(""),[h,m,g]=vm([Jv()]),[v,x,y]=xm([]),[w,j]=(0,e.useState)(null),[N,S]=(0,e.useState)(null),[A,E]=(0,e.useState)(null),[k,C]=(0,e.useState)(!1),[_,P]=(0,e.useState)(!1),{onOpenFlows:O,onSave:T,flowName:M,triggerKeywords:I,matchMode:R,priority:D,onMatchModeChange:L,onPriorityChange:F}=t,B=(e,t,n,r,o)=>{const i=(e||[]).map((e=>{var t,n,r,o,i;return{id:e.id,type:e.type,x:null!==(t=null===(n=e.position)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(o=e.position)||void 0===o?void 0:o.y)&&void 0!==r?r:0,label:(null===(i=e.data)||void 0===i?void 0:i.label)||""}})),a=(t||[]).map((e=>({id:e.id,source:e.source,target:e.target,sourceHandle:e.sourceHandle||null,targetHandle:e.targetHandle||null})));return JSON.stringify({id:null!==o&&void 0!==o?o:null,name:n||"",triggerKeyword:r||"",nodes:i,edges:a})};(0,e.useEffect)((()=>{if(!A)return;const e=B(h,v,c,p,s);C(e!==A)}),[h,v,c,p,s,A]);const z=(0,e.useCallback)((e=>{m((t=>t.filter((t=>t.id!==e)))),x((t=>t.filter((t=>t.source!==e&&t.target!==e)))),j(null)}),[m,x]),U=(0,e.useCallback)((e=>{const t=h.find((t=>t.id===e));"start"===(null===t||void 0===t?void 0:t.type)?S(e):z(e)}),[h,z]),V=(0,e.useCallback)((e=>{const t="reactflow__edge-".concat(e.source).concat(e.sourceHandle?e.sourceHandle:"","-").concat(e.target);x((n=>Bp((0,b.A)((0,b.A)({},e),{},{id:t,type:"smoothstep"}),n)))}),[x]),W=(0,e.useCallback)(((e,t)=>{e.stopPropagation(),x((e=>e.filter((e=>e.id!==t.id))))}),[x]),H=(0,e.useCallback)((e=>{e.preventDefault();const t=e.dataTransfer.getData("application/reactflow");if(!t||!o)return;const n=r.current.getBoundingClientRect(),i=o.project({x:e.clientX-n.left,y:e.clientY-n.top}),a=Zv(),s={id:a,type:t,position:i,data:{id:a,label:t,config:{},onDelete:U}};m((e=>e.concat(s)))}),[o,U,m]),q=(0,e.useCallback)((e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),K=(0,e.useCallback)(((e,t)=>{j(t)}),[]),G=async()=>{var e,t;if(!o)return;const n=o.toObject(),r={};n.nodes.forEach((e=>{var t;r[e.id]=(null===(t=e.data)||void 0===t?void 0:t.id)||e.id}));const i=(null===(e=n.edges)||void 0===e?void 0:e.map((e=>{var t,n;return{id:e.id,source:e.source,target:e.target,sourceNodeId:r[e.source],targetNodeId:r[e.target],sourceHandle:null!==(t=e.sourceHandle)&&void 0!==t?t:null,targetHandle:null!==(n=e.targetHandle)&&void 0!==n?n:null}})))||[],l=(null===(t=n.nodes)||void 0===t?void 0:t.map((e=>{var t,n,r;const o=(null===(t=e.data)||void 0===t?void 0:t.id)||e.id,i="object"===typeof(null===(n=e.data)||void 0===n?void 0:n.config)?JSON.parse(JSON.stringify(e.data.config)):{};return{id:o,type:e.type,position:{x:e.position.x,y:e.position.y},data:{label:(null===(r=e.data)||void 0===r?void 0:r.label)||"",config:i}}})))||[],d={id:s,name:c.trim()||M||"Untitled Flow",triggerKeyword:p.trim()||I||"",nodes:l,edges:i};if("function"===typeof T){await T(d);const e=B(l,i,d.name,d.triggerKeyword,s);return E(e),void C(!1)}a.oR.error("\u274c Save function is not connected.")};return(0,e.useImperativeHandle)(n,(()=>({loadFlow:e=>{try{var t,n,r;j(null),S(null),l(null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null),d((null===e||void 0===e?void 0:e.name)||""),f((null===e||void 0===e?void 0:e.triggerKeyword)||(null===e||void 0===e?void 0:e.keyword)||"");const o=(null===e||void 0===e||null===(n=e.nodes)||void 0===n?void 0:n.map((e=>{var t,n;let r={};if("string"===typeof e.configJson)try{r=JSON.parse(e.configJson||"{}")||{}}catch(o){r={}}else e.configJson&&"object"===typeof e.configJson&&(r=e.configJson);return{id:e.id,type:e.nodeType,position:{x:null!==(t=e.positionX)&&void 0!==t?t:0,y:null!==(n=e.positionY)&&void 0!==n?n:0},data:{id:e.id,label:e.label||e.nodeName||e.nodeType,config:r}}})))||[],i=new Set(o.map((e=>e.id))),a=[];o.forEach((e=>{var t,n;((null===(t=e.data)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.outgoing)||[]).forEach(((t,n)=>{null!==t&&void 0!==t&&t.targetId&&i.has(t.targetId)&&a.push({id:"".concat(e.id,"->").concat(t.targetId,"-").concat(n),source:e.id,target:t.targetId,sourceHandle:t.handle||null})}))}));const s=o.length>0?o:[Jv()];m(s),x(a);const c=B(s,a,(null===e||void 0===e?void 0:e.name)||"",(null===e||void 0===e?void 0:e.triggerKeyword)||(null===e||void 0===e?void 0:e.keyword)||"",null!==(r=null===e||void 0===e?void 0:e.id)&&void 0!==r?r:null);E(c),C(!1)}catch(oD){console.error("Failed to load flow into canvas",oD),a.oR.error("\xe2\x9d\u0152 Failed to load flow on canvas");const t=[Jv()];m(t),x([]),E(B(t,[],"","",null)),C(!1)}},handleSaveFlow:G,saveFlow:G,clearFlow:()=>{l(null),d(""),f(""),j(null),S(null);const e=[Jv()];m(e),x([]);const t=B(e,[],"","",null);E(t),C(!1)}}))),(0,u.jsxs)(sm,{children:[(0,u.jsx)("div",{className:"px-4 py-3 bg-white border-b border-gray-200",children:(0,u.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,u.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row md:gap-4",children:[(0,u.jsxs)("div",{className:"flex-1 mb-2 md:mb-0",children:[(0,u.jsx)("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:"Flow name"}),(0,u.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"e.g. Welcome Flow",className:"w-full border border-slate-200 rounded-md px-2 py-1.5 text-sm"})]}),(0,u.jsxs)("div",{className:"flex-1 relative",children:[(0,u.jsx)("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:"Trigger keywords (comma separated)"}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"hi, hello, hey",className:"flex-1 border border-slate-200 rounded-md px-2 py-1.5 text-sm"}),(0,u.jsx)("button",{type:"button",onClick:()=>P((e=>!e)),className:"inline-flex items-center justify-center h-8 w-8 rounded-md border text-xs font-medium transition-colors ".concat(_?"bg-emerald-600 text-white border-emerald-600":"bg-white text-emerald-700 border-emerald-300 hover:bg-emerald-50"),title:"Flow matching settings",children:(0,u.jsx)(Ym,{className:"w-4 h-4"})})]}),_&&(0,u.jsxs)("div",{className:"absolute right-0 mt-2 z-30 w-72 bg-white border border-slate-200 rounded-lg shadow-lg p-3",children:[(0,u.jsx)("h4",{className:"text-xs font-semibold text-slate-800 mb-2",children:"Flow Settings (Advanced)"}),(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{className:"block text-[11px] font-medium text-slate-600 mb-1",children:"Match mode"}),(0,u.jsxs)("select",{className:"w-full px-2 py-1.5 rounded-md border border-slate-300 text-xs bg-white",value:R||"Word",onChange:e=>null===L||void 0===L?void 0:L(e.target.value||"Word"),children:[(0,u.jsx)("option",{value:"Word",children:"Word (default)"}),(0,u.jsx)("option",{value:"Exact",children:"Exact"}),(0,u.jsx)("option",{value:"StartsWith",children:"StartsWith"}),(0,u.jsx)("option",{value:"Contains",children:"Contains"})]}),(0,u.jsxs)("p",{className:"mt-1 text-[10px] text-slate-500",children:["Controls how trigger keywords are matched against incoming messages. If you\u2019re not sure, keep it on ",(0,u.jsx)("b",{children:"Word"}),"."]})]}),(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("label",{className:"block text-[11px] font-medium text-slate-600 mb-1",children:"Priority"}),(0,u.jsx)("input",{type:"number",min:0,max:100,className:"w-full px-2 py-1.5 rounded-md border border-slate-300 text-xs",value:D,onChange:e=>null===F||void 0===F?void 0:F(e.target.value)}),(0,u.jsxs)("p",{className:"mt-1 text-[10px] text-slate-500",children:["Higher priority wins when multiple flows match the same message. Leave ",(0,u.jsx)("b",{children:"0"})," if you\u2019re not sure."]})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,u.jsx)("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-700",onClick:()=>{null===L||void 0===L||L("Word"),null===F||void 0===F||F(0)},children:"Reset to defaults"}),(0,u.jsx)("button",{type:"button",className:"text-[11px] text-emerald-700 font-medium",onClick:()=>P(!1),children:"Done"})]})]})]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2 md:ml-4",children:[(0,u.jsx)(Gm.$,{type:"button",size:"sm",onClick:G,className:"h-8 px-3 text-xs font-semibold bg-emerald-600 text-white hover:bg-emerald-700 shadow-sm",children:"\ud83d\udcbe Save Flow"}),(0,u.jsxs)(Gm.$,{type:"button",size:"sm",onClick:O,className:"h-8 px-3 text-xs font-semibold bg-emerald-600 text-white hover:bg-emerald-700 shadow-sm",children:[(0,u.jsx)("span",{className:"mr-1 text-[11px]",children:"\u2630"}),"Flows"]})]})]})}),(0,u.jsxs)("div",{ref:r,className:"w-full h-[calc(100vh-10rem)]",onDrop:H,onDragOver:q,children:[(0,u.jsxs)(mm,{nodes:h.map((e=>(0,b.A)((0,b.A)({},e),{},{data:(0,b.A)((0,b.A)({},e.data),{},{onDelete:U})}))),edges:v,onNodesChange:g,onEdgesChange:y,onConnect:V,onEdgeClick:W,onNodeClick:K,onInit:i,fitView:!0,nodeTypes:$v,children:[(0,u.jsx)(km,{}),(0,u.jsx)(Dm,{}),(0,u.jsx)(Km,{})]}),(0,u.jsx)(Xv,{node:w,onClose:()=>j(null),onSave:e=>{m((t=>t.map((t=>t.id===e.id?e:t)))),j(null)}}),N&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center",children:(0,u.jsxs)("div",{className:"bg-white p-6 rounded shadow-xl max-w-sm w-full",children:[(0,u.jsx)("h2",{className:"text-lg font-bold text-red-600 mb-2",children:"Delete Start Block?"}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"This is the starting point of the flow. Deleting it may break connected logic."}),(0,u.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,u.jsx)("button",{className:"text-sm px-3 py-1 rounded bg-gray-200",onClick:()=>S(null),children:"Cancel"}),(0,u.jsx)("button",{className:"text-sm px-3 py-1 rounded bg-red-600 text-white",onClick:()=>{z(N),S(null)},children:"Delete"})]})]})})]})]})})),ex=Qv,tx=(0,_.A)("circle-play",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),nx=(0,_.A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);var rx=n(29350),ox=n(44260);const ix=[{type:"start",label:"Start",icon:tx},{type:"message",label:"Message",icon:$},{type:"template",label:"Template",icon:de.A},{type:"cta_flow",label:"CTA Flow",icon:nx},{type:"tag",label:"Tag",icon:rx.A},{type:"wait",label:"Wait",icon:ox.A}];function ax(){return(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-gray-800",children:"Blocks & Actions"}),(0,u.jsx)("div",{className:"space-y-3",children:ix.map((e=>{const t=e.icon;return(0,u.jsxs)("div",{onDragStart:t=>{return n=t,r=e.type,n.dataTransfer.setData("application/reactflow",r),void(n.dataTransfer.effectAllowed="move");var n,r},draggable:!0,className:"cursor-move flex items-center gap-3 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:shadow-md hover:border-emerald-500 transition-all",children:[(0,u.jsx)(t,{size:18,className:"text-emerald-600"}),(0,u.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.label})]},e.type)}))})]})}const sx=(0,_.A)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);function lx(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch(t){return e}}function cx(t){let{open:n,onClose:r,onFlowSelected:o}=t;const[i,s]=(0,e.useState)([]),[d,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(null),{business:m}=(0,l.h)()||{},g=null===m||void 0===m?void 0:m.id,[v,x]=(0,e.useState)(!1),[y,w]=(0,e.useState)(null),[j,N]=(0,e.useState)(""),[S,A]=(0,e.useState)(null),[E,k]=(0,e.useState)(!1),[C,_]=(0,e.useState)(null);(0,e.useEffect)((()=>{if(!n)return;(async()=>{p(!0),h(null);try{const{data:e}=await c.default.get("autoreplyflows");s(Array.isArray(e)?e:[])}catch(oD){var e,t;console.error("Failed to load flows list",oD),h((null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===oD||void 0===oD?void 0:oD.message)||"Unable to load flows.")}finally{p(!1)}})()}),[n]);if(!n)return null;const P=S&&S.isMatch&&y&&S.flowId===y.id;return(0,u.jsxs)("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col overflow-hidden",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b bg-gradient-to-r from-emerald-50 via-teal-50 to-emerald-50",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-base font-semibold text-emerald-900",children:"Auto-Reply Flows"}),(0,u.jsxs)("p",{className:"text-xs text-emerald-700",children:["Click a row to open the flow on the canvas. Use the toggle to activate or deactivate a flow. Use"," ",(0,u.jsx)("span",{className:"font-semibold",children:"Test"})," to see which flow would trigger for a sample message."]})]}),(0,u.jsx)("button",{type:"button",onClick:r,className:"inline-flex items-center justify-center rounded-full p-1.5 hover:bg-emerald-100",children:(0,u.jsx)(Pe.A,{className:"w-4 h-4 text-emerald-700"})})]}),(0,u.jsxs)("div",{className:"flex-1 overflow-auto bg-white",children:[d&&(0,u.jsxs)("div",{className:"p-4 text-sm text-zinc-600 flex items-center gap-2",children:[(0,u.jsx)(ct.A,{className:"w-4 h-4 animate-spin"}),"Loading flows..."]}),f&&!d&&(0,u.jsx)("div",{className:"p-4 text-sm text-red-600",children:f}),!d&&!f&&0===i.length&&(0,u.jsx)("div",{className:"p-4 text-sm text-zinc-500",children:"No flows found yet. Create your first auto-reply flow from the canvas."}),!d&&!f&&i.length>0&&(0,u.jsxs)("table",{className:"w-full text-sm",children:[(0,u.jsx)("thead",{className:"bg-zinc-50 border-b",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-left py-2 px-4 font-medium text-xs text-zinc-500",children:"Name"}),(0,u.jsx)("th",{className:"text-left py-2 px-4 font-medium text-xs text-zinc-500",children:"Trigger Keywords"}),(0,u.jsx)("th",{className:"text-left py-2 px-4 font-medium text-xs text-zinc-500",children:"Status"}),(0,u.jsx)("th",{className:"text-left py-2 px-4 font-medium text-xs text-zinc-500",children:"Created"}),(0,u.jsx)("th",{className:"text-left py-2 px-4 font-medium text-xs text-zinc-500",children:"Updated"}),(0,u.jsx)("th",{className:"text-left py-2 px-4 font-medium text-xs text-zinc-500",children:"Test"}),(0,u.jsx)("th",{className:"text-right py-2 px-4 font-medium text-xs text-zinc-500",children:"Toggle"})]})}),(0,u.jsx)("tbody",{children:i.map((e=>{const t=e.isActive;return(0,u.jsxs)("tr",{className:"border-b last:border-b-0 hover:bg-zinc-50 cursor-pointer",onClick:()=>{"function"===typeof o&&o(e.id),null===r||void 0===r||r()},children:[(0,u.jsx)("td",{className:"py-2 px-4",children:(0,u.jsx)("div",{className:"font-medium text-zinc-800",children:e.name})}),(0,u.jsx)("td",{className:"py-2 px-4",children:(0,u.jsx)("div",{className:"text-xs text-zinc-600 truncate max-w-xs",children:e.triggerKeyword||"-"})}),(0,u.jsx)("td",{className:"py-2 px-4",children:(0,u.jsxs)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] font-medium ".concat(t?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-zinc-100 text-zinc-600 border border-zinc-200"),children:[(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5 ".concat(t?"bg-emerald-500":"bg-zinc-400")}),t?"Active":"Inactive"]})}),(0,u.jsx)("td",{className:"py-2 px-4 text-xs text-zinc-600",children:lx(e.createdAt)}),(0,u.jsx)("td",{className:"py-2 px-4 text-xs text-zinc-600",children:lx(e.updatedAt)}),(0,u.jsx)("td",{className:"py-2 px-4",children:(0,u.jsxs)("button",{type:"button",onClick:t=>((e,t)=>{t&&(t.stopPropagation(),t.preventDefault()),w(e),A(null),_(null);const n=(e.triggerKeyword||"").split(/[,|\n|\r]/).map((e=>e.trim())).filter(Boolean)[0]||"";N(n),x(!0)})(e,t),className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-emerald-200 text-[11px] text-emerald-700 hover:bg-emerald-50 hover:border-emerald-400 transition-colors",children:[(0,u.jsx)(sx,{className:"w-3 h-3"}),"Test"]})}),(0,u.jsx)("td",{className:"py-2 px-4 text-right",children:(0,u.jsx)("button",{type:"button",onClick:t=>(async(e,t)=>{t&&(t.stopPropagation(),t.preventDefault());const n=!e.isActive;try{await c.default.patch("autoreplyflows/".concat(e.id,"/status"),{isActive:n}),s((t=>t.map((t=>t.id===e.id?(0,b.A)((0,b.A)({},t),{},{isActive:n,updatedAt:(new Date).toISOString()}):t)))),a.oR.success(n?"Flow activated successfully.":"Flow deactivated successfully.")}catch(oD){console.error("Failed to toggle flow status",oD),a.oR.error("Failed to update flow status. Please try again.")}})(e,t),className:"relative inline-flex h-5 w-9 cursor-pointer items-center rounded-full border transition-colors duration-200 ".concat(t?"bg-emerald-500 border-emerald-500":"bg-zinc-300 border-zinc-300"),children:(0,u.jsx)("span",{className:"h-4 w-4 rounded-full bg-white shadow transform transition-transform duration-200 ".concat(t?"translate-x-4":"translate-x-0")})})})]},e.id)}))})]})]}),(0,u.jsx)("div",{className:"px-5 py-3 border-t bg-white flex justify-end",children:(0,u.jsx)("button",{type:"button",onClick:r,className:"px-4 py-1.5 text-sm rounded-lg border border-zinc-300 text-zinc-700 hover:bg-zinc-50",children:"Close"})})]}),v&&(0,u.jsx)("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/20",children:(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-slate-800",children:"Test Auto-Reply Match"}),(0,u.jsx)("button",{type:"button",onClick:()=>{x(!1),w(null),N(""),A(null),_(null),k(!1)},className:"p-1 rounded-full hover:bg-slate-100",children:(0,u.jsx)(Pe.A,{className:"w-4 h-4 text-slate-600"})})]}),(0,u.jsxs)("p",{className:"text-xs text-slate-600 mb-3",children:["Flow:"," ",(0,u.jsx)("span",{className:"font-semibold",children:(null===y||void 0===y?void 0:y.name)||(null===y||void 0===y?void 0:y.id)||"-"})]}),(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Sample incoming message"}),(0,u.jsx)("input",{type:"text",className:"w-full px-3 py-2 rounded-lg border border-slate-300 text-sm",placeholder:"Type what the customer might send...",value:j,onChange:e=>N(e.target.value)})]}),(0,u.jsx)("div",{className:"flex justify-end mb-2",children:(0,u.jsxs)("button",{type:"button",onClick:async()=>{if(j.trim())if(g){k(!0),_(null),A(null);try{const e={businessId:g,incomingText:j.trim()},t=await c.default.post("autoreplyflows/test-match",e);A((null===t||void 0===t?void 0:t.data)||null)}catch(oD){var e,t;console.error("Test-match error (flows modal)",oD),_((null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===oD||void 0===oD?void 0:oD.message)||"Failed to test auto-reply match.")}finally{k(!1)}}else _("Missing business id in auth context.")},disabled:E||!j.trim(),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm rounded-lg bg-emerald-600 text-white disabled:opacity-50",children:[(0,u.jsx)(sx,{className:"w-4 h-4"}),E?"Testing...":"Run test"]})}),C&&(0,u.jsx)("p",{className:"text-xs text-red-600 mb-2",children:C}),S&&(0,u.jsxs)("div",{className:"mt-2 text-xs text-slate-700 space-y-1 border-t border-slate-100 pt-2",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-semibold",children:"Matched:"})," ",S.isMatch?"Yes":"No"]}),S.isMatch&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-semibold",children:"Matched flow:"})," ",S.flowName||S.flowId]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-semibold",children:"Is this flow?"})," ",P?(0,u.jsx)("span",{className:"text-emerald-700 font-semibold",children:"Yes, this flow will trigger."}):(0,u.jsx)("span",{className:"text-amber-700",children:"No, a different flow has higher priority or a better match."})]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-semibold",children:"Keyword:"})," ",S.matchedKeyword||"-"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-semibold",children:"Start node:"})," ",S.startNodeType||"?"," /"," ",S.startNodeName||"-"]})]}),!S.isMatch&&(0,u.jsx)("p",{className:"text-amber-700",children:"No auto-reply flow matched this message."})]})]})})]})}function dx(){const t=(0,e.useRef)(),[n]=(0,o.ok)(),r=n.get("flowId"),[i,s]=(0,e.useState)(0),[l,d]=(0,e.useState)(!1),[p,f]=(0,e.useState)("Word"),[h,m]=(0,e.useState)(0),g=e=>"string"===typeof e&&/^[0-9a-fA-F-]{36}$/.test(e)?e:null,v=async e=>{if(e)try{var n;const{data:r}=await c.default.get("autoreplyflows/".concat(e)),o=null===r||void 0===r?void 0:r.matchMode,i="string"===typeof o&&o.trim().length>0?o:"Word",s=null===r||void 0===r?void 0:r.priority,l="number"!==typeof s||Number.isNaN(s)?0:s;f(i),m(l),null===(n=t.current)||void 0===n||n.loadFlow(r),a.oR.success("\u2705 Flow loaded")}catch(oD){a.oR.error("\u274c Error loading flow"),console.error(oD)}};return(0,e.useEffect)((()=>{r&&v(r)}),[r]),(0,u.jsxs)("div",{className:"flex overflow-hidden bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsxs)("div",{className:"w-72 border-r border-gray-200 bg-white p-4",children:[(0,u.jsxs)("h2",{className:"text-lg font-semibold mb-4 text-zinc-800 flex items-center gap-2",children:[(0,u.jsx)(Z,{className:"text-emerald-600",size:22}),"Auto Reply Builder"]}),(0,u.jsx)(ax,{onSelectFlow:v,onDeleteFlow:()=>{var e,n;null===(e=t.current)||void 0===e||null===(n=e.clearFlow)||void 0===n||n.call(e),f("Word"),m(0),s((e=>e+1))}},i)]}),(0,u.jsx)("div",{className:"flex-1 flex flex-col",children:(0,u.jsx)("div",{className:"flex-1 bg-white relative overflow-auto",children:(0,u.jsx)(ex,{ref:t,flowName:"",triggerKeywords:"",onSave:async e=>{try{var t,n,r;const o=(null===(t=e.nodes)||void 0===t?void 0:t.map(((t,n)=>{var r,o,i,a,s,l,c,d;const u=(0,b.A)((0,b.A)({},(null===(r=t.data)||void 0===r?void 0:r.config)||{}),{},{outgoing:(null===(o=e.edges)||void 0===o?void 0:o.filter((e=>e.source===t.id)).map((t=>{var n;return{targetId:(null===(n=e.nodes.find((e=>e.id===t.target)))||void 0===n?void 0:n.id)||t.target,handle:t.sourceHandle||null}})))||[]});return{id:g(t.id),nodeType:t.type,label:(null===(i=t.data)||void 0===i?void 0:i.label)||"",nodeName:(null===(a=t.data)||void 0===a?void 0:a.label)||t.id,configJson:JSON.stringify(u),positionX:null!==(s=null===(l=t.position)||void 0===l?void 0:l.x)&&void 0!==s?s:0,positionY:null!==(c=null===(d=t.position)||void 0===d?void 0:d.y)&&void 0!==c?c:0,order:n}})))||[],i=Number(h),l=Number.isNaN(i)?0:i,d={id:g(e.id)||null,name:(null===(n=e.name)||void 0===n?void 0:n.trim())||"Untitled Flow",triggerKeyword:(null===(r=e.triggerKeyword)||void 0===r?void 0:r.trim())||"",isActive:!0,matchMode:p||"Word",priority:l,nodes:o},{data:u}=await c.default.post("autoreplyflows",d);a.oR.success("\u2705 Flow saved successfully!"),null!==u&&void 0!==u&&u.id&&await v(u.id),s((e=>e+1))}catch(oD){a.oR.error("\u274c Failed to save flow"),console.error("Save error:",oD)}},onOpenFlows:()=>d(!0)})})}),(0,u.jsx)(cx,{open:l,onClose:()=>d(!1),onFlowSelected:e=>{var t;const n="string"===typeof e?e:null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null;n&&v(n)}})]})}const ux=["inProgress"],px=()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",fx=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),hx=()=>"The React Flow parent container needs a width and a height to render the graph.",mx=()=>"Only child nodes can use a parent extent.",gx=()=>"Can't create edge. An edge needs a source and a target.",vx=e=>'Marker type "'.concat(e,"\" doesn't exist."),xx=(e,t)=>{let{id:n,sourceHandle:r,targetHandle:o}=t;return"Couldn't create edge for ".concat(e,' handle id: "').concat("source"===e?r:o,'", edge id: ').concat(n,".")},bx=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",yx=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),wx=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),jx=()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",Nx=()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs.",Sx=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ax=["Enter"," ","Escape"];var Ex,kx,Cx;!function(e){e.Strict="strict",e.Loose="loose"}(Ex||(Ex={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(kx||(kx={})),function(e){e.Partial="partial",e.Full="full"}(Cx||(Cx={}));const _x={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Px,Ox,Tx;!function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Px||(Px={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(Ox||(Ox={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Tx||(Tx={}));const Mx={[Tx.Left]:Tx.Right,[Tx.Right]:Tx.Left,[Tx.Top]:Tx.Bottom,[Tx.Bottom]:Tx.Top};function Ix(e){return null===e?null:e?"valid":"invalid"}const Rx=e=>"id"in e&&"source"in e&&"target"in e,Dx=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Lx=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{width:r,height:o}=ub(e),i=null!==(t=e.origin)&&void 0!==t?t:n,a=r*i[0],s=o*i[1];return{x:e.position.x-a,y:e.position.y-s}},Fx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach((e=>{if(void 0===t.filter||t.filter(e)){const t=Jx(e);n=Yx(n,t)}})),$x(n)},Bx=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=(0,b.A)((0,b.A)({},ib(t,[n,r,o])),{},{width:t.width/o,height:t.height/o}),l=[];for(const m of e.values()){var c,d,u,p,f,h;const{measured:e,selectable:t=!0,hidden:n=!1}=m;if(a&&!t||n)continue;const r=null!==(c=null!==(d=null!==(u=e.width)&&void 0!==u?u:m.width)&&void 0!==d?d:m.initialWidth)&&void 0!==c?c:null,o=null!==(p=null!==(f=null!==(h=e.height)&&void 0!==h?h:m.height)&&void 0!==f?f:m.initialHeight)&&void 0!==p?p:null,g=eb(s,Zx(m)),v=(null!==r&&void 0!==r?r:0)*(null!==o&&void 0!==o?o:0),x=i&&g>0;(!m.internals.handleBounds||x||g>=v||m.dragging)&&l.push(m)}return l};async function zx(e,t){var n,r,o;let{nodes:i,width:a,height:s,panZoom:l,minZoom:c,maxZoom:d}=e;if(0===i.size)return Promise.resolve(!0);const u=function(e,t){const n=new Map,r=null!==t&&void 0!==t&&t.nodes?new Set(t.nodes.map((e=>e.id))):null;return e.forEach((e=>{!e.measured.width||!e.measured.height||!(null===t||void 0===t?void 0:t.includeHiddenNodes)&&e.hidden||r&&!r.has(e.id)||n.set(e.id,e)})),n}(i,t),p=Fx(u),f=lb(p,a,s,null!==(n=null===t||void 0===t?void 0:t.minZoom)&&void 0!==n?n:c,null!==(r=null===t||void 0===t?void 0:t.maxZoom)&&void 0!==r?r:d,null!==(o=null===t||void 0===t?void 0:t.padding)&&void 0!==o?o:.1);return await l.setViewport(f,{duration:null===t||void 0===t?void 0:t.duration}),Promise.resolve(!0)}function Ux(e){var t,n,r;let{nodeId:o,nextPosition:i,nodeLookup:a,nodeOrigin:s=[0,0],nodeExtent:l,onError:c}=e;const d=a.get(o),u=d.parentId?a.get(d.parentId):void 0,{x:p,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},h=null!==(t=d.origin)&&void 0!==t?t:s;let m=l;if("parent"!==d.extent||d.expandParent)u&&db(d.extent)&&(m=[[d.extent[0][0]+p,d.extent[0][1]+f],[d.extent[1][0]+p,d.extent[1][1]+f]]);else if(u){const e=u.measured.width,t=u.measured.height;e&&t&&(m=[[p,f],[p+e,f+t]])}else null===c||void 0===c||c("005",mx());const g=db(m)?Hx(i,m,d.measured):i;return void 0!==d.measured.width&&void 0!==d.measured.height||null===c||void 0===c||c("015",Nx()),{position:{x:g.x-p+(null!==(n=d.measured.width)&&void 0!==n?n:0)*h[0],y:g.y-f+(null!==(r=d.measured.height)&&void 0!==r?r:0)*h[1]},positionAbsolute:g}}async function Vx(e){let{nodesToRemove:t=[],edgesToRemove:n=[],nodes:r,edges:o,onBeforeDelete:i}=e;const a=new Set(t.map((e=>e.id))),s=[];for(const f of r){if(!1===f.deletable)continue;const e=a.has(f.id),t=!e&&f.parentId&&s.find((e=>e.id===f.parentId));(e||t)&&s.push(f)}const l=new Set(n.map((e=>e.id))),c=o.filter((e=>!1!==e.deletable)),d=((e,t)=>{const n=new Set;return e.forEach((e=>{n.add(e.id)})),t.filter((e=>n.has(e.source)||n.has(e.target)))})(s,c),u=d;for(const f of c){l.has(f.id)&&!u.find((e=>e.id===f.id))&&u.push(f)}if(!i)return{edges:u,nodes:s};const p=await i({nodes:s,edges:u});return"boolean"===typeof p?p?{edges:u,nodes:s}:{edges:[],nodes:[]}:p}const Wx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Hx=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return{x:Wx(n.x,r[0][0],r[1][0]-(null!==(e=null===o||void 0===o?void 0:o.width)&&void 0!==e?e:0)),y:Wx(n.y,r[0][1],r[1][1]-(null!==(t=null===o||void 0===o?void 0:o.height)&&void 0!==t?t:0))}};function qx(e,t,n){const{width:r,height:o}=ub(n),{x:i,y:a}=n.internals.positionAbsolute;return Hx(e,[[i,a],[i+r,a+o]],t)}const Kx=(e,t,n)=>e<t?Wx(Math.abs(e-t),1,t)/t:e>n?-Wx(Math.abs(e-n),1,t)/t:0,Gx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;return[Kx(e.x,r,t.width-r)*n,Kx(e.y,r,t.height-r)*n]},Yx=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Xx=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},$x=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},Zx=function(e){var t,n,r,o,i,a,s,l;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{x:d,y:u}=Dx(e)?e.internals.positionAbsolute:Lx(e,c);return{x:d,y:u,width:null!==(t=null!==(n=null!==(r=null===(o=e.measured)||void 0===o?void 0:o.width)&&void 0!==r?r:e.width)&&void 0!==n?n:e.initialWidth)&&void 0!==t?t:0,height:null!==(i=null!==(a=null!==(s=null===(l=e.measured)||void 0===l?void 0:l.height)&&void 0!==s?s:e.height)&&void 0!==a?a:e.initialHeight)&&void 0!==i?i:0}},Jx=function(e){var t,n,r,o,i,a,s,l;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{x:d,y:u}=Dx(e)?e.internals.positionAbsolute:Lx(e,c);return{x:d,y:u,x2:d+(null!==(t=null!==(n=null!==(r=null===(o=e.measured)||void 0===o?void 0:o.width)&&void 0!==r?r:e.width)&&void 0!==n?n:e.initialWidth)&&void 0!==t?t:0),y2:u+(null!==(i=null!==(a=null!==(s=null===(l=e.measured)||void 0===l?void 0:l.height)&&void 0!==s?s:e.height)&&void 0!==a?a:e.initialHeight)&&void 0!==i?i:0)}},Qx=(e,t)=>$x(Yx(Xx(e),Xx(t))),eb=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},tb=e=>nb(e.width)&&nb(e.height)&&nb(e.x)&&nb(e.y),nb=e=>!isNaN(e)&&isFinite(e),rb=(e,t)=>{0},ob=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1];return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}},ib=function(e,t){let{x:n,y:r}=e,[o,i,a]=t;const s={x:(n-o)/a,y:(r-i)/a};return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?ob(s,arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1]):s},ab=(e,t)=>{let{x:n,y:r}=e,[o,i,a]=t;return{x:n*a+o,y:r*a+i}};function sb(e,t){if("number"===typeof e)return Math.floor(.5*(t-t/(1+e)));if("string"===typeof e&&e.endsWith("px")){const t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"===typeof e&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error('[React Flow] The padding value "'.concat(e,'" is invalid. Please provide a number or a string with a valid unit (px or %).')),0}const lb=(e,t,n,r,o,i)=>{const a=function(e,t,n){if("string"===typeof e||"number"===typeof e){const r=sb(e,n),o=sb(e,t);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"===typeof e){var r,o,i,a,s,l,c,d;const u=sb(null!==(r=null!==(o=e.top)&&void 0!==o?o:e.y)&&void 0!==r?r:0,n),p=sb(null!==(i=null!==(a=e.bottom)&&void 0!==a?a:e.y)&&void 0!==i?i:0,n),f=sb(null!==(s=null!==(l=e.left)&&void 0!==l?l:e.x)&&void 0!==s?s:0,t),h=sb(null!==(c=null!==(d=e.right)&&void 0!==d?d:e.x)&&void 0!==c?c:0,t);return{top:u,right:h,bottom:p,left:f,x:f+h,y:u+p}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,t,n),s=(t-a.x)/e.width,l=(n-a.y)/e.height,c=Math.min(s,l),d=Wx(c,r,o),u=t/2-(e.x+e.width/2)*d,p=n/2-(e.y+e.height/2)*d,f=function(e,t,n,r,o,i){const{x:a,y:s}=ab(e,[t,n,r]),{x:l,y:c}=ab({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=o-l,u=i-c;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(d),bottom:Math.floor(u)}}(e,u,p,d,t,n),h=Math.min(f.left-a.left,0),m=Math.min(f.top-a.top,0);return{x:u-h+Math.min(f.right-a.right,0),y:p-m+Math.min(f.bottom-a.bottom,0),zoom:d}},cb=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0};function db(e){return void 0!==e&&"parent"!==e}function ub(e){var t,n,r,o,i,a,s,l;return{width:null!==(t=null!==(n=null!==(r=null===(o=e.measured)||void 0===o?void 0:o.width)&&void 0!==r?r:e.width)&&void 0!==n?n:e.initialWidth)&&void 0!==t?t:0,height:null!==(i=null!==(a=null!==(s=null===(l=e.measured)||void 0===l?void 0:l.height)&&void 0!==s?s:e.height)&&void 0!==a?a:e.initialHeight)&&void 0!==i?i:0}}function pb(e){var t,n,r,o,i,a;return void 0!==(null!==(t=null!==(n=null===(r=e.measured)||void 0===r?void 0:r.width)&&void 0!==n?n:e.width)&&void 0!==t?t:e.initialWidth)&&void 0!==(null!==(o=null!==(i=null===(a=e.measured)||void 0===a?void 0:a.height)&&void 0!==i?i:e.height)&&void 0!==o?o:e.initialHeight)}function fb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:0,height:0},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const i=(0,b.A)({},e),a=r.get(n);if(a){var s,l;const e=a.origin||o;i.x+=a.internals.positionAbsolute.x-(null!==(s=t.width)&&void 0!==s?s:0)*e[0],i.y+=a.internals.positionAbsolute.y-(null!==(l=t.height)&&void 0!==l?l:0)*e[1]}return i}function hb(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function mb(e,t){var n,r;let{snapGrid:o=[0,0],snapToGrid:i=!1,transform:a,containerBounds:s}=t;const{x:l,y:c}=wb(e),d=ib({x:l-(null!==(n=null===s||void 0===s?void 0:s.left)&&void 0!==n?n:0),y:c-(null!==(r=null===s||void 0===s?void 0:s.top)&&void 0!==r?r:0)},a),{x:u,y:p}=i?ob(d,o):d;return(0,b.A)({xSnapped:u,ySnapped:p},d)}const gb=e=>({width:e.offsetWidth,height:e.offsetHeight}),vb=e=>{var t,n;return(null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},xb=["INPUT","SELECT","TEXTAREA"];function bb(e){var t;const n=(null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target;if(1!==(null===n||void 0===n?void 0:n.nodeType))return!1;return xb.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const yb=e=>"clientX"in e,wb=(e,t)=>{var n,r,o,i;const a=yb(e),s=a?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=a?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:s-(null!==(o=null===t||void 0===t?void 0:t.left)&&void 0!==o?o:0),y:l-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},jb=(e,t,n,r,o)=>{const i=t.querySelectorAll(".".concat(e));return i&&i.length?Array.from(i).map((t=>{const i=t.getBoundingClientRect();return(0,b.A)({id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r},gb(t))})):null};function Nb(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*i+.375*s+.125*r,d=.125*n+.375*a+.375*l+.125*o;return[c,d,Math.abs(c-t),Math.abs(d-n)]}function Sb(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Ab(e){let{pos:t,x1:n,y1:r,x2:o,y2:i,c:a}=e;switch(t){case Tx.Left:return[n-Sb(n-o,a),r];case Tx.Right:return[n+Sb(o-n,a),r];case Tx.Top:return[n,r-Sb(r-i,a)];case Tx.Bottom:return[n,r+Sb(i-r,a)]}}function Eb(e){let{sourceX:t,sourceY:n,sourcePosition:r=Tx.Bottom,targetX:o,targetY:i,targetPosition:a=Tx.Top,curvature:s=.25}=e;const[l,c]=Ab({pos:r,x1:t,y1:n,x2:o,y2:i,c:s}),[d,u]=Ab({pos:a,x1:o,y1:i,x2:t,y2:n,c:s}),[p,f,h,m]=Nb({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(d,",").concat(u," ").concat(o,",").concat(i),p,f,h,m]}function kb(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const i=Math.abs(r-t)/2,a=r<t?r+i:r-i,s=Math.abs(o-n)/2;return[a,o<n?o+s:o-s,i,s]}function Cb(e){let{sourceNode:t,targetNode:n,width:r,height:o,transform:i}=e;const a=Yx(Jx(t),Jx(n));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:o/i[2]};return eb(s,$x(a))>0}const _b=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return"xy-edge__".concat(t).concat(n||"","-").concat(r).concat(o||"")},Pb=(e,t)=>{if(!e.source||!e.target)return rb(0,gx()),t;let n;return n=Rx(e)?(0,b.A)({},e):(0,b.A)((0,b.A)({},e),{},{id:_b(e)}),((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n))};function Ob(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const[i,a,s,l]=kb({sourceX:t,sourceY:n,targetX:r,targetY:o});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),i,a,s,l]}const Tb={[Tx.Left]:{x:-1,y:0},[Tx.Right]:{x:1,y:0},[Tx.Top]:{x:0,y:-1},[Tx.Bottom]:{x:0,y:1}},Mb=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ib(e){let{source:t,sourcePosition:n=Tx.Bottom,target:r,targetPosition:o=Tx.Top,center:i,offset:a}=e;const s=Tb[n],l=Tb[o],c={x:t.x+s.x*a,y:t.y+s.y*a},d={x:r.x+l.x*a,y:r.y+l.y*a},u=(e=>{let{source:t,sourcePosition:n=Tx.Bottom,target:r}=e;return n===Tx.Left||n===Tx.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:d}),p=0!==u.x?"x":"y",f=u[p];let h,m,g=[];const v={x:0,y:0},x={x:0,y:0},[b,y,w,j]=kb({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(s[p]*l[p]===-1){var N,S;h=null!==(N=i.x)&&void 0!==N?N:b,m=null!==(S=i.y)&&void 0!==S?S:y;const e=[{x:h,y:c.y},{x:h,y:d.y}],t=[{x:c.x,y:m},{x:d.x,y:m}];g=s[p]===f?"x"===p?e:t:"x"===p?t:e}else{const e=[{x:c.x,y:d.y}],i=[{x:d.x,y:c.y}];if(g="x"===p?s.x===f?i:e:s.y===f?e:i,n===o){const e=Math.abs(t[p]-r[p]);if(e<=a){const n=Math.min(a-1,a-e);s[p]===f?v[p]=(c[p]>t[p]?-1:1)*n:x[p]=(d[p]>r[p]?-1:1)*n}}if(n!==o){const t="x"===p?"y":"x",n=s[p]===l[t],r=c[t]>d[t],o=c[t]<d[t];(1===s[p]&&(!n&&r||n&&o)||1!==s[p]&&(!n&&o||n&&r))&&(g="x"===p?e:i)}const u={x:c.x+v.x,y:c.y+v.y},b={x:d.x+x.x,y:d.y+x.y};Math.max(Math.abs(u.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(u.y-g[0].y),Math.abs(b.y-g[0].y))?(h=(u.x+b.x)/2,m=g[0].y):(h=g[0].x,m=(u.y+b.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:d.x+x.x,y:d.y+x.y},r],h,m,w,j]}function Rb(e){let{sourceX:t,sourceY:n,sourcePosition:r=Tx.Bottom,targetX:o,targetY:i,targetPosition:a=Tx.Top,borderRadius:s=5,centerX:l,centerY:c,offset:d=20}=e;const[u,p,f,h,m]=Ib({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:l,y:c},offset:d});return[u.reduce(((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const o=Math.min(Mb(e,t)/2,Mb(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return"L".concat(i," ").concat(a);if(e.y===a){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(i+o*t,",").concat(a,"Q ").concat(i,",").concat(a," ").concat(i,",").concat(a+o*r)}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(i,",").concat(a+o*l,"Q ").concat(i,",").concat(a," ").concat(i+o*s,",").concat(a)}(u[n-1],t,u[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r}),""),p,f,h,m]}function Db(e){var t;return e&&!!(e.internals.handleBounds||null!==(t=e.handles)&&void 0!==t&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Lb(e){if(!e)return null;const t=[],n=[];for(const i of e){var r,o;i.width=null!==(r=i.width)&&void 0!==r?r:1,i.height=null!==(o=i.height)&&void 0!==o?o:1,"source"===i.type?t.push(i):"target"===i.type&&n.push(i)}return{source:t,target:n}}function Fb(e,t){var n,r,o;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tx.Left,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=(null!==(n=null===t||void 0===t?void 0:t.x)&&void 0!==n?n:0)+e.internals.positionAbsolute.x,l=(null!==(r=null===t||void 0===t?void 0:t.y)&&void 0!==r?r:0)+e.internals.positionAbsolute.y,{width:c,height:d}=null!==t&&void 0!==t?t:ub(e);if(a)return{x:s+c/2,y:l+d/2};switch(null!==(o=null===t||void 0===t?void 0:t.position)&&void 0!==o?o:i){case Tx.Top:return{x:s+c/2,y:l};case Tx.Right:return{x:s+c,y:l+d/2};case Tx.Bottom:return{x:s+c/2,y:l+d};case Tx.Left:return{x:s,y:l+d/2}}}function Bb(e,t){return e&&(t?e.find((e=>e.id===t)):e[0])||null}function zb(e,t){if(!e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((t=>"".concat(t,"=").concat(e[t]))).join("&"))}const Ub={nodeOrigin:[0,0],nodeExtent:Sx,elevateNodesOnSelect:!0,defaults:{}},Vb=(0,b.A)((0,b.A)({},Ub),{},{checkEquality:!0});function Wb(e,t){const n=(0,b.A)({},e);for(const r in t)void 0!==t[r]&&(n[r]=t[r]);return n}function Hb(e,t,n,r){const o=Wb(Vb,r);let i=e.length>0;const a=new Map(t),s=null!==o&&void 0!==o&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const p of e){var l;let e=a.get(p.id);if(o.checkEquality&&p===(null===(l=e)||void 0===l?void 0:l.internals.userNode))t.set(p.id,e);else{var c,d,u;const n=Lx(p,o.nodeOrigin),r=db(p.extent)?p.extent:o.nodeExtent,i=Hx(n,r,ub(p));e=(0,b.A)((0,b.A)((0,b.A)({},o.defaults),p),{},{measured:{width:null===(c=p.measured)||void 0===c?void 0:c.width,height:null===(d=p.measured)||void 0===d?void 0:d.height},internals:{positionAbsolute:i,handleBounds:p.measured?null===(u=e)||void 0===u?void 0:u.internals.handleBounds:void 0,z:Kb(p,s),userNode:p}}),t.set(p.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(i=!1),p.parentId&&qb(e,t,n,r)}return i}function qb(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=Wb(Ub,r),s=e.parentId,l=t.get(s);if(!l)return void console.warn("Parent node ".concat(s," not found. Please make sure that parent nodes are in front of their child nodes in the nodes array."));!function(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);const c=o?1e3:0,{x:d,y:u,z:p}=function(e,t,n,r,o){var i;const{x:a,y:s}=t.internals.positionAbsolute,l=ub(e),c=Lx(e,n),d=db(e.extent)?Hx(c,e.extent,l):c;let u=Hx({x:a+d.x,y:s+d.y},r,l);"parent"===e.extent&&(u=qx(u,l,t));const p=Kb(e,o),f=null!==(i=t.internals.z)&&void 0!==i?i:0;return{x:u.x,y:u.y,z:f>p?f:p}}(e,l,i,a,c),{positionAbsolute:f}=e.internals,h=d!==f.x||u!==f.y;(h||p!==e.internals.z)&&t.set(e.id,(0,b.A)((0,b.A)({},e),{},{internals:(0,b.A)((0,b.A)({},e.internals),{},{positionAbsolute:h?{x:d,y:u}:f,z:p})}))}function Kb(e,t){return(nb(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Gb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0];const o=[],i=new Map;for(const l of e){var a,s;const e=t.get(l.parentId);if(!e)continue;const n=null!==(a=null===(s=i.get(l.parentId))||void 0===s?void 0:s.expandedRect)&&void 0!==a?a:Zx(e),r=Qx(n,l.rect);i.set(l.parentId,{expandedRect:r,parent:e})}return i.size>0&&i.forEach(((t,i)=>{var a;let{expandedRect:s,parent:l}=t;const c=l.internals.positionAbsolute,d=ub(l),u=null!==(a=l.origin)&&void 0!==a?a:r,p=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,f=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,h=Math.max(d.width,Math.round(s.width)),m=Math.max(d.height,Math.round(s.height)),g=(h-d.width)*u[0],v=(m-d.height)*u[1];var x;(p>0||f>0||g||v)&&(o.push({id:i,type:"position",position:{x:l.position.x-p+g,y:l.position.y-f+v}}),null===(x=n.get(i))||void 0===x||x.forEach((t=>{e.some((e=>e.id===t.id))||o.push({id:t.id,type:"position",position:{x:t.position.x+p,y:t.position.y+f}})})));(d.width<s.width||d.height<s.height||p||f)&&o.push({id:i,type:"dimensions",setAttributes:!0,dimensions:{width:h+(p?u[0]*p-g:0),height:m+(f?u[1]*f-v:0)}})})),o}function Yb(e,t,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a="".concat(o,"-").concat(e);const l=r.get(a)||new Map;if(r.set(a,l.set(n,t)),i){a="".concat(o,"-").concat(e,"-").concat(i);const s=r.get(a)||new Map;r.set(a,s.set(n,t))}}function Xb(e,t,n){e.clear(),t.clear();for(const r of n){const{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,s={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a},l="".concat(n,"-").concat(i,"--").concat(o,"-").concat(a);Yb("source",s,"".concat(o,"-").concat(a,"--").concat(n,"-").concat(i),e,n,i),Yb("target",s,l,e,o,a),t.set(r.id,r)}}function $b(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return!!n&&(!!n.selected||$b(n,t))}function Zb(e,t,n){let r=e;do{var o,i,a;if(null!==(o=r)&&void 0!==o&&null!==(i=o.matches)&&void 0!==i&&i.call(o,t))return!0;if(r===n)return!1;r=null===(a=r)||void 0===a?void 0:a.parentElement}while(r);return!1}function Jb(e){var t,n;let{nodeId:r,dragItems:o,nodeLookup:i,dragging:a=!0}=e;const s=[];for(const[d,u]of o){var l;const e=null===(l=i.get(d))||void 0===l?void 0:l.internals.userNode;e&&s.push((0,b.A)((0,b.A)({},e),{},{position:u.position,dragging:a}))}if(!r)return[s[0],s];const c=null===(t=i.get(r))||void 0===t?void 0:t.internals.userNode;return[c?(0,b.A)((0,b.A)({},c),{},{position:(null===(n=o.get(r))||void 0===n?void 0:n.position)||c.position,dragging:a}):s[0],s]}function Qb(e){let{onNodeMouseDown:t,getStoreItems:n,onDragStart:r,onDrag:o,onDragStop:i}=e,a={x:null,y:null},s=0,l=new Map,c=!1,d={x:0,y:0},u=null,p=!1,f=null,h=!1;return{update:function(e){let{noDragClassName:m,handleSelector:g,domNode:v,isSelectable:x,nodeId:b,nodeClickDistance:y=0}=e;function w(e,t){let{x:r,y:i}=e;const{nodeLookup:s,nodeExtent:c,snapGrid:d,snapToGrid:u,nodeOrigin:p,onNodeDrag:f,onSelectionDrag:h,onError:m,updateNodePositions:g}=n();a={x:r,y:i};let v=!1,x={x:0,y:0,x2:0,y2:0};if(l.size>1&&c){const e=Fx(l);x=Xx(e)}for(const[n,o]of l){if(!s.has(n))continue;let e={x:r-o.distance.x,y:i-o.distance.y};u&&(e=ob(e,d));let t=[[c[0][0],c[0][1]],[c[1][0],c[1][1]]];if(l.size>1&&c&&!o.extent){const{positionAbsolute:e}=o.internals,n=e.x-x.x+c[0][0],r=e.x+o.measured.width-x.x2+c[1][0];t=[[n,e.y-x.y+c[0][1]],[r,e.y+o.measured.height-x.y2+c[1][1]]]}const{position:a,positionAbsolute:f}=Ux({nodeId:n,nextPosition:e,nodeLookup:s,nodeExtent:t,nodeOrigin:p,onError:m});v=v||o.position.x!==a.x||o.position.y!==a.y,o.position=a,o.internals.positionAbsolute=f}if(v&&(g(l,!0),t&&(o||f||!b&&h))){const[e,n]=Jb({nodeId:b,dragItems:l,nodeLookup:s});null===o||void 0===o||o(t,l,e,n),null===f||void 0===f||f(t,e,n),b||null===h||void 0===h||h(t,n)}}async function j(){if(!u)return;const{transform:e,panBy:t,autoPanSpeed:r,autoPanOnNodeDrag:o}=n();if(!o)return c=!1,void cancelAnimationFrame(s);const[i,l]=Gx(d,u,r);var p,f;0===i&&0===l||(a.x=(null!==(p=a.x)&&void 0!==p?p:0)-i/e[2],a.y=(null!==(f=a.y)&&void 0!==f?f:0)-l/e[2],await t({x:i,y:l})&&w(a,null));s=requestAnimationFrame(j)}function N(e){const{nodeLookup:o,multiSelectionActive:i,nodesDraggable:s,transform:c,snapGrid:d,snapToGrid:f,selectNodesOnDrag:h,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:v}=n();var y;(p=!0,h&&x||i||!b)||(null!==(y=o.get(b))&&void 0!==y&&y.selected||v());x&&h&&b&&(null===t||void 0===t||t(b));const w=mb(e.sourceEvent,{transform:c,snapGrid:d,snapToGrid:f,containerBounds:u});if(a=w,l=function(e,t,n,r){const o=new Map;for(const[s,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!$b(l,e))&&(l.draggable||t&&"undefined"===typeof l.draggable)){const t=e.get(s);var i,a;t&&o.set(s,{id:s,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:null!==(i=t.measured.width)&&void 0!==i?i:0,height:null!==(a=t.measured.height)&&void 0!==a?a:0}})}return o}(o,s,w,b),l.size>0&&(r||m||!b&&g)){const[t,n]=Jb({nodeId:b,dragItems:l,nodeLookup:o});null===r||void 0===r||r(e.sourceEvent,l,t,n),null===m||void 0===m||m(e.sourceEvent,t,n),b||null===g||void 0===g||g(e.sourceEvent,n)}}f=Dc(v);const S=xu().clickDistance(y).on("start",(e=>{const{domNode:t,nodeDragThreshold:r,transform:o,snapGrid:i,snapToGrid:s}=n();u=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,h=!1,0===r&&N(e);const l=mb(e.sourceEvent,{transform:o,snapGrid:i,snapToGrid:s,containerBounds:u});a=l,d=wb(e.sourceEvent,u)})).on("drag",(e=>{const{autoPanOnNodeDrag:t,transform:r,snapGrid:o,snapToGrid:i,nodeDragThreshold:s,nodeLookup:f}=n(),m=mb(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:i,containerBounds:u});if(("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||b&&!f.has(b))&&(h=!0),!h){if(!c&&t&&p&&(c=!0,j()),!p){var g,v;const t=m.xSnapped-(null!==(g=a.x)&&void 0!==g?g:0),n=m.ySnapped-(null!==(v=a.y)&&void 0!==v?v:0);Math.sqrt(t*t+n*n)>s&&N(e)}(a.x!==m.xSnapped||a.y!==m.ySnapped)&&l&&p&&(d=wb(e.sourceEvent,u),w(m,e.sourceEvent))}})).on("end",(e=>{if(p&&!h&&(c=!1,p=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:t,updateNodePositions:r,onNodeDragStop:o,onSelectionDragStop:a}=n();if(r(l,!1),i||o||!b&&a){const[n,r]=Jb({nodeId:b,dragItems:l,nodeLookup:t,dragging:!1});null===i||void 0===i||i(e.sourceEvent,l,n,r),null===o||void 0===o||o(e.sourceEvent,n,r),b||null===a||void 0===a||a(e.sourceEvent,r)}}})).filter((e=>{const t=e.target;return!e.button&&(!m||!Zb(t,".".concat(m),v))&&(!g||Zb(t,g,v))}));f.call(S)},destroy:function(){var e;null===(e=f)||void 0===e||e.on(".drag",null)}}}function ey(e,t,n,r){let o=[],i=1/0;const a=function(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(const i of t.values())eb(o,Zx(i))>0&&r.push(i);return r}(e,n,t+250);for(const p of a){var s,l,c,d;const n=[...null!==(s=null===(l=p.internals.handleBounds)||void 0===l?void 0:l.source)&&void 0!==s?s:[],...null!==(c=null===(d=p.internals.handleBounds)||void 0===d?void 0:d.target)&&void 0!==c?c:[]];for(const a of n){if(r.nodeId===a.nodeId&&r.type===a.type&&r.id===a.id)continue;const{x:n,y:s}=Fb(p,a,a.position,!0),l=Math.sqrt(Math.pow(n-e.x,2)+Math.pow(s-e.y,2));l>t||(l<i?(o=[(0,b.A)((0,b.A)({},a),{},{x:n,y:s})],i=l):l===i&&o.push((0,b.A)((0,b.A)({},a),{},{x:n,y:s})))}}if(!o.length)return null;if(o.length>1){var u;const e="source"===r.type?"target":"source";return null!==(u=o.find((t=>t.type===e)))&&void 0!==u?u:o[0]}return o[0]}function ty(e,t,n,r,o){var i,a,s,l,c,d;let u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const p=r.get(e);if(!p)return null;const f="strict"===o?null===(i=p.internals.handleBounds)||void 0===i?void 0:i[t]:[...null!==(a=null===(s=p.internals.handleBounds)||void 0===s?void 0:s.source)&&void 0!==a?a:[],...null!==(l=null===(c=p.internals.handleBounds)||void 0===c?void 0:c.target)&&void 0!==l?l:[]],h=null!==(d=n?null===f||void 0===f?void 0:f.find((e=>e.id===n)):null===f||void 0===f?void 0:f[0])&&void 0!==d?d:null;return h&&u?(0,b.A)((0,b.A)({},h),Fb(p,h,h.position,!0)):h}function ny(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}const ry=()=>!0;function oy(e,t){let{handle:n,connectionMode:r,fromNodeId:o,fromHandleId:i,fromType:a,doc:s,lib:l,flowId:c,isValidConnection:d=ry,nodeLookup:u}=t;const p="target"===a,f=n?s.querySelector(".".concat(l,'-flow__handle[data-id="').concat(c,"-").concat(null===n||void 0===n?void 0:n.nodeId,"-").concat(null===n||void 0===n?void 0:n.id,"-").concat(null===n||void 0===n?void 0:n.type,'"]')):null,{x:h,y:m}=wb(e),g=s.elementFromPoint(h,m),v=null!==g&&void 0!==g&&g.classList.contains("".concat(l,"-flow__handle"))?g:f,x={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const e=ny(void 0,v),t=v.getAttribute("data-nodeid"),n=v.getAttribute("data-handleid"),a=v.classList.contains("connectable"),s=v.classList.contains("connectableend");if(!t||!e)return x;const l={source:p?t:o,sourceHandle:p?n:i,target:p?o:t,targetHandle:p?i:n};x.connection=l;const c=a&&s&&(r===Ex.Strict?p&&"source"===e||!p&&"target"===e:t!==o||n!==i);x.isValid=c&&d(l),x.toHandle=ty(t,e,n,u,r,!0)}return x}const iy={onPointerDown:function(e,t){let{connectionMode:n,connectionRadius:r,handleId:o,nodeId:i,edgeUpdaterType:a,isTarget:s,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:u,flowId:p,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:g,onConnectEnd:v,isValidConnection:x=ry,onReconnectEnd:y,updateConnection:w,getTransform:j,getFromHandle:N,autoPanSpeed:S}=t;const A=vb(e.target);let E,k=0;const{x:C,y:_}=wb(e),P=null===A||void 0===A?void 0:A.elementFromPoint(C,_),O=ny(a,P),T=null===l||void 0===l?void 0:l.getBoundingClientRect();if(!T||!O)return;const M=ty(i,O,o,c,n);if(!M)return;let I=wb(e,T),R=!1,D=null,L=!1,F=null;function B(){if(!u||!T)return;const[e,t]=Gx(I,T,S);f({x:e,y:t}),k=requestAnimationFrame(B)}const z=(0,b.A)((0,b.A)({},M),{},{nodeId:i,type:O,position:M.position}),U=c.get(i),V={inProgress:!0,isValid:null,from:Fb(U,z,Tx.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:U,to:I,toHandle:null,toPosition:Mx[z.position],toNode:null};w(V);let W=V;function H(e){if(!N()||!z)return void q(e);const t=j();I=wb(e,T),E=ey(ib(I,t,!1,[1,1]),r,c,z),R||(B(),R=!0);const a=oy(e,{handle:E,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s?"target":"source",isValidConnection:x,doc:A,lib:d,flowId:p,nodeLookup:c});F=a.handleDomNode,D=a.connection,L=function(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}(!!E,a.isValid);const l=(0,b.A)((0,b.A)({},W),{},{isValid:L,to:a.toHandle&&L?ab({x:a.toHandle.x,y:a.toHandle.y},t):I,toHandle:a.toHandle,toPosition:L&&a.toHandle?a.toHandle.position:Mx[z.position],toNode:a.toHandle?c.get(a.toHandle.nodeId):null});L&&E&&W.toHandle&&l.toHandle&&W.toHandle.type===l.toHandle.type&&W.toHandle.nodeId===l.toHandle.nodeId&&W.toHandle.id===l.toHandle.id&&W.to.x===l.to.x&&W.to.y===l.to.y||(w(l),W=l)}function q(e){(E||F)&&D&&L&&(null===g||void 0===g||g(D));const{inProgress:t}=W,n=(0,lo.A)(W,ux),r=(0,b.A)((0,b.A)({},n),{},{toPosition:W.toHandle?W.toPosition:null});null===v||void 0===v||v(e,r),a&&(null===y||void 0===y||y(e,r)),h(),cancelAnimationFrame(k),R=!1,L=!1,D=null,F=null,A.removeEventListener("mousemove",H),A.removeEventListener("mouseup",q),A.removeEventListener("touchmove",H),A.removeEventListener("touchend",q)}null===m||void 0===m||m(e,{nodeId:i,handleId:o,handleType:O}),A.addEventListener("mousemove",H),A.addEventListener("mouseup",q),A.addEventListener("touchmove",H),A.addEventListener("touchend",q)},isValid:oy};const ay=e=>({x:e.x,y:e.y,zoom:e.k}),sy=e=>{let{x:t,y:n,zoom:r}=e;return tu.translate(t,n).scale(r)},ly=(e,t)=>e.target.closest(".".concat(t)),cy=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),dy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const r="number"===typeof t&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},uy=e=>{const t=e.ctrlKey&&cb()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function py(e){let{domNode:t,minZoom:n,maxZoom:r,paneClickDistance:o,translateExtent:i,viewport:a,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}=e;const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=t.getBoundingClientRect(),f=uu().clickDistance(!nb(o)||o<0?0:o).scaleExtent([n,r]).translateExtent(i),h=Dc(t).call(f);b({x:a.x,y:a.y,zoom:Wx(a.zoom,n,r)},[[0,0],[p.width,p.height]],i);const m=h.on("wheel.zoom"),g=h.on("dblclick.zoom");function v(e,t){return h?new Promise((n=>{null===f||void 0===f||f.transform(dy(h,null===t||void 0===t?void 0:t.duration,(()=>n(!0))),e)})):Promise.resolve(!1)}function x(){f.on("zoom",null)}async function b(e,t,n){const r=sy(e),o=null===f||void 0===f?void 0:f.constrain()(r,t,n);return o&&await v(o),new Promise((e=>e(o)))}return f.wheelDelta(uy),{update:function(e){let{noWheelClassName:t,noPanClassName:n,onPaneContextMenu:r,userSelectionActive:o,panOnScroll:i,panOnDrag:a,panOnScrollMode:p,panOnScrollSpeed:v,preventScrolling:b,zoomOnPinch:y,zoomOnScroll:w,zoomOnDoubleClick:j,zoomActivationKeyPressed:N,lib:S,onTransformChange:A}=e;o&&!u.isZoomingOrPanning&&x();const E=i&&!N&&!o?function(e){let{zoomPanValues:t,noWheelClassName:n,d3Selection:r,d3Zoom:o,panOnScrollMode:i,panOnScrollSpeed:a,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}=e;return e=>{if(ly(e,n))return!1;e.preventDefault(),e.stopImmediatePropagation();const u=r.property("__zoom").k||1;if(e.ctrlKey&&s){const t=qc(e),n=uy(e),i=u*Math.pow(2,n);return void o.scaleTo(r,i,t,e)}const p=1===e.deltaMode?20:1;let f=i===kx.Vertical?0:e.deltaX*p,h=i===kx.Horizontal?0:e.deltaY*p;!cb()&&e.shiftKey&&i!==kx.Vertical&&(f=e.deltaY*p,h=0),o.translateBy(r,-f/u*a,-h/u*a,{internal:!0});const m=ay(r.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,null===l||void 0===l||l(e,m)),t.isPanScrolling&&(null===c||void 0===c||c(e,m),t.panScrollTimeout=setTimeout((()=>{null===d||void 0===d||d(e,m),t.isPanScrolling=!1}),150))}}({zoomPanValues:u,noWheelClassName:t,d3Selection:h,d3Zoom:f,panOnScrollMode:p,panOnScrollSpeed:v,zoomOnPinch:y,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:c}):function(e){let{noWheelClassName:t,preventScrolling:n,d3ZoomHandler:r}=e;return function(e,o){const i="wheel"===e.type,a=!n&&i&&!e.ctrlKey,s=ly(e,t);if(e.ctrlKey&&i&&s&&e.preventDefault(),a||s)return null;e.preventDefault(),r.call(this,e,o)}}({noWheelClassName:t,preventScrolling:b,d3ZoomHandler:m});if(h.on("wheel.zoom",E,{passive:!1}),!o){const e=function(e){let{zoomPanValues:t,onDraggingChange:n,onPanZoomStart:r}=e;return e=>{var o,i,a;if(null!==(o=e.sourceEvent)&&void 0!==o&&o.internal)return;const s=ay(e.transform);t.mouseButton=(null===(i=e.sourceEvent)||void 0===i?void 0:i.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=s,"mousedown"===(null===(a=e.sourceEvent)||void 0===a?void 0:a.type)&&n(!0),r&&(null===r||void 0===r||r(e.sourceEvent,s))}}({zoomPanValues:u,onDraggingChange:d,onPanZoomStart:l});f.on("start",e);const t=function(e){let{zoomPanValues:t,panOnDrag:n,onPaneContextMenu:r,onTransformChange:o,onPanZoom:i}=e;return e=>{var a,s,l;t.usedRightMouseButton=!(!r||!cy(n,null!==(a=t.mouseButton)&&void 0!==a?a:0)),null!==(s=e.sourceEvent)&&void 0!==s&&s.sync||o([e.transform.x,e.transform.y,e.transform.k]),!i||null!==(l=e.sourceEvent)&&void 0!==l&&l.internal||null===i||void 0===i||i(e.sourceEvent,ay(e.transform))}}({zoomPanValues:u,panOnDrag:a,onPaneContextMenu:!!r,onPanZoom:s,onTransformChange:A});f.on("zoom",t);const n=function(e){let{zoomPanValues:t,panOnDrag:n,panOnScroll:r,onDraggingChange:o,onPanZoomEnd:i,onPaneContextMenu:a}=e;return e=>{var s,l,c,d;if((null===(s=e.sourceEvent)||void 0===s||!s.internal)&&(t.isZoomingOrPanning=!1,a&&cy(n,null!==(l=t.mouseButton)&&void 0!==l?l:0)&&!t.usedRightMouseButton&&e.sourceEvent&&a(e.sourceEvent),t.usedRightMouseButton=!1,o(!1),i&&(c=t.prevViewport,d=e.transform,c.x!==d.x||c.y!==d.y||c.zoom!==d.k))){const n=ay(e.transform);t.prevViewport=n,clearTimeout(t.timerId),t.timerId=setTimeout((()=>{null===i||void 0===i||i(e.sourceEvent,n)}),r?150:0)}}}({zoomPanValues:u,panOnDrag:a,panOnScroll:i,onPaneContextMenu:r,onPanZoomEnd:c,onDraggingChange:d});f.on("end",n)}const k=function(e){let{zoomActivationKeyPressed:t,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:o,panOnScroll:i,zoomOnDoubleClick:a,userSelectionActive:s,noWheelClassName:l,noPanClassName:c,lib:d}=e;return e=>{var u;const p=t||n,f=r&&e.ctrlKey;if(1===e.button&&"mousedown"===e.type&&(ly(e,"".concat(d,"-flow__node"))||ly(e,"".concat(d,"-flow__edge"))))return!0;if(!o&&!p&&!i&&!a&&!r)return!1;if(s)return!1;if(ly(e,l)&&"wheel"===e.type)return!1;if(ly(e,c)&&("wheel"!==e.type||i&&"wheel"===e.type&&!t))return!1;if(!r&&e.ctrlKey&&"wheel"===e.type)return!1;if(!r&&"touchstart"===e.type&&(null===(u=e.touches)||void 0===u?void 0:u.length)>1)return e.preventDefault(),!1;if(!p&&!i&&!f&&"wheel"===e.type)return!1;if(!o&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(o)&&!o.includes(e.button)&&"mousedown"===e.type)return!1;const h=Array.isArray(o)&&o.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&h}}({zoomActivationKeyPressed:N,panOnDrag:a,zoomOnScroll:w,panOnScroll:i,zoomOnDoubleClick:j,zoomOnPinch:y,userSelectionActive:o,noPanClassName:n,noWheelClassName:t,lib:S});f.filter(k),j?h.on("dblclick.zoom",g):h.on("dblclick.zoom",null)},destroy:x,setViewport:async function(e,t){const n=sy(e);return await v(n,t),new Promise((e=>e(n)))},setViewportConstrained:b,getViewport:function(){const e=h?nu(h.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return h?new Promise((n=>{null===f||void 0===f||f.scaleTo(dy(h,null===t||void 0===t?void 0:t.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},scaleBy:function(e,t){return h?new Promise((n=>{null===f||void 0===f||f.scaleBy(dy(h,null===t||void 0===t?void 0:t.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},setScaleExtent:function(e){null===f||void 0===f||f.scaleExtent(e)},setTranslateExtent:function(e){null===f||void 0===f||f.translateExtent(e)},syncViewport:function(e){if(h){const t=sy(e),n=h.property("__zoom");n.k===e.zoom&&n.x===e.x&&n.y===e.y||null===f||void 0===f||f.transform(h,t,null,{sync:!0})}},setClickDistance:function(e){const t=!nb(e)||e<0?0:e;null===f||void 0===f||f.clickDistance(t)}}}var fy;!function(e){e.Line="line",e.Handle="handle"}(fy||(fy={}));function hy(e,t){return Math.max(0,t-e)}function my(e,t){return Math.max(0,e-t)}function gy(e,t,n){return Math.max(0,t-e,e-n)}function vy(e,t){return e?!t:t}const xy={width:0,height:0,x:0,y:0},by=(0,b.A)((0,b.A)({},xy),{},{pointerX:0,pointerY:0,aspectRatio:1});function yy(e,t,n){var r,o;const i=t.position.x+e.position.x,a=t.position.y+e.position.y,s=null!==(r=e.measured.width)&&void 0!==r?r:0,l=null!==(o=e.measured.height)&&void 0!==o?o:0,c=n[0]*s,d=n[1]*l;return[[i-c,a-d],[i+s-c,a+l-d]]}function wy(e){let{domNode:t,nodeId:n,getStoreItems:r,onChange:o,onEnd:i}=e;const a=Dc(t);return{update:function(e){let{controlPosition:t,boundaries:s,keepAspectRatio:l,resizeDirection:c,onResizeStart:d,onResize:u,onResizeEnd:p,shouldResize:f}=e,h=(0,b.A)({},xy),m=(0,b.A)({},by);const g=function(e){return{isHorizontal:e.includes("right")||e.includes("left"),isVertical:e.includes("bottom")||e.includes("top"),affectsX:e.includes("left"),affectsY:e.includes("top")}}(t);let v,x,y,w,j=null,N=[];const S=xu().on("start",(e=>{var t,o,i,a,s;const{nodeLookup:l,transform:c,snapGrid:u,snapToGrid:p,nodeOrigin:f,paneDomNode:g}=r();if(v=l.get(n),!v)return;j=null!==(t=null===g||void 0===g?void 0:g.getBoundingClientRect())&&void 0!==t?t:null;const{xSnapped:S,ySnapped:A}=mb(e.sourceEvent,{transform:c,snapGrid:u,snapToGrid:p,containerBounds:j});h={width:null!==(o=v.measured.width)&&void 0!==o?o:0,height:null!==(i=v.measured.height)&&void 0!==i?i:0,x:null!==(a=v.position.x)&&void 0!==a?a:0,y:null!==(s=v.position.y)&&void 0!==s?s:0},m=(0,b.A)((0,b.A)({},h),{},{pointerX:S,pointerY:A,aspectRatio:h.width/h.height}),x=void 0,v.parentId&&("parent"===v.extent||v.expandParent)&&(x=l.get(v.parentId),y=x&&"parent"===v.extent?function(e){return[[0,0],[e.measured.width,e.measured.height]]}(x):void 0),N=[],w=void 0;for(const[r,d]of l)if(d.parentId===n&&(N.push({id:r,position:(0,b.A)({},d.position),extent:d.extent}),"parent"===d.extent||d.expandParent)){var E;const e=yy(d,v,null!==(E=d.origin)&&void 0!==E?E:f);w=w?[[Math.min(e[0][0],w[0][0]),Math.min(e[0][1],w[0][1])],[Math.max(e[1][0],w[1][0]),Math.max(e[1][1],w[1][1])]]:e}null===d||void 0===d||d(e,(0,b.A)({},h))})).on("drag",(e=>{var t;const{transform:n,snapGrid:i,snapToGrid:a,nodeOrigin:d}=r(),p=mb(e.sourceEvent,{transform:n,snapGrid:i,snapToGrid:a,containerBounds:j}),S=[];if(!v)return;const{x:A,y:E,width:k,height:C}=h,_={},P=null!==(t=v.origin)&&void 0!==t?t:d,{width:O,height:T,x:M,y:I}=function(e,t,n,r,o,i,a,s){let{affectsX:l,affectsY:c}=t;const{isHorizontal:d,isVertical:u}=t,p=d&&u,{xSnapped:f,ySnapped:h}=n,{minWidth:m,maxWidth:g,minHeight:v,maxHeight:x}=r,{x:b,y:y,width:w,height:j,aspectRatio:N}=e;let S=Math.floor(d?f-e.pointerX:0),A=Math.floor(u?h-e.pointerY:0);const E=w+(l?-S:S),k=j+(c?-A:A),C=-i[0]*w,_=-i[1]*j;let P=gy(E,m,g),O=gy(k,v,x);if(a){let e=0,t=0;l&&S<0?e=hy(b+S+C,a[0][0]):!l&&S>0&&(e=my(b+E+C,a[1][0])),c&&A<0?t=hy(y+A+_,a[0][1]):!c&&A>0&&(t=my(y+k+_,a[1][1])),P=Math.max(P,e),O=Math.max(O,t)}if(s){let e=0,t=0;l&&S>0?e=my(b+S,s[0][0]):!l&&S<0&&(e=hy(b+E,s[1][0])),c&&A>0?t=my(y+A,s[0][1]):!c&&A<0&&(t=hy(y+k,s[1][1])),P=Math.max(P,e),O=Math.max(O,t)}if(o){if(d){const e=gy(E/N,v,x)*N;if(P=Math.max(P,e),a){let e=0;e=!l&&!c||l&&!c&&p?my(y+_+E/N,a[1][1])*N:hy(y+_+(l?S:-S)/N,a[0][1])*N,P=Math.max(P,e)}if(s){let e=0;e=!l&&!c||l&&!c&&p?hy(y+E/N,s[1][1])*N:my(y+(l?S:-S)/N,s[0][1])*N,P=Math.max(P,e)}}if(u){const e=gy(k*N,m,g)/N;if(O=Math.max(O,e),a){let e=0;e=!l&&!c||c&&!l&&p?my(b+k*N+C,a[1][0])/N:hy(b+(c?A:-A)*N+C,a[0][0])/N,O=Math.max(O,e)}if(s){let e=0;e=!l&&!c||c&&!l&&p?hy(b+k*N,s[1][0])/N:my(b+(c?A:-A)*N,s[0][0])/N,O=Math.max(O,e)}}}A+=A<0?O:-O,S+=S<0?P:-P,o&&(p?E>k*N?A=(vy(l,c)?-S:S)/N:S=(vy(l,c)?-A:A)*N:d?(A=S/N,c=l):(S=A*N,l=c));const T=l?b+S:b,M=c?y+A:y;return{width:w+(l?-S:S),height:j+(c?-A:A),x:i[0]*S*(l?-1:1)+T,y:i[1]*A*(c?-1:1)+M}}(m,g,p,s,l,P,y,w),R=O!==k,D=T!==C,L=M!==A&&R,F=I!==E&&D;if(!L&&!F&&!R&&!D)return;if((L||F||1===P[0]||1===P[1])&&(_.x=L?M:h.x,_.y=F?I:h.y,h.x=_.x,h.y=_.y,N.length>0)){const e=M-A,t=I-E;for(const n of N)n.position={x:n.position.x-e+P[0]*(O-k),y:n.position.y-t+P[1]*(T-C)},S.push(n)}if((R||D)&&(_.width=!R||c&&"horizontal"!==c?h.width:O,_.height=!D||c&&"vertical"!==c?h.height:T,h.width=_.width,h.height=_.height),x&&v.expandParent){var B,z;const e=P[0]*(null!==(B=_.width)&&void 0!==B?B:0);_.x&&_.x<e&&(h.x=e,m.x=m.x-(_.x-e));const t=P[1]*(null!==(z=_.height)&&void 0!==z?z:0);_.y&&_.y<t&&(h.y=t,m.y=m.y-(_.y-t))}const U=function(e){let{width:t,prevWidth:n,height:r,prevHeight:o,affectsX:i,affectsY:a}=e;const s=t-n,l=r-o,c=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&i&&(c[0]=-1*c[0]),l&&a&&(c[1]=-1*c[1]),c}({width:h.width,prevWidth:k,height:h.height,prevHeight:C,affectsX:g.affectsX,affectsY:g.affectsY}),V=(0,b.A)((0,b.A)({},h),{},{direction:U});!1!==(null===f||void 0===f?void 0:f(e,V))&&(null===u||void 0===u||u(e,V),o(_,S))})).on("end",(e=>{null===p||void 0===p||p(e,(0,b.A)({},h)),null===i||void 0===i||i((0,b.A)({},h))}));a.call(S)},destroy:function(){a.on(".drag",null)}}}const jy=["position","children","className","style"],Ny=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],Sy=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],Ay=["path","labelX","labelY","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","interactionWidth"],Ey=["id"],ky=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","onBeforeDelete","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesReconnectable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","paneClickDistance","nodeClickDistance","children","onReconnect","onReconnectStart","onReconnectEnd","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","reconnectRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","autoPanSpeed","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold","viewport","onViewportChange","width","height","colorMode","debug","onScroll"],Cy=["children","className"],_y=(0,e.createContext)(null),Py=_y.Provider,Oy=px();function Ty(t,n){const r=(0,e.useContext)(_y);if(null===r)throw new Error(Oy);return fl(r,t,n)}function My(){const t=(0,e.useContext)(_y);if(null===t)throw new Error(Oy);return(0,e.useMemo)((()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe})),[t])}const Iy={display:"none"},Ry={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Dy="react-flow__node-desc",Ly="react-flow__edge-desc",Fy=e=>e.ariaLiveMessage;function By(e){let{rfId:t}=e;const n=Ty(Fy);return(0,u.jsx)("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:Ry,children:n})}function zy(e){let{rfId:t,disableKeyboardA11y:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{id:"".concat(Dy,"-").concat(t),style:Iy,children:["Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,u.jsx)("div",{id:"".concat(Ly,"-").concat(t),style:Iy,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!n&&(0,u.jsx)(By,{rfId:t})]})}const Uy=e=>e.userSelectionActive?"none":"all",Vy=(0,e.forwardRef)(((e,t)=>{let{position:n="top-left",children:r,className:o,style:i}=e,a=(0,lo.A)(e,jy);const s=Ty(Uy),l="".concat(n).split("-");return(0,u.jsx)("div",(0,b.A)((0,b.A)({className:al(["react-flow__panel",o,...l]),style:(0,b.A)((0,b.A)({},i),{},{pointerEvents:s}),ref:t},a),{},{children:r}))}));function Wy(e){let{proOptions:t,position:n="bottom-right"}=e;return null!==t&&void 0!==t&&t.hideAttribution?null:(0,u.jsx)(Vy,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,u.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}Vy.displayName="Panel";const Hy=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},qy=e=>e.id;function Ky(e,t){return gl(e.selectedNodes.map(qy),t.selectedNodes.map(qy))&&gl(e.selectedEdges.map(qy),t.selectedEdges.map(qy))}function Gy(t){let{onSelectionChange:n}=t;const r=My(),{selectedNodes:o,selectedEdges:i}=Ty(Hy,Ky);return(0,e.useEffect)((()=>{const e={nodes:o,edges:i};null===n||void 0===n||n(e),r.getState().onSelectionChangeHandlers.forEach((t=>t(e)))}),[o,i,n]),null}const Yy=e=>!!e.onSelectionChangeHandlers;function Xy(e){let{onSelectionChange:t}=e;const n=Ty(Yy);return t||n?(0,u.jsx)(Gy,{onSelectionChange:t}):null}const $y=[0,0],Zy={x:0,y:0,zoom:1},Jy=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],Qy=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),ew={translateExtent:Sx,nodeOrigin:$y,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function tw(t){const{setNodes:n,setEdges:r,setMinZoom:o,setMaxZoom:i,setTranslateExtent:a,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=Ty(Qy,gl),u=My();(0,e.useEffect)((()=>(c(t.defaultNodes,t.defaultEdges),()=>{p.current=ew,l()})),[]);const p=(0,e.useRef)(ew);return(0,e.useEffect)((()=>{for(const e of Jy){const l=t[e];l!==p.current[e]&&("undefined"!==typeof t[e]&&("nodes"===e?n(l):"edges"===e?r(l):"minZoom"===e?o(l):"maxZoom"===e?i(l):"translateExtent"===e?a(l):"nodeExtent"===e?s(l):"paneClickDistance"===e?d(l):"fitView"===e?u.setState({fitViewQueued:l}):"fitViewOptions"===e?u.setState({fitViewOptions:l}):u.setState({[e]:l})))}p.current=t}),Jy.map((e=>t[e]))),null}function nw(){return"undefined"!==typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}const rw="undefined"!==typeof document?document:null;function ow(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:rw,actInsideInputWithModifier:!0};const[r,o]=(0,e.useState)(!1),i=(0,e.useRef)(!1),a=(0,e.useRef)(new Set([])),[s,l]=(0,e.useMemo)((()=>{if(null!==t){const e=(Array.isArray(t)?t:[t]).filter((e=>"string"===typeof e)).map((e=>e.replace("+","\n").replace("\n\n","\n+").split("\n"))),n=e.reduce(((e,t)=>e.concat(...t)),[]);return[e,n]}return[[],[]]}),[t]);return(0,e.useEffect)((()=>{var e,r;const c=null!==(e=null===n||void 0===n?void 0:n.target)&&void 0!==e?e:rw,d=null===(r=null===n||void 0===n?void 0:n.actInsideInputWithModifier)||void 0===r||r;if(null!==t){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey;if((!i.current||i.current&&!d)&&bb(e))return!1;const t=aw(e.code,l);if(a.current.add(e[t]),iw(s,a.current,!1)){var r;const t=(null===(r=e.composedPath)||void 0===r||null===(r=r.call(e))||void 0===r?void 0:r[0])||e.target,a="BUTTON"===(null===t||void 0===t?void 0:t.nodeName)||"A"===(null===t||void 0===t?void 0:t.nodeName);!1===n.preventDefault||!i.current&&a||e.preventDefault(),o(!0)}},t=e=>{const t=aw(e.code,l);iw(s,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(e[t]),"Meta"===e.key&&a.current.clear(),i.current=!1},r=()=>{a.current.clear(),o(!1)};return null===c||void 0===c||c.addEventListener("keydown",e),null===c||void 0===c||c.addEventListener("keyup",t),window.addEventListener("blur",r),window.addEventListener("contextmenu",r),()=>{null===c||void 0===c||c.removeEventListener("keydown",e),null===c||void 0===c||c.removeEventListener("keyup",t),window.removeEventListener("blur",r),window.removeEventListener("contextmenu",r)}}}),[t,o]),r}function iw(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function aw(e,t){return t.includes(e)?"code":"key"}function sw(e,t){const n=[],r=new Map,o=[];for(const i of e)if("add"!==i.type)if("remove"===i.type||"replace"===i.type)r.set(i.id,[i]);else{const e=r.get(i.id);e?e.push(i):r.set(i.id,[i])}else o.push(i);for(const i of t){const e=r.get(i.id);if(!e){n.push(i);continue}if("remove"===e[0].type)continue;if("replace"===e[0].type){n.push((0,b.A)({},e[0].item));continue}const t=(0,b.A)({},i);for(const n of e)lw(n,t);n.push(t)}return o.length&&o.forEach((e=>{void 0!==e.index?n.splice(e.index,0,(0,b.A)({},e.item)):n.push((0,b.A)({},e.item))})),n}function lw(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(t.position=e.position),"undefined"!==typeof e.dragging&&(t.dragging=e.dragging);break;case"dimensions":var n;if("undefined"!==typeof e.dimensions)null!==(n=t.measured)&&void 0!==n||(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(!0!==e.setAttributes&&"width"!==e.setAttributes||(t.width=e.dimensions.width),!0!==e.setAttributes&&"height"!==e.setAttributes||(t.height=e.dimensions.height));"boolean"===typeof e.resizing&&(t.resizing=e.resizing)}}function cw(e,t){return sw(e,t)}function dw(e,t){return sw(e,t)}function uw(e,t){return{id:e,type:"select",selected:t}}function pw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];for(const[o,i]of e){const e=t.has(o);void 0===i.selected&&!e||i.selected===e||(n&&(i.selected=e),r.push(uw(i.id,e)))}return r}function fw(e){let{items:t=[],lookup:n}=e;const r=[],o=new Map(t.map((e=>[e.id,e])));for(const[s,l]of t.entries()){var i,a;const e=n.get(l.id),t=null!==(i=null===e||void 0===e||null===(a=e.internals)||void 0===a?void 0:a.userNode)&&void 0!==i?i:e;void 0!==t&&t!==l&&r.push({id:l.id,item:l,type:"replace"}),void 0===t&&r.push({item:l,type:"add",index:s})}for(const[s]of n){void 0===o.get(s)&&r.push({id:s,type:"remove"})}return r}function hw(e){return{id:e.id,type:"remove"}}const mw=e=>(e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e))(e);function gw(t){return(0,e.forwardRef)(t)}const vw="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function xw(t){const[n,r]=(0,e.useState)(BigInt(0)),[o]=(0,e.useState)((()=>function(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}((()=>r((e=>e+BigInt(1)))))));return vw((()=>{const e=o.get();e.length&&(t(e),o.reset())}),[n]),o}const bw=(0,e.createContext)(null);function yw(t){let{children:n}=t;const r=My(),o=xw((0,e.useCallback)((e=>{const{nodes:t=[],setNodes:n,hasDefaultNodes:o,onNodesChange:i,nodeLookup:a,fitViewQueued:s}=r.getState();let l=t;for(const r of e)l="function"===typeof r?r(l):r;const c=fw({items:l,lookup:a});o&&n(l),c.length>0?null===i||void 0===i||i(c):s&&window.requestAnimationFrame((()=>{const{fitViewQueued:e,nodes:t,setNodes:n}=r.getState();e&&n(t)}))}),[])),i=xw((0,e.useCallback)((e=>{const{edges:t=[],setEdges:n,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:a}=r.getState();let s=t;for(const r of e)s="function"===typeof r?r(s):r;o?n(s):i&&i(fw({items:s,lookup:a}))}),[])),a=(0,e.useMemo)((()=>({nodeQueue:o,edgeQueue:i})),[]);return(0,u.jsx)(bw.Provider,{value:a,children:n})}const ww=e=>!!e.panZoom;function jw(){const t=(()=>{const t=My();return(0,e.useMemo)((()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:null===e||void 0===e?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:null===e||void 0===e?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:null===n||void 0===n?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{var r,o,i;const{transform:[a,s,l],panZoom:c}=t.getState();return c?(await c.setViewport({x:null!==(r=e.x)&&void 0!==r?r:a,y:null!==(o=e.y)&&void 0!==o?o:s,zoom:null!==(i=e.zoom)&&void 0!==i?i:l},{duration:null===n||void 0===n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>{const{width:o,height:i,maxZoom:a,panZoom:s}=t.getState(),l="undefined"!==typeof(null===r||void 0===r?void 0:r.zoom)?r.zoom:a,c=o/2-e*l,d=i/2-n*l;return s?(await s.setViewport({x:c,y:d,zoom:l},{duration:null===r||void 0===r?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{var r;const{width:o,height:i,minZoom:a,maxZoom:s,panZoom:l}=t.getState(),c=lb(e,o,i,a,s,null!==(r=null===n||void 0===n?void 0:n.padding)&&void 0!==r?r:.1);return l?(await l.setViewport(c,{duration:null===n||void 0===n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:function(e){var n,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:i,snapGrid:a,snapToGrid:s,domNode:l}=t.getState();if(!l)return e;const{x:c,y:d}=l.getBoundingClientRect(),u={x:e.x-c,y:e.y-d},p=null!==(n=o.snapGrid)&&void 0!==n?n:a,f=null!==(r=o.snapToGrid)&&void 0!==r?r:s;return ib(u,i,f,p)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:o,y:i}=r.getBoundingClientRect(),a=ab(e,n);return{x:a.x+o,y:a.y+i}}})),[])})(),n=My(),r=function(){const t=(0,e.useContext)(bw);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}(),o=Ty(ww),i=(0,e.useMemo)((()=>{const e=e=>n.getState().nodeLookup.get(e),t=e=>{r.nodeQueue.push(e)},o=e=>{r.edgeQueue.push(e)},i=e=>{var t,r,o,i;const{nodeLookup:a,nodeOrigin:s}=n.getState(),l=mw(e)?e:a.get(e.id),c=l.parentId?fb(l.position,l.measured,l.parentId,a,s):l.position,d=(0,b.A)((0,b.A)({},l),{},{position:c,width:null!==(t=null===(r=l.measured)||void 0===r?void 0:r.width)&&void 0!==t?t:l.width,height:null!==(o=null===(i=l.measured)||void 0===i?void 0:i.height)&&void 0!==o?o:l.height});return Zx(d)},a=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};t((t=>t.map((t=>{if(t.id===e){const e="function"===typeof n?n(t):n;return r.replace&&mw(e)?e:(0,b.A)((0,b.A)({},t),e)}return t}))))},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};o((r=>r.map((r=>{if(r.id===e){const e="function"===typeof t?t(r):t;return n.replace&&Rx(e)?e:(0,b.A)((0,b.A)({},r),e)}return r}))))};return{getNodes:()=>n.getState().nodes.map((e=>(0,b.A)({},e))),getNode:t=>{var n;return null===(n=e(t))||void 0===n?void 0:n.internals.userNode},getInternalNode:e,getEdges:()=>{const{edges:e=[]}=n.getState();return e.map((e=>(0,b.A)({},e)))},getEdge:e=>n.getState().edgeLookup.get(e),setNodes:t,setEdges:o,addNodes:e=>{const t=Array.isArray(e)?e:[e];r.nodeQueue.push((e=>[...e,...t]))},addEdges:e=>{const t=Array.isArray(e)?e:[e];r.edgeQueue.push((e=>[...e,...t]))},toObject:()=>{const{nodes:e=[],edges:t=[],transform:r}=n.getState(),[o,i,a]=r;return{nodes:e.map((e=>(0,b.A)({},e))),edges:t.map((e=>(0,b.A)({},e))),viewport:{x:o,y:i,zoom:a}}},deleteElements:async e=>{let{nodes:t=[],edges:r=[]}=e;const{nodes:o,edges:i,onNodesDelete:a,onEdgesDelete:s,triggerNodeChanges:l,triggerEdgeChanges:c,onDelete:d,onBeforeDelete:u}=n.getState(),{nodes:p,edges:f}=await Vx({nodesToRemove:t,edgesToRemove:r,nodes:o,edges:i,onBeforeDelete:u}),h=f.length>0,m=p.length>0;if(h){const e=f.map(hw);null===s||void 0===s||s(f),c(e)}if(m){const e=p.map(hw);null===a||void 0===a||a(p),l(e)}return(m||h)&&(null===d||void 0===d||d({nodes:p,edges:f})),{deletedNodes:p,deletedEdges:f}},getIntersectingNodes:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const o=tb(e),a=o?e:i(e),s=void 0!==r;return a?(r||n.getState().nodes).filter((r=>{const i=n.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===e.id||!i.internals.positionAbsolute))return!1;const l=Zx(s?r:i),c=eb(l,a);return t&&c>0||c>=a.width*a.height})):[]},isNodeIntersecting:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=tb(e)?e:i(e);if(!r)return!1;const o=eb(r,t);return n&&o>0||o>=r.width*r.height},updateNode:a,updateNodeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};a(e,(e=>{const r="function"===typeof t?t(e):t;return n.replace?(0,b.A)((0,b.A)({},e),{},{data:r}):(0,b.A)((0,b.A)({},e),{},{data:(0,b.A)((0,b.A)({},e.data),r)})}),n)},updateEdge:s,updateEdgeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};s(e,(e=>{const r="function"===typeof t?t(e):t;return n.replace?(0,b.A)((0,b.A)({},e),{},{data:r}):(0,b.A)((0,b.A)({},e),{},{data:(0,b.A)((0,b.A)({},e.data),r)})}),n)},getNodesBounds:e=>{const{nodeLookup:t,nodeOrigin:r}=n.getState();return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{nodeOrigin:[0,0]};if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const r="string"===typeof n;let o=t.nodeLookup||r?void 0:n;t.nodeLookup&&(o=r?t.nodeLookup.get(n):Dx(n)?n:t.nodeLookup.get(n.id));const i=o?Jx(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Yx(e,i)}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $x(n)}(e,{nodeLookup:t,nodeOrigin:r})},getHandleConnections:e=>{var t,r;let{type:o,id:i,nodeId:a}=e;return Array.from(null!==(t=null===(r=n.getState().connectionLookup.get("".concat(a,"-").concat(o).concat(i?"-".concat(i):"")))||void 0===r?void 0:r.values())&&void 0!==t?t:[])},getNodeConnections:e=>{var t,r;let{type:o,handleId:i,nodeId:a}=e;return Array.from(null!==(t=null===(r=n.getState().connectionLookup.get("".concat(a).concat(o?i?"-".concat(o,"-").concat(i):"-".concat(o):"")))||void 0===r?void 0:r.values())&&void 0!==t?t:[])},fitView:async e=>{var t;const o=null!==(t=n.getState().fitViewResolver)&&void 0!==t?t:function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}();return n.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:o}),r.nodeQueue.push((e=>[...e])),o.promise}}}),[]);return(0,e.useMemo)((()=>(0,b.A)((0,b.A)((0,b.A)({},i),t),{},{viewportInitialized:o})),[o])}const Nw=e=>e.selected,Sw="undefined"!==typeof window?window:void 0;const Aw={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ew=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function kw(t){let{onPaneContextMenu:n,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:i=!1,panOnScrollSpeed:a=.5,panOnScrollMode:s=kx.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:p,minZoom:f,maxZoom:h,zoomActivationKeyCode:m,preventScrolling:g=!0,children:v,noWheelClassName:x,noPanClassName:b,onViewportChange:y,isControlledViewport:w,paneClickDistance:j}=t;const N=My(),S=(0,e.useRef)(null),{userSelectionActive:A,lib:E}=Ty(Ew,gl),k=ow(m),C=(0,e.useRef)();!function(t){const n=My();(0,e.useEffect)((()=>{const e=()=>{if(!t.current)return!1;const e=gb(t.current);var r,o;0!==e.height&&0!==e.width||null===(r=(o=n.getState()).onError)||void 0===r||r.call(o,"004",hx()),n.setState({width:e.width||500,height:e.height||500})};if(t.current){e(),window.addEventListener("resize",e);const n=new ResizeObserver((()=>e()));return n.observe(t.current),()=>{window.removeEventListener("resize",e),n&&t.current&&n.unobserve(t.current)}}}),[])}(S);const _=(0,e.useCallback)((e=>{null===y||void 0===y||y({x:e[0],y:e[1],zoom:e[2]}),w||N.setState({transform:e})}),[y,w]);return(0,e.useEffect)((()=>{if(S.current){C.current=py({domNode:S.current,minZoom:f,maxZoom:h,translateExtent:p,viewport:d,paneClickDistance:j,onDraggingChange:e=>N.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{const{onViewportChangeStart:n,onMoveStart:r}=N.getState();null===r||void 0===r||r(e,t),null===n||void 0===n||n(t)},onPanZoom:(e,t)=>{const{onViewportChange:n,onMove:r}=N.getState();null===r||void 0===r||r(e,t),null===n||void 0===n||n(t)},onPanZoomEnd:(e,t)=>{const{onViewportChangeEnd:n,onMoveEnd:r}=N.getState();null===r||void 0===r||r(e,t),null===n||void 0===n||n(t)}});const{x:e,y:t,zoom:n}=C.current.getViewport();return N.setState({panZoom:C.current,transform:[e,t,n],domNode:S.current.closest(".react-flow")}),()=>{var e;null===(e=C.current)||void 0===e||e.destroy()}}}),[]),(0,e.useEffect)((()=>{var e;null===(e=C.current)||void 0===e||e.update({onPaneContextMenu:n,zoomOnScroll:r,zoomOnPinch:o,panOnScroll:i,panOnScrollSpeed:a,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:k,preventScrolling:g,noPanClassName:b,userSelectionActive:A,noWheelClassName:x,lib:E,onTransformChange:_})}),[n,r,o,i,a,s,l,c,k,g,b,A,x,E,_]),(0,u.jsx)("div",{className:"react-flow__renderer",ref:S,style:Aw,children:v})}const Cw=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function _w(){const{userSelectionActive:e,userSelectionRect:t}=Ty(Cw,gl);return e&&t?(0,u.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}const Pw=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Ow=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Tw(t){let{isSelecting:n,selectionKeyPressed:r,selectionMode:o=Cx.Full,panOnDrag:i,selectionOnDrag:a,onSelectionStart:s,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:p,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:m,children:g}=t;const v=My(),{userSelectionActive:x,elementsSelectable:b,dragging:y,connectionInProgress:w}=Ty(Ow,gl),j=b&&(n||x),N=(0,e.useRef)(null),S=(0,e.useRef)(),A=(0,e.useRef)(new Set),E=(0,e.useRef)(new Set),k=(0,e.useRef)(!1),C=(0,e.useRef)(!1),_=e=>{k.current||w?k.current=!1:(null===c||void 0===c||c(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1}))},P=p?e=>p(e):void 0,O=!0===i||Array.isArray(i)&&i.includes(0);return(0,u.jsxs)("div",{className:al(["react-flow__pane",{draggable:O,dragging:y,selection:n}]),onClick:j?void 0:Pw(_,N),onContextMenu:Pw((e=>{Array.isArray(i)&&null!==i&&void 0!==i&&i.includes(2)?e.preventDefault():null===d||void 0===d||d(e)}),N),onWheel:Pw(P,N),onPointerEnter:j?void 0:f,onPointerDown:j?e=>{var t,r;const{resetSelectedElements:o,domNode:i}=v.getState();if(S.current=null===i||void 0===i?void 0:i.getBoundingClientRect(),!b||!n||0!==e.button||e.target!==N.current||!S.current)return;null===(t=e.target)||void 0===t||null===(r=t.setPointerCapture)||void 0===r||r.call(t,e.pointerId),C.current=!0,k.current=!1;const{x:a,y:l}=wb(e.nativeEvent,S.current);o(),v.setState({userSelectionRect:{width:0,height:0,startX:a,startY:l,x:a,y:l}}),null===s||void 0===s||s(e)}:h,onPointerMove:j?e=>{var t;const{userSelectionRect:n,transform:r,nodeLookup:i,edgeLookup:a,connectionLookup:s,triggerNodeChanges:l,triggerEdgeChanges:c,defaultEdgeOptions:d}=v.getState();if(!S.current||!n)return;k.current=!0;const{x:u,y:p}=wb(e.nativeEvent,S.current),{startX:f,startY:h}=n,m={startX:f,startY:h,x:u<f?u:f,y:p<h?p:h,width:Math.abs(u-f),height:Math.abs(p-h)},g=A.current,x=E.current;A.current=new Set(Bx(i,m,r,o===Cx.Partial,!0).map((e=>e.id))),E.current=new Set;const b=null===(t=null===d||void 0===d?void 0:d.selectable)||void 0===t||t;for(const o of A.current){const e=s.get(o);if(e)for(const{edgeId:t}of e.values()){var y;const e=a.get(t);e&&(null!==(y=e.selectable)&&void 0!==y?y:b)&&E.current.add(t)}}if(!hb(g,A.current)){l(pw(i,A.current,!0))}if(!hb(x,E.current)){c(pw(a,E.current))}v.setState({userSelectionRect:m,userSelectionActive:!0,nodesSelectionActive:!1})}:h,onPointerUp:j?e=>{var t,n;if(0!==e.button||!C.current)return;null===(t=e.target)||void 0===t||null===(n=t.releasePointerCapture)||void 0===n||n.call(t,e.pointerId);const{userSelectionRect:o}=v.getState();!x&&o&&e.target===N.current&&(null===_||void 0===_||_(e)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:A.current.size>0}),null===l||void 0===l||l(e),(r||a)&&(k.current=!1),C.current=!1}:void 0,onPointerLeave:m,ref:N,style:Aw,children:[g,(0,u.jsx)(_w,{})]})}function Mw(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e;const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeLookup:l,onError:c}=n.getState(),d=l.get(t);d?(n.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&s)&&(a({nodes:[d],edges:[]}),requestAnimationFrame((()=>{var e;return null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.blur()}))):i([t])):null===c||void 0===c||c("012",wx(t))}function Iw(t){let{nodeRef:n,disabled:r=!1,noDragClassName:o,handleSelector:i,nodeId:a,isSelectable:s,nodeClickDistance:l}=t;const c=My(),[d,u]=(0,e.useState)(!1),p=(0,e.useRef)();return(0,e.useEffect)((()=>{p.current=Qb({getStoreItems:()=>c.getState(),onNodeMouseDown:e=>{Mw({id:e,store:c,nodeRef:n})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})}),[]),(0,e.useEffect)((()=>{var e;if(r)null===(e=p.current)||void 0===e||e.destroy();else if(n.current){var t;return null===(t=p.current)||void 0===t||t.update({noDragClassName:o,handleSelector:i,domNode:n.current,isSelectable:s,nodeId:a,nodeClickDistance:l}),()=>{var e;null===(e=p.current)||void 0===e||e.destroy()}}}),[o,i,r,s,n,a]),d}function Rw(){const t=My();return(0,e.useCallback)((e=>{const{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:s,nodeLookup:l,nodeOrigin:c}=t.getState(),d=new Map,u=(e=>t=>t.selected&&(t.draggable||e&&"undefined"===typeof t.draggable))(i),p=r?o[0]:5,f=r?o[1]:5,h=e.direction.x*p*e.factor,m=e.direction.y*f*e.factor;for(const[,t]of l){if(!u(t))continue;let e={x:t.internals.positionAbsolute.x+h,y:t.internals.positionAbsolute.y+m};r&&(e=ob(e,o));const{position:i,positionAbsolute:s}=Ux({nodeId:t.id,nextPosition:e,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:a});t.position=i,t.internals.positionAbsolute=s,d.set(t.id,t)}s(d)}),[])}const Dw=(0,e.createContext)(null),Lw=Dw.Provider;Dw.Consumer;const Fw=()=>(0,e.useContext)(Dw),Bw=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId});const zw=(0,e.memo)(gw((function(e,t){let{type:n="source",position:r=Tx.Top,isValidConnection:o,isConnectable:i=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:l,onConnect:c,children:d,className:p,onMouseDown:f,onTouchStart:h}=e,m=(0,lo.A)(e,Ny);const g=l||null,v="target"===n,x=My(),y=Fw(),{connectOnClick:w,noPanClassName:j,rfId:N}=Ty(Bw,gl),{connectingFrom:S,connectingTo:A,clickConnecting:E,isPossibleEndHandle:k,connectionInProcess:C,clickConnectionInProcess:_,valid:P}=Ty(((e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:s,toHandle:l,isValid:c}=a,d=(null===l||void 0===l?void 0:l.nodeId)===e&&(null===l||void 0===l?void 0:l.id)===t&&(null===l||void 0===l?void 0:l.type)===n;return{connectingFrom:(null===s||void 0===s?void 0:s.nodeId)===e&&(null===s||void 0===s?void 0:s.id)===t&&(null===s||void 0===s?void 0:s.type)===n,connectingTo:d,clickConnecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.id)===t&&(null===o||void 0===o?void 0:o.type)===n,isPossibleEndHandle:i===Ex.Strict?(null===s||void 0===s?void 0:s.type)!==n:e!==(null===s||void 0===s?void 0:s.nodeId)||t!==(null===s||void 0===s?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!o,valid:d&&c}})(y,g,n),gl);var O,T;y||null===(O=(T=x.getState()).onError)||void 0===O||O.call(T,"010",bx());const M=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=x.getState(),o=(0,b.A)((0,b.A)({},t),e);if(r){const{edges:e,setEdges:t}=x.getState();t(Pb(o,e))}null===n||void 0===n||n(o),null===c||void 0===c||c(o)},I=e=>{if(!y)return;const t=yb(e.nativeEvent);if(a&&(t&&0===e.button||!t)){const t=x.getState();iy.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:v,handleId:g,nodeId:y,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:M,isValidConnection:o||t.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?null===f||void 0===f||f(e):null===h||void 0===h||h(e)};return(0,u.jsx)("div",(0,b.A)((0,b.A)({"data-handleid":g,"data-nodeid":y,"data-handlepos":r,"data-id":"".concat(N,"-").concat(y,"-").concat(g,"-").concat(n),className:al(["react-flow__handle","react-flow__handle-".concat(r),"nodrag",j,p,{source:!v,target:v,connectable:i,connectablestart:a,connectableend:s,clickconnecting:E,connectingfrom:S,connectingto:A,valid:P,connectionindicator:i&&(!C||k)&&(C||_?s:a)}]),onMouseDown:I,onTouchStart:I,onClick:w?e=>{const{onClickConnectStart:t,onClickConnectEnd:r,connectionClickStartHandle:i,connectionMode:s,isValidConnection:l,lib:c,rfId:d,nodeLookup:u,connection:p}=x.getState();if(!y||!i&&!a)return;if(!i)return null===t||void 0===t||t(e.nativeEvent,{nodeId:y,handleId:g,handleType:n}),void x.setState({connectionClickStartHandle:{nodeId:y,type:n,id:g}});const f=vb(e.target),h=o||l,{connection:m,isValid:v}=iy.isValid(e.nativeEvent,{handle:{nodeId:y,id:g,type:n},connectionMode:s,fromNodeId:i.nodeId,fromHandleId:i.id||null,fromType:i.type,isValidConnection:h,flowId:d,doc:f,lib:c,nodeLookup:u});v&&m&&M(m);const b=structuredClone(p);delete b.inProgress,b.toPosition=b.toHandle?b.toHandle.position:null,null===r||void 0===r||r(e,b),x.setState({connectionClickStartHandle:null})}:void 0,ref:t},m),{},{children:d}))})));const Uw={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Vw={input:function(e){let{data:t,isConnectable:n,sourcePosition:r=Tx.Bottom}=e;return(0,u.jsxs)(u.Fragment,{children:[null===t||void 0===t?void 0:t.label,(0,u.jsx)(zw,{type:"source",position:r,isConnectable:n})]})},default:function(e){let{data:t,isConnectable:n,targetPosition:r=Tx.Top,sourcePosition:o=Tx.Bottom}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(zw,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label,(0,u.jsx)(zw,{type:"source",position:o,isConnectable:n})]})},output:function(e){let{data:t,isConnectable:n,targetPosition:r=Tx.Top}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(zw,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label]})},group:function(){return null}};const Ww=e=>{const{width:t,height:n,x:r,y:o}=Fx(e.nodeLookup,{filter:e=>!!e.selected});return{width:nb(t)?t:null,height:nb(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],") translate(").concat(r,"px,").concat(o,"px)")}};function Hw(t){let{onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:o}=t;const i=My(),{width:a,height:s,transformString:l,userSelectionActive:c}=Ty(Ww,gl),d=Rw(),p=(0,e.useRef)(null);if((0,e.useEffect)((()=>{var e;o||(null===(e=p.current)||void 0===e||e.focus({preventScroll:!0}))}),[o]),Iw({nodeRef:p}),c||!a||!s)return null;const f=n?e=>{const t=i.getState().nodes.filter((e=>e.selected));n(e,t)}:void 0;return(0,u.jsx)("div",{className:al(["react-flow__nodesselection","react-flow__container",r]),style:{transform:l},children:(0,u.jsx)("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:o?void 0:-1,onKeyDown:o?void 0:e=>{Object.prototype.hasOwnProperty.call(Uw,e.key)&&(e.preventDefault(),d({direction:Uw[e.key],factor:e.shiftKey?4:1}))},style:{width:a,height:s}})})}const qw="undefined"!==typeof window?window:void 0,Kw=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Gw(t){let{children:n,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:d,selectionKeyCode:p,selectionOnDrag:f,selectionMode:h,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:j,panOnScroll:N,panOnScrollSpeed:S,panOnScrollMode:A,zoomOnDoubleClick:E,panOnDrag:k,defaultViewport:C,translateExtent:_,minZoom:P,maxZoom:O,preventScrolling:T,onSelectionContextMenu:M,noWheelClassName:I,noPanClassName:R,disableKeyboardA11y:D,onViewportChange:L,isControlledViewport:F}=t;const{nodesSelectionActive:B,userSelectionActive:z}=Ty(Kw),U=ow(p,{target:qw}),V=ow(x,{target:qw}),W=V||k,H=V||N,q=f&&!0!==W,K=U||z||q;return function(t){let{deleteKeyCode:n,multiSelectionKeyCode:r}=t;const o=My(),{deleteElements:i}=jw(),a=ow(n,{actInsideInputWithModifier:!1}),s=ow(r,{target:Sw});(0,e.useEffect)((()=>{if(a){const{edges:e,nodes:t}=o.getState();i({nodes:t.filter(Nw),edges:e.filter(Nw)}),o.setState({nodesSelectionActive:!1})}}),[a]),(0,e.useEffect)((()=>{o.setState({multiSelectionActive:s})}),[s])}({deleteKeyCode:d,multiSelectionKeyCode:v}),(0,u.jsx)(kw,{onPaneContextMenu:s,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:j,panOnScroll:H,panOnScrollSpeed:S,panOnScrollMode:A,zoomOnDoubleClick:E,panOnDrag:!U&&W,defaultViewport:C,translateExtent:_,minZoom:P,maxZoom:O,zoomActivationKeyCode:b,preventScrolling:T,noWheelClassName:I,noPanClassName:R,onViewportChange:L,isControlledViewport:F,paneClickDistance:c,children:(0,u.jsxs)(Tw,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:W,isSelecting:!!K,selectionMode:h,selectionKeyPressed:U,selectionOnDrag:q,children:[n,B&&(0,u.jsx)(Hw,{onSelectionContextMenu:M,noPanClassName:R,disableKeyboardA11y:D})]})})}Gw.displayName="FlowRenderer";const Yw=(0,e.memo)(Gw);function Xw(t){return Ty((0,e.useCallback)((e=>t=>e?Bx(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map((e=>e.id)):Array.from(t.nodeLookup.keys()))(t),[t]),gl)}const $w=e=>e.updateNodeInternals;function Zw(t){var n,r;let{id:o,onClick:i,onMouseEnter:a,onMouseMove:s,onMouseLeave:l,onContextMenu:c,onDoubleClick:d,nodesDraggable:p,elementsSelectable:f,nodesConnectable:h,nodesFocusable:m,resizeObserver:g,noDragClassName:v,noPanClassName:x,disableKeyboardA11y:y,rfId:w,nodeTypes:j,nodeClickDistance:N,onError:S}=t;const{node:A,internals:E,isParent:k}=Ty((e=>{const t=e.nodeLookup.get(o),n=e.parentLookup.has(o);return{node:t,internals:t.internals,isParent:n}}),gl);let C=A.type||"default",_=(null===j||void 0===j?void 0:j[C])||Vw[C];void 0===_&&(null===S||void 0===S||S("003",fx(C)),C="default",_=Vw.default);const P=!!(A.draggable||p&&"undefined"===typeof A.draggable),O=!!(A.selectable||f&&"undefined"===typeof A.selectable),T=!!(A.connectable||h&&"undefined"===typeof A.connectable),M=!!(A.focusable||m&&"undefined"===typeof A.focusable),I=My(),R=pb(A),D=function(t){let{node:n,nodeType:r,hasDimensions:o,resizeObserver:i}=t;const a=My(),s=(0,e.useRef)(null),l=(0,e.useRef)(null),c=(0,e.useRef)(n.sourcePosition),d=(0,e.useRef)(n.targetPosition),u=(0,e.useRef)(r),p=o&&!!n.internals.handleBounds;return(0,e.useEffect)((()=>{!s.current||n.hidden||p&&l.current===s.current||(l.current&&(null===i||void 0===i||i.unobserve(l.current)),null===i||void 0===i||i.observe(s.current),l.current=s.current)}),[p,n.hidden]),(0,e.useEffect)((()=>()=>{l.current&&(null===i||void 0===i||i.unobserve(l.current),l.current=null)}),[]),(0,e.useEffect)((()=>{if(s.current){const e=u.current!==r,t=c.current!==n.sourcePosition,o=d.current!==n.targetPosition;(e||t||o)&&(u.current=r,c.current=n.sourcePosition,d.current=n.targetPosition,a.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:s.current,force:!0}]])))}}),[n.id,r,n.sourcePosition,n.targetPosition]),s}({node:A,nodeType:C,hasDimensions:R,resizeObserver:g}),L=Iw({nodeRef:D,disabled:A.hidden||!P,noDragClassName:v,handleSelector:A.dragHandle,nodeId:o,isSelectable:O,nodeClickDistance:N}),F=Rw();if(A.hidden)return null;const B=ub(A),z=function(e){var t,n,r,o,i,a,s,l,c,d;return void 0===e.internals.handleBounds?{width:null!==(i=null!==(a=e.width)&&void 0!==a?a:e.initialWidth)&&void 0!==i?i:null===(s=e.style)||void 0===s?void 0:s.width,height:null!==(l=null!==(c=e.height)&&void 0!==c?c:e.initialHeight)&&void 0!==l?l:null===(d=e.style)||void 0===d?void 0:d.height}:{width:null!==(t=e.width)&&void 0!==t?t:null===(n=e.style)||void 0===n?void 0:n.width,height:null!==(r=e.height)&&void 0!==r?r:null===(o=e.style)||void 0===o?void 0:o.height}}(A),U=O||P||i||a||s||l,V=a?e=>a(e,(0,b.A)({},E.userNode)):void 0,W=s?e=>s(e,(0,b.A)({},E.userNode)):void 0,H=l?e=>l(e,(0,b.A)({},E.userNode)):void 0,q=c?e=>c(e,(0,b.A)({},E.userNode)):void 0,K=d?e=>d(e,(0,b.A)({},E.userNode)):void 0;return(0,u.jsx)("div",{className:al(["react-flow__node","react-flow__node-".concat(C),{[x]:P},A.className,{selected:A.selected,selectable:O,parent:k,draggable:P,dragging:L}]),ref:D,style:(0,b.A)((0,b.A)({zIndex:E.z,transform:"translate(".concat(E.positionAbsolute.x,"px,").concat(E.positionAbsolute.y,"px)"),pointerEvents:U?"all":"none",visibility:R?"visible":"hidden"},A.style),z),"data-id":o,"data-testid":"rf__node-".concat(o),onMouseEnter:V,onMouseMove:W,onMouseLeave:H,onContextMenu:q,onClick:e=>{const{selectNodesOnDrag:t,nodeDragThreshold:n}=I.getState();O&&(!t||!P||n>0)&&Mw({id:o,store:I,nodeRef:D}),i&&i(e,(0,b.A)({},E.userNode))},onDoubleClick:K,onKeyDown:M?e=>{if(!bb(e.nativeEvent)&&!y)if(Ax.includes(e.key)&&O){const t="Escape"===e.key;Mw({id:o,store:I,unselect:t,nodeRef:D})}else P&&A.selected&&Object.prototype.hasOwnProperty.call(Uw,e.key)&&(e.preventDefault(),I.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~E.positionAbsolute.x,", y: ").concat(~~E.positionAbsolute.y)}),F({direction:Uw[e.key],factor:e.shiftKey?4:1}))}:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":y?void 0:"".concat(Dy,"-").concat(w),"aria-label":A.ariaLabel,children:(0,u.jsx)(Lw,{value:o,children:(0,u.jsx)(_,(0,b.A)({id:o,data:A.data,type:C,positionAbsoluteX:E.positionAbsolute.x,positionAbsoluteY:E.positionAbsolute.y,selected:null!==(n=A.selected)&&void 0!==n&&n,selectable:O,draggable:P,deletable:null===(r=A.deletable)||void 0===r||r,isConnectable:T,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:L,dragHandle:A.dragHandle,zIndex:E.z,parentId:A.parentId},B))})})}const Jw=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Qw(t){const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,onError:a}=Ty(Jw,gl),s=Xw(t.onlyRenderVisibleElements),l=function(){const t=Ty($w),[n]=(0,e.useState)((()=>"undefined"===typeof ResizeObserver?null:new ResizeObserver((e=>{const n=new Map;e.forEach((e=>{const t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})})),t(n)}))));return(0,e.useEffect)((()=>()=>{null===n||void 0===n||n.disconnect()}),[n]),n}();return(0,u.jsx)("div",{className:"react-flow__nodes",style:Aw,children:s.map((e=>(0,u.jsx)(Zw,{id:e,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:a},e)))})}Qw.displayName="NodeRenderer";const ej=(0,e.memo)(Qw);const tj={[Ox.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,u.jsx)("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[Ox.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,u.jsx)("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const nj=t=>{let{id:n,type:r,color:o,width:i=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=t;const d=function(t){const n=My();return(0,e.useMemo)((()=>{var e,r;return Object.prototype.hasOwnProperty.call(tj,t)?tj[t]:(null===(e=(r=n.getState()).onError)||void 0===e||e.call(r,"009",vx(t)),null)}),[t])}(r);return d?(0,u.jsx)("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(i),markerHeight:"".concat(a),viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:(0,u.jsx)(d,{color:o,strokeWidth:l})}):null},rj=t=>{let{defaultColor:n,rfId:r}=t;const o=Ty((e=>e.edges)),i=Ty((e=>e.defaultEdgeOptions)),a=(0,e.useMemo)((()=>{const e=function(e,t){let{id:n,defaultColor:r,defaultMarkerStart:o,defaultMarkerEnd:i}=t;const a=new Set;return e.reduce(((e,t)=>([t.markerStart||o,t.markerEnd||i].forEach((t=>{if(t&&"object"===typeof t){const o=zb(t,n);a.has(o)||(e.push((0,b.A)({id:o,color:t.color||r},t)),a.add(o))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}(o,{id:r,defaultColor:n,defaultMarkerStart:null===i||void 0===i?void 0:i.markerStart,defaultMarkerEnd:null===i||void 0===i?void 0:i.markerEnd});return e}),[o,i,r,n]);return a.length?(0,u.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,u.jsx)("defs",{children:a.map((e=>(0,u.jsx)(nj,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id)))})}):null};rj.displayName="MarkerDefinitions";var oj=(0,e.memo)(rj);function ij(t){let{x:n,y:r,label:o,labelStyle:i,labelShowBg:a=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:p}=t,f=(0,lo.A)(t,Sy);const[h,m]=(0,e.useState)({x:1,y:0,width:0,height:0}),g=al(["react-flow__edge-textwrapper",p]),v=(0,e.useRef)(null);return(0,e.useEffect)((()=>{if(v.current){const e=v.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}}),[o]),o?(0,u.jsxs)("g",(0,b.A)((0,b.A)({transform:"translate(".concat(n-h.width/2," ").concat(r-h.height/2,")"),className:g,visibility:h.width?"visible":"hidden"},f),{},{children:[a&&(0,u.jsx)("rect",{width:h.width+2*l[0],x:-l[0],y:-l[1],height:h.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),(0,u.jsx)("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:v,style:i,children:o}),d]})):null}ij.displayName="EdgeText";const aj=(0,e.memo)(ij);function sj(e){let{path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20}=e,p=(0,lo.A)(e,Ay);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",(0,b.A)((0,b.A)({},p),{},{d:t,fill:"none",className:al(["react-flow__edge-path",p.className])})),d&&(0,u.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),o&&nb(n)&&nb(r)?(0,u.jsx)(aj,{x:n,y:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function lj(e){let{pos:t,x1:n,y1:r,x2:o,y2:i}=e;return t===Tx.Left||t===Tx.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function cj(e){let{sourceX:t,sourceY:n,sourcePosition:r=Tx.Bottom,targetX:o,targetY:i,targetPosition:a=Tx.Top}=e;const[s,l]=lj({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,d]=lj({pos:a,x1:o,y1:i,x2:t,y2:n}),[u,p,f,h]=Nb({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(s,",").concat(l," ").concat(c,",").concat(d," ").concat(o,",").concat(i),u,p,f,h]}function dj(t){return(0,e.memo)((e=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:x,interactionWidth:b}=e;const[y,w,j]=cj({sourceX:r,sourceY:o,sourcePosition:s,targetX:i,targetY:a,targetPosition:l}),N=t.isInternal?void 0:n;return(0,u.jsx)(sj,{id:N,path:y,labelX:w,labelY:j,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:x,interactionWidth:b})}))}const uj=dj({isInternal:!1}),pj=dj({isInternal:!0});function fj(t){return(0,e.memo)((e=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:f,style:h,sourcePosition:m=Tx.Bottom,targetPosition:g=Tx.Top,markerEnd:v,markerStart:x,pathOptions:b,interactionWidth:y}=e;const[w,j,N]=Rb({sourceX:r,sourceY:o,sourcePosition:m,targetX:i,targetY:a,targetPosition:g,borderRadius:null===b||void 0===b?void 0:b.borderRadius,offset:null===b||void 0===b?void 0:b.offset}),S=t.isInternal?void 0:n;return(0,u.jsx)(sj,{id:S,path:w,labelX:j,labelY:N,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:x,interactionWidth:y})}))}uj.displayName="SimpleBezierEdge",pj.displayName="SimpleBezierEdgeInternal";const hj=fj({isInternal:!1}),mj=fj({isInternal:!0});function gj(t){return(0,e.memo)((n=>{var r;let{id:o}=n,i=(0,lo.A)(n,Ey);const a=t.isInternal?void 0:o;return(0,u.jsx)(hj,(0,b.A)((0,b.A)({},i),{},{id:a,pathOptions:(0,e.useMemo)((()=>{var e;return{borderRadius:0,offset:null===(e=i.pathOptions)||void 0===e?void 0:e.offset}}),[null===(r=i.pathOptions)||void 0===r?void 0:r.offset])}))}))}hj.displayName="SmoothStepEdge",mj.displayName="SmoothStepEdgeInternal";const vj=gj({isInternal:!1}),xj=gj({isInternal:!0});function bj(t){return(0,e.memo)((e=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:v}=e;const[x,b,y]=Ob({sourceX:r,sourceY:o,targetX:i,targetY:a}),w=t.isInternal?void 0:n;return(0,u.jsx)(sj,{id:w,path:x,labelX:b,labelY:y,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:v})}))}vj.displayName="StepEdge",xj.displayName="StepEdgeInternal";const yj=bj({isInternal:!1}),wj=bj({isInternal:!0});function jj(t){return(0,e.memo)((e=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s=Tx.Bottom,targetPosition:l=Tx.Top,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:x,pathOptions:b,interactionWidth:y}=e;const[w,j,N]=Eb({sourceX:r,sourceY:o,sourcePosition:s,targetX:i,targetY:a,targetPosition:l,curvature:null===b||void 0===b?void 0:b.curvature}),S=t.isInternal?void 0:n;return(0,u.jsx)(sj,{id:S,path:w,labelX:j,labelY:N,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:x,interactionWidth:y})}))}yj.displayName="StraightEdge",wj.displayName="StraightEdgeInternal";const Nj=jj({isInternal:!1}),Sj=jj({isInternal:!0});Nj.displayName="BezierEdge",Sj.displayName="BezierEdgeInternal";const Aj={default:Sj,straight:wj,step:xj,smoothstep:mj,simplebezier:pj},Ej={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},kj=(e,t,n)=>n===Tx.Left?e-t:n===Tx.Right?e+t:e,Cj=(e,t,n)=>n===Tx.Top?e-t:n===Tx.Bottom?e+t:e,_j="react-flow__edgeupdater";function Pj(e){let{position:t,centerX:n,centerY:r,radius:o=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:l}=e;return(0,u.jsx)("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:al([_j,"".concat(_j,"-").concat(l)]),cx:kj(n,o,t),cy:Cj(r,o,t),r:o,stroke:"transparent",fill:"transparent"})}function Oj(e){let{isReconnectable:t,reconnectRadius:n,edge:r,sourceX:o,sourceY:i,targetX:a,targetY:s,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:p,onReconnectEnd:f,setReconnecting:h,setUpdateHover:m}=e;const g=My(),v=(e,t)=>{if(0!==e.button)return;const{autoPanOnConnect:n,domNode:o,isValidConnection:i,connectionMode:a,connectionRadius:s,lib:l,onConnectStart:c,onConnectEnd:u,cancelConnection:m,nodeLookup:v,rfId:x,panBy:b,updateConnection:y}=g.getState(),w="target"===t.type;h(!0),null===p||void 0===p||p(e,r,t.type);iy.onPointerDown(e.nativeEvent,{autoPanOnConnect:n,connectionMode:a,connectionRadius:s,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:v,isTarget:w,edgeUpdaterType:t.type,lib:l,flowId:x,cancelConnection:m,panBy:b,isValidConnection:i,onConnect:e=>null===d||void 0===d?void 0:d(r,e),onConnectStart:c,onConnectEnd:u,onReconnectEnd:(e,n)=>{h(!1),null===f||void 0===f||f(e,r,t.type,n)},updateConnection:y,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle})},x=()=>m(!0),b=()=>m(!1);return(0,u.jsxs)(u.Fragment,{children:[(!0===t||"source"===t)&&(0,u.jsx)(Pj,{position:l,centerX:o,centerY:i,radius:n,onMouseDown:e=>{var t;return v(e,{nodeId:r.target,id:null!==(t=r.targetHandle)&&void 0!==t?t:null,type:"target"})},onMouseEnter:x,onMouseOut:b,type:"source"}),(!0===t||"target"===t)&&(0,u.jsx)(Pj,{position:c,centerX:a,centerY:s,radius:n,onMouseDown:e=>{var t;return v(e,{nodeId:r.source,id:null!==(t=r.sourceHandle)&&void 0!==t?t:null,type:"source"})},onMouseEnter:x,onMouseOut:b,type:"target"})]})}function Tj(t){var n;let{id:r,edgesFocusable:o,edgesReconnectable:i,elementsSelectable:a,onClick:s,onDoubleClick:l,onContextMenu:c,onMouseEnter:d,onMouseMove:p,onMouseLeave:f,reconnectRadius:h,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,rfId:x,edgeTypes:y,noPanClassName:w,onError:j,disableKeyboardA11y:N}=t,S=Ty((e=>e.edgeLookup.get(r)));const A=Ty((e=>e.defaultEdgeOptions));S=A?(0,b.A)((0,b.A)({},A),S):S;let E=S.type||"default",k=(null===y||void 0===y?void 0:y[E])||Aj[E];void 0===k&&(null===j||void 0===j||j("011",yx(E)),E="default",k=Aj.default);const C=!!(S.focusable||o&&"undefined"===typeof S.focusable),_="undefined"!==typeof m&&(S.reconnectable||i&&"undefined"===typeof S.reconnectable),P=!!(S.selectable||a&&"undefined"===typeof S.selectable),O=(0,e.useRef)(null),[T,M]=(0,e.useState)(!1),[I,R]=(0,e.useState)(!1),D=My(),{zIndex:L,sourceX:F,sourceY:B,targetX:z,targetY:U,sourcePosition:V,targetPosition:W}=Ty((0,e.useCallback)((e=>{const t=e.nodeLookup.get(S.source),n=e.nodeLookup.get(S.target);if(!t||!n)return(0,b.A)({zIndex:S.zIndex},Ej);const o=function(e){var t,n,r,o;const{sourceNode:i,targetNode:a}=e;if(!Db(i)||!Db(a))return null;const s=i.internals.handleBounds||Lb(i.handles),l=a.internals.handleBounds||Lb(a.handles),c=Bb(null!==(t=null===s||void 0===s?void 0:s.source)&&void 0!==t?t:[],e.sourceHandle),d=Bb(e.connectionMode===Ex.Strict?null!==(n=null===l||void 0===l?void 0:l.target)&&void 0!==n?n:[]:(null!==(r=null===l||void 0===l?void 0:l.target)&&void 0!==r?r:[]).concat(null!==(o=null===l||void 0===l?void 0:l.source)&&void 0!==o?o:[]),e.targetHandle);var u;if(!c||!d)return null===(u=e.onError)||void 0===u||u.call(e,"008",xx(c?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const p=(null===c||void 0===c?void 0:c.position)||Tx.Bottom,f=(null===d||void 0===d?void 0:d.position)||Tx.Top,h=Fb(i,c,p),m=Fb(a,d,f);return{sourceX:h.x,sourceY:h.y,targetX:m.x,targetY:m.y,sourcePosition:p,targetPosition:f}}({id:r,sourceNode:t,targetNode:n,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:e.connectionMode,onError:j}),i=function(e){let{sourceNode:t,targetNode:n,selected:r=!1,zIndex:o=0,elevateOnSelect:i=!1}=e;if(!i)return o;const a=r||n.selected||t.selected,s=Math.max(t.internals.z||0,n.internals.z||0,1e3);return o+(a?s:0)}({selected:S.selected,zIndex:S.zIndex,sourceNode:t,targetNode:n,elevateOnSelect:e.elevateEdgesOnSelect});return(0,b.A)({zIndex:i},o||Ej)}),[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),gl),H=(0,e.useMemo)((()=>S.markerStart?"url('#".concat(zb(S.markerStart,x),"')"):void 0),[S.markerStart,x]),q=(0,e.useMemo)((()=>S.markerEnd?"url('#".concat(zb(S.markerEnd,x),"')"):void 0),[S.markerEnd,x]);if(S.hidden||null===F||null===B||null===z||null===U)return null;const K=l?e=>{l(e,(0,b.A)({},S))}:void 0,G=c?e=>{c(e,(0,b.A)({},S))}:void 0,Y=d?e=>{d(e,(0,b.A)({},S))}:void 0,X=p?e=>{p(e,(0,b.A)({},S))}:void 0,$=f?e=>{f(e,(0,b.A)({},S))}:void 0;return(0,u.jsx)("svg",{style:{zIndex:L},children:(0,u.jsxs)("g",{className:al(["react-flow__edge","react-flow__edge-".concat(E),S.className,w,{selected:S.selected,animated:S.animated,inactive:!P&&!s,updating:T,selectable:P}]),onClick:e=>{const{addSelectedEdges:t,unselectNodesAndEdges:n,multiSelectionActive:o}=D.getState();var i;P&&(D.setState({nodesSelectionActive:!1}),S.selected&&o?(n({nodes:[],edges:[S]}),null===(i=O.current)||void 0===i||i.blur()):t([r]));s&&s(e,S)},onDoubleClick:K,onContextMenu:G,onMouseEnter:Y,onMouseMove:X,onMouseLeave:$,onKeyDown:C?e=>{if(!N&&Ax.includes(e.key)&&P){const{unselectNodesAndEdges:n,addSelectedEdges:o}=D.getState();var t;if("Escape"===e.key)null===(t=O.current)||void 0===t||t.blur(),n({edges:[S]});else o([r])}}:void 0,tabIndex:C?0:void 0,role:C?"button":"img","data-id":r,"data-testid":"rf__edge-".concat(r),"aria-label":null===S.ariaLabel?void 0:S.ariaLabel||"Edge from ".concat(S.source," to ").concat(S.target),"aria-describedby":C?"".concat(Ly,"-").concat(x):void 0,ref:O,children:[!I&&(0,u.jsx)(k,{id:r,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:P,deletable:null===(n=S.deletable)||void 0===n||n,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:F,sourceY:B,targetX:z,targetY:U,sourcePosition:V,targetPosition:W,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:H,markerEnd:q,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),_&&(0,u.jsx)(Oj,{edge:S,isReconnectable:_,reconnectRadius:h,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,sourceX:F,sourceY:B,targetX:z,targetY:U,sourcePosition:V,targetPosition:W,setUpdateHover:M,setReconnecting:R})]})})}const Mj=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ij(t){let{defaultMarkerColor:n,onlyRenderVisibleElements:r,rfId:o,edgeTypes:i,noPanClassName:a,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:p,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:m,onReconnectStart:g,onReconnectEnd:v,disableKeyboardA11y:x}=t;const{edgesFocusable:b,edgesReconnectable:y,elementsSelectable:w,onError:j}=Ty(Mj,gl),N=(S=r,Ty((0,e.useCallback)((e=>{if(!S)return e.edges.map((e=>e.id));const t=[];if(e.width&&e.height)for(const n of e.edges){const r=e.nodeLookup.get(n.source),o=e.nodeLookup.get(n.target);r&&o&&Cb({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t}),[S]),gl));var S;return(0,u.jsxs)("div",{className:"react-flow__edges",children:[(0,u.jsx)(oj,{defaultColor:n,rfId:o}),N.map((e=>(0,u.jsx)(Tj,{id:e,edgesFocusable:b,edgesReconnectable:y,elementsSelectable:w,noPanClassName:a,onReconnect:s,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:p,onClick:f,reconnectRadius:h,onDoubleClick:m,onReconnectStart:g,onReconnectEnd:v,rfId:o,onError:j,edgeTypes:i,disableKeyboardA11y:x},e)))]})}Ij.displayName="EdgeRenderer";const Rj=(0,e.memo)(Ij),Dj=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function Lj(e){let{children:t}=e;const n=Ty(Dj);return(0,u.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:t})}const Fj=e=>{var t;return null===(t=e.panZoom)||void 0===t?void 0:t.syncViewport};function Bj(e){return e.connection.inProgress?(0,b.A)((0,b.A)({},e.connection),{},{to:ib(e.connection.to,e.transform)}):(0,b.A)({},e.connection)}function zj(e){const t=function(e){if(e)return t=>{const n=Bj(t);return e(n)};return Bj}(e);return Ty(t,gl)}const Uj=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Vj(e){let{containerStyle:t,style:n,type:r,component:o}=e;const{nodesConnectable:i,width:a,height:s,isValid:l,inProgress:c}=Ty(Uj,gl);return!!(a&&i&&c)?(0,u.jsx)("svg",{style:t,width:a,height:s,className:"react-flow__connectionline react-flow__container",children:(0,u.jsx)("g",{className:al(["react-flow__connection",Ix(l)]),children:(0,u.jsx)(Wj,{style:n,type:r,CustomComponent:o,isValid:l})})}):null}const Wj=e=>{let{style:t,type:n=Px.Bezier,CustomComponent:r,isValid:o}=e;const{inProgress:i,from:a,fromNode:s,fromHandle:l,fromPosition:c,to:d,toNode:p,toHandle:f,toPosition:h}=zj();if(!i)return;if(r)return(0,u.jsx)(r,{connectionLineType:n,connectionLineStyle:t,fromNode:s,fromHandle:l,fromX:a.x,fromY:a.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:h,connectionStatus:Ix(o),toNode:p,toHandle:f});let m="";const g={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:h};switch(n){case Px.Bezier:[m]=Eb(g);break;case Px.SimpleBezier:[m]=cj(g);break;case Px.Step:[m]=Rb((0,b.A)((0,b.A)({},g),{},{borderRadius:0}));break;case Px.SmoothStep:[m]=Rb(g);break;default:[m]=Ob(g)}return(0,u.jsx)("path",{d:m,fill:"none",className:"react-flow__connection-path",style:t})};Wj.displayName="ConnectionLine";const Hj={};function qj(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hj;(0,e.useRef)(t),My();(0,e.useEffect)((()=>{}),[t])}function Kj(t){let{nodeTypes:n,edgeTypes:r,onInit:o,onNodeClick:i,onEdgeClick:a,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:m,onSelectionEnd:g,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:b,connectionLineContainerStyle:y,selectionKeyCode:w,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:S,panActivationKeyCode:A,zoomActivationKeyCode:E,deleteKeyCode:k,onlyRenderVisibleElements:C,elementsSelectable:_,defaultViewport:P,translateExtent:O,minZoom:T,maxZoom:M,preventScrolling:I,defaultMarkerColor:R,zoomOnScroll:D,zoomOnPinch:L,panOnScroll:F,panOnScrollSpeed:B,panOnScrollMode:z,zoomOnDoubleClick:U,panOnDrag:V,onPaneClick:W,onPaneMouseEnter:H,onPaneMouseMove:q,onPaneMouseLeave:K,onPaneScroll:G,onPaneContextMenu:Y,paneClickDistance:X,nodeClickDistance:$,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ee,reconnectRadius:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,noDragClassName:ie,noWheelClassName:ae,noPanClassName:se,disableKeyboardA11y:le,nodeExtent:ce,rfId:de,viewport:ue,onViewportChange:pe}=t;return qj(n),qj(r),My(),(0,e.useRef)(!1),(0,e.useEffect)((()=>{}),[]),function(t){const n=jw(),r=(0,e.useRef)(!1);(0,e.useEffect)((()=>{!r.current&&n.viewportInitialized&&t&&(setTimeout((()=>t(n)),1),r.current=!0)}),[t,n.viewportInitialized])}(o),function(t){const n=Ty(Fj),r=My();(0,e.useEffect)((()=>{t&&(null===n||void 0===n||n(t),r.setState({transform:[t.x,t.y,t.zoom]}))}),[t,n])}(ue),(0,u.jsx)(Yw,{onPaneClick:W,onPaneMouseEnter:H,onPaneMouseMove:q,onPaneMouseLeave:K,onPaneContextMenu:Y,onPaneScroll:G,paneClickDistance:X,deleteKeyCode:k,selectionKeyCode:w,selectionOnDrag:j,selectionMode:N,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:S,panActivationKeyCode:A,zoomActivationKeyCode:E,elementsSelectable:_,zoomOnScroll:D,zoomOnPinch:L,zoomOnDoubleClick:U,panOnScroll:F,panOnScrollSpeed:B,panOnScrollMode:z,panOnDrag:V,defaultViewport:P,translateExtent:O,minZoom:T,maxZoom:M,onSelectionContextMenu:h,preventScrolling:I,noDragClassName:ie,noWheelClassName:ae,noPanClassName:se,disableKeyboardA11y:le,onViewportChange:pe,isControlledViewport:!!ue,children:(0,u.jsxs)(Lj,{children:[(0,u.jsx)(Rj,{edgeTypes:r,onEdgeClick:a,onEdgeDoubleClick:l,onReconnect:ne,onReconnectStart:re,onReconnectEnd:oe,onlyRenderVisibleElements:C,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ee,reconnectRadius:te,defaultMarkerColor:R,noPanClassName:se,disableKeyboardA11y:le,rfId:de}),(0,u.jsx)(Vj,{style:x,type:v,component:b,containerStyle:y}),(0,u.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,u.jsx)(ej,{nodeTypes:n,onNodeClick:i,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:f,nodeClickDistance:$,onlyRenderVisibleElements:C,noPanClassName:se,noDragClassName:ie,disableKeyboardA11y:le,nodeExtent:ce,rfId:de}),(0,u.jsx)("div",{className:"react-flow__viewport-portal"})]})})}Kj.displayName="GraphView";const Gj=(0,e.memo)(Kj),Yj=function(){var e,t;let{nodes:n,edges:r,defaultNodes:o,defaultEdges:i,width:a,height:s,fitView:l,fitViewOptions:c,minZoom:d=.5,maxZoom:u=2,nodeOrigin:p,nodeExtent:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const h=new Map,m=new Map,g=new Map,v=new Map,x=null!==(e=null!==i&&void 0!==i?i:r)&&void 0!==e?e:[],y=null!==(t=null!==o&&void 0!==o?o:n)&&void 0!==t?t:[],w=null!==p&&void 0!==p?p:[0,0],j=null!==f&&void 0!==f?f:Sx;Xb(g,v,x);const N=Hb(y,h,m,{nodeOrigin:w,nodeExtent:j,elevateNodesOnSelect:!1});let S=[0,0,1];if(l&&a&&s){var A;const e=Fx(h,{filter:e=>!(!e.width&&!e.initialWidth||!e.height&&!e.initialHeight)}),{x:t,y:n,zoom:r}=lb(e,a,s,d,u,null!==(A=null===c||void 0===c?void 0:c.padding)&&void 0!==A?A:.1);S=[t,n,r]}return{rfId:"1",width:0,height:0,transform:S,nodes:y,nodesInitialized:N,nodeLookup:h,parentLookup:m,edges:x,edgeLookup:v,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==o,hasDefaultEdges:void 0!==i,panZoom:null,minZoom:d,maxZoom:u,translateExtent:Sx,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ex.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:null!==l&&void 0!==l&&l,fitViewOptions:c,fitViewResolver:null,connection:(0,b.A)({},_x),connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:rb,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Xj=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:p}=e;return ml(((e,f)=>{async function h(){const{nodeLookup:t,panZoom:n,fitViewOptions:r,fitViewResolver:o,width:i,height:a,minZoom:s,maxZoom:l}=f();n&&(await zx({nodes:t,width:i,height:a,panZoom:n,minZoom:s,maxZoom:l},r),null===o||void 0===o||o.resolve(!0),e({fitViewResolver:null}))}return(0,b.A)((0,b.A)({},Yj({nodes:t,edges:n,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:p,defaultNodes:r,defaultEdges:o})),{},{setNodes:t=>{const{nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:i,fitViewQueued:a}=f(),s=Hb(t,n,r,{nodeOrigin:o,nodeExtent:p,elevateNodesOnSelect:i,checkEquality:!0});a&&s?(h(),e({nodes:t,nodesInitialized:s,fitViewQueued:!1,fitViewOptions:void 0})):e({nodes:t,nodesInitialized:s})},setEdges:t=>{const{connectionLookup:n,edgeLookup:r}=f();Xb(n,r,t),e({edges:t})},setDefaultNodesAndEdges:(t,n)=>{if(t){const{setNodes:n}=f();n(t),e({hasDefaultNodes:!0})}if(n){const{setEdges:t}=f();t(n),e({hasDefaultEdges:!0})}},updateNodeInternals:t=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,domNode:i,nodeOrigin:a,nodeExtent:s,debug:l,fitViewQueued:c}=f(),{changes:d,updatedInternals:u}=function(e,t,n,r,o,i){const a=null===r||void 0===r?void 0:r.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const l=[],c=window.getComputedStyle(a),{m22:d}=new window.DOMMatrixReadOnly(c.transform),u=[];for(const p of e.values()){const e=t.get(p.id);if(!e)continue;if(e.hidden){t.set(e.id,(0,b.A)((0,b.A)({},e),{},{internals:(0,b.A)((0,b.A)({},e.internals),{},{handleBounds:void 0})})),s=!0;continue}const r=gb(p.nodeElement),a=e.measured.width!==r.width||e.measured.height!==r.height;if(r.width&&r.height&&(a||!e.internals.handleBounds||p.force)){const c=p.nodeElement.getBoundingClientRect(),f=db(e.extent)?e.extent:i;let{positionAbsolute:h}=e.internals;e.parentId&&"parent"===e.extent?h=qx(h,r,t.get(e.parentId)):f&&(h=Hx(h,f,r));const m=(0,b.A)((0,b.A)({},e),{},{measured:r,internals:(0,b.A)((0,b.A)({},e.internals),{},{positionAbsolute:h,handleBounds:{source:jb("source",p.nodeElement,c,d,e.id),target:jb("target",p.nodeElement,c,d,e.id)}})});t.set(e.id,m),e.parentId&&qb(m,t,n,{nodeOrigin:o}),s=!0,a&&(l.push({id:e.id,type:"dimensions",dimensions:r}),e.expandParent&&e.parentId&&u.push({id:e.id,parentId:e.parentId,rect:Zx(m,o)}))}}if(u.length>0){const e=Gb(u,t,n,o);l.push(...e)}return{changes:l,updatedInternals:s}}(t,r,o,i,a,s);u&&(!function(e,t,n){const r=Wb(Ub,n);for(const o of e.values())if(o.parentId)qb(o,e,t,r);else{const e=Lx(o,r.nodeOrigin),t=db(o.extent)?o.extent:r.nodeExtent,n=Hx(e,t,ub(o));o.internals.positionAbsolute=n}}(r,o,{nodeOrigin:a,nodeExtent:s}),c?(h(),e({fitViewQueued:!1,fitViewOptions:void 0})):e({}),(null===d||void 0===d?void 0:d.length)>0&&(l&&console.log("React Flow: trigger node changes",d),null===n||void 0===n||n(d)))},updateNodePositions:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[],r=[],{nodeLookup:o,triggerNodeChanges:i}=f();for(const[l,c]of e){const e=o.get(l),i=!!(null!==e&&void 0!==e&&e.expandParent&&null!==e&&void 0!==e&&e.parentId&&null!==c&&void 0!==c&&c.position),d={id:l,type:"position",position:i?{x:Math.max(0,c.position.x),y:Math.max(0,c.position.y)}:c.position,dragging:t};var a,s;if(i&&e.parentId)n.push({id:l,parentId:e.parentId,rect:(0,b.A)((0,b.A)({},c.internals.positionAbsolute),{},{width:null!==(a=c.measured.width)&&void 0!==a?a:0,height:null!==(s=c.measured.height)&&void 0!==s?s:0})});r.push(d)}if(n.length>0){const{parentLookup:e,nodeOrigin:t}=f(),i=Gb(n,o,e,t);r.push(...i)}i(r)},triggerNodeChanges:e=>{const{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:i}=f();if(null!==e&&void 0!==e&&e.length){if(o){n(cw(e,r))}i&&console.log("React Flow: trigger node changes",e),null===t||void 0===t||t(e)}},triggerEdgeChanges:e=>{const{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:i}=f();if(null!==e&&void 0!==e&&e.length){if(o){n(dw(e,r))}i&&console.log("React Flow: trigger edge changes",e),null===t||void 0===t||t(e)}},addSelectedNodes:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=f();if(t){o(e.map((e=>uw(e,!0))))}else o(pw(r,new Set([...e]),!0)),i(pw(n))},addSelectedEdges:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=f();if(t){i(e.map((e=>uw(e,!0))))}else i(pw(n,new Set([...e]))),o(pw(r,new Set,!0))},unselectNodesAndEdges:function(){let{nodes:e,edges:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:a}=f(),s=t||n,l=(e||r).map((e=>{const t=o.get(e.id);return t&&(t.selected=!1),uw(e.id,!1)})),c=s.map((e=>uw(e.id,!1)));i(l),a(c)},setMinZoom:t=>{const{panZoom:n,maxZoom:r}=f();null===n||void 0===n||n.setScaleExtent([t,r]),e({minZoom:t})},setMaxZoom:t=>{const{panZoom:n,minZoom:r}=f();null===n||void 0===n||n.setScaleExtent([r,t]),e({maxZoom:t})},setTranslateExtent:t=>{var n;null===(n=f().panZoom)||void 0===n||n.setTranslateExtent(t),e({translateExtent:t})},setPaneClickDistance:e=>{var t;null===(t=f().panZoom)||void 0===t||t.setClickDistance(e)},resetSelectedElements:()=>{const{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:o}=f();if(!o)return;const i=t.reduce(((e,t)=>t.selected?[...e,uw(t.id,!1)]:e),[]),a=e.reduce(((e,t)=>t.selected?[...e,uw(t.id,!1)]:e),[]);n(i),r(a)},setNodeExtent:t=>{const{nodes:n,nodeLookup:r,parentLookup:o,nodeOrigin:i,elevateNodesOnSelect:a,nodeExtent:s}=f();t[0][0]===s[0][0]&&t[0][1]===s[0][1]&&t[1][0]===s[1][0]&&t[1][1]===s[1][1]||(Hb(n,r,o,{nodeOrigin:i,nodeExtent:t,elevateNodesOnSelect:a,checkEquality:!1}),e({nodeExtent:t}))},panBy:e=>{const{transform:t,width:n,height:r,panZoom:o,translateExtent:i}=f();return async function(e){let{delta:t,panZoom:n,transform:r,translateExtent:o,width:i,height:a}=e;if(!n||!t.x&&!t.y)return Promise.resolve(!1);const s=await n.setViewportConstrained({x:r[0]+t.x,y:r[1]+t.y,zoom:r[2]},[[0,0],[i,a]],o),l=!!s&&(s.x!==r[0]||s.y!==r[1]||s.k!==r[2]);return Promise.resolve(l)}({delta:e,panZoom:o,transform:t,translateExtent:i,width:n,height:r})},cancelConnection:()=>{e({connection:(0,b.A)({},_x)})},updateConnection:t=>{e({connection:t})},reset:()=>e((0,b.A)({},Yj()))})}),Object.is)};function $j(t){let{initialNodes:n,initialEdges:r,defaultNodes:o,defaultEdges:i,initialWidth:a,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:d,fitView:p,nodeOrigin:f,nodeExtent:h,children:m}=t;const[g]=(0,e.useState)((()=>Xj({nodes:n,edges:r,defaultNodes:o,defaultEdges:i,width:a,height:s,fitView:p,minZoom:l,maxZoom:c,fitViewOptions:d,nodeOrigin:f,nodeExtent:h})));return(0,u.jsx)(Py,{value:g,children:(0,u.jsx)(yw,{children:m})})}function Zj(t){let{children:n,nodes:r,edges:o,defaultNodes:i,defaultEdges:a,width:s,height:l,fitView:c,fitViewOptions:d,minZoom:p,maxZoom:f,nodeOrigin:h,nodeExtent:m}=t;return(0,e.useContext)(_y)?(0,u.jsx)(u.Fragment,{children:n}):(0,u.jsx)($j,{initialNodes:r,initialEdges:o,defaultNodes:i,defaultEdges:a,initialWidth:s,initialHeight:l,fitView:c,initialFitViewOptions:d,initialMinZoom:p,initialMaxZoom:f,nodeOrigin:h,nodeExtent:m,children:n})}const Jj={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var Qj=gw((function(t,n){let{nodes:r,edges:o,defaultNodes:i,defaultEdges:a,className:s,nodeTypes:l,edgeTypes:c,onNodeClick:d,onEdgeClick:p,onInit:f,onMove:h,onMoveStart:m,onMoveEnd:g,onConnect:v,onConnectStart:x,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:j,onNodeMouseEnter:N,onNodeMouseMove:S,onNodeMouseLeave:A,onNodeContextMenu:E,onNodeDoubleClick:k,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:P,onNodesDelete:O,onEdgesDelete:T,onDelete:M,onSelectionChange:I,onSelectionDragStart:R,onSelectionDrag:D,onSelectionDragStop:L,onSelectionContextMenu:F,onSelectionStart:B,onSelectionEnd:z,onBeforeDelete:U,connectionMode:V,connectionLineType:W=Px.Bezier,connectionLineStyle:H,connectionLineComponent:q,connectionLineContainerStyle:K,deleteKeyCode:G="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:X=!1,selectionMode:$=Cx.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:J=(cb()?"Meta":"Control"),zoomActivationKeyCode:Q=(cb()?"Meta":"Control"),snapToGrid:ee,snapGrid:te,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:re,nodesDraggable:oe,nodesConnectable:ie,nodesFocusable:ae,nodeOrigin:se=$y,edgesFocusable:le,edgesReconnectable:ce,elementsSelectable:de=!0,defaultViewport:ue=Zy,minZoom:pe=.5,maxZoom:fe=2,translateExtent:he=Sx,preventScrolling:me=!0,nodeExtent:ge,defaultMarkerColor:ve="#b1b1b7",zoomOnScroll:xe=!0,zoomOnPinch:be=!0,panOnScroll:ye=!1,panOnScrollSpeed:we=.5,panOnScrollMode:je=kx.Free,zoomOnDoubleClick:Ne=!0,panOnDrag:Se=!0,onPaneClick:Ae,onPaneMouseEnter:Ee,onPaneMouseMove:ke,onPaneMouseLeave:Ce,onPaneScroll:_e,onPaneContextMenu:Pe,paneClickDistance:Oe=0,nodeClickDistance:Te=0,children:Me,onReconnect:Ie,onReconnectStart:Re,onReconnectEnd:De,onEdgeContextMenu:Le,onEdgeDoubleClick:Fe,onEdgeMouseEnter:Be,onEdgeMouseMove:ze,onEdgeMouseLeave:Ue,reconnectRadius:Ve=10,onNodesChange:We,onEdgesChange:He,noDragClassName:qe="nodrag",noWheelClassName:Ke="nowheel",noPanClassName:Ge="nopan",fitView:Ye,fitViewOptions:Xe,connectOnClick:$e,attributionPosition:Ze,proOptions:Je,defaultEdgeOptions:Qe,elevateNodesOnSelect:et,elevateEdgesOnSelect:tt,disableKeyboardA11y:nt=!1,autoPanOnConnect:rt,autoPanOnNodeDrag:ot,autoPanSpeed:it,connectionRadius:at,isValidConnection:st,onError:lt,style:ct,id:dt,nodeDragThreshold:ut,viewport:pt,onViewportChange:ft,width:ht,height:mt,colorMode:gt="light",debug:vt,onScroll:xt}=t,bt=(0,lo.A)(t,ky);const yt=dt||"1",wt=function(t){var n;const[r,o]=(0,e.useState)("system"===t?null:t);return(0,e.useEffect)((()=>{if("system"!==t)return void o(t);const e=nw(),n=()=>o(null!==e&&void 0!==e&&e.matches?"dark":"light");return n(),null===e||void 0===e||e.addEventListener("change",n),()=>{null===e||void 0===e||e.removeEventListener("change",n)}}),[t]),null!==r?r:null!==(n=nw())&&void 0!==n&&n.matches?"dark":"light"}(gt),jt=(0,e.useCallback)((e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),null===xt||void 0===xt||xt(e)}),[xt]);return(0,u.jsx)("div",(0,b.A)((0,b.A)({"data-testid":"rf__wrapper"},bt),{},{onScroll:jt,style:(0,b.A)((0,b.A)({},ct),Jj),ref:n,className:al(["react-flow",s,wt]),id:dt,children:(0,u.jsxs)(Zj,{nodes:r,edges:o,width:ht,height:mt,fitView:Ye,fitViewOptions:Xe,minZoom:pe,maxZoom:fe,nodeOrigin:se,nodeExtent:ge,children:[(0,u.jsx)(Gj,{onInit:f,onNodeClick:d,onEdgeClick:p,onNodeMouseEnter:N,onNodeMouseMove:S,onNodeMouseLeave:A,onNodeContextMenu:E,onNodeDoubleClick:k,nodeTypes:l,edgeTypes:c,connectionLineType:W,connectionLineStyle:H,connectionLineComponent:q,connectionLineContainerStyle:K,selectionKeyCode:Y,selectionOnDrag:X,selectionMode:$,deleteKeyCode:G,multiSelectionKeyCode:J,panActivationKeyCode:Z,zoomActivationKeyCode:Q,onlyRenderVisibleElements:ne,defaultViewport:ue,translateExtent:he,minZoom:pe,maxZoom:fe,preventScrolling:me,zoomOnScroll:xe,zoomOnPinch:be,zoomOnDoubleClick:Ne,panOnScroll:ye,panOnScrollSpeed:we,panOnScrollMode:je,panOnDrag:Se,onPaneClick:Ae,onPaneMouseEnter:Ee,onPaneMouseMove:ke,onPaneMouseLeave:Ce,onPaneScroll:_e,onPaneContextMenu:Pe,paneClickDistance:Oe,nodeClickDistance:Te,onSelectionContextMenu:F,onSelectionStart:B,onSelectionEnd:z,onReconnect:Ie,onReconnectStart:Re,onReconnectEnd:De,onEdgeContextMenu:Le,onEdgeDoubleClick:Fe,onEdgeMouseEnter:Be,onEdgeMouseMove:ze,onEdgeMouseLeave:Ue,reconnectRadius:Ve,defaultMarkerColor:ve,noDragClassName:qe,noWheelClassName:Ke,noPanClassName:Ge,rfId:yt,disableKeyboardA11y:nt,nodeExtent:ge,viewport:pt,onViewportChange:ft}),(0,u.jsx)(tw,{nodes:r,edges:o,defaultNodes:i,defaultEdges:a,onConnect:v,onConnectStart:x,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:j,nodesDraggable:oe,nodesConnectable:ie,nodesFocusable:ae,edgesFocusable:le,edgesReconnectable:ce,elementsSelectable:de,elevateNodesOnSelect:et,elevateEdgesOnSelect:tt,minZoom:pe,maxZoom:fe,nodeExtent:ge,onNodesChange:We,onEdgesChange:He,snapToGrid:ee,snapGrid:te,connectionMode:V,translateExtent:he,connectOnClick:$e,defaultEdgeOptions:Qe,fitView:Ye,fitViewOptions:Xe,onNodesDelete:O,onEdgesDelete:T,onDelete:M,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:P,onSelectionDrag:D,onSelectionDragStart:R,onSelectionDragStop:L,onMove:h,onMoveStart:m,onMoveEnd:g,noPanClassName:Ge,nodeOrigin:se,rfId:yt,autoPanOnConnect:rt,autoPanOnNodeDrag:ot,autoPanSpeed:it,onError:lt,connectionRadius:at,isValidConnection:st,selectNodesOnDrag:re,nodeDragThreshold:ut,onBeforeDelete:U,paneClickDistance:Oe,debug:vt}),(0,u.jsx)(Xy,{onSelectionChange:I}),Me,(0,u.jsx)(Wy,{proOptions:Je,position:Ze}),(0,u.jsx)(zy,{rfId:yt,disableKeyboardA11y:nt})]})}))}));const eN=e=>{var t;return null===(t=e.domNode)||void 0===t?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function tN(e){let{children:t}=e;const n=Ty(eN);return n?(0,ko.createPortal)(t,n):null}jx();function nN(e){let{dimensions:t,lineWidth:n,variant:r,className:o}=e;return(0,u.jsx)("path",{strokeWidth:n,d:"M".concat(t[0]/2," 0 V").concat(t[1]," M0 ").concat(t[1]/2," H").concat(t[0]),className:al(["react-flow__background-pattern",r,o])})}function rN(e){let{radius:t,className:n}=e;return(0,u.jsx)("circle",{cx:t,cy:t,r:t,className:al(["react-flow__background-pattern","dots",n])})}var oN;!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(oN||(oN={}));const iN={[oN.Dots]:1,[oN.Lines]:1,[oN.Cross]:6},aN=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function sN(t){let{id:n,variant:r=oN.Dots,gap:o=20,size:i,lineWidth:a=1,offset:s=0,color:l,bgColor:c,style:d,className:p,patternClassName:f}=t;const h=(0,e.useRef)(null),{transform:m,patternId:g}=Ty(aN,gl),v=i||iN[r],x=r===oN.Dots,y=r===oN.Cross,w=Array.isArray(o)?o:[o,o],j=[w[0]*m[2]||1,w[1]*m[2]||1],N=v*m[2],S=Array.isArray(s)?s:[s,s],A=y?[N,N]:j,E=[S[0]*m[2]||1+A[0]/2,S[1]*m[2]||1+A[1]/2],k="".concat(g).concat(n||"");return(0,u.jsxs)("svg",{className:al(["react-flow__background",p]),style:(0,b.A)((0,b.A)((0,b.A)({},d),Aw),{},{"--xy-background-color-props":c,"--xy-background-pattern-color-props":l}),ref:h,"data-testid":"rf__background",children:[(0,u.jsx)("pattern",{id:k,x:m[0]%j[0],y:m[1]%j[1],width:j[0],height:j[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(E[0],",-").concat(E[1],")"),children:x?(0,u.jsx)(rN,{radius:N/2,className:f}):(0,u.jsx)(nN,{dimensions:A,lineWidth:a,variant:r,className:f})}),(0,u.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(k,")")})]})}sN.displayName="Background";const lN=(0,e.memo)(sN);function cN(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,u.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function dN(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,u.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function uN(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,u.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function pN(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,u.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function fN(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,u.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function hN(e){let{children:t,className:n}=e,r=(0,lo.A)(e,Cy);return(0,u.jsx)("button",(0,b.A)((0,b.A)({type:"button",className:al(["react-flow__controls-button",n])},r),{},{children:t}))}const mN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function gN(e){let{style:t,showZoom:n=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:s,onFitView:l,onInteractiveChange:c,className:d,children:p,position:f="bottom-left",orientation:h="vertical","aria-label":m="React Flow controls"}=e;const g=My(),{isInteractive:v,minZoomReached:x,maxZoomReached:b}=Ty(mN,gl),{zoomIn:y,zoomOut:w,fitView:j}=jw(),N="horizontal"===h?"horizontal":"vertical";return(0,u.jsxs)(Vy,{className:al(["react-flow__controls",N,d]),position:f,style:t,"data-testid":"rf__controls","aria-label":m,children:[n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(hN,{onClick:()=>{y(),null===a||void 0===a||a()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b,children:(0,u.jsx)(cN,{})}),(0,u.jsx)(hN,{onClick:()=>{w(),null===s||void 0===s||s()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x,children:(0,u.jsx)(dN,{})})]}),r&&(0,u.jsx)(hN,{className:"react-flow__controls-fitview",onClick:()=>{j(i),null===l||void 0===l||l()},title:"fit view","aria-label":"fit view",children:(0,u.jsx)(uN,{})}),o&&(0,u.jsx)(hN,{className:"react-flow__controls-interactive",onClick:()=>{g.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),null===c||void 0===c||c(!v)},title:"toggle interactivity","aria-label":"toggle interactivity",children:v?(0,u.jsx)(fN,{}):(0,u.jsx)(pN,{})}),p]})}gN.displayName="Controls";const vN=(0,e.memo)(gN);const xN=(0,e.memo)((function(e){let{id:t,x:n,y:r,width:o,height:i,style:a,color:s,strokeColor:l,strokeWidth:c,className:d,borderRadius:p,shapeRendering:f,selected:h,onClick:m}=e;const{background:g,backgroundColor:v}=a||{},x=s||g||v;return(0,u.jsx)("rect",{className:al(["react-flow__minimap-node",{selected:h},d]),x:n,y:r,rx:p,ry:p,width:o,height:i,style:{fill:x,stroke:l,strokeWidth:c},shapeRendering:f,onClick:m?e=>m(e,t):void 0})})),bN=e=>e.nodes.map((e=>e.id)),yN=e=>e instanceof Function?e:()=>e;const wN=(0,e.memo)((function(e){let{id:t,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:o,nodeBorderRadius:i,nodeStrokeWidth:a,shapeRendering:s,NodeComponent:l,onClick:c}=e;const{node:d,x:p,y:f,width:h,height:m}=Ty((e=>{const{internals:n}=e.nodeLookup.get(t),r=n.userNode,{x:o,y:i}=n.positionAbsolute,{width:a,height:s}=ub(r);return{node:r,x:o,y:i,width:a,height:s}}),gl);return d&&!d.hidden&&pb(d)?(0,u.jsx)(l,{x:p,y:f,width:h,height:m,style:d.style,selected:!!d.selected,className:o(d),color:n(d),borderRadius:i,strokeColor:r(d),strokeWidth:a,shapeRendering:s,onClick:c,id:d.id}):null}));var jN=(0,e.memo)((function(e){let{nodeStrokeColor:t,nodeColor:n,nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:a=xN,onClick:s}=e;const l=Ty(bN,gl),c=yN(n),d=yN(t),p=yN(r),f="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,u.jsx)(u.Fragment,{children:l.map((e=>(0,u.jsx)(wN,{id:e,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:p,nodeBorderRadius:o,nodeStrokeWidth:i,NodeComponent:a,onClick:s,shapeRendering:f},e)))})}));const NN=e=>!e.hidden,SN=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Qx(Fx(e.nodeLookup,{filter:NN}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}};function AN(t){var n,r;let{style:o,className:i,nodeStrokeColor:a,nodeColor:s,nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:p,bgColor:f,maskColor:h,maskStrokeColor:m,maskStrokeWidth:g,position:v="bottom-right",onClick:x,onNodeClick:y,pannable:w=!1,zoomable:j=!1,ariaLabel:N="React Flow mini map",inversePan:S,zoomStep:A=10,offsetScale:E=5}=t;const k=My(),C=(0,e.useRef)(null),{boundingRect:_,viewBB:P,rfId:O,panZoom:T,translateExtent:M,flowWidth:I,flowHeight:R}=Ty(SN,gl),D=null!==(n=null===o||void 0===o?void 0:o.width)&&void 0!==n?n:200,L=null!==(r=null===o||void 0===o?void 0:o.height)&&void 0!==r?r:150,F=_.width/D,B=_.height/L,z=Math.max(F,B),U=z*D,V=z*L,W=E*z,H=_.x-(U-_.width)/2-W,q=_.y-(V-_.height)/2-W,K=U+2*W,G=V+2*W,Y="".concat("react-flow__minimap-desc","-").concat(O),X=(0,e.useRef)(0),$=(0,e.useRef)();X.current=z,(0,e.useEffect)((()=>{if(C.current&&T)return $.current=function(e){let{domNode:t,panZoom:n,getTransform:r,getViewScale:o}=e;const i=Dc(t);return{update:function(e){let{translateExtent:t,width:a,height:s,zoomStep:l=10,pannable:c=!0,zoomable:d=!0,inversePan:u=!1}=e,p=[0,0];const f=uu().on("start",(e=>{var t,n;"mousedown"!==e.sourceEvent.type&&"touchstart"!==e.sourceEvent.type||(p=[null!==(t=e.sourceEvent.clientX)&&void 0!==t?t:e.sourceEvent.touches[0].clientX,null!==(n=e.sourceEvent.clientY)&&void 0!==n?n:e.sourceEvent.touches[0].clientY])})).on("zoom",c?e=>{var i,l;const c=r();if("mousemove"!==e.sourceEvent.type&&"touchmove"!==e.sourceEvent.type||!n)return;const d=[null!==(i=e.sourceEvent.clientX)&&void 0!==i?i:e.sourceEvent.touches[0].clientX,null!==(l=e.sourceEvent.clientY)&&void 0!==l?l:e.sourceEvent.touches[0].clientY],f=[d[0]-p[0],d[1]-p[1]];p=d;const h=o()*Math.max(c[2],Math.log(c[2]))*(u?-1:1),m={x:c[0]-f[0]*h,y:c[1]-f[1]*h},g=[[0,0],[a,s]];n.setViewportConstrained({x:m.x,y:m.y,zoom:c[2]},g,t)}:null).on("zoom.wheel",d?e=>{const t=r();if("wheel"!==e.sourceEvent.type||!n)return;const o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*l,i=t[2]*Math.pow(2,o);n.scaleTo(i)}:null);i.call(f,{})},destroy:function(){i.on("zoom",null)},pointer:qc}}({domNode:C.current,panZoom:T,getTransform:()=>k.getState().transform,getViewScale:()=>X.current}),()=>{var e;null===(e=$.current)||void 0===e||e.destroy()}}),[T]),(0,e.useEffect)((()=>{var e;null===(e=$.current)||void 0===e||e.update({translateExtent:M,width:I,height:R,inversePan:S,pannable:w,zoomStep:A,zoomable:j})}),[w,j,S,A,M,I,R]);const Z=x?e=>{var t;const[n,r]=(null===(t=$.current)||void 0===t?void 0:t.pointer(e))||[0,0];x(e,{x:n,y:r})}:void 0,J=y?(0,e.useCallback)(((e,t)=>{const n=k.getState().nodeLookup.get(t).internals.userNode;y(e,n)}),[]):void 0;return(0,u.jsx)(Vy,{position:v,style:(0,b.A)((0,b.A)({},o),{},{"--xy-minimap-background-color-props":"string"===typeof f?f:void 0,"--xy-minimap-mask-background-color-props":"string"===typeof h?h:void 0,"--xy-minimap-mask-stroke-color-props":"string"===typeof m?m:void 0,"--xy-minimap-mask-stroke-width-props":"number"===typeof g?g*z:void 0,"--xy-minimap-node-background-color-props":"string"===typeof s?s:void 0,"--xy-minimap-node-stroke-color-props":"string"===typeof a?a:void 0,"--xy-minimap-node-stroke-width-props":"number"===typeof d?d:void 0}),className:al(["react-flow__minimap",i]),"data-testid":"rf__minimap",children:(0,u.jsxs)("svg",{width:D,height:L,viewBox:"".concat(H," ").concat(q," ").concat(K," ").concat(G),className:"react-flow__minimap-svg",role:"img","aria-labelledby":Y,ref:C,onClick:Z,children:[N&&(0,u.jsx)("title",{id:Y,children:N}),(0,u.jsx)(jN,{onClick:J,nodeColor:s,nodeStrokeColor:a,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:p}),(0,u.jsx)("path",{className:"react-flow__minimap-mask",d:"M".concat(H-W,",").concat(q-W,"h").concat(K+2*W,"v").concat(G+2*W,"h").concat(-K-2*W,"z\n        M").concat(P.x,",").concat(P.y,"h").concat(P.width,"v").concat(P.height,"h").concat(-P.width,"z"),fillRule:"evenodd",pointerEvents:"none"})]})})}AN.displayName="MiniMap";const EN=(0,e.memo)(AN);(0,e.memo)((function(t){let{nodeId:n,position:r,variant:o=fy.Handle,className:i,style:a={},children:s,color:l,minWidth:c=10,minHeight:d=10,maxWidth:p=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:m,shouldResize:g,onResizeStart:v,onResize:x,onResizeEnd:y}=t;const w=Fw(),j="string"===typeof n?n:w,N=My(),S=(0,e.useRef)(null),A=o===fy.Line?"right":"bottom-right",E=null!==r&&void 0!==r?r:A,k=(0,e.useRef)(null);(0,e.useEffect)((()=>{if(S.current&&j)return k.current||(k.current=wy({domNode:S.current,nodeId:j,getStoreItems:()=>{const{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,domNode:i}=N.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,paneDomNode:i}},onChange:(e,t)=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:i}=N.getState(),a=[],s={x:e.x,y:e.y},l=r.get(j);if(l&&l.expandParent&&l.parentId){var c,d,u,p,f,h,g;const t=null!==(c=l.origin)&&void 0!==c?c:i,n=null!==(d=null!==(u=e.width)&&void 0!==u?u:l.measured.width)&&void 0!==d?d:0,m=null!==(p=null!==(f=e.height)&&void 0!==f?f:l.measured.height)&&void 0!==p?p:0,v=Gb([{id:l.id,parentId:l.parentId,rect:(0,b.A)({width:n,height:m},fb({x:null!==(h=e.x)&&void 0!==h?h:l.position.x,y:null!==(g=e.y)&&void 0!==g?g:l.position.y},{width:n,height:m},l.parentId,r,t))}],r,o,i);a.push(...v),s.x=e.x?Math.max(t[0]*n,e.x):void 0,s.y=e.y?Math.max(t[1]*m,e.y):void 0}if(void 0!==s.x&&void 0!==s.y){const e={id:j,type:"position",position:(0,b.A)({},s)};a.push(e)}if(void 0!==e.width&&void 0!==e.height){const t={id:j,type:"dimensions",resizing:!0,setAttributes:!m||("horizontal"===m?"width":"height"),dimensions:{width:e.width,height:e.height}};a.push(t)}for(const m of t){const e=(0,b.A)((0,b.A)({},m),{},{type:"position"});a.push(e)}n(a)},onEnd:e=>{let{width:t,height:n}=e;const r={id:j,type:"dimensions",resizing:!1,dimensions:{width:t,height:n}};N.getState().triggerNodeChanges([r])}})),k.current.update({controlPosition:E,boundaries:{minWidth:c,minHeight:d,maxWidth:p,maxHeight:f},keepAspectRatio:h,resizeDirection:m,onResizeStart:v,onResize:x,onResizeEnd:y,shouldResize:g}),()=>{var e;null===(e=k.current)||void 0===e||e.destroy()}}),[E,c,d,p,f,h,v,x,y,g]);const C=E.split("-"),_=o===fy.Line?"borderColor":"backgroundColor",P=l?(0,b.A)((0,b.A)({},a),{},{[_]:l}):a;return(0,u.jsx)("div",{className:al(["react-flow__resize-control","nodrag",...C,o,i]),ref:S,style:P,children:s})}));const kN=(0,_.A)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),CN=(0,_.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),_N=e=>String(e||"").trim().toLowerCase();function PN(t){let{open:n,onClose:r,onSelect:o,onSelectMany:i}=t;const{businessId:s}=(0,l.h)(),[d,p]=(0,e.useState)([]),[f,h]=(0,e.useState)(!0),[m,g]=(0,e.useState)(!1),[v,x]=(0,e.useState)(""),[y,w]=(0,e.useState)("all"),[j,N]=(0,e.useState)("updated_desc"),[S,A]=(0,e.useState)(1),[E,k]=(0,e.useState)(0),[C,_]=(0,e.useState)([]),[P,O]=(0,e.useState)(!1),T=(0,e.useRef)(0),M=(0,e.useRef)(null),I=(0,e.useRef)(""),R=(0,e.useRef)(!1),D=(0,e.useRef)(null),L=(0,e.useRef)(!1),F=(0,e.useRef)(null),B=(0,e.useMemo)((()=>s||localStorage.getItem("businessId")||localStorage.getItem("sa_selectedBusinessId")||null),[s]),z=!!(U=B)&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(U);var U;const V=(0,e.useMemo)((()=>z?"ctaFlow.templatePicker.selected.".concat(B):null),[B,z]),W=(0,e.useMemo)((()=>{switch(j){case"name_asc":return{sortKey:"name",sortDir:"asc"};case"name_desc":return{sortKey:"name",sortDir:"desc"};case"created_asc":return{sortKey:"createdAt",sortDir:"asc"};case"created_desc":return{sortKey:"createdAt",sortDir:"desc"};default:return{sortKey:"updatedAt",sortDir:"desc"}}}),[j]),H=(0,e.useCallback)((async function(){let{pageToLoad:e=1,append:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!n)return;if(!z)return;const r=++T.current,o=(v||"").trim(),i=(e=>{const t=String(e||"").trim().toLowerCase();return t&&"all"!==t?"pdf"===t?"document":"text"===t?"text":"image"===t?"image":"video"===t?"video":"document"===t?"document":"all":"all"})(y);try{var a;t?g(!0):h(!0);const n=await c.default.get("templates/".concat(B),{params:(0,b.A)({status:"APPROVED",q:o.length?o:void 0,media:"all"===i?void 0:i,page:e,pageSize:100},W)});if(r!==T.current)return;if(null!==n&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.success){const r=(Array.isArray(n.data.templates)?n.data.templates:[]).map((e=>{var t,n,r,o,i,a,s,l,c,d,u,p,f,h,m,g;return{name:null!==(t=null!==(n=e.name)&&void 0!==n?n:e.Name)&&void 0!==t?t:"",languageCode:null!==(r=null!==(o=e.languageCode)&&void 0!==o?o:e.LanguageCode)&&void 0!==r?r:"en_US",category:null!==(i=null!==(a=e.category)&&void 0!==a?a:e.Category)&&void 0!==i?i:"",headerKind:null!==(s=null!==(l=e.headerKind)&&void 0!==l?l:e.HeaderKind)&&void 0!==s?s:"none",bodyPreview:null!==(c=null!==(d=e.bodyPreview)&&void 0!==d?d:e.BodyPreview)&&void 0!==c?c:"",bodyVarCount:null!==(u=null!==(p=e.bodyVarCount)&&void 0!==p?p:e.BodyVarCount)&&void 0!==u?u:0,createdAt:null!==(f=null!==(h=e.createdAt)&&void 0!==h?h:e.CreatedAt)&&void 0!==f?f:null,updatedAt:null!==(m=null!==(g=e.updatedAt)&&void 0!==g?g:e.UpdatedAt)&&void 0!==m?m:null}})).filter((e=>!!e.name));p((e=>t?[...e,...r]:r)),A(n.data.page||e),k(n.data.totalPages||0)}else t||(p([]),A(1),k(0))}catch(oD){if(r!==T.current)return;console.error("Error fetching templates:",oD),t||(p([]),A(1),k(0))}finally{if(r!==T.current)return;t?g(!1):h(!1)}}),[n,z,B,v,y,W]);if((0,e.useEffect)((()=>{const e=n&&!R.current,t=n&&D.current!==B,r=n&&z&&!L.current;if(R.current=n,D.current=B,L.current=z,n){if(e||t||r){if(I.current="",!z)return _([]),p([]),A(1),k(0),h(!1),void a.oR.error("Business context missing. Please re-login/select business.");if(V)try{const e=sessionStorage.getItem(V);if(e){const t=JSON.parse(e);Array.isArray(t)&&t.length?_(t.map((e=>{var t,n;return{name:(null===e||void 0===e?void 0:e.name)||"",languageCode:(null===e||void 0===e?void 0:e.languageCode)||"en_US",category:(null===e||void 0===e?void 0:e.category)||"",headerKind:(null===e||void 0===e?void 0:e.headerKind)||"none",bodyPreview:(null===e||void 0===e?void 0:e.bodyPreview)||"",bodyVarCount:"number"===typeof(null===e||void 0===e?void 0:e.bodyVarCount)?e.bodyVarCount:0,createdAt:null!==(t=null===e||void 0===e?void 0:e.createdAt)&&void 0!==t?t:null,updatedAt:null!==(n=null===e||void 0===e?void 0:e.updatedAt)&&void 0!==n?n:null}})).filter((e=>!!e.name))):_([])}else _([])}catch(o){_([])}else _([]);H({pageToLoad:1,append:!1})}}else I.current=""}),[n,z,B,H,V]),(0,e.useEffect)((()=>{if(!n)return;if(!z)return;const e=(v||"").trim(),t=I.current;if(I.current=e,e)return M.current&&clearTimeout(M.current),M.current=setTimeout((()=>{H({pageToLoad:1,append:!1})}),250),()=>{M.current&&clearTimeout(M.current)};t&&H({pageToLoad:1,append:!1})}),[v,n,z,H]),(0,e.useEffect)((()=>{n&&z&&H({pageToLoad:1,append:!1})}),[y,j,n,z,H]),(0,e.useEffect)((()=>{if(n&&V)try{const e=Array.isArray(C)?C.map((e=>{var t,n;return{name:e.name,languageCode:e.languageCode||"en_US",category:e.category||"",headerKind:e.headerKind||"none",bodyPreview:e.bodyPreview||"",bodyVarCount:"number"===typeof e.bodyVarCount?e.bodyVarCount:0,createdAt:null!==(t=e.createdAt)&&void 0!==t?t:null,updatedAt:null!==(n=e.updatedAt)&&void 0!==n?n:null}})):[];sessionStorage.setItem(V,JSON.stringify(e))}catch(e){}}),[n,C,V]),!n)return null;const q=e=>"".concat(e.name,"::").concat(e.languageCode||"en_US"),K=new Set((C||[]).map((e=>q(e)))),G=e=>{const t=q(e);_((n=>{const r=Array.isArray(n)?n:[];return r.some((e=>q(e)===t))?r.filter((e=>q(e)!==t)):[...r,e]}))},Y=async(e,t,n)=>{const r=new Array(e.length);let o=0;const i=Array.from({length:Math.min(t,e.length)},(()=>async function(){for(;;){const t=o++;if(t>=e.length)break;r[t]=await n(e[t],t)}}()));return await Promise.all(i),r};return(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:(0,u.jsxs)("div",{className:"bg-white w-full max-w-3xl rounded-xl shadow-lg p-6 max-h-[90vh] flex flex-col",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-1",children:[(0,u.jsx)("h2",{className:"text-xl font-semibold text-emerald-700",children:"Select WhatsApp Templates"}),C.length?(0,u.jsxs)("div",{className:"text-xs font-semibold text-emerald-700 bg-emerald-50 border border-emerald-200 rounded-full px-3 py-1",children:[C.length," selected"]}):null]}),(0,u.jsx)("p",{className:"mb-4 text-xs text-slate-500",children:"Search, filter, and select multiple templates to add them as steps."}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 mb-4",children:[(0,u.jsxs)("div",{className:"md:col-span-3",children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Media"}),(0,u.jsx)("select",{value:y,onChange:e=>w(e.target.value),className:"w-full h-11 rounded-lg border border-slate-300 px-3 text-sm focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none",children:[{value:"all",label:"All Media"},{value:"text",label:"Text"},{value:"image",label:"Image"},{value:"video",label:"Video"},{value:"document",label:"Document (PDF)"}].map((e=>(0,u.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,u.jsxs)("div",{className:"md:col-span-3",children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Sort"}),(0,u.jsx)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full h-11 rounded-lg border border-slate-300 px-3 text-sm focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none",children:[{value:"updated_desc",label:"Recently updated"},{value:"created_desc",label:"Newest"},{value:"created_asc",label:"Oldest"},{value:"name_asc",label:"A\u2013Z"},{value:"name_desc",label:"Z\u2013A"}].map((e=>(0,u.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,u.jsxs)("div",{className:"md:col-span-6",children:[(0,u.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Search"}),(0,u.jsx)("input",{value:v,onChange:e=>x(e.target.value),placeholder:"Search approved templates...",className:"w-full h-11 rounded-lg border border-slate-300 px-3 text-sm focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none"})]})]}),f?(0,u.jsx)("p",{children:"Loading templates..."}):0===d.length?(0,u.jsx)("p",{className:"text-gray-500",children:"No templates available"}):(0,u.jsx)("div",{ref:F,onScroll:e=>{const t=e.currentTarget;t.scrollTop+t.clientHeight>=t.scrollHeight-40&&(async()=>{f||m||P||!E||S>=E||await H({pageToLoad:S+1,append:!0})})()},className:"flex-1 min-h-0 overflow-y-auto rounded-lg border border-slate-200 bg-white",children:(0,u.jsx)("div",{className:"divide-y divide-slate-100",children:d.map((e=>{const t=_N(e.headerKind),n="location"===t,r=K.has(q(e)),o=(e=>{if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"2-digit",year:"numeric"}).format(t)}catch(n){return t.toISOString().slice(0,10)}})(e.createdAt);return(0,u.jsxs)("button",{className:"w-full text-left px-4 py-3 flex gap-3 transition-colors ".concat(n?"opacity-60 cursor-not-allowed":r?"bg-emerald-50 hover:bg-emerald-100 cursor-pointer":"hover:bg-slate-50 cursor-pointer"),type:"button",onClick:()=>{n||G(e)},children:[(0,u.jsx)("div",{className:"pt-0.5",children:(0,u.jsx)("input",{type:"checkbox",checked:r,onChange:()=>{n||G(e)},onClick:e=>e.stopPropagation(),disabled:n,className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-200"})}),(0,u.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900 truncate",children:e.name}),n?(0,u.jsx)("span",{className:"text-[11px] text-amber-700 whitespace-nowrap",children:"Unsupported"}):null]}),(0,u.jsxs)("div",{className:"text-[11px] leading-tight text-slate-500 mt-0.5 truncate",children:[String(e.languageCode||"en_US").toUpperCase(),e.category?" \u2022 ".concat(String(e.category).toUpperCase()):"",t&&"none"!==t?" \u2022 ".concat(t.toUpperCase()):"","number"===typeof e.bodyVarCount?" \u2022 ".concat(e.bodyVarCount," vars"):"",o?" \u2022 Created ".concat(o):""]}),e.bodyPreview?(0,u.jsx)("div",{className:"mt-1 text-sm text-slate-700 line-clamp-2 whitespace-pre-wrap",children:e.bodyPreview}):null]})]},q(e))}))})}),(0,u.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-3",children:[(0,u.jsx)("div",{className:"text-xs text-slate-500",children:"Supported in CTA flows: Text, Image, Video, and Document templates."}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{type:"button",onClick:r,className:"h-10 px-4 rounded-lg border border-slate-200 bg-white text-sm text-slate-700 hover:bg-slate-50",children:"Cancel"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(!z)return;const e=Array.isArray(C)?C:[];if(!e.length)return;const t=e.filter((e=>"location"===_N(e.headerKind))),n=e.filter((e=>!t.includes(e)));if(n.length){t.length&&a.oR.warn("Skipping ".concat(t.length," unsupported template(s) (location).")),O(!0);try{const e=(await Y(n,4,(async e=>{var t,n,r,o,i,a;const s=(e=>{const t=_N(e);return"image"===t?"image_template":"video"===t?"video_template":"document"===t?"document_template":"text_template"})(_N(e.headerKind)),l=(e.languageCode||"").trim(),d=l?"?language=".concat(encodeURIComponent(l)):"",u=await c.default.get("templates/".concat(B,"/").concat(encodeURIComponent(e.name)).concat(d)),p=(null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.template)||(null===u||void 0===u?void 0:u.data)||null,f=null!==(n=null!==(r=null===p||void 0===p?void 0:p.buttons)&&void 0!==r?r:null===p||void 0===p?void 0:p.Buttons)&&void 0!==n?n:[],h=Array.isArray(f)?f:[];return{name:e.name,type:s,body:null!==(o=null!==(i=null!==(a=null===p||void 0===p?void 0:p.Body)&&void 0!==a?a:null===p||void 0===p?void 0:p.body)&&void 0!==i?i:e.bodyPreview)&&void 0!==o?o:"",buttons:h}}))).filter(Boolean);if("function"===typeof i?i(e):"function"===typeof o&&e.forEach((e=>o(e))),V)try{sessionStorage.removeItem(V)}catch(s){}null===r||void 0===r||r()}catch(oD){console.error("Failed adding selected templates:",oD),a.oR.error("Failed to add selected templates.")}finally{O(!1)}}else a.oR.warn("Selected templates are not supported in CTA flows yet.")},disabled:P||0===C.length,className:"h-10 px-4 rounded-lg bg-emerald-600 text-white text-sm font-semibold hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",title:0===C.length?"Select one or more templates":"Add selected templates as steps",children:P?"Adding\u2026":"Add Selected (".concat(C.length||0,")")})]})]})]})})}function ON(t){let{id:n,data:r={},onDelete:o=()=>{},readonly:i=!1,onDataChange:a=()=>{},visualDebug:s=!1}=t;const{templateName:l="Untitled Step",templateType:c="text_template",headerMediaUrl:d="",messageBody:p="",bodyParams:f=[],urlButtonParams:h=[],buttons:m=[],requiredTag:g="",requiredSource:v="",isUnreachable:x=!1,useProfileName:b=!1,profileNameSlot:y=1}=r,w="text_template"===(c||"").toLowerCase(),j=(0,e.useMemo)((()=>(e=>{if(!e)return 0;const t=String(e),n=t.match(/\{\{\s*\d+\s*\}\}/g)||[],r=t.match(/\{\{\s*\}\}/g)||[];return n.length+r.length})(p)),[p]),N=w&&j>0,S=(e=>{const t=String(e||"").trim().toLowerCase();return"image_template"===t||"video_template"===t||"document_template"===t})(c),A=(0,e.useMemo)((()=>(e=>{const t=String(e||"").trim().toLowerCase();return"image_template"===t?"Image":"video_template"===t?"Video":"document_template"===t?"Document":"Media"})(c)),[c]),E=!S||(e=>{const t=String(e||"").trim();if(!t)return!1;try{return"https:"===new URL(t).protocol}catch(n){return!1}})(d),k=(0,e.useMemo)((()=>(Array.isArray(m)?m:[]).filter((e=>{const t=String((null===e||void 0===e?void 0:e.type)||"").trim().toUpperCase(),n=String((null===e||void 0===e?void 0:e.subType)||"").trim().toLowerCase(),r="URL"===t||"url"===n,o=String((null===e||void 0===e?void 0:e.value)||"").trim().includes("{{");return r&&o})).map((e=>({text:((null===e||void 0===e?void 0:e.text)||"").toString(),index:"number"===typeof(null===e||void 0===e?void 0:e.index)?e.index:0}))).filter((e=>e.index>=0&&e.index<=2)).sort(((e,t)=>e.index-t.index))),[m]);return(0,e.useEffect)((()=>{if(m.length>0){var e;const t=(null===(e=m[0])||void 0===e?void 0:e.text)||"";a({triggerButtonText:t,triggerButtonType:"cta"})}}),[m]),(0,e.useEffect)((()=>{if(N){if(b){const e=Math.max(1,Math.min(null!==y&&void 0!==y?y:1,j));e!==(null!==y&&void 0!==y?y:1)&&a({profileNameSlot:e})}}else(b||null!=y)&&a({useProfileName:!1,profileNameSlot:void 0})}),[N,j]),(0,e.useEffect)((()=>{const e=Array.isArray(f)?f:[];if(e.length===j)return;const t=Array.from({length:j},((t,n)=>{var r;return(null!==(r=e[n])&&void 0!==r?r:"").toString()}));a({bodyParams:t})}),[j]),(0,e.useEffect)((()=>{const e=Array.isArray(h)?h:[];if(3===e.length)return;const t=Array.from({length:3},((t,n)=>{var r;return(null!==(r=e[n])&&void 0!==r?r:"").toString()}));a({urlButtonParams:t})}),[h]),(0,u.jsxs)("div",{className:"bg-white shadow-md rounded-xl border border-emerald-200 w-72 p-4 relative",children:[!i&&(0,u.jsx)("button",{onClick:()=>o(n),className:"absolute top-1.5 right-1.5 text-red-500 hover:text-red-700",title:"Delete this step","aria-label":"Delete step",children:(0,u.jsx)(Pe.A,{size:16})}),x&&(0,u.jsx)("div",{className:"text-xs text-red-600 bg-red-100 px-2 py-0.5 rounded-full font-semibold mb-2 inline-block",title:"This step has no incoming trigger. It may never run.",children:"\u26a0\ufe0f Unreachable Step"}),(0,u.jsx)("div",{className:"mb-2",children:(0,u.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[(0,u.jsx)($,{size:16,className:"text-emerald-600 shrink-0"}),(0,u.jsx)("div",{className:"min-w-0 truncate text-sm font-medium text-gray-900",children:l})]})}),(0,u.jsxs)("div",{className:"text-sm text-gray-700 whitespace-pre-wrap mb-3 overflow-y-auto",style:{maxHeight:180,overscrollBehavior:"contain"},children:["\ud83d\udcac ",p||"Message body preview..."]}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[!!g&&(0,u.jsxs)("span",{className:"bg-yellow-100 text-yellow-800 text-[10px] px-2 py-0.5 rounded-full font-semibold",children:["\ud83c\udfaf Tag: ",g]}),!!v&&(0,u.jsxs)("span",{className:"bg-emerald-100 text-emerald-800 text-[10px] px-2 py-0.5 rounded-full font-semibold",children:["\ud83d\udd17 Source: ",v]}),b&&N&&(0,u.jsxs)("span",{className:"bg-green-100 text-green-800 text-[10px] px-2 py-0.5 rounded-full font-semibold",children:["\ud83d\udc64 Profile \u2192 ","{{".concat(y,"}}")]}),S&&!E&&(0,u.jsxs)("span",{className:"bg-red-100 text-red-800 text-[10px] px-2 py-0.5 rounded-full font-semibold",children:["\u26a0\ufe0f ",A," URL required"]})]}),S&&(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:[A," URL (https)"]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("input",{type:"url",inputMode:"url",placeholder:"https://...",className:"nodrag w-full border rounded px-2 py-1 text-sm outline-none focus:ring-2 ".concat(E?"border-slate-300 focus:border-emerald-500 focus:ring-emerald-100":"border-red-400 focus:border-red-500 focus:ring-red-100"),disabled:i,value:d,onChange:e=>a({headerMediaUrl:e.target.value})}),d&&(0,u.jsx)("a",{className:"nodrag text-xs px-2 py-1 rounded border border-slate-200 bg-white hover:bg-slate-50 text-slate-700 whitespace-nowrap",href:d,target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),title:"Open ".concat(A.toLowerCase()," URL"),children:"Open"})]}),(0,u.jsxs)("div",{className:"mt-1 text-[11px] leading-tight text-slate-500",children:[A," templates require an HTTPS URL. Use a publicly accessible link."]})]}),j>0&&(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-700",children:"Body variables"}),(0,u.jsxs)("span",{className:"text-[11px] text-slate-500",children:[j," var",1===j?"":"s"]})]}),(0,u.jsx)("div",{className:"space-y-2",children:Array.from({length:j},((e,t)=>{const n=t+1,r=!!b&&(null!==y&&void 0!==y?y:1)===n,o=Array.isArray(f)?f[t]:"";return(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-10 text-[11px] text-slate-500 shrink-0",children:"{{".concat(n,"}}")}),(0,u.jsx)("input",{className:"nodrag w-full border rounded px-2 py-1 text-sm outline-none focus:ring-2 ".concat(r?"border-slate-200 bg-slate-50 text-slate-600":"border-slate-300 focus:border-emerald-500 focus:ring-emerald-100"),disabled:i||r,value:r?"WhatsApp Profile Name":o||"",placeholder:r?"":"Enter value",onChange:e=>{const n=Array.isArray(f)?[...f]:Array.from({length:j},(()=>""));n[t]=e.target.value,a({bodyParams:n})}})]},n)}))}),(0,u.jsx)("div",{className:"mt-1 text-[11px] leading-tight text-slate-500",children:"Fill values for the template body placeholders. The Profile Name toggle can auto-fill one slot."})]}),k.length>0&&(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-700",children:"URL button values"}),(0,u.jsxs)("span",{className:"text-[11px] text-slate-500",children:[k.length," dynamic"]})]}),(0,u.jsx)("div",{className:"space-y-2",children:k.map((e=>{var t;const n=e.index,r=Array.isArray(h)&&h[n]||"",o=String(r||"").trim().length>0,s=(null===(t=e.text)||void 0===t?void 0:t.trim())||"Button ".concat(n+1);return(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-16 text-[11px] text-slate-500 shrink-0",children:"Btn ".concat(n+1)}),(0,u.jsx)("input",{className:"nodrag w-full border rounded px-2 py-1 text-sm outline-none focus:ring-2 ".concat(o?"border-slate-300 focus:border-emerald-500 focus:ring-emerald-100":"border-red-400 focus:border-red-500 focus:ring-red-100"),disabled:i,value:r,placeholder:s,onChange:e=>{const t=Array.isArray(h)?[...h]:["","",""];t[n]=e.target.value,a({urlButtonParams:t})}})]},"".concat(n,"-").concat(s))}))}),(0,u.jsxs)("div",{className:"mt-1 text-[11px] leading-tight text-slate-500",children:["Required only for templates with dynamic URL buttons (URL contains ","{{1}}","). Provide the placeholder value."]})]}),N&&(0,u.jsxs)("div",{className:"mt-3 border-t pt-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("label",{className:"text-xs font-medium",children:"Use WhatsApp Profile Name"}),(0,u.jsx)("input",{type:"checkbox",className:"nodrag",disabled:i,checked:!!b,onChange:e=>{if(e.target.checked){const e=Math.max(1,Math.min(null!==y&&void 0!==y?y:1,j));a({useProfileName:!0,profileNameSlot:e})}else a({useProfileName:!1,profileNameSlot:void 0})}})]}),b&&(0,u.jsxs)("div",{className:"mt-2",children:[(0,u.jsxs)("label",{className:"text-xs block mb-1",children:["Slot (","{{n}}",")"]}),(0,u.jsx)("select",{className:"nodrag w-full border rounded px-2 py-1 text-sm",disabled:i,value:null!==y&&void 0!==y?y:1,onChange:e=>{const t=parseInt(e.target.value,10)||1;a({profileNameSlot:Math.max(1,Math.min(t,j))})},children:Array.from({length:Math.max(j,1)},((e,t)=>t+1)).map((e=>(0,u.jsx)("option",{value:e,children:"{{".concat(e,"}}")},e)))})]})]}),(0,u.jsx)("div",{className:"flex flex-col gap-2",children:m.map(((e,t)=>{const n=(e.text||"").trim()||"Button ".concat(t+1),r="btn-".concat(t);return(0,u.jsxs)("button",{type:"button",className:"nodrag relative w-full rounded-lg bg-emerald-600 px-3 py-2 text-xs font-semibold text-white shadow-sm ring-1 ring-emerald-700/30 transition-colors hover:bg-emerald-700 active:bg-emerald-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500/40",title:n,onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("span",{className:"block pr-6 text-center select-none truncate",children:n}),(0,u.jsx)(zw,{type:"source",position:Tx.Right,id:r,title:"Drag to connect: ".concat(n),"aria-label":"Connect from ".concat(n),style:{background:"#059669",right:"-10px",top:"50%",transform:"translateY(-50%)",width:16,height:16,border:"2px solid #fff",borderRadius:9999,boxShadow:"0 0 0 2px rgba(5,150,105,0.25)",cursor:"default"}}),(0,u.jsx)("div",{style:{position:"absolute",right:-18,top:"50%",transform:"translateY(-50%)",width:36,height:28,background:"transparent",pointerEvents:"none"}})]},"".concat(n,"-").concat(t))}))}),0===m.length&&(0,u.jsx)(zw,{type:"source",position:Tx.Bottom,id:"default",title:"Drag to connect",style:{background:"#10b981",width:16,height:16,border:"2px solid #fff",borderRadius:9999,boxShadow:"0 0 0 2px rgba(16,185,129,0.25)"}}),(0,u.jsx)(zw,{type:"target",position:Tx.Top,id:"incoming",title:"Drop a connection here",style:{background:"#10b981",width:16,height:16,border:"2px solid #fff",borderRadius:9999,boxShadow:"0 0 0 2px rgba(16,185,129,0.25)"}})]})}const TN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=parseInt(e,10);return Number.isFinite(n)&&n>0?n:t};function MN(e){const t=(e.Nodes||[]).map((e=>{var t,n,r,o;return{Id:e.Id||"",TemplateName:e.TemplateName||"",TemplateType:e.TemplateType||"text_template",HeaderMediaUrl:e.HeaderMediaUrl||"",BodyParams:Array.isArray(e.BodyParams)?e.BodyParams:[],UrlButtonParams:Array.isArray(e.UrlButtonParams)?e.UrlButtonParams:[],MessageBody:e.MessageBody||"",PositionX:null!==(t=e.PositionX)&&void 0!==t?t:0,PositionY:null!==(n=e.PositionY)&&void 0!==n?n:0,TriggerButtonText:e.TriggerButtonText||"",TriggerButtonType:e.TriggerButtonType||"cta",UseProfileName:(o=e.UseProfileName,!0===o||"true"===o||1===o),ProfileNameSlot:TN(null!==(r=e.ProfileNameSlot)&&void 0!==r?r:1,1),Buttons:(e.Buttons||[]).map(((e,t)=>({Text:e.Text||"",Type:e.Type||"",SubType:e.SubType||"",Value:e.Value||"",Index:Number.isFinite(e.Index)?e.Index:t,TargetNodeId:e.TargetNodeId||null})))}})),n=(e.Edges||[]).map((e=>({FromNodeId:e.FromNodeId||"",ToNodeId:e.ToNodeId||"",SourceHandle:e.SourceHandle||""})));return{FlowName:e.FlowName||"Untitled",IsPublished:!!e.IsPublished,Nodes:t,Edges:n}}async function IN(e){return(await c.default.post("/cta-flow/save-visual",MN(e))).data}async function RN(e,t){if(!e)throw new Error("flowId is required");return(await c.default.put("/cta-flow/".concat(e),MN(t))).data}async function DN(e){if(!e)throw new Error("flowId is required");return(await c.default.post("/cta-flow/".concat(e,"/publish"))).data}var LN,FN=new Uint8Array(16);function BN(){if(!LN&&!(LN="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return LN(FN)}const zN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const UN=function(e){return"string"===typeof e&&zN.test(e)};for(var VN=[],WN=0;WN<256;++WN)VN.push((WN+256).toString(16).substr(1));const HN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(VN[e[t+0]]+VN[e[t+1]]+VN[e[t+2]]+VN[e[t+3]]+"-"+VN[e[t+4]]+VN[e[t+5]]+"-"+VN[e[t+6]]+VN[e[t+7]]+"-"+VN[e[t+8]]+VN[e[t+9]]+"-"+VN[e[t+10]]+VN[e[t+11]]+VN[e[t+12]]+VN[e[t+13]]+VN[e[t+14]]+VN[e[t+15]]).toLowerCase();if(!UN(n))throw TypeError("Stringified UUID is invalid");return n};const qN=function(e,t,n){var r=(e=e||{}).random||(e.rng||BN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return HN(r)};var KN=n(63577),GN=n.n(KN);function YN(e){var t;const{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,style:c,markerEnd:d={type:Ox.ArrowClosed,color:"#059669"},label:p,selected:f,data:h}=e,[m,g,v]=Rb({sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l}),x=Math.abs(i-r),y=String(p||"").length>12,w=null!==(t=null===h||void 0===h?void 0:h.labelVertical)&&void 0!==t?t:y&&x<220;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(sj,{id:n,path:m,markerEnd:d,style:(0,b.A)({stroke:"#059669",strokeWidth:f?2:1.5},c)}),p&&(0,u.jsx)(tN,{children:(0,u.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(g,"px, ").concat(v,"px)"),pointerEvents:"all"},children:(0,u.jsx)("div",{title:p,style:{writingMode:w?"vertical-rl":"horizontal-tb",textOrientation:w?"mixed":"upright",background:"#fff",padding:"4px 6px",borderRadius:6,border:"1px solid #e5e7eb",fontSize:10,color:"#374151",lineHeight:1.1,maxHeight:w?140:"none",maxWidth:w?18:180,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:w?"normal":"nowrap",boxShadow:"0 1px 2px rgba(0,0,0,0.06)"},children:p})})})]})}const XN=e=>String(e||"").trim().toLowerCase(),$N=(e,t)=>"".concat("btn-").concat(t),ZN=(e,t)=>{const n=Array.isArray(e)?e:[],r=String(t||""),o=n.find(((e,t)=>$N(0,t)===r));return((null===o||void 0===o?void 0:o.text)||"").toString().trim()},JN=260,QN=140;function eS(){const[t,n,r]=function(t){const[n,r]=(0,e.useState)(t),o=(0,e.useCallback)((e=>r((t=>cw(e,t)))),[]);return[n,r,o]}([]),[s,l,d]=function(t){const[n,r]=(0,e.useState)(t),o=(0,e.useCallback)((e=>r((t=>dw(e,t)))),[]);return[n,r,o]}([]),p=(0,e.useRef)([]),f=(0,e.useRef)([]),[h,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(""),x=(0,e.useRef)(null),[y,w]=(0,e.useState)(!1),[j,N]=(0,e.useState)(!1),[S,A]=(0,e.useState)(!1),[E,k]=(0,e.useState)(!1),[C,_]=(0,e.useState)(!1),[P,O]=(0,e.useState)({locked:!1,campaigns:[]}),[T,M]=(0,e.useState)(!1),[I,D]=(0,e.useState)(!1),[L,F]=(0,e.useState)(!1),[B,z]=(0,e.useState)(!1),[U]=(0,o.ok)(),V=(0,i.Zp)(),{fitView:W,zoomIn:H,zoomOut:q}=jw(),K=U.get("mode"),G=U.get("id"),Y=!0,X=(0,e.useMemo)((()=>localStorage.getItem("businessId")||localStorage.getItem("sa_selectedBusinessId")||""),[]),$=(0,e.useMemo)((()=>{const e=X?"biz.".concat(X):"biz.unknown",t=G?"flow.".concat(G):"new";return"ctaFlow.visualBuilder.draft.".concat(e,".").concat(t)}),[X,G]),Z=(0,e.useRef)(!1),J=(0,e.useRef)(null),Q="published"===(U.get("from")||"draft").toLowerCase()?"published":"draft",ee=(0,e.useCallback)((()=>{if(!j&&B){if(!window.confirm("You have unsaved changes. Leave this page?"))return}V("/app/cta-flow/flow-manager?tab=".concat(Q))}),[j,B,Q,V]);(0,e.useEffect)((()=>{p.current=[...t]}),[t]),(0,e.useEffect)((()=>{f.current=[...s]}),[s]),(0,e.useEffect)((()=>{if(!Z.current&&(Z.current=!0,!G&&!(t.length||s.length||(g||"").trim().length)))try{const e=sessionStorage.getItem($);if(!e)return;const t=JSON.parse(e);if(!t||1!==t.v)return;const r=Array.isArray(t.nodes)?t.nodes:[],o=Array.isArray(t.edges)?t.edges:[],i="string"===typeof t.flowName?t.flowName:"";if(!r.length&&!o.length&&!i.trim().length)return;n(r),l(o),v(i),z(!0)}catch(e){}}),[$]);const te=(0,e.useCallback)((function(){let{immediate:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t={v:1,flowId:G||null,mode:K||null,flowName:g||"",nodes:p.current||[],edges:f.current||[],savedAt:(new Date).toISOString()};if(!e)return J.current&&clearTimeout(J.current),void(J.current=setTimeout((()=>{try{sessionStorage.setItem($,JSON.stringify(t))}catch(e){}}),250));sessionStorage.setItem($,JSON.stringify(t))}catch(t){}}),[$,G,K,g]);(0,e.useEffect)((()=>(te(),()=>{J.current&&clearTimeout(J.current)})),[te,t,s]),(0,e.useEffect)((()=>{const e=()=>{"hidden"===document.visibilityState&&te({immediate:!0})};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[te]),(0,e.useEffect)((()=>{const e=e=>{B&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[B]);const ne=(0,e.useCallback)((e=>{j||(z(!0),n((t=>t.filter((t=>t.id!==e)))),l((t=>t.filter((t=>t.source!==e&&t.target!==e)))))}),[j,n,l]),re=(0,e.useCallback)(((e,t)=>{z(!0),n((n=>n.map((n=>n.id===e?(0,b.A)((0,b.A)({},n),{},{data:(0,b.A)((0,b.A)({},n.data),t)}):n))))}),[n]),oe=(0,e.useMemo)((()=>({customBubble:e=>(0,u.jsx)(ON,(0,b.A)((0,b.A)({},e),{},{onDelete:ne,onDataChange:t=>re(e.id,t),readonly:j,visualDebug:Y}))})),[ne,j,Y,re]),ie=(0,e.useMemo)((()=>({smart:YN})),[]);(0,e.useEffect)((()=>{(async()=>{if(F(!0),"edit"===K||"view"===K)try{const r=await async function(e){if(!e)throw new Error("flowId is required");return(await c.default.get("/cta-flow/by-id/".concat(e))).data}(G),o=(r.nodes||[]).map(((e,t)=>{var n,r;return{id:e.id,type:"customBubble",position:{x:null!==(n=e.positionX)&&void 0!==n?n:120+120*t,y:null!==(r=e.positionY)&&void 0!==r?r:150+t%5*60},data:{templateName:e.templateName,templateType:e.templateType,headerMediaUrl:e.headerMediaUrl||"",messageBody:e.messageBody,bodyParams:Array.isArray(e.bodyParams)?e.bodyParams:[],urlButtonParams:Array.isArray(e.urlButtonParams)?e.urlButtonParams:[],triggerButtonText:e.triggerButtonText||"",triggerButtonType:e.triggerButtonType||"cta",requiredTag:e.requiredTag||"",requiredSource:e.requiredSource||"",useProfileName:!!e.useProfileName,profileNameSlot:"number"===typeof e.profileNameSlot&&e.profileNameSlot>0?e.profileNameSlot:1,buttons:(e.buttons||[]).map(((e,t)=>({text:e.text,type:e.type,subType:e.subType,value:e.value,targetNodeId:e.targetNodeId||null,index:"number"===typeof e.index?e.index:t})))}}})),i=new Map(o.map((e=>[e.id,e]))),a=(r.edges||[]).map((e=>{var t;const n=String(e.sourceHandle||""),r=i.get(e.fromNodeId),o=(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.buttons)||[],a=o.findIndex((e=>XN(null===e||void 0===e?void 0:e.text)===XN(n))),s=a>=0?$N(o[a],a):null;return{id:"e-".concat(e.fromNodeId,"-").concat(e.toNodeId,"-").concat(n||"h"),source:e.fromNodeId,target:e.toNodeId,sourceHandle:s,type:"smart",animated:!0,style:{stroke:"#059669"},markerEnd:{type:Ox.ArrowClosed,color:"#059669"},label:n}})),s=new Set(a.map((e=>e.target))),d=o.map((e=>(0,b.A)((0,b.A)({},e),{},{data:(0,b.A)((0,b.A)({},e.data),{},{isUnreachable:!1,hasNoIncoming:!s.has(e.id)})})));if(n(d),l(a),v(r.flowName||"Untitled Flow"),A(!!r.isPublished),z(!1),"edit"===K&&r.isPublished)try{var e;const t=await async function(e){if(!e)throw new Error("flowId is required");const{data:t}=await c.default.get("/cta-flow/".concat(e,"/usage"));return t}(G);(null===t||void 0===t||null===(e=t.campaigns)||void 0===e?void 0:e.length)>0?(O({locked:!0,campaigns:t.campaigns}),M(!0),N(!0)):N(!1)}catch(t){O({locked:!0,campaigns:[]}),M(!0),N(!0)}else N("view"===K);setTimeout((()=>W({padding:.25})),80)}catch(r){a.oR.error("\u274c Failed to load flow")}finally{F(!1)}else n([]),l([]),v("Untitled Flow"),A(!1),N(!1),z(!1),F(!1),setTimeout((()=>W({padding:.25})),80)})()}),[G,K]),(0,e.useEffect)((()=>{if("view"!==K)return;const e=setTimeout((()=>W({padding:.25})),80),t=()=>W({padding:.25});return window.addEventListener("resize",t),()=>{clearTimeout(e),window.removeEventListener("resize",t)}}),[K,t.length,s.length,W]);const ae=(0,e.useCallback)((e=>{if(null===e||void 0===e||!e.source||null===e||void 0===e||!e.sourceHandle)return!1;const t=s.some((t=>t.source===e.source&&t.sourceHandle===e.sourceHandle));return!t}),[s]),se=(0,e.useCallback)((e=>{var t;if(j)return;z(!0);const r=p.current.find((t=>t.id===e.source)),o=ZN(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.buttons,e.sourceHandle)||"";l((t=>Pb((0,b.A)((0,b.A)({},e),{},{id:qN(),type:"smart",animated:!0,style:{stroke:"#059669"},markerEnd:{type:Ox.ArrowClosed,color:"#059669"},label:o}),t))),n((t=>t.map((t=>{if(t.id!==e.source)return t;const n=[...t.data.buttons||[]],r=n.findIndex(((t,n)=>$N(0,n)===String(e.sourceHandle||"")));return r>=0&&(n[r]=(0,b.A)((0,b.A)({},n[r]),{},{targetNodeId:e.target})),(0,b.A)((0,b.A)({},t),{},{data:(0,b.A)((0,b.A)({},t.data),{},{buttons:n})})}))))}),[j,l,n]);(0,e.useEffect)((()=>{const e=e=>{j||("Delete"!==e.key&&"Backspace"!==e.key||(z(!0),n((e=>e.filter((e=>!e.selected)))),l((e=>e.filter((e=>!e.selected))))),"Escape"===e.key&&(n((e=>e.map((e=>(0,b.A)((0,b.A)({},e),{},{selected:!1}))))),l((e=>e.map((e=>(0,b.A)((0,b.A)({},e),{},{selected:!1})))))))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[j,n,l]);const le=(0,e.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LR";const r=new(GN().graphlib.Graph);r.setGraph({rankdir:e,nodesep:50,ranksep:90,marginx:20,marginy:20}),r.setDefaultEdgeLabel((()=>({}))),t.forEach((e=>{var t,n;const o=(null===e||void 0===e||null===(t=e.measured)||void 0===t?void 0:t.width)||JN,i=(null===e||void 0===e||null===(n=e.measured)||void 0===n?void 0:n.height)||QN;r.setNode(e.id,{width:o,height:i})})),s.forEach((e=>r.setEdge(e.source,e.target))),GN().layout(r);const o=t.map((e=>{var t,n;const{x:o,y:i}=r.node(e.id),a=(null===e||void 0===e||null===(t=e.measured)||void 0===t?void 0:t.width)||JN,s=(null===e||void 0===e||null===(n=e.measured)||void 0===n?void 0:n.height)||QN;return(0,b.A)((0,b.A)({},e),{},{position:{x:o-a/2,y:i-s/2}})}));z(!0),n(o),setTimeout((()=>W({padding:.25})),50)}),[t,s,n,W]),ce=()=>{const e=t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateName})).map((e=>{var t,n;return{Id:e.id,TemplateName:e.data.templateName||"Untitled",TemplateType:e.data.templateType||"text_template",HeaderMediaUrl:(e.data.headerMediaUrl||"").trim(),BodyParams:Array.isArray(e.data.bodyParams)?e.data.bodyParams:[],UrlButtonParams:Array.isArray(e.data.urlButtonParams)?e.data.urlButtonParams:[],MessageBody:e.data.messageBody||"",PositionX:(null===(t=e.position)||void 0===t?void 0:t.x)||0,PositionY:(null===(n=e.position)||void 0===n?void 0:n.y)||0,TriggerButtonText:e.data.triggerButtonText||"",TriggerButtonType:e.data.triggerButtonType||"cta",RequiredTag:e.data.requiredTag||"",RequiredSource:e.data.requiredSource||"",UseProfileName:!!e.data.useProfileName,ProfileNameSlot:"number"===typeof e.data.profileNameSlot&&e.data.profileNameSlot>0?e.data.profileNameSlot:1,Buttons:(e.data.buttons||[]).filter((e=>(e.text||"").trim().length>0)).map(((e,t)=>({Text:(e.text||"").trim(),Type:e.type||"QUICK_REPLY",SubType:e.subType||"",Value:e.value||"",TargetNodeId:e.targetNodeId||null,Index:"number"===typeof e.index?e.index:t})))}})),n=new Map(t.map((e=>[e.id,e]))),r=s.map((e=>{var t;const r=n.get(e.source),o=ZN(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.buttons,e.sourceHandle);return{FromNodeId:e.source,ToNodeId:e.target,SourceHandle:String(e.label||o||"")}}));return{FlowName:g||"Untitled",IsPublished:!1,Nodes:e,Edges:r}},de=e=>(Array.isArray(e)?e:[]).filter((e=>{var t;return!(null===e||void 0===e||null===(t=e.data)||void 0===t||!t.templateName)})).filter((e=>{var t;return(e=>{const t=String(e||"").trim().toLowerCase();return"image_template"===t||"video_template"===t||"document_template"===t})(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateType)})).map((e=>{var t;const n=((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.headerMediaUrl)||"").trim();return n?(e=>{const t=String(e||"").trim();if(!t)return!1;try{return"https:"===new URL(t).protocol}catch(n){return!1}})(n)?null:{nodeId:e.id,templateName:e.data.templateName,reason:"Header media URL must be a valid https:// URL"}:{nodeId:e.id,templateName:e.data.templateName,reason:"Missing header media URL"}})).filter(Boolean),ue=e=>{if(!e)return 0;const t=String(e),n=t.match(/\{\{\s*\d+\s*\}\}/g)||[],r=t.match(/\{\{\s*\}\}/g)||[];return n.length+r.length},pe=e=>{const t=Array.isArray(e)?e:[],n=[];for(const l of t){var r,o,i,a,s;if(null===l||void 0===l||null===(r=l.data)||void 0===r||!r.templateName)continue;const e=ue(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.messageBody);if(e<=0)continue;const t=Array.isArray(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.bodyParams)?l.data.bodyParams:[],c=!(null===l||void 0===l||null===(a=l.data)||void 0===a||!a.useProfileName),d="number"===typeof(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.profileNameSlot)?l.data.profileNameSlot:1;for(let r=1;r<=e;r++){if(c&&d===r)continue;if(!(t[r-1]||"").toString().trim().length){n.push({nodeId:l.id,templateName:l.data.templateName,index:r,reason:"Missing body value for {{".concat(r,"}}")});break}}}return n},fe=e=>{const t=String((null===e||void 0===e?void 0:e.type)||"").trim().toUpperCase(),n=String((null===e||void 0===e?void 0:e.subType)||"").trim().toLowerCase(),r="URL"===t||"url"===n,o=String((null===e||void 0===e?void 0:e.value)||"").trim().includes("{{");return r&&o},he=e=>{const t=Array.isArray(e)?e:[],n=[];for(const a of t){var r,o,i;if(null===a||void 0===a||null===(r=a.data)||void 0===r||!r.templateName)continue;const e=Array.isArray(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.urlButtonParams)?a.data.urlButtonParams:[],t=(Array.isArray(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.buttons)?a.data.buttons:[]).filter(fe);if(t.length)for(const r of t){const t="number"===typeof r.index?r.index:0;if(!(e[t]||"").toString().trim().length){n.push({nodeId:a.id,templateName:a.data.templateName,buttonIndex:t+1,buttonText:r.text||"",reason:"Missing dynamic URL param for button ".concat(t+1)});break}}}return n},me=async()=>{try{const e=de(p.current);if(e.length)return void a.oR.error("Cannot publish: ".concat(e[0].templateName," (").concat(e[0].reason,"). Set the Header Media URL on that step."));const t=pe(p.current);if(t.length)return void a.oR.error("Cannot publish: ".concat(t[0].templateName," (").concat(t[0].reason,"). Fill body variables on that step."));const n=he(p.current);if(n.length)return void a.oR.error("Cannot publish: ".concat(n[0].templateName," (").concat(n[0].reason,"). Fill the dynamic URL button value on that step."));if(D(!0),"edit"===K&&G){const e=ce();await RN(G,e),await DN(G),_(!1),A(!0),z(!1);try{sessionStorage.removeItem($)}catch(i){}return a.oR.success("\u2705 Flow published"),void V("/app/cta-flow/flow-manager?tab=published")}const r=(0,b.A)((0,b.A)({},ce()),{},{IsPublished:!1}),o=await IN(r),l=null===o||void 0===o?void 0:o.flowId;if(l){await DN(l);try{sessionStorage.removeItem($)}catch(s){}return a.oR.success("\u2705 Flow created & published"),void V("/app/cta-flow/flow-manager?tab=published")}a.oR.success("\u2705 Flow created (but publish step uncertain)"),V("/app/cta-flow/flow-manager?tab=published")}catch(l){var e;if(console.error("\u274c Publish failed: ",l),409===(null===l||void 0===l||null===(e=l.response)||void 0===e?void 0:e.status)){var t,n;const e=(null===l||void 0===l||null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.campaigns)||[];O({locked:!0,campaigns:e}),M(!0),N(!0)}else{var r,o;const e=(null===l||void 0===l||null===(r=l.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||(null===l||void 0===l?void 0:l.message)||"\u274c Failed to publish";a.oR.error(e)}}finally{D(!1)}},ge=(0,e.useMemo)((()=>({type:"smart",animated:!0,style:{stroke:"#059669"},markerEnd:{type:Ox.ArrowClosed,color:"#059669"}})),[]);return(0,u.jsxs)("div",{className:"p-6 relative bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(L||I)&&(0,u.jsx)("div",{className:"absolute inset-0 z-[60] bg-white/70 backdrop-blur-[1px] grid place-items-center",children:(0,u.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-white rounded-xl shadow border",children:[(0,u.jsxs)("svg",{className:"animate-spin h-5 w-5 text-emerald-600",viewBox:"0 0 24 24",children:[(0,u.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,u.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),(0,u.jsx)("span",{className:"text-sm text-gray-700",children:L?"Loading...":"Working..."})]})}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,u.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 tracking-tight flex items-center gap-2",children:[(0,u.jsx)(kN,{className:"text-emerald-600",size:24}),"CTA Flow Visual Builder"]}),j?(0,u.jsx)("span",{className:"truncate max-w-[40ch] px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 text-sm font-medium",children:g||"Untitled Flow"}):(0,u.jsx)("input",{id:"flowName",name:"flowName",ref:x,value:g,onChange:e=>{v(e.target.value),z(!0)},placeholder:"Add flow name",className:"truncate max-w-[40ch] border border-gray-300 px-3 py-1.5 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50"})]}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsxs)("button",{onClick:ee,className:"px-3 py-2 rounded-md text-sm border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",title:"Back to ".concat("published"===Q?"Published":"Drafts"),disabled:I,children:["\u2190 Back to ","published"===Q?"Published":"Drafts"]}),(0,u.jsx)("button",{onClick:()=>V("/app/cta-flow/flow-manager?tab=".concat(Q)),className:"px-3 py-2 rounded-md text-sm border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",title:"Manage all flows",disabled:I,children:"\u25a4 Manage Flows"}),!j&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:()=>m(!0),className:"px-3 py-2 rounded-md text-sm bg-emerald-600 text-white shadow hover:bg-emerald-700",disabled:I,children:"\u2795 Add Step"}),(0,u.jsx)("button",{onClick:async()=>{try{D(!0);const e=de(p.current);e.length&&a.oR.warn("Some steps need a valid https Header Media URL before publish. First: ".concat(e[0].templateName," (").concat(e[0].reason,")"));const t=pe(p.current);t.length&&a.oR.warn("Some steps need body variable values before publish. First: ".concat(t[0].templateName," (").concat(t[0].reason,")"));const n=he(p.current);n.length&&a.oR.warn("Some steps need dynamic URL button values before publish. First: ".concat(n[0].templateName," (").concat(n[0].reason,")"));const i=ce();if("edit"===K&&G){const e=await RN(G,i);null!==e&&void 0!==e&&e.needsRepublish&&_(!0),a.oR.success("\u2705 Flow updated (draft)")}else{const e=await IN(i);if(null!==e&&void 0!==e&&e.flowId){try{sessionStorage.removeItem($)}catch(r){}return void V("/app/cta-flow/flow-manager?tab=draft")}a.oR.success("\u2705 Flow saved (draft)")}z(!1);try{sessionStorage.removeItem($)}catch(o){}V("/app/cta-flow/flow-manager?tab=draft")}catch(i){var e;if(console.error("\u274c Save draft failed: ",i),409===(null===i||void 0===i||null===(e=i.response)||void 0===e?void 0:e.status)){var t,n;const e=(null===i||void 0===i||null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.campaigns)||[];O({locked:!0,campaigns:e}),M(!0),N(!0)}else a.oR.error("\u274c Failed to save draft")}finally{D(!1)}},className:"px-3 py-2 rounded-md text-sm bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50",disabled:I,children:"\ud83d\udcbe Save Draft"}),(0,u.jsxs)("button",{onClick:me,className:"px-3 py-2 rounded-md text-sm bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",disabled:I,children:["\ud83d\ude80 ",S?"Republish":"Publish"]})]})]})]}),!j&&"edit"===K&&C&&(0,u.jsxs)("div",{className:"mb-3 rounded-md border bg-amber-50 text-amber-800 px-3 py-2 text-sm flex items-center justify-between",children:[(0,u.jsxs)("div",{children:["Changes saved as ",(0,u.jsx)("span",{className:"font-semibold",children:"draft"}),". Click"," ",(0,u.jsx)("span",{className:"font-semibold",children:"Republish"})," to make them live."]}),(0,u.jsx)("button",{onClick:me,className:"px-3 py-1 rounded bg-amber-600 text-white hover:bg-amber-700 text-xs",disabled:I,children:"Republish"})]}),(0,u.jsxs)("div",{className:"h-[70vh] border rounded-xl bg-gray-50 relative",children:[(0,u.jsxs)("div",{className:"absolute bottom-5 right-4 z-50 flex gap-2",children:[(0,u.jsx)("button",{onClick:()=>w((e=>!e)),className:"bg-emerald-600 text-white p-2 rounded-full shadow hover:bg-emerald-700",title:y?"Hide MiniMap":"Show MiniMap",children:y?(0,u.jsx)(CN,{size:15}):(0,u.jsx)(R.A,{size:15})}),(0,u.jsxs)("div",{className:"flex items-center gap-2 bg-white/90 px-2 py-1 rounded-full border",children:[(0,u.jsx)("button",{onClick:()=>W({padding:.25}),className:"text-xs px-2 py-1 rounded hover:bg-gray-100 font-medium",title:"Fit to screen",children:"Fit"}),(0,u.jsx)("button",{onClick:()=>H(),className:"text-xs px-2 py-1 rounded hover:bg-gray-100",title:"Zoom In",children:"+"}),(0,u.jsx)("button",{onClick:()=>q(),className:"text-xs px-2 py-1 rounded hover:bg-gray-100",title:"Zoom Out",children:"\u2212"}),!j&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:()=>le("LR"),className:"text-xs px-2 py-1 rounded hover:bg-gray-100",title:"Auto-layout (Left\u2192Right)",children:"Auto TB"}),(0,u.jsx)("button",{onClick:()=>le("TB"),className:"text-xs px-2 py-1 rounded hover:bg-gray-100",title:"Auto-layout (Top\u2192Bottom)",children:"Auto LR"})]})]})]}),(0,u.jsxs)(Qj,{className:"cta-flow-reactflow".concat(E?" cta-connecting":""),nodes:t,edges:s,onNodesChange:r,onEdgesChange:d,onConnect:se,onConnectStart:()=>k(!0),onConnectEnd:()=>k(!1),onEdgeClick:(e,t)=>{j||(z(!0),l((e=>e.filter((e=>e.id!==t.id)))))},nodeTypes:oe,edgeTypes:ie,fitView:!0,fitViewOptions:{padding:.25},defaultEdgeOptions:ge,connectionMode:Ex.Strict,isValidConnection:ae,snapToGrid:!0,snapGrid:[16,16],connectOnClick:!1,connectionRadius:12,nodeDragThreshold:4,zoomOnScroll:!0,zoomOnPinch:!0,panOnDrag:[0,1],nodesDraggable:!j,nodesConnectable:!j,elementsSelectable:!j,children:[y&&(0,u.jsx)(EN,{nodeColor:"#9333ea",nodeStrokeWidth:2,maskColor:"rgba(255,255,255,0.6)"}),(0,u.jsx)(vN,{}),(0,u.jsx)(lN,{variant:"dots",gap:16,size:1})]})]}),T&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>M(!1)}),(0,u.jsxs)("div",{role:"dialog","aria-modal":"true",className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-xl p-6",children:[(0,u.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,u.jsx)("div",{className:"shrink-0 mt-0.5 h-8 w-8 rounded-full bg-rose-50 text-rose-600 grid place-items-center",children:"\u26a0\ufe0f"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Editing is blocked for this flow"}),(0,u.jsxs)("p",{className:"text-sm text-gray-600",children:["This flow is ",(0,u.jsx)("span",{className:"font-medium",children:"published"})," ","and attached to active campaign(s). To make changes, create a"," ",(0,u.jsx)("span",{className:"font-medium",children:"new draft version"}),"."]})]})]}),(0,u.jsxs)("div",{className:"max-h-60 overflow-auto rounded-lg border divide-y mb-4",children:[P.campaigns.map((e=>(0,u.jsxs)("div",{className:"p-3 text-sm",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,u.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-medium bg-gray-100 text-gray-700",children:e.status||"\u2014"})]}),(0,u.jsxs)("div",{className:"mt-1 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600",children:[(0,u.jsxs)("div",{children:["Created:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:e.createdAt?new Date(e.createdAt).toLocaleString("en-IN"):"\u2014"})]}),(0,u.jsxs)("div",{children:["Created by:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:e.createdBy||"\u2014"})]}),(0,u.jsxs)("div",{children:["Scheduled:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:e.scheduledAt?new Date(e.scheduledAt).toLocaleString("en-IN"):"\u2014"})]}),(0,u.jsxs)("div",{children:["First sent:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:e.firstSentAt?new Date(e.firstSentAt).toLocaleString("en-IN"):"\u2014"})]})]})]},e.id))),0===P.campaigns.length&&(0,u.jsx)("div",{className:"p-3 text-sm text-gray-600",children:"Could not load campaign details. You can still create a new draft version."})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,u.jsx)("button",{className:"px-3 py-2 text-sm rounded border hover:bg-gray-50",onClick:()=>M(!1),children:"Close"}),(0,u.jsx)("button",{onClick:async()=>{try{if(!G)return;const{flowId:e}=await async function(e){if(!e)throw new Error("flowId is required");return(await c.default.post("/cta-flow/".concat(e,"/fork"))).data}(G);M(!1),a.oR.success("\u2705 New draft version created"),V("/app/cta-flow/visual-builder?id=".concat(e,"&mode=edit"))}catch(Jg){console.error(Jg),a.oR.error("\u274c Failed to create draft copy")}},className:"px-3 py-2 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700",children:"Create new draft version"})]})]})]}),(0,u.jsx)(PN,{open:h,onClose:()=>m(!1),onSelect:e=>{var t;let{name:r,type:o,body:i,buttons:s=[]}=e;if(j)return;const l={id:qN(),position:{x:400*Math.random()+100,y:300*Math.random()+100},type:"customBubble",data:{templateName:r||"Untitled",templateType:o||"text_template",headerMediaUrl:"",messageBody:i||"Message body preview...",bodyParams:[],urlButtonParams:["","",""],triggerButtonText:(null===(t=s[0])||void 0===t?void 0:t.text)||"",triggerButtonType:"cta",useProfileName:!1,profileNameSlot:1,buttons:s.map(((e,t)=>({text:e.text||"",type:e.type||"QUICK_REPLY",subType:e.subType||"",value:e.parameterValue||"",targetNodeId:null,index:"number"===typeof e.index?e.index:t})))}};z(!0),n((e=>[...e,l])),m(!1),a.oR.success("\u2705 Step added with ".concat((null===o||void 0===o?void 0:o.replace("_"," "))||"template")),setTimeout((()=>W({padding:.25})),50)},onSelectMany:e=>{if(j)return;const t=Array.isArray(e)?e.filter(Boolean):[];if(0===t.length)return;const r=e=>16*Math.round(e/16),o=Array.isArray(p.current)?p.current:[],i=o.map((e=>{var t,n;return null!==(t=null===e||void 0===e||null===(n=e.position)||void 0===n?void 0:n.x)&&void 0!==t?t:0})),s=o.map((e=>{var t,n;return null!==(t=null===e||void 0===e||null===(n=e.position)||void 0===n?void 0:n.y)&&void 0!==t?t:0})),l=i.length?Math.max(...i):0,c=s.length?Math.min(...s):0,d=r((o.length?l:120)+JN+80),u=r(o.length?c:120),f=Math.min(2,t.length),h=r(JN+80),g=r(QN+80),v=t.map(((e,t)=>{var n;const r=t%f,o=Math.floor(t/f),i=qN(),a=Array.isArray(e.buttons)?e.buttons:[];return{id:i,position:{x:d+r*h,y:u+o*g},type:"customBubble",data:{templateName:e.name||"Untitled",templateType:e.type||"text_template",headerMediaUrl:"",messageBody:e.body||"Message body preview...",bodyParams:[],urlButtonParams:["","",""],triggerButtonText:(null===(n=a[0])||void 0===n?void 0:n.text)||"",triggerButtonType:"cta",useProfileName:!1,profileNameSlot:1,buttons:a.map(((e,t)=>({text:e.text||"",type:e.type||"QUICK_REPLY",subType:e.subType||"",value:e.parameterValue||"",targetNodeId:null,index:"number"===typeof e.index?e.index:t})))}}}));z(!0),n((e=>[...e,...v])),m(!1),a.oR.success("Added ".concat(v.length," step(s)")),setTimeout((()=>W({padding:.25})),80)}})]})}function tS(){return(0,u.jsx)($j,{children:(0,u.jsx)(eS,{})})}function nS(){const[t,n]=(0,e.useState)([]),[r,s]=(0,e.useState)(!0),[l,d]=(0,e.useState)(!1),[p,f]=(0,e.useState)("confirm"),[h,m]=(0,e.useState)([]),[g,v]=(0,e.useState)(null),[x,b]=(0,e.useState)(""),[y,w]=(0,e.useState)("updated"),j=(0,e.useRef)(null),N=(0,i.Zp)(),[S,A]=(0,o.ok)(),E="draft"===S.get("tab")?"draft":"published",[k,C]=(0,e.useState)(E),_=e=>e?new Date(e).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"\u2014",P=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"published";s(!0);try{const t="published"===e?"/cta-flow/all-published":"/cta-flow/all-draft",r=await c.default.get(t);n(Array.isArray(r.data)?r.data:[r.data])}catch(oD){n([]),a.oR.error("\u274c Failed to load flows."),console.error(oD)}finally{s(!1)}};(0,e.useEffect)((()=>{const e="draft"===S.get("tab")?"draft":"published";C(e),P(e)}),[S]);const O=(0,e.useMemo)((()=>{const e=x.trim().toLowerCase();let n=t;switch(e&&(n=n.filter((t=>[t.flowName,t.createdBy].filter(Boolean).some((t=>String(t).toLowerCase().includes(e)))))),y){case"name":return[...n].sort(((e,t)=>e.flowName.localeCompare(t.flowName)));case"created":return[...n].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));default:return[...n].sort(((e,t)=>new Date(t.updatedAt||t.createdAt)-new Date(e.updatedAt||e.createdAt)))}}),[t,x,y]);return(0,u.jsxs)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)] relative",children:[(0,u.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"absolute inset-0 z-40 bg-white/60 backdrop-blur-[1px] flex items-center justify-center",children:(0,u.jsxs)("div",{className:"flex items-center gap-3 text-gray-700",children:[(0,u.jsxs)("svg",{className:"xafb-spin h-6 w-6 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:[(0,u.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",opacity:"0.25"}),(0,u.jsx)("path",{d:"M4 12a8 8 0 018-8",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",opacity:"0.85"})]}),(0,u.jsx)("span",{className:"text-sm",children:"Loading\u2026"})]})}),(0,u.jsx)("style",{children:"@keyframes xafb-spin{to{transform:rotate(360deg)}}.xafb-spin{animation:xafb-spin 1s linear infinite}"})]}),(0,u.jsx)("div",{className:"mb-8",children:(0,u.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[(0,u.jsx)("div",{className:"flex items-center gap-4",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"w-12 h-12 border border-gray-300 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,u.jsx)("span",{className:"text-gray-600 text-xl",children:"\ud83e\udde9"})}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",style:{fontFamily:"Plus Jakarta Sans, sans-serif"},children:[(0,u.jsx)("span",{className:"text-blue-600",children:"\ud83e\udde9"}),"CTA Flow Manager"]}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Create, publish, and manage your visual flows."})]})]})}),(0,u.jsx)("div",{className:"flex items-center gap-3",children:(0,u.jsxs)("button",{onClick:()=>N("/app/cta-flow/visual-builder"),className:"border-2 border-emerald-600 text-emerald-600 hover:bg-emerald-600 hover:text-white px-4 py-2 rounded-lg shadow-sm hover:shadow-lg transition-all duration-200 disabled:opacity-50 flex items-center gap-1.5 text-sm",disabled:r,children:[(0,u.jsx)("span",{className:"text-sm text-gray-600",children:"\u2795"}),"New Flow"]})})]})}),(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/70 rounded-lg border border-gray-200 p-4 mb-6 shadow-sm",children:(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[(0,u.jsx)("div",{className:"flex gap-2",children:[{key:"published",label:"Published Flows",icon:"\u2705"},{key:"draft",label:"Draft Flows",icon:"\ud83d\udcdd"}].map((e=>(0,u.jsxs)("button",{className:"px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ".concat(k===e.key?"bg-emerald-600 text-white shadow-lg":"border border-gray-300 text-gray-600 hover:border-emerald-600 hover:text-emerald-600 hover:bg-emerald-50"),onClick:()=>{r||A({tab:e.key})},disabled:r,children:[(0,u.jsx)("span",{children:e.icon}),e.label]},e.key)))}),(0,u.jsx)("div",{className:"flex-1"}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("input",{type:"text",className:"w-64 max-w-full rounded-lg border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-sm pl-10 pr-4 py-2.5",placeholder:"Search by name or creator\u2026",value:x,onChange:e=>b(e.target.value)}),(0,u.jsx)("div",{className:"absolute inset-y-0 left-3 grid place-items-center pointer-events-none text-gray-400",children:"\ud83d\udd0e"})]}),(0,u.jsxs)("select",{className:"rounded-lg border-gray-300 text-sm focus:ring-blue-500 focus:border-blue-500 px-4 py-2.5",value:y,onChange:e=>w(e.target.value),children:[(0,u.jsx)("option",{value:"updated",children:"Sort: Last updated"}),(0,u.jsx)("option",{value:"name",children:"Sort: Name (A\u2013Z)"}),(0,u.jsx)("option",{value:"created",children:"Sort: Created (newest)"})]})]})]})}),0===O.length?(0,u.jsxs)("div",{className:"text-center py-16",children:[(0,u.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,u.jsx)("span",{className:"text-2xl text-gray-400",children:"\ud83e\udde9"})}),(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:x?"No flows match your search":"published"===k?"No published flows yet":"No draft flows yet"}),(0,u.jsx)("p",{className:"text-gray-500 mb-6",children:x?"Try adjusting your search terms":"published"===k?"Publish a draft to see it here":"Create a new flow to get started"}),!x&&(0,u.jsxs)("button",{onClick:()=>N("/app/cta-flow/visual-builder"),className:"border-2 border-emerald-600 text-emerald-600 hover:bg-emerald-600 hover:text-white px-6 py-3 rounded-lg shadow-sm hover:shadow-lg transition-all duration-200 flex items-center gap-2 mx-auto",children:[(0,u.jsx)("span",{className:"text-lg",children:"\u2795"}),"Create Your First Flow"]})]}):(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map((e=>{return(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-200 overflow-hidden",children:(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.flowName}),(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:["Created ",_(e.createdAt)]})]}),(0,u.jsx)("div",{className:"ml-3",children:(t=e.isPublished,t?(0,u.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700",children:[(0,u.jsx)("span",{children:"\u25cf"})," Published"]}):(0,u.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:[(0,u.jsx)("span",{children:"\u25cf"})," Draft"]}))})]}),(0,u.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-gray-400",children:"\ud83d\udcc5"}),(0,u.jsxs)("span",{children:["Last modified:"," ",_(e.updatedAt||e.createdAt)]})]})}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{onClick:()=>(e=>{r||N("/app/cta-flow/visual-builder?id=".concat(e.id,"&mode=view"))})(e),className:"flex-1 border-2 border-gray-300 bg-white hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 disabled:opacity-50",disabled:r,children:"\ud83d\udc41\ufe0f View"}),!e.isPublished&&(0,u.jsx)("button",{onClick:()=>(async e=>{if(!r)try{s(!0),await c.default.post("/cta-flow/".concat(e.id,"/publish")),a.oR.success("\u2705 Flow published."),A({tab:"published"})}catch(oD){var t;const r=null===oD||void 0===oD||null===(t=oD.response)||void 0===t?void 0:t.status;var n,o;409===r?a.oR.error((null===oD||void 0===oD||null===(n=oD.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||"\u274c Cannot publish right now."):404===r?a.oR.error("\u274c Flow not found."):a.oR.error("\u274c Failed to publish flow."),console.error(oD)}finally{s(!1)}})(e),className:"flex-1 border-2 border-transparent bg-gradient-to-r from-emerald-200 to-emerald-300 hover:from-emerald-300 hover:to-emerald-400 text-emerald-700 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 disabled:opacity-50",disabled:r,title:"Publish this draft",children:"\ud83d\ude80 Publish"}),(0,u.jsx)("button",{onClick:()=>(async e=>{if(!r){v(e),s(!0);try{const{data:t}=await c.default.get("/cta-flow/".concat(e.id,"/usage"));null!==t&&void 0!==t&&t.canDelete?(f("confirm"),m([])):(f("attached"),m(Array.isArray(null===t||void 0===t?void 0:t.campaigns)?t.campaigns:[])),d(!0),setTimeout((()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.focus()}),0)}catch(oD){a.oR.error("\u274c Could not check usage for this flow."),console.error(oD)}finally{s(!1)}}})(e),className:"border-2 border-transparent bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-400 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 disabled:opacity-50",disabled:r,children:"\ud83d\uddd1\ufe0f"})]})]})},e.id);var t}))})]}),l&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>d(!1)}),(0,u.jsx)("div",{role:"dialog","aria-modal":"true",className:"relative bg-white rounded-lg shadow-2xl w-full max-w-xl p-8",children:"attached"===p?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,u.jsx)("div",{className:"shrink-0 mt-1 h-10 w-10 rounded-full bg-rose-100 text-rose-600 grid place-items-center",children:"\u26a0\ufe0f"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cannot delete this flow"}),(0,u.jsxs)("p",{className:"text-gray-600",children:[(0,u.jsx)("span",{className:"font-semibold text-gray-900",children:null===g||void 0===g?void 0:g.flowName})," ","is attached to the following campaign",h.length>1?"s":"",". Delete those first."]})]})]}),(0,u.jsxs)("div",{className:"max-h-72 overflow-auto rounded-lg border divide-y",children:[h.map((e=>(0,u.jsxs)("div",{className:"p-3 text-sm",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,u.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-medium bg-gray-100 text-gray-700",children:e.status||"\u2014"})]}),(0,u.jsxs)("div",{className:"mt-1 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600",children:[(0,u.jsxs)("div",{children:["Created:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:_(e.createdAt)})]}),(0,u.jsxs)("div",{children:["Created by:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:e.createdBy||"\u2014"})]}),(0,u.jsxs)("div",{children:["Scheduled:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:_(e.scheduledAt)})]}),(0,u.jsxs)("div",{children:["First sent:"," ",(0,u.jsx)("span",{className:"font-medium text-gray-800",children:_(e.firstSentAt)})]})]})]},e.id))),0===h.length&&(0,u.jsx)("div",{className:"p-3 text-sm text-gray-600",children:"Could not load campaigns."})]}),(0,u.jsx)("div",{className:"mt-6 flex justify-end",children:(0,u.jsx)("button",{ref:j,className:"px-6 py-3 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",onClick:()=>d(!1),children:"Close"})})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,u.jsx)("div",{className:"shrink-0 mt-1 h-10 w-10 rounded-full bg-rose-100 text-rose-600 grid place-items-center",children:"\ud83d\uddd1\ufe0f"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delete this flow permanently?"}),(0,u.jsxs)("p",{className:"text-gray-600",children:["This will remove"," ",(0,u.jsx)("span",{className:"font-semibold text-gray-900",children:null===g||void 0===g?void 0:g.flowName})," ","and all of its steps and button links. This action cannot be undone."]})]})]}),(0,u.jsxs)("div",{className:"rounded-lg border border-rose-200 p-4 bg-rose-50 text-rose-700 text-sm mb-6",children:[(0,u.jsx)("span",{className:"font-semibold",children:"Warning:"})," Permanent deletion cannot be recovered."]}),(0,u.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,u.jsx)("button",{className:"px-6 py-3 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",onClick:()=>d(!1),children:"Cancel"}),(0,u.jsx)("button",{onClick:async()=>{if(g){s(!0);try{const e=await c.default.delete("/cta-flow/".concat(g.id));204===e.status||200===e.status?(a.oR.success("\u2705 Flow deleted permanently."),d(!1),v(null),await P(k)):a.oR.info("\u2139\ufe0f Unexpected response while deleting the flow.")}catch(oD){var e;const i=null===oD||void 0===oD||null===(e=oD.response)||void 0===e?void 0:e.status;if(409===i){var t,n,r;const e=null!==(t=null===(n=oD.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.campaigns)&&void 0!==t?t:[];f("attached"),m(e)}else 404===i?(a.oR.error("\u274c Flow not found."),d(!1)):(a.oR.error("\u274c Failed to delete flow."),d(!1));console.error(oD)}finally{s(!1)}}},className:"px-6 py-3 text-sm font-medium rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition-colors",children:"Permanently delete"})]})]})})]})]})}var rS=n(17347),oS=n(9671);async function iS(e){if(!e)throw new Error("getUserPermissionOverrides: userId is required");return(await c.default.get("/admin/users/".concat(encodeURIComponent(e),"/permissions"))).data}async function aS(e,t){if(!e)throw new Error("upsertUserPermissionOverride: userId is required");if(null===t||void 0===t||!t.permissionId)throw new Error("upsertUserPermissionOverride: payload.permissionId is required");return(await c.default.post("/admin/users/".concat(encodeURIComponent(e),"/permissions"),{permissionId:t.permissionId,isGranted:t.isGranted})).data}async function sS(e,t){if(!e)throw new Error("deleteUserPermissionOverride: userId is required");if(!t)throw new Error("deleteUserPermissionOverride: permissionId is required");return(await c.default.delete("/admin/users/".concat(encodeURIComponent(e),"/permissions/").concat(encodeURIComponent(t)))).data}function lS(){const[t]=(0,o.ok)(),n=(0,l.h)(),r=null===n||void 0===n?void 0:n.isLoading,i=t.get("userId"),s=t.get("planId"),c=(null===n||void 0===n?void 0:n.user)||(null===n||void 0===n?void 0:n.session)||n||{},d=c.userId||c.id||c.sub||null,p=c.planId||c.plan_id||(null===n||void 0===n?void 0:n.planId)||null,f=i||d,h=s||p||null,[m,g]=(0,e.useState)(!1),[v,x]=(0,e.useState)([]),[b,y]=(0,e.useState)([]),[w,j]=(0,e.useState)([]),N={displayName:c.fullName||c.name||c.email||"Current User",email:c.email||"unknown@example.com",planName:c.planName||c.plan_name||(h?"Current Plan":"Not linked yet")},S=(0,e.useMemo)((()=>{const e={};for(const n of v||[]){var t;const r=n.permissionId||n.permissionID||(null===(t=n.permission)||void 0===t?void 0:t.id);r&&(e[r]=n)}return e}),[v]),A=(0,e.useMemo)((()=>{const e={};for(const t of w||[])t.permissionId&&(e[t.permissionId]=t);return e}),[w]);async function E(e,t){if(f)try{if("inherit"===t)await sS(f,e),j((t=>t.filter((t=>t.permissionId!==e)))),a.oR.success("Override cleared. Using plan default.");else{const n="allow"===t,r=await aS(f,{permissionId:e,isGranted:n});j((t=>{const n=t.findIndex((t=>t.permissionId===e));if(n>=0){const e=[...t];return e[n]=r,e}return[...t,r]})),a.oR.success(n?"Permission explicitly allowed for this user.":"Permission explicitly denied for this user.")}}catch(oD){console.error("Failed to update override:",oD),a.oR.error("Failed to update user permission override.")}else a.oR.warn("Cannot update overrides: missing userId.")}return(0,e.useEffect)((()=>{if(r)return;if(!f)return void console.warn("UserPermissionOverrides: no userId resolved from auth or query string.");(async()=>{g(!0);try{const e=[(0,oS.$j)(),iS(f)];h&&e.push((0,rS.jD)(h));const[t,n,r]=await Promise.all(e);let o=[];if(Array.isArray(t)?o=t:Array.isArray(null===t||void 0===t?void 0:t.groups)?o=t.groups:Array.isArray(null===t||void 0===t?void 0:t.data)&&(o=t.data),y(o||[]),j(n||[]),r){const e=Array.isArray(r)?r:Array.isArray(null===r||void 0===r?void 0:r.items)?r.items:r.data||[];x(e||[])}else x([])}catch(oD){console.error("Failed to load user permission overrides:",oD),a.oR.error("Failed to load permission data.")}finally{g(!1)}})()}),[f,h,r]),r||f?(0,u.jsxs)("div",{className:"p-6 space-y-6",children:[(0,u.jsx)("div",{className:"flex items-center justify-between",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center gap-2",children:[(0,u.jsx)(J.A,{className:"w-5 h-5 text-emerald-500"}),"User Permission Overrides"]}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Fine-tune access for this user by allowing, denying, or inheriting from the plan."})]})}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,u.jsx)("div",{className:"lg:col-span-1",children:(0,u.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-4 shadow-sm h-full",children:[(0,u.jsxs)("div",{className:"flex items-start gap-3",children:[(0,u.jsx)("div",{className:"p-2 rounded-xl bg-emerald-50 text-emerald-700",children:(0,u.jsx)(pe,{className:"w-5 h-5"})}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("h2",{className:"text-sm font-semibold text-slate-900",children:"User Context"}),(0,u.jsx)("p",{className:"text-sm text-slate-900",children:N.displayName}),(0,u.jsx)("p",{className:"text-xs text-slate-500",children:N.email}),(0,u.jsxs)("p",{className:"text-xs text-slate-600 mt-2",children:["Plan:"," ",(0,u.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100 text-[11px]",children:N.planName})]}),!h&&(0,u.jsx)("p",{className:"text-[11px] text-slate-500 mt-2",children:"Plan details are not loaded yet. Overrides still work, but plan defaults will be shown as \u201cUnknown\u201d."})]})]}),(0,u.jsxs)("div",{className:"mt-4 border-t border-slate-200 pt-3 text-xs text-slate-600 space-y-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"w-2 h-2 rounded-full bg-slate-400"}),(0,u.jsx)("span",{children:"Inherited: follow the plan-level setting."})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,u.jsx)("span",{children:"Allow: explicitly grant this permission."})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"w-2 h-2 rounded-full bg-rose-500"}),(0,u.jsx)("span",{children:"Deny: explicitly block this permission."})]})]})]})}),(0,u.jsx)("div",{className:"lg:col-span-2",children:(0,u.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl p-4 shadow-sm",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,u.jsx)("h2",{className:"text-sm font-semibold text-slate-900",children:"Permission overrides"}),m&&(0,u.jsx)("span",{className:"text-xs text-slate-500 animate-pulse",children:"Loading\u2026"})]}),0===b.length?(0,u.jsx)("p",{className:"text-sm text-slate-500",children:"No permissions found. Please check the permissions catalog configuration."}):(0,u.jsx)("div",{className:"space-y-4 max-h-[620px] overflow-auto pr-2",children:b.map((e=>(0,u.jsxs)("div",{className:"border border-slate-200 rounded-xl bg-slate-50/60",children:[(0,u.jsx)("div",{className:"px-4 py-2 border-b border-slate-200 bg-slate-100 flex items-center justify-between",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs font-semibold text-slate-900",children:e.label||e.name||"Permission Group"}),e.description&&(0,u.jsx)("p",{className:"text-[11px] text-slate-600",children:e.description})]})}),(0,u.jsx)("div",{className:"divide-y divide-slate-200",children:(e.permissions||e.items||[]).map((e=>{const t=e.id||e.permissionId||e.permissionID,n=e.code||e.key,r=e.name||e.displayName||n;if(!t)return null;const o=function(e){const t=A[e];return t&&!0!==t.isRevoked?t.isGranted?"allow":"deny":"inherit"}(t),i=S[t],a=!!i,s=!0===(null===i||void 0===i?void 0:i.isActive)||!0===(null===i||void 0===i?void 0:i.isEnabled);return(0,u.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between gap-3",children:[(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("p",{className:"text-sm text-slate-900",children:r}),(0,u.jsx)("p",{className:"text-xs text-slate-500 truncate",children:n}),(0,u.jsxs)("p",{className:"text-[11px] text-slate-500 mt-1",children:["Plan default:"," ",h&&a?s?(0,u.jsx)("span",{className:"text-emerald-600",children:"Allowed"}):(0,u.jsx)("span",{className:"text-rose-600",children:"Disabled"}):(0,u.jsx)("span",{className:"text-slate-500",children:"Unknown"})," \xb7 ","Effective:"," ","inherit"===o?h&&a?s?"Allowed (from plan)":"Disabled (from plan)":"Inherit (plan not loaded)":"allow"===o?"Explicitly allowed":"Explicitly denied"]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,u.jsx)(cS,{label:"Inherit",size:"sm",active:"inherit"===o,onClick:()=>E(t,"inherit")}),(0,u.jsx)(cS,{label:"Allow",size:"sm",intent:"success",active:"allow"===o,onClick:()=>E(t,"allow")}),(0,u.jsx)(cS,{label:"Deny",size:"sm",intent:"danger",active:"deny"===o,onClick:()=>E(t,"deny")})]})]},t)}))})]},e.key||e.code||e.name)))})]})})]})]}):(0,u.jsx)("div",{className:"p-6",children:(0,u.jsxs)("div",{className:"max-w-xl bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[(0,u.jsx)("h1",{className:"text-lg font-semibold text-slate-900 mb-2",children:"User Permission Overrides"}),(0,u.jsx)("p",{className:"text-sm text-slate-600",children:"This page could not determine the current user from the auth context."}),(0,u.jsxs)("p",{className:"text-sm text-slate-600 mt-2",children:["As a developer, please ensure ",(0,u.jsx)("code",{children:"useAuth()"})," exposes a"," ",(0,u.jsx)("code",{children:"userId"})," or ",(0,u.jsx)("code",{children:"user.id"})," field."]})]})})}function cS(e){let{label:t,active:n,intent:r="neutral",size:o="md",onClick:i}=e;const a="sm"===o?"px-3 py-1":"px-4 py-1.5";let s="border-slate-900 text-slate-50 bg-slate-900";return"success"===r?s="border-emerald-500 text-white bg-emerald-500 hover:bg-emerald-600":"danger"===r&&(s="border-rose-500 text-white bg-rose-500 hover:bg-rose-600"),(0,u.jsx)("button",{type:"button",onClick:i,className:"".concat("inline-flex items-center justify-center rounded-full border text-xs font-medium transition focus:outline-none focus:ring-1 focus:ring-offset-0 focus:ring-emerald-500"," ").concat(a," ").concat(n?s:"border-slate-300 text-slate-600 bg-white hover:bg-slate-100"),children:t})}var dS=n(42489),uS=n(71360),pS=n(76245);const fS=(0,_.A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var hS=n(9855);function mS(t){let{open:n,mode:r,initialValue:o,onClose:i,onSubmit:a}=t;const s="edit"===r,[l,c]=(0,e.useState)(""),[d,p]=(0,e.useState)(""),[f,h]=(0,e.useState)(""),[m,g]=(0,e.useState)(""),[v,x]=(0,e.useState)(!1);(0,e.useEffect)((()=>{n&&(o?(c(o.code||""),p(o.name||""),h(o.group||""),g(o.description||"")):(c(""),p(""),h(""),g("")))}),[n,o]);const b=async e=>{if(e.preventDefault(),!a)return;const t={code:l.trim(),name:d.trim(),group:f.trim(),description:m.trim()};if(t.code&&t.name)try{x(!0),await a(t)}finally{x(!1)}};return n?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[1px] z-40",onClick:i}),(0,u.jsxs)("div",{className:"fixed inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl z-50 flex flex-col",children:[(0,u.jsxs)("div",{className:"px-4 sm:px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"p-1.5 rounded-md bg-emerald-50 text-emerald-600",children:(0,u.jsx)(dS.A,{className:"w-4 h-4"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-sm font-semibold text-slate-900",children:s?"Edit Permission":"New Permission"}),(0,u.jsx)("p",{className:"text-xs text-slate-500",children:"Canonical feature flag used by plans and workspace guards."})]})]}),(0,u.jsx)("button",{type:"button",onClick:i,className:"p-1.5 rounded-md hover:bg-slate-100 text-slate-500",children:(0,u.jsx)(Pe.A,{className:"w-4 h-4"})})]}),(0,u.jsxs)("form",{onSubmit:b,className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 space-y-4",children:[(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsxs)("label",{className:"block text-xs font-medium text-slate-700",children:["Code ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"text",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 font-mono",placeholder:"MESSAGING.SEND.TEXT",value:l,onChange:e=>c(e.target.value),disabled:s}),(0,u.jsx)("p",{className:"text-[11px] text-slate-400",children:"Stable, uppercase identifier. Used in JWT claims, PlanPermissions and feature guards. Avoid changing once in use."})]}),(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsxs)("label",{className:"block text-xs font-medium text-slate-700",children:["Name ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"text",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Send Direct Text Messages",value:d,onChange:e=>p(e.target.value)})]}),(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsx)("label",{className:"block text-xs font-medium text-slate-700",children:"Group / Module"}),(0,u.jsx)("input",{type:"text",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Messaging, Campaigns, Catalog, Admin\u2026",value:f,onChange:e=>h(e.target.value)})]}),(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsx)("label",{className:"block text-xs font-medium text-slate-700",children:"Description"}),(0,u.jsx)("textarea",{className:"w-full rounded-md border border-slate-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-none",rows:3,placeholder:"Controls access to sending one-to-one free text messages from the Messaging workspace.",value:m,onChange:e=>g(e.target.value)})]})]}),(0,u.jsxs)("div",{className:"px-4 sm:px-6 py-3 border-t border-slate-200 flex items-center justify-between bg-slate-50/60",children:[(0,u.jsx)("button",{type:"button",onClick:i,className:"text-xs px-3 py-1.5 rounded-md border border-slate-200 text-slate-600 hover:bg-slate-100",disabled:v,children:"Cancel"}),(0,u.jsx)("button",{type:"button",onClick:b,className:"inline-flex items-center gap-2 text-xs px-3 py-1.5 rounded-md bg-emerald-500 text-white hover:bg-emerald-600 disabled:opacity-60 disabled:cursor-not-allowed",disabled:v,children:v?s?"Saving\u2026":"Creating\u2026":s?"Save Changes":"Create Permission"})]})]})]}):null}function gS(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(!1),[i,l]=(0,e.useState)(!1),[d,p]=(0,e.useState)("create"),[f,h]=(0,e.useState)(null),m=(0,e.useMemo)((()=>{const e=new Map;t.forEach((t=>{const n=t.group||"Ungrouped";e.has(n)||e.set(n,[]),e.get(n).push(t)}));for(const t of e.values())t.sort(((e,t)=>e.code.localeCompare(t.code)));return Array.from(e.entries()).sort(((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}))}),[t]),g=async()=>{try{o(!0);const e=await c.default.get("/permission"),t=Array.isArray(e.data)?e.data:[];n(t)}catch(oD){console.error("Failed to load permissions",oD),a.oR.error("Failed to load permissions.")}finally{o(!1)}};(0,e.useEffect)((()=>{g()}),[]);return(0,u.jsxs)("div",{className:"px-4 sm:px-6 py-6 space-y-6",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsxs)("h1",{className:"text-2xl font-semibold text-slate-900 flex items-center gap-2",children:[(0,u.jsx)(dS.A,{className:"w-5 h-5 text-emerald-500"}),(0,u.jsx)("span",{children:"Permissions"})]}),(0,u.jsx)("p",{className:"text-sm text-slate-500 max-w-3xl",children:"Canonical capabilities that plans can grant to businesses. These power the Entitlements snapshot and workspace guards."})]}),(0,u.jsx)("div",{className:"flex items-center gap-2",children:(0,u.jsxs)("button",{type:"button",onClick:()=>{p("create"),h(null),l(!0)},className:"inline-flex items-center gap-1 px-3 py-2 rounded-md text-xs font-medium bg-emerald-500 text-white hover:bg-emerald-600 shadow-sm",children:[(0,u.jsx)(uS.A,{className:"w-3 h-3"}),"New Permission"]})})]}),(0,u.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm overflow-hidden",children:r?(0,u.jsx)("div",{className:"w-full py-10 flex items-center justify-center",children:(0,u.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm text-slate-500",children:[(0,u.jsx)(s.A,{className:"w-4 h-4 animate-spin"}),(0,u.jsx)("span",{children:"Loading permissions\u2026"})]})}):0===m.length?(0,u.jsxs)("div",{className:"w-full py-10 flex flex-col items-center justify-center gap-2 text-sm text-slate-500",children:[(0,u.jsx)("div",{children:"No permissions found."}),(0,u.jsx)("div",{className:"text-xs text-slate-400",children:"Use \u201cNew Permission\u201d to add your first capability."})]}):(0,u.jsx)("div",{className:"divide-y divide-slate-200",children:m.map((e=>{let[t,n]=e;return(0,u.jsxs)("div",{className:"p-4 space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("div",{className:"flex items-center gap-2",children:(0,u.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:t})}),(0,u.jsxs)("span",{className:"text-[11px] text-slate-400",children:[n.length," item",1!==n.length&&"s"]})]}),(0,u.jsx)("div",{className:"border border-slate-200 rounded-md overflow-hidden",children:(0,u.jsxs)("table",{className:"min-w-full text-xs",children:[(0,u.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,u.jsxs)("tr",{className:"text-left text-[11px] text-slate-500",children:[(0,u.jsx)("th",{className:"px-3 py-2 font-medium",children:"Code"}),(0,u.jsx)("th",{className:"px-3 py-2 font-medium",children:"Name"}),(0,u.jsx)("th",{className:"px-3 py-2 font-medium",children:"Description"}),(0,u.jsx)("th",{className:"px-3 py-2 font-medium w-24",children:"Status"}),(0,u.jsx)("th",{className:"px-3 py-2 font-medium w-24 text-right",children:"Actions"})]})}),(0,u.jsx)("tbody",{children:n.map((e=>(0,u.jsxs)("tr",{className:"border-t border-slate-100 hover:bg-slate-50/80",children:[(0,u.jsx)("td",{className:"px-3 py-2 font-mono text-[11px] text-slate-800",children:e.code}),(0,u.jsx)("td",{className:"px-3 py-2 text-slate-900",children:e.name}),(0,u.jsx)("td",{className:"px-3 py-2 text-slate-500",children:e.description||(0,u.jsx)("span",{className:"italic text-slate-400",children:"No description"})}),(0,u.jsx)("td",{className:"px-3 py-2",children:e.isActive?(0,u.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100 px-2 py-0.5 text-[10px]",children:[(0,u.jsx)(pt.A,{className:"w-3 h-3"}),"Active"]}):(0,u.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-600 border border-slate-200 px-2 py-0.5 text-[10px]",children:[(0,u.jsx)(pS.A,{className:"w-3 h-3"}),"Inactive"]})}),(0,u.jsx)("td",{className:"px-3 py-2 text-right",children:(0,u.jsxs)("div",{className:"inline-flex items-center gap-1",children:[(0,u.jsx)("button",{type:"button",onClick:()=>{return t=e,p("edit"),h(t),void l(!0);var t},className:"p-1 rounded-md hover:bg-slate-100 text-slate-600",title:"Edit",children:(0,u.jsx)(fS,{className:"w-3 h-3"})}),e.isActive&&(0,u.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm('Deactivate permission "'.concat(e.code,'"?\n\nThis will mark it inactive. Plan mappings may still reference it, but feature guards will usually ignore inactive permissions.')))try{await c.default.delete("/permission/".concat(e.id)),a.oR.success("Permission deactivated."),await g()}catch(oD){var t,n,r,o;console.error("Failed to deactivate permission",oD);const i=(null===oD||void 0===oD||null===(t=oD.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===oD||void 0===oD||null===(r=oD.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error)||"Failed to deactivate permission.";a.oR.error(i)}})(e),className:"p-1 rounded-md hover:bg-slate-100 text-red-500",title:"Deactivate",children:(0,u.jsx)(hS.A,{className:"w-3 h-3"})})]})})]},e.id)))})]})})]},t)}))})}),(0,u.jsx)("p",{className:"text-[11px] text-slate-500",children:"Changes here are reflected in the Entitlements snapshot and workspace feature guards. Use plan mappings to decide which businesses get which permissions."}),(0,u.jsx)(mS,{open:i,mode:d,initialValue:f,onClose:()=>{l(!1),h(null)},onSubmit:async e=>{try{"create"===d?(await c.default.post("/permission",e),a.oR.success("Permission created.")):"edit"===d&&null!==f&&void 0!==f&&f.id&&(await c.default.put("/permission/".concat(f.id),e),a.oR.success("Permission updated.")),await g(),l(!1),h(null)}catch(oD){var t,n,r,o;console.error("Failed to save permission",oD);const i=(null===oD||void 0===oD||null===(t=oD.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===oD||void 0===oD||null===(r=oD.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error)||"Failed to save permission.";throw a.oR.error(i),oD}}})]})}function vS(){return(0,u.jsxs)("div",{className:"p-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsx)("h1",{className:"text-xl font-semibold mb-2",children:"Permission Catalog"}),(0,u.jsx)("p",{className:"text-sm text-gray-600",children:"Placeholder page. We\u2019ll list all master permissions here with search, groups, and bulk actions."})]})}const xS=()=>{const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(!0),[i,a]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{try{const e=await c.default.get("/failed-webhooks");n(e.data||[])}catch(e){console.error("\u274c Error fetching failed webhook logs",e)}finally{o(!1)}})()}),[]),(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"\ud83d\udcc9 Failed Webhook Logs"}),r?(0,u.jsx)("p",{children:"Loading logs..."}):0===t.length?(0,u.jsx)("p",{className:"text-gray-500",children:"\u2705 No failed webhook logs found."}):(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full bg-white shadow rounded text-sm",children:[(0,u.jsx)("thead",{className:"bg-gray-100",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"\ud83e\udde0 Error"}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"\ud83d\udce6 Module"}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"\u26a0\ufe0f Type"}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"\u23f1 Time"}),(0,u.jsx)("th",{className:"px-4 py-2 text-left",children:"\ud83d\udd0d Raw"})]})}),(0,u.jsx)("tbody",{children:t.map((e=>(0,u.jsxs)("tr",{className:"border-t",children:[(0,u.jsx)("td",{className:"px-4 py-2",children:e.errorMessage}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.sourceModule}),(0,u.jsx)("td",{className:"px-4 py-2",children:e.failureType}),(0,u.jsx)("td",{className:"px-4 py-2 text-gray-700",children:new Date(e.createdAt||e.loggedAt).toLocaleString()}),(0,u.jsx)("td",{className:"px-4 py-2",children:(0,u.jsx)(Gm.$,{size:"sm",onClick:()=>a(e),children:"View JSON"})})]},e.id)))})]})}),(0,u.jsxs)(Zm.lG,{open:!!i,onClose:()=>a(null),className:"relative z-50",children:[(0,u.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm"}),(0,u.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,u.jsxs)(Zm.lG.Panel,{className:"w-full max-w-3xl rounded bg-white p-6 shadow-xl",children:[(0,u.jsx)(Zm.lG.Title,{className:"text-lg font-semibold mb-4",children:"\ud83d\udce6 Raw Webhook Payload"}),(0,u.jsx)("pre",{className:"overflow-auto max-h-[500px] bg-gray-100 text-sm p-4 rounded border border-gray-200",children:(()=>{try{return JSON.stringify(JSON.parse((null===i||void 0===i?void 0:i.rawJson)||"{}"),null,2)}catch(e){return"\u26a0\ufe0f Invalid JSON"}})()}),(0,u.jsx)("div",{className:"mt-4 text-right",children:(0,u.jsx)(Gm.$,{variant:"secondary",onClick:()=>a(null),children:"Close"})})]})})]})]})};var bS=n(72313);const yS=(0,_.A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),wS=(0,_.A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var jS=n(63771),NS=n(58487);const SS=(0,_.A)("corner-down-left",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);function AS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return(0,u.jsx)("span",{className:"text-slate-400 italic",children:"Start typing body text..."});return String(e).split(/(\{\{\d+\}\})/g).map(((e,n)=>{if(!/^\{\{\d+\}\}$/.test(e))return(0,u.jsx)("span",{children:e},n);const r=e.match(/\d+/),o=r?parseInt(r[0],10):0,i=null===t||void 0===t?void 0:t[o-1];return i?(0,u.jsx)("span",{className:"font-medium text-slate-800 bg-yellow-100 px-1 rounded mx-0.5 border-b border-yellow-300",title:"Variable {{".concat(o,"}}"),children:i},n):(0,u.jsx)("span",{className:"px-1 py-0.5 mx-0.5 rounded bg-emerald-100 text-emerald-700 font-semibold text-xs",title:"Variable placeholder",children:e},n)}))}function ES(t){let{type:r,url:o}=t;const[i,a]=e.useState(null),[l,c]=e.useState(!1),[d,p]=e.useState(!1);return e.useEffect((()=>{if(a(null),c(!1),p(!1),!o)return;if("IMAGE"!==r&&"VIDEO"!==r)return;String(o).match(/^(http|blob|data):/i)?a(o):(c(!0),Promise.resolve().then(n.bind(n,35870)).then((e=>{let{default:t}=e;t.get("/template-builder/media/".concat(encodeURIComponent(o)),{responseType:"blob",__silentToast:!0}).then((e=>{const t=URL.createObjectURL(e.data);a(t)})).catch((()=>p(!0))).finally((()=>c(!1)))})))}),[o,r]),e.useEffect((()=>()=>{i&&i.startsWith("blob:")&&URL.revokeObjectURL(i)}),[i]),"VIDEO"===r?(0,u.jsx)("video",{src:i||o,className:"w-full h-full object-cover",controls:!0}):"IMAGE"===r?d?(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full bg-slate-100 text-slate-400 p-4 text-center min-h-[140px]",children:[(0,u.jsx)(wS,{size:32,className:"mb-2 opacity-50"}),(0,u.jsx)("span",{className:"text-xs font-medium",children:"Image Not Uploaded Yet"}),(0,u.jsx)("span",{className:"text-[9px] opacity-60 mt-1 max-w-[150px] truncate",children:"Check Template Editor"})]}):l?(0,u.jsx)("div",{className:"flex items-center justify-center w-full h-full bg-slate-50 min-h-[140px]",children:(0,u.jsx)(s.A,{className:"animate-spin text-emerald-600 opacity-50",size:24})}):(0,u.jsx)("img",{src:i||o,alt:"Header",className:"w-full h-full object-cover"}):(0,u.jsx)("div",{className:"w-full h-32 flex items-center justify-center bg-slate-100 text-slate-500",children:(0,u.jsx)(de.A,{size:34})})}function kS(e){let{draft:t}=e;const n=String((null===t||void 0===t?void 0:t.headerType)||"NONE").toUpperCase(),r=null===t||void 0===t?void 0:t.headerMediaUrl,o=Array.isArray(null===t||void 0===t?void 0:t.examples)?t.examples:[],i=Array.isArray(null===t||void 0===t?void 0:t.buttons)?t.buttons:[];return(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden max-w-[320px] mx-auto sticky top-4",children:[(0,u.jsxs)("div",{className:"bg-emerald-600 px-4 py-3 flex items-center gap-3 text-white shadow-sm",children:[(0,u.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/15 flex items-center justify-center",children:(0,u.jsx)($s.A,{size:18})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"text-sm font-semibold flex items-center gap-2",children:["Test Org",(0,u.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-400 border-2 border-emerald-600"})]}),(0,u.jsx)("div",{className:"text-[10px] opacity-80",children:"Online"})]}),(0,u.jsx)("div",{className:"text-xs font-mono bg-emerald-700 px-2 py-0.5 rounded opacity-60",children:"NONE"===n?"TEXT":n})]}),(0,u.jsx)("div",{className:"min-h-[450px] p-4 relative",style:{backgroundColor:"#e5ddd5",backgroundImage:'url("https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png")',backgroundBlendMode:"overlay"},children:(0,u.jsxs)("div",{className:"bg-white rounded-lg rounded-tl-none shadow-sm p-1 max-w-[90%] relative mb-4",children:[(0,u.jsxs)("div",{className:"p-1",children:[["IMAGE","VIDEO","DOCUMENT"].includes(n)&&(0,u.jsx)("div",{className:"mb-2 rounded-lg bg-slate-100 overflow-hidden relative min-h-[140px] flex items-center justify-center",children:r?(0,u.jsx)(ES,{type:n,url:r}):(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400 p-8 text-center",children:[(0,u.jsx)("div",{className:"text-slate-500 mb-2",children:(a=n,"VIDEO"===a?(0,u.jsx)(yS,{size:28}):"DOCUMENT"===a?(0,u.jsx)(de.A,{size:28}):(0,u.jsx)(wS,{size:28}))}),(0,u.jsx)("div",{className:"text-xs font-medium uppercase mb-1",children:n}),(0,u.jsx)("div",{className:"text-[10px] opacity-60",children:"Not uploaded yet"})]})}),"TEXT"===n&&(null===t||void 0===t?void 0:t.headerText)&&(0,u.jsx)("div",{className:"px-2 pt-1 pb-1 font-bold text-slate-800 text-[14px]",children:t.headerText}),(0,u.jsx)("div",{className:"px-2 pt-1 pb-1 text-[13px] leading-snug text-slate-800 whitespace-pre-wrap",children:AS(null===t||void 0===t?void 0:t.bodyText,o)}),(null===t||void 0===t?void 0:t.footerText)&&(0,u.jsx)("div",{className:"px-2 pt-1 pb-1 text-[10px] text-slate-400 mt-1",children:t.footerText})]}),(0,u.jsxs)("div",{className:"text-[10px] text-slate-400 text-right px-2 pb-1.5 flex items-center justify-end gap-1",children:["12:00 PM ",(0,u.jsx)(jS.A,{size:14,className:"text-blue-400"})]}),i.length>0&&(0,u.jsx)("div",{className:"border-t border-slate-100 mt-1",children:i.map(((e,t)=>{const n=String((null===e||void 0===e?void 0:e.type)||"").toUpperCase();return(0,u.jsxs)("div",{className:"h-9 flex items-center justify-center text-emerald-600 font-medium text-xs border-b border-slate-100 last:border-0 hover:bg-slate-50 cursor-default gap-2",children:["URL"===n&&(0,u.jsx)(NS.A,{size:14}),("PHONE_NUMBER"===n||"PHONE"===n)&&(0,u.jsx)(ge.A,{size:14}),"QUICK_REPLY"===n&&(0,u.jsx)(SS,{size:14}),(0,u.jsx)("span",{className:"truncate max-w-[220px]",children:(null===e||void 0===e?void 0:e.text)||"Button"})]},t)}))})]})})]});var a}function CS(e){const t=String(e||"").trim();return t?t.toLowerCase().replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())):"All"}function _S(e,t){try{return JSON.parse(e)}catch(n){return t}}function PS(e){const t=e&&"object"===typeof e?e:{},n=Object.keys(t).map((e=>Number(e))).filter((e=>Number.isFinite(e)&&e>0)),r=n.length?Math.max(...n):0,o=[];for(let a=1;a<=r;a++){var i;o.push(String(null!==(i=t[String(a)])&&void 0!==i?i:""))}return o}function OS(){const t=(0,i.Zp)(),[n,r]=(0,o.ok)(),[s,l]=e.useState(!1),[d,p]=e.useState([]),[f,h]=e.useState(0),[m,g]=e.useState([]),[v,x]=e.useState(!1),b=n.get("industry")||"",y=n.get("q")||"",w=n.get("v")||"",j=n.get("sort")||"featured",N=Number(n.get("page"))||1,[S,A]=e.useState(!1),[E,k]=e.useState(!1),[C,_]=e.useState(null),[P,O]=e.useState([]),[T,M]=e.useState("en_US"),I=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[r,o]=e.useState(t);return e.useEffect((()=>{const e=setTimeout((()=>o(t)),n);return()=>clearTimeout(e)}),[t,n]),r}(y,300);e.useEffect((()=>{let e=!0;return(async()=>{x(!0);try{const t=await async function(){return(await c.default.get("/template-builder/library/industries")).data}(),n=Array.isArray(null===t||void 0===t?void 0:t.industries)?t.industries:[];e&&g(n)}catch(t){e&&g([])}finally{e&&x(!1)}})(),()=>{e=!1}}),[]);const D=e.useCallback((async()=>{l(!0);try{const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{industry:t,q:n,sort:r="featured",page:o=1,pageSize:i=20}=e;return(await c.default.get("/template-builder/library/browse",{params:{industry:t,q:n,sort:r,page:o,pageSize:i}})).data}({industry:b||void 0,q:I||void 0,sort:j,page:N,pageSize:20});p(Array.isArray(null===e||void 0===e?void 0:e.items)?e.items:[]),h(Number(null===e||void 0===e?void 0:e.total)||0)}finally{l(!1)}}),[b,N,20,y,I,j,w]);e.useEffect((()=>{D()}),[D]);const L=Math.max(1,Math.ceil(f/20));async function F(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US";try{var r,o;l(!0);const i=await async function(e,t){return(await c.default.post("/template-builder/library/".concat(e,"/activate"),t)).data}(e,{languages:[n]}),s=(null===i||void 0===i?void 0:i.draftId)||(null===i||void 0===i||null===(r=i.draft)||void 0===r?void 0:r.id)||(null===i||void 0===i||null===(o=i.draft)||void 0===o?void 0:o.Id);if(!s)return void a.oR.error("Template activated, but no draftId returned.");a.oR.success("Draft created. Choose a name, then submit to Meta."),t("/app/template-builder/drafts/".concat(s,"?language=").concat(encodeURIComponent(n||"en_US"),"&fromLibrary=1&blankName=1"))}finally{l(!1)}}async function B(e){A(!0),k(!0);try{const t=await async function(e){return(await c.default.get("/template-builder/library/item/".concat(e))).data}(e),n=(null===t||void 0===t?void 0:t.item)||null,r=Array.isArray(null===t||void 0===t?void 0:t.variants)?t.variants:[];_(n),O(r);const o=r.find((e=>"en_US"===String((null===e||void 0===e?void 0:e.language)||"")))||r[0]||null;M(String((null===o||void 0===o?void 0:o.language)||"en_US"))}catch(t){a.oR.error("Failed to load template preview."),_(null),O([])}finally{k(!1)}}const z=e.useMemo((()=>P.find((e=>String((null===e||void 0===e?void 0:e.language)||"")===T))||P[0]||null),[T,P]),U=e.useMemo((()=>{if(!z)return null;const e=_S((null===z||void 0===z?void 0:z.buttonsJson)||"[]",[]),t=_S((null===z||void 0===z?void 0:z.exampleParamsJson)||"{}",{});return{headerType:null===z||void 0===z?void 0:z.headerType,headerText:null===z||void 0===z?void 0:z.headerText,headerMediaUrl:null,bodyText:null===z||void 0===z?void 0:z.bodyText,footerText:null===z||void 0===z?void 0:z.footerText,buttons:e,examples:PS(t)}}),[z]),V=m.length?m:["SALON","GYM","DOCTOR","RETAILER","MEDICAL","HOSPITAL","REAL_ESTATE"];return(0,u.jsxs)("div",{className:"space-y-4 font-sans",children:[(0,u.jsx)("div",{className:"max-w-7xl mx-auto space-y-4",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-start",children:[(0,u.jsxs)(fo,{className:"lg:col-span-3 p-4 rounded-lg",children:[(0,u.jsx)("div",{className:"font-semibold text-slate-800",children:"Industries"}),(0,u.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,u.jsx)("button",{type:"button",className:["w-full text-left px-3 py-2 rounded-md text-sm font-semibold",""===b?"bg-emerald-50 text-emerald-700 border border-emerald-200":"hover:bg-slate-50 text-slate-700"].join(" "),onClick:()=>{r((e=>{const t=new URLSearchParams(e);return t.delete("industry"),t.set("page","1"),t}))},children:"All segments"}),V.map((e=>(0,u.jsx)("button",{type:"button",className:["w-full text-left px-3 py-2 rounded-md text-sm font-semibold",b===e?"bg-emerald-50 text-emerald-700 border border-emerald-200":"hover:bg-slate-50 text-slate-700"].join(" "),disabled:v,onClick:()=>{r((t=>{const n=new URLSearchParams(t);return n.set("industry",e),n.set("page","1"),n}))},children:CS(e)},e)))]}),v&&(0,u.jsx)("div",{className:"mt-2 text-xs text-slate-400",children:"Loading\u2026"})]}),(0,u.jsxs)("div",{className:"lg:col-span-9 space-y-3",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,u.jsxs)("select",{className:"border rounded-lg px-3 py-2 text-sm bg-white",value:j,onChange:e=>{r((t=>{const n=new URLSearchParams(t);return n.set("sort",e.target.value),n.set("page","1"),n}))},children:[(0,u.jsx)("option",{value:"featured",children:"Featured first"}),(0,u.jsx)("option",{value:"name",children:"Name (A-Z)"})]}),(0,u.jsx)("button",{type:"button",onClick:()=>D(),className:"inline-flex items-center justify-center rounded-lg bg-white border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50 shadow-sm disabled:opacity-60",disabled:s,children:"Refresh"})]}),s||0!==d.length?(0,u.jsx)("section",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:d.map((e=>(0,u.jsxs)(fo,{className:"flex flex-col justify-between p-4 rounded-lg",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,u.jsx)("div",{className:"font-semibold text-slate-900 truncate",children:e.key}),e.isFeatured&&(0,u.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full",children:"Featured"})]}),(0,u.jsxs)("div",{className:"text-xs text-slate-500",children:[CS(e.industry)," \u2022"," ",String(e.category||"").toUpperCase()," \u2022 ",e.language]}),(0,u.jsx)("div",{className:"text-sm text-slate-700 line-clamp-3",children:e.bodyPreview}),(0,u.jsxs)("div",{className:"text-xs text-slate-500",children:[e.placeholders>0?"Placeholders: ".concat(e.placeholders):"No placeholders",e.buttonsSummary?" \u2022 Buttons: ".concat(e.buttonsSummary):""]})]}),(0,u.jsxs)("div",{className:"pt-4 flex items-center justify-between gap-2",children:[(0,u.jsxs)("button",{type:"button",className:"flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-lg bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition-colors",onClick:()=>B(e.id),disabled:s,children:[(0,u.jsx)(R.A,{size:16}),"Preview"]}),(0,u.jsxs)("button",{type:"button",className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-lg bg-emerald-600 text-white hover:bg-emerald-700 transition-colors disabled:opacity-60",onClick:()=>F(e.id,e.language||"en_US"),disabled:s,children:[(0,u.jsx)(bS.A,{size:16}),"Use template"]})]})]},e.id)))}):(0,u.jsxs)(fo,{className:"p-8 text-center rounded-lg",children:[(0,u.jsx)("div",{className:"text-lg font-semibold text-slate-800",children:"No templates in the library yet"}),(0,u.jsx)("div",{className:"mt-1 text-sm text-slate-600",children:"Ask an admin to import library templates, or create a draft from scratch."}),(0,u.jsx)("div",{className:"mt-4 flex items-center justify-center gap-2",children:(0,u.jsx)("button",{type:"button",onClick:()=>t("/app/template-builder/drafts?create=1"),className:"inline-flex items-center justify-center rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700 shadow-sm",children:"Create Draft"})})]}),(0,u.jsxs)("footer",{className:"flex items-center justify-between pt-2",children:[(0,u.jsxs)("div",{className:"text-sm text-slate-500",children:["Page: ",N," / ",L]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm rounded-md border bg-white disabled:opacity-50",onClick:()=>{r((e=>{const t=new URLSearchParams(e);return t.set("page",String(Math.max(1,N-1))),t}))},disabled:N<=1||s,children:"Prev"}),(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm rounded-md border bg-white disabled:opacity-50",onClick:()=>{r((e=>{const t=new URLSearchParams(e);return t.set("page",String(Math.min(L,N+1))),t}))},disabled:N>=L||s,children:"Next"})]})]})]})]})}),(0,u.jsx)(as,{open:S,onOpenChange:e=>{e||A(!1)},children:(0,u.jsx)(ss,{className:"max-w-[380px] p-0 overflow-hidden !border-none !bg-transparent !shadow-none [&>button]:hidden",children:(0,u.jsxs)("div",{className:"relative flex flex-col items-center gap-6",children:[(0,u.jsx)("button",{onClick:()=>A(!1),className:"absolute -top-10 right-0 p-2 text-white/80 hover:text-white transition-all focus:outline-none",title:"Close Preview",children:(0,u.jsx)(Pe.A,{size:24})}),P.length>1&&(0,u.jsx)("div",{className:"absolute -top-12 left-0",children:(0,u.jsx)("select",{className:"bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg px-2 py-1 text-xs text-white focus:outline-none transition-colors",value:T,onChange:e=>M(e.target.value),disabled:E,children:P.map((e=>(0,u.jsx)("option",{value:e.language,className:"text-slate-900",children:e.language},e.language)))})}),(0,u.jsx)("div",{className:"w-full transform scale-95 origin-center",children:E?(0,u.jsxs)("div",{className:"bg-white rounded-3xl p-12 flex flex-col items-center gap-4 shadow-xl",children:[(0,u.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),(0,u.jsx)("p",{className:"text-slate-500 font-medium text-sm",children:"Loading preview..."})]}):U?(0,u.jsx)(kS,{draft:U}):(0,u.jsx)("div",{className:"bg-white rounded-3xl p-12 text-center text-slate-500 text-sm shadow-xl",children:"No preview available."})}),!E&&C&&(0,u.jsxs)("button",{type:"button",className:"flex items-center gap-2 px-8 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-full shadow-lg hover:shadow-emerald-500/30 transition-all transform hover:-translate-y-1 active:scale-95",onClick:()=>F(C.id,T),disabled:s,children:[(0,u.jsx)(bS.A,{size:20}),"Use this template"]})]})})}),s&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black/5 pointer-events-none animate-pulse","aria-hidden":!0})]})}var TS=n(4717),MS=n(57856);const IS=(0,_.A)("type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),RS=(0,_.A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),DS=(0,_.A)("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),LS=(0,_.A)("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);var FS=n(57922);const BS=(0,_.A)("code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),zS=(0,_.A)("corner-up-left",[["polyline",{points:"9 14 4 9 9 4",key:"881910"}],["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}]]);var US=n(70764);async function VS(e){const{data:t}=await c.default.delete("/template-builder/drafts/".concat(encodeURIComponent(e)));return t}function WS(e){var t,n,r,o;let{status:i,language:a}=e;const s=null!==(t=null!==(n=null===i||void 0===i||null===(r=i.items)||void 0===r?void 0:r.find((e=>e.language===a)))&&void 0!==n?n:null===i||void 0===i||null===(o=i.items)||void 0===o?void 0:o[0])&&void 0!==t?t:null,l=null===s||void 0===s?void 0:s.status,c=null===s||void 0===s?void 0:s.reason;if(!l)return(0,u.jsx)("span",{className:"text-xs px-2 py-1 rounded border text-gray-600",children:"Draft \u2022 Not submitted"});const d=String(l).toUpperCase(),p="IN_REVIEW"===d||"PENDING_REVIEW"===d?"PENDING":d,f="APPROVED"===p?"bg-green-100 text-green-700 border-green-200":"REJECTED"===p?"bg-red-100 text-red-700 border-red-200":"PAUSED"===p?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-blue-100 text-blue-700 border-blue-200";return(0,u.jsx)("span",{className:"text-xs px-2 py-1 rounded border ".concat(f),title:"REJECTED"===p&&c?c:void 0,children:p})}var HS=n(50797),qS=n(21363);function KS(t){let{draftId:n,language:r,mediaType:o,handle:i,onUploaded:a,onPreview:l}=t;const[c,d]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null);return(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("label",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-emerald-200 bg-emerald-50 text-emerald-700 cursor-pointer hover:bg-emerald-100 transition-all shadow-sm active:scale-[0.98]",children:[c?(0,u.jsx)(s.A,{className:"animate-spin",size:16}):(0,u.jsx)(HS.A,{size:16}),(0,u.jsx)("span",{className:"text-sm font-semibold",children:c?"Uploading...":"Choose file"}),(0,u.jsx)("input",{type:"file",className:"hidden",accept:"IMAGE"===o?"image/*":"VIDEO"===o?"video/*":".pdf,application/pdf",onChange:e=>{var t;const i=null===(t=e.target.files)||void 0===t?void 0:t[0];e.target.value="",(async e=>{if(e){if(l){const t=URL.createObjectURL(e);l(t)}f(null),d(!0);try{const t=await(0,qS.f)({draftId:n,language:r,mediaType:o,file:e});null!==t&&void 0!==t&&t.handle?(null===a||void 0===a||a(t.handle),f({type:"success",message:"Media uploaded successfully."})):f({type:"error",message:"Upload succeeded but no handle returned."})}catch(oD){var t,i;console.error(oD),f({type:"error",message:(null===oD||void 0===oD||null===(t=oD.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||"Upload failed. Please try again."})}finally{d(!1)}}})(i)}})]}),(0,u.jsx)("div",{className:"text-xs text-gray-500",children:i?(0,u.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-50 text-emerald-700 rounded-md border border-emerald-100 animate-in fade-in duration-300",children:[(0,u.jsx)(pt.A,{size:12}),(0,u.jsx)("span",{className:"font-bold uppercase tracking-wider text-[10px]",children:"Attached"})]}):(0,u.jsx)("span",{className:"italic",children:"No media selected"})})]}),(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsxs)("div",{className:"flex items-center gap-1.5 text-slate-400",children:[(0,u.jsx)(MS.A,{size:12}),(0,u.jsx)("span",{className:"text-[10px] font-medium uppercase tracking-tight",children:"IMAGE"===o?"JPG, PNG, WEBP \u2022 Max 10MB":"VIDEO"===o?"MP4, 3GP \u2022 Max 16MB":"PDF \u2022 Max 16MB"})]}),p&&(0,u.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg border text-[11px] font-medium animate-in slide-in-from-top-1 duration-200 ".concat("success"===p.type?"bg-emerald-50 border-emerald-100 text-emerald-700":"bg-red-50 border-red-100 text-red-600"),children:["success"===p.type?(0,u.jsx)(pt.A,{size:14}):(0,u.jsx)(U.A,{size:14}),(0,u.jsx)("span",{children:p.message})]})]})]})}function GS(e){let{isOpen:t,onClose:n,onConfirm:r,loading:o=!1,title:i="Delete Template?",description:a="Are you sure you want to delete this template? This action cannot be undone.",confirmText:l="Delete",cancelText:c="Cancel"}=e;return(0,u.jsx)(as,{open:t,onOpenChange:e=>!e&&n(),children:(0,u.jsxs)(ss,{className:"sm:max-w-md",children:[(0,u.jsxs)(ls,{className:"flex flex-col items-center text-center",children:[(0,u.jsx)("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center mb-4",children:(0,u.jsx)(U.A,{className:"h-6 w-6 text-red-600"})}),(0,u.jsx)(cs,{className:"text-xl font-bold text-slate-900",children:i})]}),(0,u.jsx)("div",{className:"py-2 text-center",children:(0,u.jsx)("p",{className:"text-sm text-slate-500 leading-relaxed",children:a})}),(0,u.jsxs)(ds,{className:"sm:justify-center gap-3 pt-4",children:[(0,u.jsx)("button",{type:"button",className:"flex-1 px-4 py-2.5 rounded-xl text-sm font-semibold text-slate-700 bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50",onClick:n,disabled:o,children:c}),(0,u.jsxs)("button",{type:"button",className:"flex-1 px-4 py-2.5 rounded-xl text-sm font-semibold text-white bg-red-600 hover:bg-red-700 transition-all shadow-sm shadow-red-200 disabled:opacity-50 flex items-center justify-center gap-2",onClick:r,disabled:o,children:[o?(0,u.jsx)(s.A,{size:18,className:"animate-spin"}):null,l]})]})]})})}const YS="en_US",XS=t=>{let{anchorRef:n,children:r,onClose:o}=t;const[i,a]=(0,e.useState)(null);return e.useLayoutEffect((()=>{if(n.current){const e=n.current.getBoundingClientRect(),t=180,r=e.bottom+t>window.innerHeight;a({top:r?e.top:e.bottom,left:e.left,showUp:r})}}),[n]),i?(0,ko.createPortal)((0,u.jsxs)("div",{className:"fixed inset-0 z-[100]",children:[(0,u.jsx)("div",{className:"absolute inset-0",onClick:o}),(0,u.jsx)("div",{className:"absolute z-[101] w-52 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden py-1",style:{top:i.showUp?"auto":i.top+2,bottom:i.showUp?window.innerHeight-i.top+2:"auto",left:i.left},children:r})]}),document.body):null};function $S(){const{draftId:t}=(0,i.g)(),n=(0,i.Zp)(),{isLoading:r,can:d,hasAllAccess:p}=(0,l.h)(),[f,h]=(0,o.ok)(),m=f.has("language"),g=f.get("language")||YS,x=p||d(v.FK.TEMPLATE_BUILDER_CREATE_DRAFT),[y,w]=(0,e.useState)(""),[j,N]=(0,e.useState)("UTILITY"),[S,A]=(0,e.useState)("NONE"),[E,k]=(0,e.useState)(""),[C,_]=(0,e.useState)(""),[P,O]=(0,e.useState)(null),[T,M]=(0,e.useState)(""),[I,R]=(0,e.useState)(""),[D,L]=(0,e.useState)([]),[F,B]=(0,e.useState)(null),z=(0,e.useRef)(null),V=(0,e.useRef)([]),[W,H]=(0,e.useState)([""]),[q,K]=(0,e.useState)(!1),[G,Y]=(0,e.useState)(!1),[X,Z]=(0,e.useState)(!1),[J,Q]=(0,e.useState)(!!t),[ee,te]=(0,e.useState)(null),[ne,re]=(0,e.useState)(!1),[oe,ie]=(0,e.useState)(!1),[ae,se]=(0,e.useState)(!1),[le,ce]=(0,e.useState)(null),de=(0,e.useRef)(null),ue=(0,e.useCallback)((()=>"tpl:draft-editor:".concat(t||"none",":").concat(g||YS)),[t,g]),pe=(0,e.useCallback)((()=>{try{sessionStorage.removeItem(ue())}catch(e){}}),[ue]),fe=(0,e.useCallback)((()=>{try{if(!t)return!1;const e=sessionStorage.getItem(ue());if(!e)return!1;const n=JSON.parse(e);return!(!n||n.draftId!==t)&&("string"===typeof n.name&&w(n.name),"string"===typeof n.category&&N(n.category),"string"===typeof n.headerType&&A(n.headerType),"string"===typeof n.headerText&&k(n.headerText),"string"===typeof n.headerMediaHandle&&_(n.headerMediaHandle),"string"===typeof n.bodyText&&M(n.bodyText),"string"===typeof n.footerText&&R(n.footerText),Array.isArray(n.buttons)&&L(n.buttons.slice(0,3)),Array.isArray(n.examples)&&H(n.examples),!0)}catch(e){return!1}}),[ue,t]);(0,e.useEffect)((()=>{if(!t||J)return;const e=setTimeout((()=>{try{sessionStorage.setItem(ue(),JSON.stringify({v:1,draftId:t,language:g,at:(new Date).toISOString(),name:y,category:j,headerType:S,headerText:E,headerMediaHandle:C,bodyText:T,footerText:I,buttons:D,examples:W}))}catch(e){}}),400);return()=>clearTimeout(e)}),[T,D,ue,j,t,W,I,C,E,S,g,J,y]),(0,e.useEffect)((()=>{t||n("/app/template-builder/drafts",{replace:!0})}),[t,n]);const he=(0,e.useCallback)((e=>{h((t=>{const n=new URLSearchParams(t);return n.set("language",e),n}))}),[h]),me=(e,t)=>{const n=(e=>{const t=String(e||""),n=/\{\{\s*(\d+)\s*\}\}/g;let r,o=0;for(;r=n.exec(t);){const e=Number(r[1]);Number.isFinite(e)&&e>o&&(o=e)}return o})(e),r=Array.isArray(t)?t:[],o={};for(let a=1;a<=n;a++){var i;const e=String(null!==(i=r[a-1])&&void 0!==i?i:"").trim();e&&(o[String(a)]=e)}return{max:n,map:o}},ve=e=>(Array.isArray(e)?e:[]).map((e=>{const t=String((null===e||void 0===e?void 0:e.type)||"").toUpperCase(),n=String((null===e||void 0===e?void 0:e.text)||"").trim();return t&&n?"QUICK_REPLY"===t?{type:"QUICK_REPLY",text:n}:"URL"===t?{type:"URL",text:n,url:String((null===e||void 0===e?void 0:e.url)||"")}:"PHONE_NUMBER"===t||"PHONE"===t?{type:"PHONE",text:n,phone:String((null===e||void 0===e?void 0:e.phone)||(null===e||void 0===e?void 0:e.phone_number)||"")}:null:null})).filter(Boolean).slice(0,3),xe=(0,e.useCallback)((async()=>{if(t)try{const{data:e}=await c.default.get("/template-builder/drafts/".concat(t,"/status"));te(e||null)}catch(e){}}),[t]),be=(0,e.useCallback)((async()=>{if(t){Q(!0);try{var e,n,r;await xe();try{var o;const{data:e}=await c.default.get("/template-builder/drafts/".concat(t)),n=(null===e||void 0===e?void 0:e.draft)||(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.draft)||null,r=String((null===n||void 0===n?void 0:n.key)||""),i=r.startsWith("__lib__"),a=r.startsWith("untitled_"),s="1"===f.get("blankName")||"true"===f.get("blankName");i||a||s?(w(""),s&&h((e=>{const t=new URLSearchParams(e);return t.delete("blankName"),t}),{replace:!0})):r&&w(r),null!==n&&void 0!==n&&n.category&&N(String(n.category).toUpperCase()),!m&&null!==n&&void 0!==n&&n.defaultLanguage&&he(String(n.defaultLanguage))}catch(I){}let D=null;try{var i,s,l;const{data:e}=await c.default.get("/template-builder/drafts/".concat(t,"/preview"),{params:{language:g},__silentToast:!0});D=null!==(i=null!==(s=null===e||void 0===e?void 0:e.preview)&&void 0!==s?s:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.preview)&&void 0!==i?i:e}catch(oD){var d;const t=null===oD||void 0===oD||null===(d=oD.response)||void 0===d?void 0:d.status;var u,p;if(t&&404!==t)a.oR.error((null===oD||void 0===oD||null===(u=oD.response)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.message)||"Failed to load preview.")}if(!D)return void fe();const F=(null===(e=D)||void 0===e?void 0:e.components)||(null===(n=D)||void 0===n?void 0:n.componentsPayload)||(null===(r=D)||void 0===r?void 0:r.ComponentsPayload)||[],B=Array.isArray(F)?F:[];if(B.length>0){var v,x,b,y,j,S,E,C;const e=B.find((e=>"HEADER"===(null===e||void 0===e?void 0:e.type))),t=B.find((e=>"BODY"===(null===e||void 0===e?void 0:e.type))),n=B.find((e=>"FOOTER"===(null===e||void 0===e?void 0:e.type))),r=B.find((e=>"BUTTONS"===(null===e||void 0===e?void 0:e.type)));if(e){var P,T;const t=e.format||e.text?e.format||"TEXT":"NONE";A(t),"TEXT"===t&&k(e.text||""),null!==e&&void 0!==e&&null!==(P=e.example)&&void 0!==P&&null!==(T=P.header_handle)&&void 0!==T&&T[0]&&_(String(e.example.header_handle[0]))}else A("NONE"),k(""),_(""),O(null);null!==t&&void 0!==t&&t.text&&M(t.text),null!==n&&void 0!==n&&n.text&&R(n.text),null!==r&&void 0!==r&&r.buttons&&L((r.buttons||[]).slice(0,3));const o=(null===t||void 0===t||null===(v=t.example)||void 0===v||null===(x=v.body_text)||void 0===x?void 0:x[0])||(null===(b=D)||void 0===b||null===(y=b.examplesPayload)||void 0===y||null===(j=y.body_text)||void 0===j?void 0:j[0])||(null===(S=D)||void 0===S||null===(E=S.ExamplesPayload)||void 0===E||null===(C=E.body_text)||void 0===C?void 0:C[0])||null;Array.isArray(o)&&H(o.map((e=>String(null!==e&&void 0!==e?e:""))))}}catch(oD){console.error("Failed to load draft data",oD)}finally{Q(!1)}}else Q(!1)}),[t,m,g,xe,he,f,fe,h]);(0,e.useEffect)((()=>{be()}),[be]);const ye=async()=>{const e=function(){let{requireHeaderMedia:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!x)return"Insufficient permissions.";if(null===y||void 0===y||!y.trim())return"Template name is required.";if(y.trim().toLowerCase().startsWith("untitled_"))return"Please rename the template before saving.";if(null===T||void 0===T||!T.trim())return"Body is required.";if("TEXT"===S&&(null===E||void 0===E||!E.trim()))return"Header text is required when header type is TEXT.";if(e&&["IMAGE","VIDEO","DOCUMENT"].includes(S)&&!C)return"Upload/attach header media first.";const{max:t,map:n}=me(T,W),r=[];for(let c=1;c<=t;c++)n[String(c)]||r.push("{{".concat(c,"}}"));if(r.length>0)return"Examples required for placeholders: ".concat(r.join(", "));const o=ve(D);if(o.length>0){const e=o.filter((e=>"URL"===e.type)).length,t=o.filter((e=>"PHONE"===e.type)).length;if(e>1)return"Only one URL button is allowed.";if(t>1)return"Only one Phone button is allowed.";if(e+t>2)return"Call-to-Action buttons allow a maximum of 2 (URL + Phone)."}for(let c=0;c<D.length;c++){var i,a,s,l;const e=D[c];if(null!==(i=e.text)&&void 0!==i&&i.trim()){if("URL"===e.type&&(null===(a=e.url)||void 0===a||!a.trim()))return'Button "'.concat(e.text,'" requires a valid URL.');if(("PHONE"===e.type||"PHONE_NUMBER"===e.type)&&(null===(s=e.phone_number)||void 0===s||!s.trim())&&(null===(l=e.phone)||void 0===l||!l.trim()))return'Button "'.concat(e.text,'" requires a phone number.')}}return null}();if(e)return a.oR.warn(e),!1;const{map:n}=me(T,W),r={language:g,headerType:S,headerText:"TEXT"===S?E:"",bodyText:T,footerText:I,buttons:ve(D),examples:n};["IMAGE","VIDEO","DOCUMENT"].includes(S)&&(r.headerMediaLocalUrl=(e=>{const t=String(e||"").trim();return t?t.startsWith("handle:")?t:"handle:".concat(t):""})(C));const o={key:y.trim(),category:String(j||"UTILITY").toUpperCase()};try{try{await c.default.patch("/template-builder/drafts/".concat(t),o,{__silentToast:!0})}catch(h){var i,s,l,d;const e=(null===h||void 0===h||null===(i=h.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||(null===h||void 0===h||null===(l=h.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.Message)||(null===h||void 0===h?void 0:h.message)||"Failed to save template name.";return a.oR.error(e),!1}try{await c.default.post("/template-builder/drafts/".concat(t,"/variants"),r,{__silentToast:!0})}catch(m){var u,p,f;throw console.error("POST variant failed:",m),new Error("Variant save failed: ".concat(null===m||void 0===m||null===(u=m.response)||void 0===u?void 0:u.status," ").concat((null===m||void 0===m||null===(p=m.response)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.message)||m.message))}return await xe(),pe(),!0}catch(Jg){return console.error("Save Draft Sequence Failed:",Jg),a.oR.error(Jg.message),!1}},we=e=>{if(!de.current)return;const t=de.current.selectionStart,n=de.current.selectionEnd,r=T,o=r.substring(0,t)+e+r.substring(n);M(o),setTimeout((()=>{de.current&&(de.current.focus(),de.current.setSelectionRange(t+e.length,t+e.length))}),0)},je=e=>{if(!de.current)return;const t=de.current.selectionStart,n=de.current.selectionEnd,r=T,o=r.substring(t,n),i=r.substring(0,t)+e+o+e+r.substring(n);M(i),setTimeout((()=>{de.current&&(de.current.focus(),de.current.setSelectionRange(n+2,n+2))}),0)},Ne={name:y,category:j,headerType:S,headerText:E,headerMediaUrl:P,bodyText:T,footerText:I,buttons:D,examples:W,language:g};return r||J?(0,u.jsxs)("div",{className:"flex items-center justify-center min-h-[400px] text-gray-500",children:[(0,u.jsx)(s.A,{className:"animate-spin mr-2"})," Loading editor..."]}):x?(0,u.jsxs)("div",{className:"min-h-screen bg-[#F0F2F5] pb-20",children:[(0,u.jsxs)("div",{className:"bg-white border-b border-slate-200 px-6 py-2 flex items-center justify-between sticky top-0 z-20 shadow-sm",children:[(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("button",{onClick:async()=>{const e=!y||y.trim().toLowerCase().startsWith("untitled_"),r=!T||!T.trim();if(e&&r&&!q&&!X)try{await VS(t),a.oR.info("Discarded empty draft.")}catch(Jg){console.warn("Failed to cleanup draft",Jg)}n("/app/template-builder/drafts")},className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors",title:"Back to Drafts",children:(0,u.jsx)($s.A,{size:20})}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("h1",{className:"text-lg font-bold text-slate-800",children:y||"Untitled Template"}),(0,u.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),(0,u.jsx)("span",{className:"text-sm text-slate-500",children:g})]}),(0,u.jsxs)("div",{className:"text-xs text-slate-400 font-medium uppercase tracking-wide flex items-center gap-1.5 mt-0.5",children:[j," ",(0,u.jsx)("span",{className:"text-slate-300",children:"\u2022"})," Default",(0,u.jsx)("span",{className:"text-slate-300",children:"\u2022"}),(0,u.jsx)(WS,{status:ee,language:g,condensed:!0})]})]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("button",{type:"button",onClick:()=>{x&&ie(!0)},disabled:ne||q||X,className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:t?"Delete Draft":"Discard Changes",children:ne?(0,u.jsx)(s.A,{className:"animate-spin",size:20}):(0,u.jsx)(hS.A,{size:20})}),(0,u.jsx)("div",{className:"h-8 w-px bg-slate-200 mx-1"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{K(!0);try{await ye()&&a.oR.success("Draft saved.")}finally{K(!1)}},disabled:q,className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 text-sm font-semibold rounded-lg transition-colors disabled:opacity-50 border border-slate-200",children:q?"Saving...":"Save Draft"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(x){Z(!0),ce(null);try{if(!await ye())return;await c.default.post("/template-builder/drafts/".concat(t,"/submit")),await xe(),se(!0)}catch(oD){var e;const r=null===oD||void 0===oD||null===(e=oD.response)||void 0===e?void 0:e.data,o=(null===r||void 0===r?void 0:r.message)||(null===r||void 0===r?void 0:r.Message),i=(null===r||void 0===r?void 0:r.variants)||(null===r||void 0===r?void 0:r.Variants),s=Array.isArray(i)&&i.length>0?i[0]:null,l=(null===s||void 0===s?void 0:s.rejectionReason)||(null===s||void 0===s?void 0:s.RejectionReason)||(null===s||void 0===s?void 0:s.reason)||(null===s||void 0===s?void 0:s.Reason)||null||o||(null===oD||void 0===oD?void 0:oD.message)||"Submission failed.",c=String(l||"");if(c.includes("subcode 2388024")||c.toLowerCase().includes("content in this language already exists"))a.oR.error("This template name already exists on Meta for this language. Please change the template name and try again.");else if(l.toLowerCase().includes("variables can't be at the start or end")||l.toLowerCase().includes("leading or trailing params")){var n;ce("Variables (e.g. {{1}}) cannot be placed at the very beginning or end of your text. Please add some text before or after the variable."),null===(n=document.getElementById("body-input-container"))||void 0===n||n.scrollIntoView({behavior:"smooth",block:"center"})}else ce(l)}finally{Z(!1)}}},disabled:X,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-semibold rounded-lg shadow-sm hover:shadow transition-all disabled:opacity-50",children:X?"Submitting...":"Submit for Approval"})]})]}),(0,u.jsxs)("div",{className:"max-w-[1800px] mx-auto px-12 py-8 grid grid-cols-1 xl:grid-cols-12 gap-0 items-start",children:[(0,u.jsx)("div",{className:"xl:col-span-8 space-y-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200",children:[(0,u.jsxs)("div",{className:"bg-slate-50 border-b border-slate-200 px-4 py-3 flex items-center justify-between rounded-t-2xl",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 text-emerald-600 flex items-center justify-center",children:(0,u.jsx)(TS.A,{size:18})}),(0,u.jsx)("h3",{className:"text-sm font-bold text-slate-800",children:"Template Creation"})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[le&&(0,u.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 bg-red-50 text-red-600 border border-red-100 rounded-lg animate-in fade-in slide-in-from-top-1",children:[(0,u.jsx)(U.A,{size:12}),(0,u.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:le}),(0,u.jsx)("button",{onClick:()=>ce(null),className:"p-0.5 hover:bg-red-100 rounded text-red-400",children:(0,u.jsx)(Pe.A,{size:10})})]}),y&&j&&T&&!le?(0,u.jsxs)("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100 uppercase tracking-wider",children:[(0,u.jsx)(pt.A,{size:12})," Ready to Submit"]}):(0,u.jsx)("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-1 rounded-full uppercase tracking-wider",children:"In Progress"})]})]}),(0,u.jsxs)("div",{className:"p-4 space-y-4",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"Template Name"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("input",{value:y,onChange:e=>w(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),maxLength:25,className:"w-full h-9 px-2.5 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500/10 focus:border-emerald-500 text-sm font-medium transition-all",placeholder:"e.g. order_confirmation"}),(0,u.jsx)("div",{className:"absolute right-2 top-1.5 text-slate-300",title:"Alphanumeric and underscores only",children:(0,u.jsx)(MS.A,{size:12})})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"Category"}),(0,u.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full h-9 px-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500/10 focus:border-emerald-500 text-sm font-medium transition-all bg-white",children:[(0,u.jsx)("option",{value:"UTILITY",children:"Utility"}),(0,u.jsx)("option",{value:"MARKETING",children:"Marketing"}),(0,u.jsx)("option",{value:"AUTHENTICATION",children:"Authentication"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 block",children:"Language"}),(0,u.jsx)("select",{value:g,onChange:e=>he(e.target.value),className:"w-full h-9 px-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500/10 focus:border-emerald-500 text-sm font-medium transition-all bg-white",children:(0,u.jsx)("option",{value:"en_US",children:"English (en_US)"})})]})]}),(0,u.jsx)("div",{className:"h-px bg-slate-100 mx-[-1rem] my-1"}),(0,u.jsx)("p",{className:"text-sm text-slate-500 mb-3",children:"Add a header, body, and footer for your template. Cloud API hosted by Meta will review the template variables."}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("label",{className:"text-sm font-semibold text-slate-700 block",children:["Header Content ",(0,u.jsx)("span",{className:"text-slate-400 font-normal ml-1",children:"Optional"})]}),(0,u.jsx)("div",{className:"grid grid-cols-5 gap-3",children:[{id:"NONE",label:"None",icon:(0,u.jsx)(Pe.A,{size:14}),color:"text-slate-400",bg:"bg-slate-50",border:"border-slate-200"},{id:"TEXT",label:"Text",icon:(0,u.jsx)(IS,{size:14}),color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-200"},{id:"IMAGE",label:"Image",icon:(0,u.jsx)(wS,{size:14}),color:"text-amber-500",bg:"bg-amber-50",border:"border-amber-200"},{id:"VIDEO",label:"Video",icon:(0,u.jsx)(yS,{size:14}),color:"text-indigo-500",bg:"bg-indigo-50",border:"border-indigo-200"},{id:"DOCUMENT",label:"Document",icon:(0,u.jsx)(RS,{size:14}),color:"text-sky-500",bg:"bg-sky-50",border:"border-sky-200"}].map((e=>(0,u.jsxs)("button",{type:"button",onClick:()=>{A(e.id),"TEXT"!==e.id&&k(""),["IMAGE","VIDEO","DOCUMENT"].includes(e.id)||(_(""),O(null))},className:"flex items-center gap-2 px-2.5 py-1.5 rounded-lg border transition-all ".concat(S===e.id?"".concat(e.border," ").concat(e.bg," ").concat(e.color," shadow-sm font-bold scale-[1.02]"):"border-slate-200 bg-white text-slate-500 hover:border-slate-300 hover:bg-slate-50"),children:[(0,u.jsx)("span",{className:(e.id,e.color),children:e.icon}),(0,u.jsx)("span",{className:"text-[10px] uppercase tracking-wide",children:e.label})]},e.id)))})]}),"TEXT"===S&&(0,u.jsx)("input",{value:E,onChange:e=>k(e.target.value),className:"w-full h-9 px-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500/10 focus:border-emerald-500 text-sm font-medium transition-all",placeholder:"Enter text header...",maxLength:60}),["IMAGE","VIDEO","DOCUMENT"].includes(S)&&(0,u.jsx)("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-200 border-dashed",children:(0,u.jsx)(KS,{draftId:t,language:g,mediaType:S,handle:C,onUploaded:e=>_(e),onPreview:e=>O(e)})})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"text-sm font-semibold text-slate-700",children:"Body"}),(0,u.jsxs)("div",{className:"border border-slate-300 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-emerald-500/20 focus-within:border-emerald-500 transition-all bg-white",children:[(0,u.jsxs)("div",{className:"flex items-center gap-1 bg-slate-50 border-b border-slate-200 px-2 py-1.5",children:[(0,u.jsx)("button",{type:"button",onClick:()=>je("*"),className:"p-1.5 hover:bg-slate-200 rounded text-slate-600 transition-colors",title:"Bold",children:(0,u.jsx)(DS,{size:16})}),(0,u.jsx)("button",{type:"button",onClick:()=>je("_"),className:"p-1.5 hover:bg-slate-200 rounded text-slate-600 transition-colors",title:"Italic",children:(0,u.jsx)(LS,{size:16})}),(0,u.jsx)("div",{className:"w-px h-4 bg-slate-300 mx-1"}),(0,u.jsx)("button",{type:"button",onClick:()=>we(":)"),className:"p-1.5 hover:bg-slate-200 rounded text-slate-600 transition-colors",title:"Emoji",children:(0,u.jsx)(FS.A,{size:16})}),(0,u.jsxs)("button",{type:"button",onClick:()=>we("{{1}}"),className:"flex items-center gap-1 px-2 py-1 bg-emerald-100 hover:bg-emerald-200 text-emerald-700 text-xs font-medium rounded transition-colors",title:"Add Variable",children:[(0,u.jsx)(BS,{size:14})," + Add variable"]})]}),(0,u.jsx)("textarea",{ref:de,value:T,onChange:e=>M(e.target.value),rows:8,className:"w-full p-3 text-sm focus:outline-none resize-y min-h-[150px]",placeholder:"Enter the text for your message in the language that you've selected..."}),(0,u.jsxs)("div",{className:"bg-slate-50 px-3 py-1.5 text-xs text-slate-400 flex justify-between border-t border-slate-100",children:[(0,u.jsx)("span",{children:"Markdown supported"}),(0,u.jsxs)("span",{children:[T.length,"/1024"]})]})]}),le&&(0,u.jsxs)("div",{className:"mt-2 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-red-50 text-red-600 text-xs font-medium border border-red-100 animate-in fade-in slide-in-from-top-1",children:[(0,u.jsx)(U.A,{size:14,className:"shrink-0"}),(0,u.jsx)("span",{children:le})]}),T.includes("{{")&&(0,u.jsxs)("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,u.jsx)(MS.A,{size:14,className:"text-emerald-600"}),(0,u.jsx)("h4",{className:"text-sm font-bold text-slate-700",children:"Example Values"})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mb-4",children:"Enter values for your variables to see them in the live preview."}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:W.map(((e,t)=>{const n="{{".concat(t+1,"}}");return T.includes(n)?(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"shrink-0 text-[10px] font-mono font-bold text-emerald-700 bg-emerald-50 px-2 py-1 rounded border border-emerald-100 min-w-[32px] text-center",children:n}),(0,u.jsx)("input",{value:e,onChange:e=>{const n=[...W];n[t]=e.target.value,H(n)},className:"w-full h-9 px-3 rounded border border-slate-200 text-sm focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 bg-white",placeholder:"Value for ".concat(n)})]},t):null}))})]})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["Footer ",(0,u.jsx)("span",{className:"text-slate-400 font-normal",children:"Optional"})]}),(0,u.jsx)("input",{value:I,onChange:e=>R(e.target.value),className:"w-full h-10 px-3 rounded border border-slate-300 focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 text-sm text-slate-500 placeholder:text-slate-300",placeholder:"Add a short line of text to the bottom of your message..."})]}),(0,u.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,u.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,u.jsxs)("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:["Interactive Buttons ",(0,u.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-100 text-slate-400 font-bold uppercase tracking-wider",children:"Optional"})]}),D.length<10&&(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("button",{ref:z,type:"button",onClick:()=>B("ADD"===F?null:"ADD"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-700 text-xs font-bold rounded-lg transition-all border border-slate-200",children:[(0,u.jsx)(uS.A,{size:14})," Add Button ",(0,u.jsx)(Ae.A,{size:12,className:"transition-transform ".concat("ADD"===F?"rotate-180":"")})]}),"ADD"===F&&(0,u.jsxs)(XS,{anchorRef:z,onClose:()=>B(null),children:[(0,u.jsxs)("button",{type:"button",onClick:()=>{L([...D,{type:"QUICK_REPLY",text:""}]),B(null)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium text-slate-600 hover:bg-slate-50 transition-colors",children:[(0,u.jsx)(zS,{size:16,className:"text-slate-400"}),(0,u.jsx)("span",{children:"Quick Reply"})]}),(0,u.jsxs)("button",{type:"button",disabled:D.filter((e=>"URL"===e.type)).length>=2,onClick:()=>{L([...D,{type:"URL",text:"",url:""}]),B(null)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium text-slate-600 hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed group",children:[(0,u.jsx)(US.A,{size:16,className:"text-slate-400 group-hover:text-emerald-500"}),(0,u.jsxs)("div",{className:"flex flex-col items-start leading-tight",children:[(0,u.jsx)("span",{children:"Visit Website"}),(0,u.jsx)("span",{className:"text-[9px] text-slate-400",children:"2 buttons maximum"})]})]}),(0,u.jsxs)("button",{type:"button",disabled:D.filter((e=>"PHONE_NUMBER"===e.type)).length>=1,onClick:()=>{L([...D,{type:"PHONE_NUMBER",text:"",phone_number:""}]),B(null)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium text-slate-600 hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed group border-t border-slate-50",children:[(0,u.jsx)(ge.A,{size:16,className:"text-slate-400 group-hover:text-blue-500"}),(0,u.jsxs)("div",{className:"flex flex-col items-start leading-tight",children:[(0,u.jsx)("span",{children:"Call Phone Number"}),(0,u.jsx)("span",{className:"text-[9px] text-slate-400",children:"1 button maximum"})]})]})]})]})]}),(0,u.jsx)("div",{className:"space-y-0 rounded-xl border border-slate-200 bg-slate-50/30 overflow-hidden ".concat(D.length>0?"mt-3":""),children:D.map(((e,t)=>{const n=D.filter((e=>"URL"===e.type)).length,r=D.filter((e=>"PHONE_NUMBER"===e.type)).length;return(0,u.jsxs)("div",{className:"group relative transition-all",children:[t>0&&(0,u.jsx)("div",{className:"h-px bg-slate-200/60 mx-4"}),(0,u.jsxs)("div",{className:"p-3 flex gap-2 items-center hover:bg-white transition-colors",children:[(0,u.jsxs)("div",{className:"w-1/3 relative",children:[(0,u.jsxs)("button",{ref:e=>V.current[t]=e,type:"button",onClick:()=>B(F===t?null:t),className:"w-full h-9 px-2 flex items-center justify-between rounded-md border border-slate-200 bg-white hover:border-slate-300 transition-all text-left",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,u.jsxs)("span",{className:"shrink-0 text-slate-400",children:["QUICK_REPLY"===e.type&&(0,u.jsx)($,{size:13}),"URL"===e.type&&(0,u.jsx)(US.A,{size:13}),"PHONE_NUMBER"===e.type&&(0,u.jsx)(ge.A,{size:13})]}),(0,u.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-tight text-slate-700 truncate",children:"QUICK_REPLY"===e.type?"Quick Reply":"URL"===e.type?"Visit Website":"Call Phone Number"})]}),(0,u.jsx)(Ae.A,{size:12,className:"shrink-0 text-slate-400 transition-transform ".concat(F===t?"rotate-180":"")})]}),F===t&&(0,u.jsxs)(XS,{anchorRef:{current:V.current[t]},onClose:()=>B(null),children:[(0,u.jsxs)("button",{type:"button",onClick:()=>{const e=[...D];e[t]=(0,b.A)((0,b.A)({},e[t]),{},{type:"QUICK_REPLY",url:"",phone_number:""}),L(e),B(null)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium transition-colors ".concat("QUICK_REPLY"===e.type?"bg-emerald-50 text-emerald-700":"text-slate-600 hover:bg-slate-50"),children:[(0,u.jsx)(zS,{size:16,className:"QUICK_REPLY"===e.type?"text-emerald-500":"text-slate-400"}),(0,u.jsx)("span",{children:"Quick Reply"})]}),(0,u.jsxs)("button",{type:"button",disabled:n>=2&&"URL"!==e.type,onClick:()=>{const e=[...D];e[t]=(0,b.A)((0,b.A)({},e[t]),{},{type:"URL",url:"",phone_number:""}),L(e),B(null)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed group ".concat("URL"===e.type?"bg-emerald-50 text-emerald-700":"text-slate-600 hover:bg-slate-50"),children:[(0,u.jsx)(US.A,{size:16,className:"URL"===e.type?"text-emerald-500":"text-slate-400 group-hover:text-emerald-500"}),(0,u.jsxs)("div",{className:"flex flex-col items-start leading-tight text-left",children:[(0,u.jsx)("span",{children:"Visit Website"}),(0,u.jsx)("span",{className:"text-[9px] text-slate-400",children:"2 buttons maximum"})]})]}),(0,u.jsxs)("button",{type:"button",disabled:r>=1&&"PHONE_NUMBER"!==e.type,onClick:()=>{const e=[...D];e[t]=(0,b.A)((0,b.A)({},e[t]),{},{type:"PHONE_NUMBER",url:"",phone_number:""}),L(e),B(null)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium border-t border-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed group ".concat("PHONE_NUMBER"===e.type?"bg-emerald-50 text-emerald-700":"text-slate-600 hover:bg-slate-50"),children:[(0,u.jsx)(ge.A,{size:16,className:"PHONE_NUMBER"===e.type?"text-emerald-500":"text-slate-400 group-hover:text-blue-500"}),(0,u.jsxs)("div",{className:"flex flex-col items-start leading-tight text-left",children:[(0,u.jsx)("span",{children:"Call Phone Number"}),(0,u.jsx)("span",{className:"text-[9px] text-slate-400",children:"1 button maximum"})]})]})]})]}),(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsx)("input",{value:e.text,onChange:e=>{const n=[...D];n[t].text=e.target.value,L(n)},className:"w-full h-9 px-3 rounded-md border border-slate-200 text-sm font-medium focus:ring-emerald-500 focus:border-emerald-500 transition-all placeholder:text-slate-300",placeholder:"Button Label"})}),"QUICK_REPLY"!==e.type&&(0,u.jsx)("div",{className:"flex-[1.5]",children:(0,u.jsx)("input",{value:"URL"===e.type?e.url:e.phone_number,onChange:n=>{const r=[...D];"URL"===e.type?r[t].url=n.target.value:r[t].phone_number=n.target.value,L(r)},className:"w-full h-9 px-3 rounded-md border border-slate-200 text-sm font-medium focus:ring-emerald-500 focus:border-emerald-500 transition-all placeholder:text-slate-300",placeholder:"URL"===e.type?"https://...":"+1..."})}),(0,u.jsx)("button",{type:"button",onClick:()=>L(D.filter(((e,n)=>n!==t))),className:"p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-md transition-all",title:"Remove Button",children:(0,u.jsx)(hS.A,{size:14})})]})]},t)}))})]})]})]})}),(0,u.jsx)("div",{className:"xl:col-span-4 xl:sticky xl:top-[88px] h-fit space-y-4 pl-12",children:(0,u.jsx)(kS,{draft:Ne})})]}),(0,u.jsx)(GS,{isOpen:oe,onClose:()=>ie(!1),onConfirm:async()=>{if(!t)return pe(),void n("/app/template-builder/library",{replace:!0});re(!0);try{await c.default.delete("/template-builder/drafts/".concat(t)),a.oR.success("Draft deleted successfully"),pe(),n("/app/template-builder/library",{replace:!0})}catch(oD){var e,r;const n=(null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||(null===oD||void 0===oD?void 0:oD.message)||"Failed to delete draft";a.oR.error(n)}finally{re(!1),ie(!1)}},loading:ne,title:t?"Delete Draft?":"Discard Changes?",description:t?"Are you sure you want to delete this draft? This action cannot be undone.":"Are you sure you want to discard these changes? You will lose all unsaved progress.",confirmText:t?"Delete":"Discard"}),ae&&(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",children:(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-sm w-full mx-4 p-6 text-center transform animate-in zoom-in-95 duration-200 border border-slate-100",children:[(0,u.jsx)("div",{className:"w-14 h-14 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4 ring-4 ring-emerald-50/50",children:(0,u.jsx)(pt.A,{size:32})}),(0,u.jsx)("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Submitted for Review"}),(0,u.jsxs)("p",{className:"text-sm text-slate-500 mb-6 leading-relaxed",children:["Your template has been sent to Meta. Reviews typically take ",(0,u.jsx)("span",{className:"font-medium text-slate-700",children:"24 hours"}),", but can take up to 72 hours for complex templates."]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("button",{onClick:()=>{se(!1),window.location.href="/app/template-builder/pending"},className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-medium py-2.5 px-4 rounded-lg transition-all shadow-md shadow-emerald-600/10 active:scale-[0.98]",children:"View Approval Status"}),(0,u.jsx)("button",{onClick:()=>se(!1),className:"w-full bg-white hover:bg-slate-50 text-slate-600 text-sm font-medium py-2.5 px-4 rounded-lg border border-slate-200 transition-colors",children:"Close"})]})]})})]}):(0,u.jsxs)("div",{className:"p-8",children:[(0,u.jsxs)(o.N_,{to:"/app/template-builder/library",className:"text-emerald-600 hover:underline flex items-center gap-2 mb-4",children:[(0,u.jsx)($s.A,{size:18})," Back to Library"]}),(0,u.jsx)(fo,{className:"p-6 border-red-100 bg-red-50",children:(0,u.jsxs)("div",{className:"flex items-start gap-4",children:[(0,u.jsx)(U.A,{className:"text-red-600 mt-1"}),(0,u.jsx)("div",{children:(0,u.jsx)("div",{className:"text-lg font-semibold text-red-800 mb-1",children:"Insufficient permissions"})})]})})]})}const ZS=(0,_.A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),JS=(0,_.A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),QS=(0,_.A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var eA=n(60446),tA=n.n(eA);function nA(e){const t=String(e||"");return t?"en_US"===t?"English (US)":t:"\u2014"}function rA(e){const t=String(e||"").toUpperCase();return"APPROVED"===t?"Active":"PENDING"===t||"PENDING_APPROVAL"===t||"IN_REVIEW"===t||"PENDING_REVIEW"===t?"Pending":"REJECTED"===t?"Rejected":"PAUSED"===t?"Paused":t||"Unknown"}function oA(e){const t=String(e||"").toUpperCase();return"APPROVED"===t?"bg-emerald-50 text-emerald-700 border-emerald-200":"PENDING"===t||"PENDING_APPROVAL"===t||"IN_REVIEW"===t||"PENDING_REVIEW"===t?"bg-amber-50 text-amber-700 border-amber-200":"REJECTED"===t?"bg-red-50 text-red-700 border-red-200":"bg-slate-50 text-slate-600 border-slate-200"}function iA(e){const t=String(e||"").toLowerCase();return"text"===t?"TEXT":"image"===t?"IMAGE":"video"===t?"VIDEO":"document"===t?"DOCUMENT":"NONE"}function aA(t){let{forcedStatus:n}=t;const{effectiveBusinessId:r,businessId:i}=(0,l.h)(),s=(0,e.useMemo)((()=>r||i||localStorage.getItem("businessId")||null),[i,r]),d=(e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e))(s),[p,f]=(0,e.useState)(!1),[h,m]=(0,e.useState)(null),[g,v]=(0,e.useState)([]),[x,b]=(0,e.useState)(1),[y]=(0,e.useState)(10),[w,j]=(0,e.useState)(0),[N,S]=(0,e.useState)(0),[A,E]=(0,e.useState)(n||""),[k]=(0,o.ok)(),C=k.get("q")||"",_=k.get("v")||"",P=k.get("category")||"ALL",O=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;const[r,o]=(0,e.useState)(t);return(0,e.useEffect)((()=>{const e=setTimeout((()=>o(t)),n);return()=>clearTimeout(e)}),[t,n]),r}(C,250),[T,M]=(0,e.useState)("updatedAt"),[I,D]=(0,e.useState)("desc"),[L,F]=(0,e.useState)(!1),[B,z]=(0,e.useState)(null),U=(0,e.useRef)(new Map);(0,e.useEffect)((()=>{b(1),E(n||"")}),[n]),(0,e.useEffect)((()=>{b(1)}),[O,P,_]);const V=(0,e.useCallback)((async()=>{if(d){f(!0);try{var e;const t=await c.default.get("templates/".concat(s),{params:{q:O.trim()||void 0,status:A||void 0,category:"ALL"!==P?P:void 0,page:x,pageSize:y,sortKey:T,sortDir:I},__silentToast:!0});null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.success?(v(Array.isArray(t.data.templates)?t.data.templates:[]),j(t.data.totalCount||0),S(t.data.totalPages||0)):(a.oR.error("Failed to load templates."),v([]))}catch(Jg){var t,n;a.oR.error((null===Jg||void 0===Jg||null===(t=Jg.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error loading templates."),v([])}finally{f(!1)}}}),[s,d,O,A,P,x,y,T,I,_]);(0,e.useEffect)((()=>{V()}),[V]);const W=e=>{b(1),T===e?D((e=>"asc"===e?"desc":"asc")):(M(e),D("asc"))},H=g,K=((0,e.useMemo)((()=>({count:w})),[w]),(0,e.useCallback)((async(e,t)=>{if(!d||!e)return;const n="".concat(e,"::").concat(t||""),r=U.current.get(n);if(r)return z(r),void F(!0);try{var o,i,l,u,p,f,h,m,g,v,x,b,y,w,j;const r=await c.default.get("templates/".concat(s,"/").concat(encodeURIComponent(e)),{params:{language:t||void 0},__silentToast:!0}),a=(null===r||void 0===r||null===(o=r.data)||void 0===o?void 0:o.template)||(null===r||void 0===r?void 0:r.data)||null,d={name:null!==(i=null!==(l=null===a||void 0===a?void 0:a.name)&&void 0!==l?l:null===a||void 0===a?void 0:a.Name)&&void 0!==i?i:e,languageCode:null!==(u=null!==(p=null===a||void 0===a?void 0:a.languageCode)&&void 0!==p?p:null===a||void 0===a?void 0:a.LanguageCode)&&void 0!==u?u:t,category:null!==(f=null!==(h=null===a||void 0===a?void 0:a.category)&&void 0!==h?h:null===a||void 0===a?void 0:a.Category)&&void 0!==f?f:"",status:null!==(m=null!==(g=null===a||void 0===a?void 0:a.status)&&void 0!==g?g:null===a||void 0===a?void 0:a.Status)&&void 0!==m?m:"",body:null!==(v=null!==(x=null===a||void 0===a?void 0:a.body)&&void 0!==x?x:null===a||void 0===a?void 0:a.Body)&&void 0!==v?v:"",headerKind:null!==(b=null!==(y=null===a||void 0===a?void 0:a.headerKind)&&void 0!==y?y:null===a||void 0===a?void 0:a.HeaderKind)&&void 0!==b?b:"none",buttons:null!==(w=null!==(j=null===a||void 0===a?void 0:a.buttons)&&void 0!==j?j:null===a||void 0===a?void 0:a.Buttons)&&void 0!==w?w:[]};U.current.set(n,d),z(d),F(!0)}catch(Jg){var N,S;a.oR.error((null===Jg||void 0===Jg||null===(N=Jg.response)||void 0===N||null===(S=N.data)||void 0===S?void 0:S.message)||"Failed to load template preview.")}}),[s,d])),G=(0,e.useMemo)((()=>{if(!B)return null;const e=String(B.body||""),t=function(e){const t=String(e||""),n=/\{\{\s*(\d+)\s*\}\}/g;let r,o=0;for(;r=n.exec(t);){const e=Number(r[1]);Number.isFinite(e)&&e>o&&(o=e)}return o}(e),n=[];for(let o=1;o<=t;o++)n.push(1===o?"12345":"Example ".concat(o));return{name:B.name,category:B.category,language:B.languageCode||"en_US",headerType:iA(B.headerKind),headerText:"",headerMediaUrl:null,bodyText:e,footerText:"",buttons:(r=B.buttons,(Array.isArray(r)?r:[]).map((e=>{var t,n;const r=String((null===e||void 0===e?void 0:e.type)||"").toUpperCase(),o=String((null===e||void 0===e?void 0:e.text)||""),i=null!==(t=null!==(n=null===e||void 0===e?void 0:e.parameterValue)&&void 0!==n?n:null===e||void 0===e?void 0:e.ParameterValue)&&void 0!==t?t:null;return r?"URL"===r?{type:"URL",text:o,url:String(i||"")}:"PHONE"===r||"PHONE_NUMBER"===r?{type:"PHONE_NUMBER",text:o,phone_number:String(i||"")}:"QUICK_REPLY"===r?{type:"QUICK_REPLY",text:o}:{type:r,text:o}:null})).filter(Boolean).slice(0,3)),examples:n};var r}),[B]),Y=e=>{let{columnKey:t}=e;return T!==t?(0,u.jsx)(ZS,{size:14,className:"text-slate-300"}):"asc"===I?(0,u.jsx)(JS,{size:14,className:"text-slate-600"}):(0,u.jsx)(QS,{size:14,className:"text-slate-600"})};n&&("PENDING"===n||"".concat(n," Templates"));return(0,u.jsxs)("div",{className:"space-y-4 font-sans max-h-[calc(100vh-140px)] flex flex-col",children:[d?(0,u.jsx)("div",{className:"flex gap-6 items-start",children:(0,u.jsx)(fo,{className:"flex-1 overflow-hidden border border-slate-200 rounded-lg",children:(0,u.jsxs)("div",{className:"overflow-auto",children:[(0,u.jsxs)("table",{className:"w-full text-sm table-fixed",children:[(0,u.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,u.jsxs)("tr",{className:"text-left text-slate-700",children:[(0,u.jsx)("th",{className:"w-[360px] px-4 py-3 font-semibold cursor-pointer select-none",onClick:()=>W("name"),children:(0,u.jsxs)("div",{className:"inline-flex items-center gap-2",children:["Template name ",(0,u.jsx)(Y,{columnKey:"name"})]})}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold cursor-pointer select-none",onClick:()=>W("category"),children:(0,u.jsxs)("div",{className:"inline-flex items-center gap-2",children:["Category ",(0,u.jsx)(Y,{columnKey:"category"})]})}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold cursor-pointer select-none",onClick:()=>W("language"),children:(0,u.jsxs)("div",{className:"inline-flex items-center gap-2",children:["Language ",(0,u.jsx)(Y,{columnKey:"language"})]})}),(0,u.jsx)("th",{className:"w-[220px] px-4 py-3 font-semibold cursor-pointer select-none",onClick:()=>W("status"),children:(0,u.jsxs)("div",{className:"inline-flex items-center gap-2",children:["Status ",(0,u.jsx)(Y,{columnKey:"status"})]})}),(0,u.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Top block reason"}),(0,u.jsx)("th",{className:"w-[160px] px-4 py-3 font-semibold cursor-pointer select-none",onClick:()=>W("updatedAt"),children:(0,u.jsxs)("div",{className:"inline-flex items-center gap-2",children:["PENDING"===A?"Submitted":"Last edited"," ",(0,u.jsx)(Y,{columnKey:"updatedAt"})]})})]})}),(0,u.jsx)("tbody",{className:"bg-white",children:H.map((e=>{var t,n,r,o,i,a,s,l,c,d,p,f,h,g,v,x;const b=null!==(t=null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:null===e||void 0===e?void 0:e.Name)&&void 0!==t?t:"",y=null!==(r=null!==(o=null===e||void 0===e?void 0:e.languageCode)&&void 0!==o?o:null===e||void 0===e?void 0:e.LanguageCode)&&void 0!==r?r:"en_US",w=null!==(i=null!==(a=null===e||void 0===e?void 0:e.category)&&void 0!==a?a:null===e||void 0===e?void 0:e.Category)&&void 0!==i?i:"\u2014",j=null!==(s=null!==(l=null===e||void 0===e?void 0:e.status)&&void 0!==l?l:null===e||void 0===e?void 0:e.Status)&&void 0!==s?s:"\u2014",N="".concat(b,"::").concat(y),S=String(null!==(c=null!==(d=null!==(p=null!==(f=null===e||void 0===e?void 0:e.bodyPreview)&&void 0!==f?f:null===e||void 0===e?void 0:e.BodyPreview)&&void 0!==p?p:null===e||void 0===e?void 0:e.body)&&void 0!==d?d:null===e||void 0===e?void 0:e.Body)&&void 0!==c?c:"").trim(),A=null!==(h=null!==(g=null!==(v=null!==(x=null===e||void 0===e?void 0:e.updatedAt)&&void 0!==x?x:null===e||void 0===e?void 0:e.UpdatedAt)&&void 0!==v?v:null===e||void 0===e?void 0:e.lastSyncedAt)&&void 0!==g?g:null===e||void 0===e?void 0:e.LastSyncedAt)&&void 0!==h?h:null;return(0,u.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,u.jsx)("td",{className:"px-4 py-4 w-[360px]",children:(0,u.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,u.jsxs)("div",{className:"min-w-0 max-w-[280px]",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"font-semibold text-slate-900 truncate",children:b||"\u2014"}),(0,u.jsx)("button",{type:"button",className:"text-slate-400 hover:text-emerald-700",title:"Preview",onClick:()=>K(b,y),children:(0,u.jsx)(R.A,{size:16})}),(0,u.jsx)("button",{type:"button",className:"text-slate-300 hover:text-red-500 hover:bg-red-50 p-1 rounded-md transition-all ml-1",title:"Delete Template",onClick:()=>((e,t)=>{m({name:e,language:t})})(b,y),children:(0,u.jsx)(hS.A,{size:16})})]}),S?(0,u.jsx)("div",{className:"text-xs text-slate-500 mt-1 truncate",children:S}):null]})})}),(0,u.jsx)("td",{className:"px-4 py-4",children:w||"\u2014"}),(0,u.jsx)("td",{className:"px-4 py-4",children:nA(y)}),(0,u.jsx)("td",{className:"px-4 py-4",children:(0,u.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full border text-xs font-semibold "+oA(j),children:rA(j)})}),(0,u.jsx)("td",{className:"px-4 py-4 text-slate-700",children:"--"}),(0,u.jsx)("td",{className:"px-4 py-4 text-slate-700 whitespace-nowrap",children:A?tA()(A).format("D MMM YYYY"):"\u2014"})]},N)}))})]}),N>0&&(0,u.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-slate-200 sm:px-6",children:[(0,u.jsxs)("div",{className:"flex justify-between flex-1 sm:hidden",children:[(0,u.jsx)("button",{onClick:()=>b((e=>Math.max(1,e-1))),disabled:1===x,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 disabled:opacity-50",children:"Previous"}),(0,u.jsx)("button",{onClick:()=>b((e=>Math.min(N,e+1))),disabled:x===N,className:"relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 disabled:opacity-50",children:"Next"})]}),(0,u.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,u.jsx)("div",{children:(0,u.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing ",(0,u.jsx)("span",{className:"font-medium",children:(x-1)*y+1})," to ",(0,u.jsx)("span",{className:"font-medium",children:Math.min(x*y,w)})," of"," ",(0,u.jsx)("span",{className:"font-medium",children:w})," results"]})}),(0,u.jsx)("div",{children:(0,u.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,u.jsxs)("button",{onClick:()=>b((e=>Math.max(1,e-1))),disabled:1===x,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50",children:[(0,u.jsx)("span",{className:"sr-only",children:"Previous"}),(0,u.jsx)($s.A,{className:"h-5 w-5","aria-hidden":"true"})]}),(0,u.jsxs)("span",{className:"relative inline-flex items-center px-4 py-2 border border-slate-300 bg-white text-sm font-medium text-slate-700",children:["Page ",x," of ",N]}),(0,u.jsxs)("button",{onClick:()=>b((e=>Math.min(N,e+1))),disabled:x===N||0===N,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50",children:[(0,u.jsx)("span",{className:"sr-only",children:"Next"}),(0,u.jsx)(q.A,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})})}):(0,u.jsx)(fo,{className:"p-6 text-slate-700",children:"Select a business (top bar) and try again."}),(0,u.jsx)(as,{open:L,onOpenChange:e=>{e||(F(!1),z(null))},children:(0,u.jsx)(ss,{className:"max-w-[380px] p-0 overflow-hidden !border-none !bg-transparent !shadow-none [&>button]:hidden",children:G&&(0,u.jsxs)("div",{className:"flex flex-col items-center w-full relative",children:[(0,u.jsx)("button",{type:"button",onClick:()=>F(!1),className:"absolute -top-10 right-0 p-2 text-white/80 hover:text-white transition-colors focus:outline-none",title:"Close Preview",children:(0,u.jsx)(Pe.A,{size:24})}),(0,u.jsx)("div",{className:"w-full",children:(0,u.jsx)(kS,{draft:G})})]})})}),(0,u.jsx)(GS,{isOpen:!!h,onClose:()=>m(null),onConfirm:async()=>{if(!h)return;const{name:e,language:t}=h;try{await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US";const{data:n}=await c.default.delete("/template-builder/templates/".concat(encodeURIComponent(e)),{params:{language:t}});return n}(e,t),a.oR.success("Template deleted successfully"),v((n=>n.filter((n=>!((n.name||n.Name)===e&&(n.languageCode||n.LanguageCode)===t)))))}catch(oD){var n,r;a.oR.error((null===oD||void 0===oD||null===(n=oD.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to delete template")}finally{m(null)}},title:"Delete Approved Template?",description:"This will permanently delete the template from your account and Meta. This action cannot be undone."})]})}const sA=(0,_.A)("list-checks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);var lA=n(50516);const cA=[{label:"Approved",to:"/app/template-builder/approved",icon:(0,u.jsx)(ae.A,{size:16}),key:"approved"},{label:"Drafts",to:"/app/template-builder/drafts",icon:(0,u.jsx)(sA,{size:16}),key:"drafts"},{label:"Pending",to:"/app/template-builder/pending",icon:(0,u.jsx)(x.A,{size:16}),key:"pending"}];function dA(){const{pathname:t}=(0,i.zy)(),n=(0,i.Zp)(),[r,s]=(0,o.ok)(),{effectiveBusinessId:d,businessId:p}=(0,l.h)(),f=e.useMemo((()=>d||p||localStorage.getItem("businessId")||null),[p,d]),[h,m]=e.useState({approved:0,pending:0,drafts:0,library:0}),[g,v]=e.useState(!1),x=e.useCallback((async()=>{if(f)try{var e;const t=await c.default.get("templates/summary/".concat(f),{__silentToast:!0});null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.success&&m(t.data)}catch(Jg){}}),[f]);e.useEffect((()=>{x()}),[x]);const b=r.get("q")||"",y=r.get("category")||"ALL";return(0,u.jsxs)("div",{className:"min-h-screen bg-[#f8f9fa] flex flex-col",children:[(0,u.jsx)("header",{className:"bg-white border-b border-slate-200 px-6 py-3",children:(0,u.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col gap-3",children:[(0,u.jsx)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Template Builder"}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Create, validate, manage, and submit your WhatsApp templates."})]})}),(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mt-2 border-b border-transparent",children:[(0,u.jsx)("div",{className:"flex items-center gap-1",children:cA.map((e=>{const n=(r=e.to,t===r||t.startsWith("".concat(r,"/")));var r;return(0,u.jsxs)(o.N_,{to:e.to,className:"\n                        relative px-4 py-2 text-sm font-medium rounded-t-lg flex items-center gap-2 transition-all\n                        ".concat(n?"text-emerald-700 bg-white border-b-2 border-emerald-600 shadow-sm z-10":"text-slate-500 hover:text-slate-700 hover:bg-slate-50","\n                      "),children:[e.icon,e.label,h[e.key]>0&&(0,u.jsx)("span",{className:"\n                          ml-1.5 px-1.5 py-0.5 text-[10px] font-bold rounded-full\n                          ".concat(n?"bg-emerald-100 text-emerald-800":"bg-slate-100 text-slate-500 group-hover:bg-slate-200","\n                        "),children:h[e.key]}),n&&(0,u.jsx)("div",{className:"absolute -bottom-[1px] left-0 right-0 h-[1px] bg-white"})]},e.to)}))}),(0,u.jsxs)("div",{className:"flex items-center gap-4 bg-slate-50 rounded-lg px-3 py-1.5 border border-slate-100 mb-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 border-r border-slate-200 pr-3 mr-1",children:[(0,u.jsx)(Jr.A,{size:14,className:"text-slate-400"}),(0,u.jsx)("input",{type:"text",placeholder:"Search...",className:"bg-transparent border-none text-xs focus:ring-0 w-32 md:w-48 placeholder-slate-400 text-slate-700 p-0",value:b,onChange:e=>{return t=e.target.value,void s((e=>{const n=new URLSearchParams(e);return t?n.set("q",t):n.delete("q"),n}),{replace:!0});var t}})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(eo.A,{size:14,className:"text-slate-400"}),(0,u.jsxs)("select",{className:"bg-transparent border-none text-[11px] font-semibold text-slate-600 focus:ring-0 cursor-pointer p-0 pr-6",value:y,onChange:e=>{return t=e.target.value,void s((e=>{const n=new URLSearchParams(e);return"ALL"!==t?n.set("category",t):n.delete("category"),n}),{replace:!0});var t},children:[(0,u.jsx)("option",{value:"ALL",children:"All Categories"}),(0,u.jsx)("option",{value:"MARKETING",children:"Marketing"}),(0,u.jsx)("option",{value:"UTILITY",children:"Utility"}),(0,u.jsx)("option",{value:"AUTHENTICATION",children:"Authentication"})]})]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>n("/app/template-builder/drafts?create=1"),className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 transition-all shadow-sm",title:"Create a new template from scratch",children:[(0,u.jsx)(uS.A,{size:14}),"New Template"]}),(0,u.jsxs)("button",{type:"button",onClick:async()=>{if(f&&!g){v(!0);try{const{data:e}=await c.default.post("templates/sync/".concat(f));e.success?(a.oR.success(e.message||"Sync started..."),x(),s((e=>{const t=new URLSearchParams(e);return t.set("v",Date.now().toString()),t}),{replace:!0})):a.oR.error(e.message||"Sync failed")}catch(oD){var e,t;a.oR.error((null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Sync error")}finally{v(!1)}}},disabled:!f||g,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-50 border border-emerald-100 px-4 py-1.5 text-xs font-semibold text-emerald-700 hover:bg-emerald-100 disabled:opacity-60 transition-all shadow-sm",title:"Sync templates from Meta",children:[(0,u.jsx)(lA.A,{size:14,className:g?"animate-spin":""}),g?"Syncing...":"Sync Template"]})]})]})]})}),(0,u.jsx)("main",{className:"flex-1 max-w-7xl mx-auto w-full p-4",children:(0,u.jsx)(i.sv,{})})]})}var uA=n(65505);function pA(t){let{isOpen:n,onClose:r,draftId:o,language:i="en_US"}=t;const[a,l]=(0,e.useState)(!1),[d,p]=(0,e.useState)(null),[f,h]=(0,e.useState)(null);(0,e.useEffect)((()=>{n&&o?m():p(null)}),[n,o,i]);const m=async()=>{l(!0),h(null);try{const{data:e}=await c.default.get("/template-builder/drafts/".concat(o,"/preview"),{params:{language:i}}),t=(null===e||void 0===e?void 0:e.preview)||e,n=(null===t||void 0===t?void 0:t.componentsPayload)||(null===t||void 0===t?void 0:t.ComponentsPayload)||[],r=g(n);p(r)}catch(oD){console.error("Failed to load preview",oD),h("Failed to load preview data.")}finally{l(!1)}},g=e=>{var t,n,r,o;if(!Array.isArray(e))return{};const i=e.find((e=>"HEADER"===e.type)),a=e.find((e=>"BODY"===e.type)),s=e.find((e=>"FOOTER"===e.type)),l=e.find((e=>"BUTTONS"===e.type));return{headerType:(null===i||void 0===i?void 0:i.format)||(null!==i&&void 0!==i&&i.text?"TEXT":"NONE"),headerText:null===i||void 0===i?void 0:i.text,headerMediaUrl:(null===i||void 0===i||null===(t=i.example)||void 0===t||null===(n=t.header_handle)||void 0===n?void 0:n[0])||null,bodyText:null===a||void 0===a?void 0:a.text,footerText:null===s||void 0===s?void 0:s.text,buttons:(null===l||void 0===l?void 0:l.buttons)||[],examples:(null===a||void 0===a||null===(r=a.example)||void 0===r||null===(o=r.body_text)||void 0===o?void 0:o[0])||[]}};return n?(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:r,children:(0,u.jsxs)("div",{className:"relative w-full max-w-[320px] group transition-all duration-300",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("button",{onClick:r,className:"absolute -top-10 right-0 p-2 text-white/80 hover:text-white transition-all focus:outline-none",title:"Close Preview",children:(0,u.jsx)(Pe.A,{size:24})}),a?(0,u.jsxs)("div",{className:"bg-white rounded-3xl p-12 flex flex-col items-center gap-4 shadow-xl",children:[(0,u.jsx)(s.A,{className:"animate-spin text-emerald-600",size:32}),(0,u.jsx)("p",{className:"text-slate-500 font-medium text-sm",children:"Loading..."})]}):f?(0,u.jsxs)("div",{className:"bg-white rounded-3xl p-12 text-center shadow-xl",children:[(0,u.jsx)("p",{className:"text-red-500 mb-4 text-sm",children:f}),(0,u.jsx)("button",{onClick:r,className:"px-4 py-2 bg-slate-100 rounded-lg text-slate-700 text-xs text-medium",children:"Close"})]}):(0,u.jsx)("div",{className:"transform scale-95 origin-center",children:(0,u.jsx)(kS,{draft:d})})]})}):null}function fA(){var t;const n=(0,i.Zp)(),[r,l]=(0,o.ok)(),[d,p]=e.useState(!0),[f,h]=e.useState([]),[m,g]=e.useState(!1),[v,x]=e.useState(!1),[b,y]=e.useState(null),[w,j]=e.useState(!1),N=r.get("q")||"",S=r.get("v")||"",A=r.get("category")||"ALL",[E,k]=e.useState(null);e.useEffect((()=>{let e=!0;return(async()=>{try{p(!0);const t=await async function(){const{data:e}=await c.default.get("/template-builder/drafts");return e}(),n=Array.isArray(null===t||void 0===t?void 0:t.items)?t.items:[];e&&h(n)}catch(Jg){var t,n;a.oR.error((null===Jg||void 0===Jg||null===(t=Jg.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load drafts."),e&&h([])}finally{e&&p(!1)}})(),()=>{e=!1}}),[S]),e.useEffect((()=>{"1"!==r.get("create")||v||(x(!0),l((e=>{const t=new URLSearchParams(e);return t.delete("create"),t}),{replace:!0}),(async()=>{try{const e="untitled_".concat(Date.now()),t=await async function(e){const{data:t}=await c.default.post("/template-builder/drafts",e);return t}({key:e,category:"UTILITY",defaultLanguage:"en_US"}),r=(null===t||void 0===t?void 0:t.draftId)||(null===t||void 0===t?void 0:t.id);if(!r)throw new Error("Draft created but no ID returned.");n("/app/template-builder/drafts/".concat(r,"?language=en_US&blankName=1"))}catch(oD){console.error("Auto-create failed",oD),a.oR.error("Failed to create new template."),x(!1)}})())}),[r,l,v,n]);const C=e=>{const t=String(e||"");return t?t.startsWith("__lib__")?"Untitled (Library)":t:"Untitled"},_=e.useMemo((()=>{const e=N.toLowerCase();return f.filter((t=>{var n,r;const o=null===(n=t.components)||void 0===n?void 0:n.find((e=>"BODY"===e.type)),i=(null===o||void 0===o||null===(r=o.text)||void 0===r?void 0:r.toLowerCase())||"",a=C(t.key).toLowerCase().includes(e)||i.includes(e),s="ALL"===A||(t.category||"UTILITY")===A;return a&&s}))}),[f,N,A]);return(0,u.jsxs)("div",{className:"font-sans pt-2",children:[d?(0,u.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 animate-pulse",children:[1,2,3].map((e=>(0,u.jsx)("div",{className:"h-40 bg-slate-200 rounded-xl"},e)))}):0===_.length?(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-lg border border-dashed border-slate-300",children:[(0,u.jsx)("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:(0,u.jsx)(de.A,{className:"h-8 w-8 text-slate-400"})}),(0,u.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"No templates found"}),(0,u.jsx)("p",{className:"text-slate-500 text-sm mt-1 max-w-sm text-center",children:N?"Try adjusting your search or filters.":"Get started by creating a new draft or browsing the library."}),!N&&(0,u.jsx)("button",{onClick:()=>l({create:"1"}),className:"mt-6 text-emerald-600 font-medium text-sm hover:underline",children:"Create your first draft \u2192"})]}):(0,u.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.map((e=>{var t,r;let o="bg-slate-50",i="text-slate-400",a="bg-slate-100 text-slate-700",l=e.category||"UTILITY";"MARKETING"===l?(o="bg-emerald-50",i="text-emerald-600",a="bg-emerald-50 text-emerald-700 border border-emerald-100"):"AUTHENTICATION"===l?(o="bg-teal-50",i="text-teal-600",a="bg-teal-50 text-teal-700 border border-teal-100"):"UTILITY"===l&&(o="bg-slate-50",i="text-emerald-600",a="bg-white text-slate-500 border border-slate-200");let c=se.A;const d=null===(t=e.components)||void 0===t?void 0:t.find((e=>"HEADER"===e.type)),p=null===d||void 0===d?void 0:d.format;c="IMAGE"===p?wS:"VIDEO"===p?yS:"DOCUMENT"===p?de.A:se.A;const f=null===(r=e.components)||void 0===r?void 0:r.find((e=>"BODY"===e.type)),h=(null===f||void 0===f?void 0:f.text)||"No text content.",m=e.defaultLanguage||"en_US";return(0,u.jsxs)("div",{className:"group relative bg-white rounded-lg border border-slate-200 p-5 hover:shadow-lg hover:border-emerald-200 transition-all duration-300 flex flex-col items-start text-left h-full",children:[(0,u.jsx)("button",{type:"button",onClick:t=>{var n;t.stopPropagation(),(n=e.id)&&(y(n),j(!0))},disabled:b===e.id,className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100 focus:opacity-100 z-10",title:"Delete Draft",children:b===e.id?(0,u.jsx)(s.A,{size:16,className:"animate-spin"}):(0,u.jsx)(hS.A,{size:16})}),(0,u.jsxs)("div",{className:"flex items-center gap-3 mb-4 w-full",children:[(0,u.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(o," flex items-center justify-center shrink-0"),children:(0,u.jsx)(c,{size:20,className:i})}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsx)("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider truncate mb-0.5",title:C(e.key),children:C(e.key)}),(0,u.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-[9px] font-bold tracking-wide uppercase ".concat(a),children:l})]})]}),(0,u.jsx)("p",{className:"text-[14px] leading-relaxed text-slate-800 font-medium line-clamp-5 mb-3 w-full flex-1 break-words",title:h,children:h}),e.updatedAt&&(0,u.jsxs)("div",{className:"text-[10px] text-slate-400 mb-2",children:["Updated ",new Date(e.updatedAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,u.jsxs)("div",{className:"mt-auto pt-4 border-t border-slate-50 grid grid-cols-2 gap-3 w-full",children:[(0,u.jsxs)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},className:"px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50 transition-colors flex items-center justify-center gap-2",children:[(0,u.jsx)(R.A,{size:14}),"Preview"]}),(0,u.jsxs)("button",{onClick:t=>{t.stopPropagation(),n("/app/template-builder/drafts/".concat(e.id,"?language=").concat(encodeURIComponent(m)))},className:"px-3 py-2 rounded-lg bg-emerald-800 text-white text-xs font-semibold hover:bg-emerald-900 transition-colors shadow-sm flex items-center justify-center gap-2",children:[(0,u.jsx)(uA.A,{size:14}),"Edit"]})]})]},e.id)}))}),(0,u.jsx)(pA,{isOpen:!!E,draftId:E,language:(null===(t=f.find((e=>e.id===E)))||void 0===t?void 0:t.defaultLanguage)||"en_US",onClose:()=>k(null),onEdit:e=>{const t=f.find((t=>t.id===e)),r=(null===t||void 0===t?void 0:t.defaultLanguage)||"en_US";n("/app/template-builder/drafts/".concat(e,"?language=").concat(encodeURIComponent(r)))}}),(0,u.jsx)(GS,{isOpen:w,onClose:()=>{j(!1),y(null)},onConfirm:async()=>{if(!b)return;const e=b;try{await VS(e),a.oR.success("Draft deleted successfully"),h((t=>t.filter((t=>t.id!==e)))),j(!1)}catch(oD){var t,n;a.oR.error((null===oD||void 0===oD||null===(t=oD.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete draft.")}finally{y(null)}},loading:!!b&&!f.find((e=>e.id===b))})]})}var hA=n(36210);const mA={"Free Forever":{priceMonthly:0,priceYearly:0,currency:"INR",description:"Get Started with WhatsApp Ads & WhatsApp API",btnText:"Get Started",highlight:!1,charges:{marketing:"\u20b90.88",utility:"\u20b90.125",auth:"\u20b90.125",service:"Unlimited Free"},features:["Free WhatsApp Business API","Free WhatsApp Blue Tick Application","\u20b950 Free Conversation Credits","Unlimited Free Service Conversations","Click to WhatsApp Ads Manager","Upload & Manage Contacts","Create tags & attributes","Upto 10 Tags","Upto 5 Custom Attributes","Create template messages","Live Chat Dashboard"]},Starter:{priceMonthly:1350,priceYearly:14580,currency:"INR",description:"Everything you need to get started with your business.",btnText:"Get Started",highlight:!1,charges:{marketing:"\u20b90.88",utility:"\u20b90.125",auth:"\u20b90.125",service:"Unlimited Free"},features:["All Features of Free Forever","1 Owner + 5 FREE Agents included","Smart Audience Segregation","Broadcasting & Retargeting","Template Message APIs","Multi-Agent Live Chat","2400 Messages/min","Dialogflow Chatbot Integration","Shared Team Inbox","Click-to-WhatsApp Ads Manager"],extraNote:"5 Chatbot Flows: \u20b92500 (charged separately)"},Pro:{priceMonthly:2880,priceYearly:31104,currency:"INR",description:"Highly recommended plan to make the best use of Retargeting Campaigns",btnText:"Get Started",highlight:!0,charges:{marketing:"\u20b90.88",utility:"\u20b90.125",auth:"\u20b90.125",service:"Unlimited Free"},features:["All features in Starter Plan","Upto 100 Tags","Upto 20 Custom Attributes","Campaign Scheduler","Campaign Click Tracking","Campaign Budget Analytics","Carousel Template Click Tracking","CSV Campaign Scheduler","User Access Control","Automatic Failed Message Retry"],extraNote:"5 Chatbot Flows: \u20b92500 (charged separately)"},Enterprise:{priceMonthly:"Custom",priceYearly:"Custom",currency:"INR",description:"Recommended for 5 Lac+ Messages per month",btnText:"Get Connected",highlight:!1,charges:{marketing:"Custom",utility:"\u20b90.125",auth:"\u20b90.125",service:"Unlimited Free"},features:["All features in Pro Plan","Recommended for Brands with 5 Lac+ Users","Unlimited Tags","Unlimited Attributes","Downloadable Reports","Dedicated Account Manager","Priority Customer Support","Webhooks","Higher Messaging Speed"]}};const gA=function(){const t=(0,i.zy)(),n=(0,i.Zp)(),[r,o]=(0,e.useState)(!0),[a,s]=(0,e.useState)("Monthly"),l=(0,e.useMemo)((()=>{const e=new URLSearchParams(t.search||""),n=e.get("billingCycle")||e.get("cycle")||"";return{billingCycle:["monthly","yearly"].includes(n.toLowerCase())?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}}),[t.search]);(0,e.useEffect)((()=>{(async()=>{try{o(!0),await c.default.get("/payment/overview");let e=l.billingCycle||"Monthly";s(e)}catch(oD){console.error(oD)}finally{o(!1)}})()}),[l]);const d=e=>{const t=mA[e],r="Monthly"===a?t.priceMonthly:t.priceYearly;return(0,u.jsxs)("div",{className:"relative flex flex-col p-6 rounded-2xl border bg-white transition-all duration-200\n          ".concat(t.highlight?"border-emerald-500 shadow-xl ring-1 ring-emerald-500 transform -translate-y-2 z-10":"border-slate-200 shadow-sm hover:border-emerald-300 hover:shadow-md","\n        "),children:[t.highlight&&(0,u.jsx)("div",{className:"absolute -top-3.5 left-1/2 -translate-x-1/2 bg-emerald-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-sm",children:"\u2606 Most Popular"}),(0,u.jsxs)("div",{className:"text-center mb-4 mt-2",children:[(0,u.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:e}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed min-h-[40px]",children:t.description})]}),(0,u.jsxs)("div",{className:"text-center mb-6",children:[(0,u.jsx)("div",{className:"text-4xl font-bold text-slate-900",children:(o=r,i=t.currency,"Custom"===o?"Custom":new Intl.NumberFormat("en-IN",{style:"currency",currency:i||"INR",maximumFractionDigits:0}).format(o||0))}),"Custom"!==r&&(0,u.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Free Forever"===e?"Forever":"Monthly"===a?"month":"year"})]}),(0,u.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 mb-6 text-xs",children:[(0,u.jsx)("div",{className:"font-semibold text-slate-700 mb-2",children:"Per Template Message Charges:"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-y-1.5 text-slate-600",children:[(0,u.jsx)("span",{children:"Marketing:"}),(0,u.jsx)("span",{className:"text-right font-medium text-slate-900",children:t.charges.marketing}),(0,u.jsx)("span",{children:"Utility:"}),(0,u.jsx)("span",{className:"text-right font-medium text-slate-900",children:t.charges.utility}),(0,u.jsx)("span",{children:"Authentication:"}),(0,u.jsx)("span",{className:"text-right font-medium text-slate-900",children:t.charges.auth}),(0,u.jsx)("span",{children:"Service:"}),(0,u.jsx)("span",{className:"text-right font-medium text-slate-900",children:t.charges.service})]})]}),(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsx)("ul",{className:"space-y-3",children:t.features.map(((e,t)=>(0,u.jsxs)("li",{className:"flex items-start gap-3 text-xs text-slate-600",children:[(0,u.jsx)(hA.A,{className:"w-4 h-4 text-emerald-500 shrink-0 mt-0.5"}),(0,u.jsx)("span",{children:e})]},t)))})}),t.extraNote&&(0,u.jsx)("div",{className:"mt-4 p-2 bg-amber-50 border border-amber-100 rounded text-[10px] text-amber-800 font-medium text-center",children:t.extraNote}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("button",{onClick:()=>{var t;"Custom"!==mA[t=e].priceMonthly?n("/app/billing/checkout",{state:{planKey:t,billingCycle:a}}):window.location.href="mailto:sales@xplorebyte.com"},className:"w-full py-2.5 rounded-md font-semibold text-sm transition-colors\n              ".concat(t.highlight?"bg-emerald-500 hover:bg-emerald-600 text-white shadow-md shadow-emerald-100":"bg-white border border-slate-300 text-slate-700 hover:border-emerald-500 hover:text-emerald-600","\n            "),children:t.btnText})})]},e);var o,i};return r?(0,u.jsx)("div",{className:"p-10 text-center text-slate-500",children:"Loading pricing..."}):(0,u.jsxs)("div",{className:"min-h-screen bg-slate-50/50 p-6 md:p-10 font-sans",children:[(0,u.jsxs)("div",{className:"text-center max-w-2xl mx-auto mb-12",children:[(0,u.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 mb-6",children:"Monthly / Yearly Subscription | Unlimited Users Plan"}),(0,u.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm font-medium",children:[(0,u.jsx)("span",{className:"Monthly"===a?"text-slate-900":"text-slate-400",children:"Monthly"}),(0,u.jsx)("button",{onClick:()=>s((e=>"Monthly"===e?"Yearly":"Monthly")),className:"w-12 h-6 rounded-full p-1 bg-emerald-500 transition-colors duration-300 flex items-center",children:(0,u.jsx)("div",{className:"bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ".concat("Yearly"===a?"translate-x-6":"translate-x-0")})}),(0,u.jsxs)("span",{className:"Yearly"===a?"text-slate-900":"text-slate-400",children:["Yearly ",(0,u.jsx)("span",{className:"text-emerald-600 font-bold",children:"(10% Off)"})]})]}),(0,u.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-3 text-sm text-slate-600",children:[(0,u.jsx)("span",{className:"font-bold text-slate-900",children:"India"}),(0,u.jsx)("div",{className:"w-8 h-4 bg-slate-200 rounded-full relative cursor-not-allowed opacity-60",children:(0,u.jsx)("div",{className:"absolute left-1 top-0.5 w-3 h-3 bg-white rounded-full shadow-sm"})}),(0,u.jsx)("span",{className:"text-slate-400",children:"Outside India"})]})]}),(0,u.jsx)("div",{className:"max-w-full mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-start",children:["Free Forever","Starter","Pro","Enterprise"].map((e=>d(e)))})]})},vA={"Free Forever":{priceMonthly:0,priceYearly:0,currency:"INR",description:"Get Started with WhatsApp Ads & WhatsApp API"},Starter:{priceMonthly:1350,priceYearly:14580,currency:"INR",description:"Everything you need to get started with your business."},Pro:{priceMonthly:2880,priceYearly:31104,currency:"INR",description:"Highly recommended plan to make the best use of Retargeting Campaigns"},Enterprise:{priceMonthly:"Custom",priceYearly:"Custom",currency:"INR",description:"Recommended for 5 Lac+ Messages per month"}},xA=(e,t)=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t||"INR",maximumFractionDigits:0}).format(e||0);function bA(){const t=(0,i.zy)(),n=(0,i.Zp)(),[r,o]=(0,e.useState)(!1),[s,l]=(0,e.useState)(""),[d,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(null),{planKey:m,billingCycle:g}=t.state||{},[v,x]=(0,e.useState)(g||"Monthly");(0,e.useEffect)((()=>{m||(a.oR.warn("Please select a plan first."),n("/app/billing"))}),[m,n]);const b=vA[m],y=(null===b||void 0===b?void 0:b.currency)||"INR",w=(0,e.useMemo)((()=>b?"Monthly"===v?b.priceMonthly:b.priceYearly:0),[b,v]),j=(0,e.useMemo)((()=>{if(!b||"Monthly"===v)return 0;const e=b.priceMonthly;if("number"!==typeof e)return 0;return 12*e-b.priceYearly}),[b,v]),N=(0,e.useMemo)((()=>{let e=w||0,t=0;null!==f&&void 0!==f&&f.valid&&("Flat"===f.discountType?t=f.discountValue:"Percent"===f.discountType&&(t=e*f.discountValue/100)),t>e&&(t=e);const n=e-t,r=Math.round(.18*n*100)/100;return{subtotal:e,discount:t,gst:r,total:Math.max(n+r,0)}}),[w,f]);return m?(0,u.jsxs)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)] py-10 px-4 sm:px-6 lg:px-8 font-sans",children:[(0,u.jsxs)("div",{className:"max-w-5xl mx-auto mb-8 flex items-center justify-between",children:[(0,u.jsxs)("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-slate-500 hover:text-emerald-700 text-sm font-medium transition-colors",children:[(0,u.jsx)(V.A,{size:16})," Back to Plans"]}),(0,u.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[(0,u.jsx)(he,{size:14,className:"text-emerald-600"}),(0,u.jsx)("span",{className:"font-semibold text-slate-700",children:"Secure Checkout"})]})]}),(0,u.jsxs)("div",{className:"max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,u.jsxs)("div",{className:"lg:col-span-7 space-y-6",children:[(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,u.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex items-center gap-3",children:[(0,u.jsx)("div",{className:"p-2 bg-white rounded-md border border-slate-200 text-emerald-600",children:(0,u.jsx)(T.A,{size:20})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-sm font-bold text-slate-800 uppercase tracking-wide",children:"Subscription Details"}),(0,u.jsx)("p",{className:"text-xs text-slate-500",children:"You are upgrading to a premium experience"})]})]}),(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsxs)("h3",{className:"text-xl font-bold text-slate-900",children:[m," Plan"]}),(0,u.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:null===b||void 0===b?void 0:b.description})]})]}),(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,u.jsx)("label",{className:"text-sm font-bold text-slate-800",children:"Billing Period"}),"Yearly"===v&&j>0&&(0,u.jsxs)("span",{className:"bg-pink-100 text-pink-700 text-xs font-bold px-3 py-1 rounded-full",children:["SAVE ",xA(j,y)]})]}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("select",{value:v,onChange:e=>{x(e.target.value),h(null)},className:"w-full appearance-none bg-white border border-slate-300 text-slate-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-emerald-500 font-medium cursor-pointer",children:[(0,u.jsx)("option",{value:"Monthly",children:"1 Month (Monthly Billing)"}),(0,u.jsx)("option",{value:"Yearly",children:"12 Months (Yearly Billing - Save 10%)"})]}),(0,u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500",children:(0,u.jsx)(Ae.A,{size:16})})]}),(0,u.jsxs)("div",{className:"mt-3 text-xs text-slate-500 flex justify-between",children:[(0,u.jsx)("span",{children:"Monthly"===v?"Renews automatically every month.":"Renews automatically every year."}),(0,u.jsx)("span",{className:"font-medium text-slate-700",children:"Monthly"===v?"".concat(xA(w,y)," / month"):"".concat(xA(w/12,y)," / month (billed yearly)")})]})]}),(0,u.jsxs)("div",{className:"bg-transparent rounded-xl border border-dashed border-slate-300 p-6 flex flex-col sm:flex-row items-center gap-6",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"bg-white p-2 rounded-full shadow-sm",children:(0,u.jsx)(J.A,{size:24,className:"text-emerald-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-sm font-bold text-slate-700",children:"Bank-Level Security"}),(0,u.jsx)("div",{className:"text-xs text-slate-500",children:"Your payment is encrypted and secured by Razorpay."})]})]}),(0,u.jsx)("div",{className:"h-8 w-px bg-slate-200 hidden sm:block"}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"bg-white p-2 rounded-full shadow-sm",children:(0,u.jsx)(ve,{size:24,className:"text-emerald-600"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-sm font-bold text-slate-700",children:"All Cards Accepted"}),(0,u.jsx)("div",{className:"text-xs text-slate-500",children:"Credit, Debit, UPI, and Net Banking supported."})]})]})]})]}),(0,u.jsx)("div",{className:"lg:col-span-5",children:(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 sticky top-8 overflow-hidden",children:[(0,u.jsx)("div",{className:"p-6 bg-slate-50 border-b border-slate-100",children:(0,u.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:"Order Summary"})}),(0,u.jsxs)("div",{className:"p-6 space-y-5",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 flex items-center gap-1",children:[(0,u.jsx)(P,{size:12})," Discount Code"]}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value.toUpperCase()),placeholder:"PROMO CODE",disabled:r,className:"flex-1 border border-slate-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent uppercase placeholder:text-slate-400"}),f?(0,u.jsx)("button",{onClick:()=>{h(null),l("")},className:"px-3 py-2 bg-slate-100 text-slate-600 rounded-md text-xs font-bold hover:bg-slate-200 transition-colors",children:"REMOVE"}):(0,u.jsx)("button",{onClick:async()=>{const e=s.trim();if(!e)return a.oR.warn("Enter a code.");try{p(!0);const t=await c.default.get("/payment/coupon/validate",{params:{code:e,planId:m,billingCycle:v}});if(!t.data.ok||!t.data.valid)return h(null),void a.oR.error(t.data.message||"Invalid coupon.");h(t.data),a.oR.success("Coupon applied!")}catch(oD){h(null),a.oR.error("Validation failed.")}finally{p(!1)}},disabled:!s||d,className:"px-4 py-2 bg-slate-800 text-white rounded-md text-xs font-bold hover:bg-slate-900 disabled:opacity-50 transition-colors",children:d?"...":"APPLY"})]}),(null===f||void 0===f?void 0:f.valid)&&(0,u.jsxs)("div",{className:"mt-2 flex items-center gap-1.5 text-xs text-emerald-600 font-medium bg-emerald-50 p-2 rounded border border-emerald-100",children:[(0,u.jsx)(hA.A,{size:12}),f.message||"Code applied successfully"]})]}),(0,u.jsx)("hr",{className:"border-slate-100"}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center text-sm text-slate-600",children:[(0,u.jsxs)("span",{children:[m," (",v,")"]}),(0,u.jsx)("span",{className:"font-medium text-slate-900",children:xA(N.subtotal,y)})]}),N.discount>0&&(0,u.jsxs)("div",{className:"flex justify-between items-center text-sm text-emerald-600",children:[(0,u.jsx)("span",{children:"Discount"}),(0,u.jsxs)("span",{children:["- ",xA(N.discount,y)]})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center text-sm text-slate-600",children:[(0,u.jsx)("span",{children:"GST (18%)"}),(0,u.jsx)("span",{className:"font-medium text-slate-900",children:xA(N.gst,y)})]})]}),(0,u.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 flex justify-between items-center border border-emerald-100",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-xs text-emerald-700 font-medium uppercase",children:"Total Payable"}),(0,u.jsx)("div",{className:"text-[10px] text-emerald-600",children:"Including all taxes"})]}),(0,u.jsx)("div",{className:"text-2xl font-bold text-emerald-700",children:xA(N.total,y)})]}),(0,u.jsx)("button",{onClick:async()=>{try{var e;o(!0);const t={planId:m,billingCycle:v,couponCode:null!==f&&void 0!==f&&f.valid?f.code:void 0},n=await c.default.post("/payment/subscribe/checkout",t);null!==(e=n.data)&&void 0!==e&&e.redirectUrl?window.location.href=n.data.redirectUrl:a.oR.error("No redirect URL received.")}catch(oD){console.error(oD),a.oR.error("Failed to initiate checkout.")}finally{o(!1)}},disabled:r,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3.5 rounded-lg shadow-md shadow-emerald-200 transition-all transform active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-sm",children:r?(0,u.jsxs)("span",{className:"flex items-center gap-2",children:["Processing"," ",(0,u.jsx)("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"Pay Securely ".concat(xA(N.total,y))})]}),(0,u.jsx)("div",{className:"bg-slate-50 px-6 py-3 border-t border-slate-100 text-center",children:(0,u.jsx)("p",{className:"text-[10px] text-slate-400",children:"By confirming, you agree to our Terms of Service."})})]})})]})]}):null}const yA=e=>{if(!e)return"\u2014";const t=new Date(e);return Number.isNaN(t.getTime())?"\u2014":t.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})};const wA=function(){var t;const n=(0,i.zy)(),r=(0,i.Zp)(),[o,s]=(0,e.useState)(!0),[l,d]=(0,e.useState)(0),[p,f]=(0,e.useState)({state:"checking",title:"Confirming your payment\u2026",message:"We\u2019re syncing your payment with our billing system. This usually takes a moment.",subscription:null,lastInvoice:null}),h=new URLSearchParams(n.search||""),m=h.get("source")||"razorpay",g=h.get("orderId")||null,v=h.get("sessionId")||null;(0,e.useEffect)((()=>{let e=!1,t=null;const n=async t=>{try{const n=await c.default.get("/payment/overview",{headers:{"x-suppress-403-toast":!0}});if(e)return!0;const r=n.data||{},o=r.currentSubscription||null,i=(r.recentInvoices||[])[0]||null;return(e=>{if(!e||!e.status)return!1;const t=String(e.status);return"Active"===t||"Trial"===t||"Grace"===t||"Cancelled"===t&&e.cancelAtPeriodEnd&&e.currentPeriodEndUtc&&new Date(e.currentPeriodEndUtc)>new Date})(o)?(f({state:"success",title:"Payment successful",message:"Your subscription is active. You can now use all available features.",subscription:o,lastInvoice:i}),s(!1),t||a.oR.success("Subscription updated successfully."),!0):!(!i||"Failed"!==i.status&&"Cancelled"!==i.status)&&(f({state:"failed",title:"Payment failed or cancelled",message:"We couldn\u2019t confirm a successful payment for this attempt. You can retry from your Billing page.",subscription:o,lastInvoice:i}),s(!1),!0)}catch(oD){return e||(console.error(oD),f((e=>(0,b.A)((0,b.A)({},e),{},{state:"pending",title:"Unable to confirm yet",message:"We\u2019re having trouble confirming your payment. If this persists, please open your Billing page or contact support."}))),s(!1)),!0}};return(async()=>{if(await n(!0))return void s(!1);let e=0;t=setInterval((async()=>{e+=1,d(e);const r=await n(!1);(r||e>=5)&&(clearInterval(t),s(!1),r||f((e=>(0,b.A)((0,b.A)({},e),{},{state:"pending",title:"Payment status is pending",message:"We haven\u2019t received a success confirmation yet. Please refresh in a bit or check your Billing page."}))))}),2e3)})(),()=>{e=!0,t&&clearInterval(t)}}),[]);const x=()=>r("/app/settings/billing"),{state:y,title:w,message:j,subscription:N,lastInvoice:S}=p,A="success"===y?"bg-emerald-50 text-emerald-700 border-emerald-200":"failed"===y?"bg-red-50 text-red-700 border-red-200":"bg-slate-50 text-slate-700 border-slate-200";return(0,u.jsx)("div",{className:"min-h-screen bg-slate-50 px-4 sm:px-6 py-10 flex items-start justify-center",children:(0,u.jsx)("div",{className:"w-full max-w-xl",children:(0,u.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6 space-y-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-lg sm:text-xl font-semibold text-slate-900",children:w}),(0,u.jsx)("p",{className:"text-[10px] sm:text-xs text-slate-600 mt-1",children:j})]}),(0,u.jsxs)("div",{className:"px-2.5 py-1 rounded-full border text-[8px] font-medium "+A,children:["checking"===y&&"Checking status","pending"===y&&"Pending confirmation","success"===y&&"Subscription active","failed"===y&&"Payment not confirmed"]})]}),(m||g||v)&&(0,u.jsxs)("div",{className:"text-[8px] text-slate-500 space-y-0.5",children:[m&&(0,u.jsxs)("div",{children:["Source: ",(0,u.jsx)("span",{className:"font-semibold",children:m})]}),g&&(0,u.jsxs)("div",{children:["Order:"," ",(0,u.jsx)("span",{className:"font-mono font-semibold",children:g})]}),v&&(0,u.jsxs)("div",{children:["Session:"," ",(0,u.jsx)("span",{className:"font-mono font-semibold",children:v})]})]}),N&&(0,u.jsxs)("div",{className:"mt-2 p-3 rounded-lg bg-slate-50 border border-slate-100",children:[(0,u.jsx)("div",{className:"text-[9px] text-slate-500 mb-1",children:"Current subscription"}),(0,u.jsxs)("div",{className:"flex items-center justify-between text-[9px]",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-semibold text-slate-900",children:N.planName||N.planId||"\u2014"}),(0,u.jsxs)("div",{className:"text-slate-500",children:["Status:"," ",(0,u.jsx)("span",{className:"font-medium",children:N.status})]})]}),N.currentPeriodEndUtc&&(0,u.jsxs)("div",{className:"text-right text-slate-500",children:[(0,u.jsx)("div",{children:"Period ends"}),(0,u.jsx)("div",{className:"font-medium text-slate-900",children:yA(N.currentPeriodEndUtc)})]})]})]}),S&&(0,u.jsx)("div",{className:"mt-1 p-3 rounded-lg bg-slate-50 border border-slate-100",children:(0,u.jsxs)("div",{className:"flex items-center justify-between text-[9px]",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-slate-500",children:"Latest invoice"}),(0,u.jsx)("div",{className:"font-semibold text-slate-900",children:S.number||(null===(t=S.id)||void 0===t?void 0:t.slice(0,8))||"\u2014"}),(0,u.jsxs)("div",{className:"text-slate-500",children:["Status:"," ",(0,u.jsx)("span",{className:"font-medium",children:S.status})]})]}),(0,u.jsxs)("div",{className:"text-right text-slate-500",children:[(0,u.jsx)("div",{children:"Created"}),(0,u.jsx)("div",{className:"font-medium",children:yA(S.createdAtUtc)}),null!=S.total&&(0,u.jsx)("div",{className:"mt-1 text-slate-900",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:S.currency||"INR",maximumFractionDigits:2}).format(S.total||0)})]})]})}),(0,u.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:["success"===y&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:()=>r("/app/dashboard"),className:"px-3 py-1.5 rounded-md bg-slate-900 text-white text-[10px] font-semibold hover:bg-black",children:"Go to Dashboard"}),(0,u.jsx)("button",{onClick:x,className:"px-3 py-1.5 rounded-md border border-slate-300 text-[10px] text-slate-800 hover:bg-slate-50",children:"View Billing & Invoices"})]}),"pending"===y&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:()=>window.location.reload(),className:"px-3 py-1.5 rounded-md bg-slate-900 text-white text-[10px] font-semibold hover:bg-black",children:"Refresh Status"}),(0,u.jsx)("button",{onClick:x,className:"px-3 py-1.5 rounded-md border border-slate-300 text-[10px] text-slate-800 hover:bg-slate-50",children:"Open Billing Page"})]}),"failed"===y&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:x,className:"px-3 py-1.5 rounded-md bg-red-600 text-white text-[10px] font-semibold hover:bg-red-700",children:"Retry from Billing"}),(0,u.jsx)("button",{onClick:()=>r(-1),className:"px-3 py-1.5 rounded-md border border-slate-300 text-[10px] text-slate-800 hover:bg-slate-50",children:"Go Back"})]}),"checking"===y&&(0,u.jsxs)("div",{className:"flex items-center gap-2 text-[9px] text-slate-500",children:[(0,u.jsx)("span",{className:"h-3 w-3 border border-slate-400 border-t-transparent rounded-full animate-spin"}),"Checking latest subscription status\u2026"]})]}),l>0&&(0,u.jsxs)("div",{className:"text-[7px] text-slate-400 mt-2",children:["Checked status ",l+1," time(s)."]})]})})})},jA=(0,_.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),NA=(0,_.A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),SA=(0,_.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var AA=n(23546),EA=n(46446);function kA(t){let{isOpen:n,onClose:r,businessId:o,onSuccess:i}=t;const[l,d]=(0,e.useState)(""),[p,f]=(0,e.useState)(!1),[h,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(null);return(0,u.jsx)(AA.N,{children:n&&(0,u.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,u.jsx)(EA.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:p?void 0:r}),(0,u.jsxs)(EA.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md overflow-hidden rounded-2xl bg-white shadow-2xl border border-emerald-100",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-50 px-6 py-4",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-100 text-emerald-600",children:(0,u.jsx)(J.A,{size:18})}),(0,u.jsx)("h3",{className:"font-bold text-slate-900",children:"Complete Two-Step Verification"})]}),!p&&(0,u.jsx)("button",{onClick:r,className:"rounded-full p-1.5 hover:bg-slate-100 text-slate-400 transition-colors",children:(0,u.jsx)(Pe.A,{size:18})})]}),(0,u.jsx)("div",{className:"p-6",children:h?(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center animate-in fade-in zoom-in duration-300",children:[(0,u.jsx)("div",{className:"h-16 w-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-4",children:(0,u.jsx)(pt.A,{size:32})}),(0,u.jsx)("h4",{className:"text-xl font-bold text-slate-900",children:"Successfully Activated!"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Your number is now registered with Meta and ready for use."})]}):(0,u.jsxs)("form",{onSubmit:async e=>{null===e||void 0===e||e.preventDefault();const t=(l||"").trim();if(/^\d{6}$/.test(t))if(o)try{f(!0),await c.default.post("esu/facebook/register-number",{pin:t},{headers:{"X-Business-Id":o},__silentToast:!0}),a.oR.success("\u2705 WhatsApp number activated successfully."),m(!0),i&&i(),setTimeout((()=>{r(),m(!1),d("")}),1500)}catch(oD){v("Invalid PIN. Please try again.")}finally{f(!1)}else a.oR.error("Business context missing. Please try again.");else a.oR.error("PIN must be exactly 6 digits.")},className:"space-y-5",children:[(0,u.jsx)("div",{className:"space-y-2 text-center sm:text-left",children:(0,u.jsx)("p",{className:"text-sm font-medium text-slate-600 leading-relaxed",children:"Enter the 6-digit PIN you created during the Meta Embedded Signup process to register and enable your number."})}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("div",{className:"relative",children:(0,u.jsx)("input",{autoFocus:!0,type:"text",inputMode:"numeric",maxLength:6,value:l,onChange:e=>{d(e.target.value.replace(/\D/g,"").slice(0,6)),g&&v(null)},placeholder:"Enter 6-digit PIN",className:"w-full rounded-xl border border-slate-200 bg-slate-50/50 px-4 py-3.5 text-center text-2xl font-black tracking-[0.5em] focus:border-emerald-500 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 transition-all placeholder:tracking-normal placeholder:font-sans placeholder:text-sm placeholder:font-normal",disabled:p})}),g&&(0,u.jsx)(EA.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-lg bg-rose-50 px-4 py-2 text-center",children:(0,u.jsx)("p",{className:"text-xs font-bold text-rose-600",children:g})}),(0,u.jsx)("p",{className:"text-[11px] text-center text-slate-400 font-medium bg-slate-50 py-2 rounded-lg leading-relaxed px-4",children:"Note: PIN registration is required by Meta to start sending messages. Your PIN is processed securely and never stored on our servers."})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-3 pt-2",children:[(0,u.jsx)("button",{type:"submit",disabled:p||6!==l.length,className:"inline-flex w-full items-center justify-center gap-2 rounded-xl bg-emerald-600 px-6 py-3.5 text-sm font-bold text-white shadow-lg shadow-emerald-500/20 transition-all hover:bg-emerald-700 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.A,{className:"h-4 w-4 animate-spin"}),"Activating Number..."]}):"Register & Activate Number"}),!p&&(0,u.jsx)("button",{type:"button",onClick:r,className:"w-full text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors py-1",children:"Skip for now"})]})]})})]})]})})}const CA=[{value:"PINNACLE",label:"PINNACLE"},{value:"META_CLOUD",label:"META_CLOUD"}],_A=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function PA(e){return"string"===typeof e&&_A.test(e)?e:function(){try{const e=["sa_selectedBusinessId","businessId","business_id"];for(const t of e){const e=localStorage.getItem(t);if(e&&_A.test(e))return e}return null}catch(e){return null}}()||function(){try{const e=localStorage.getItem("xbyte_token");if(!e)return null;const[,t]=e.split(".");if(!t)return null;const n=JSON.parse(atob(t.replace(/-/g,"+").replace(/_/g,"/"))),r=(null===n||void 0===n?void 0:n.BusinessId)||(null===n||void 0===n?void 0:n.businessId)||(null===n||void 0===n?void 0:n.biz)||(null===n||void 0===n?void 0:n.bid)||null;return"string"===typeof r&&_A.test(r)?r:null}catch(e){return null}}()}const OA=e=>{const t=(null!==e&&void 0!==e?e:"").toString().trim();if(!t)return"PINNACLE";const n=t.toUpperCase();return"PINNACLE"===n?"PINNACLE":"META_CLOUD"===n||"META"===n||"METACLOUD"===n||"META-CLOUD"===n?"META_CLOUD":"PINNACLE"},TA={provider:"PINNACLE",apiUrl:"",apiKey:"",wabaId:"",senderDisplayName:"",webhookSecret:"",webhookVerifyToken:"",webhookCallbackUrl:"",isActive:!0};function MA(){const t=(0,l.h)(),[n,r]=(0,o.ok)(),i=(null===t||void 0===t?void 0:t.effectiveBusinessId)||null,[s,d]=(0,e.useState)(TA),[p,f]=(0,e.useState)(!1),[h,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[x,y]=(0,e.useState)(""),[w,j]=(0,e.useState)([]),[N,S]=(0,e.useState)(!1),[A,E]=(0,e.useState)(!1),[k,C]=(0,e.useState)(null),[_,P]=(0,e.useState)(!1),[O,T]=(0,e.useState)(!1),[M,D]=(0,e.useState)({}),[L,F]=(0,e.useState)({loading:!0,hasEsuFlag:!1,hasValidToken:!1,willExpireSoon:!1,tokenExpiresAtUtc:null,isConfiguredViaEsu:!1,isTokenExpiredOrInvalid:!1,isTokenExpiringSoon:!1,isFullyHealthy:!1,phoneCount:0,hasWaba:!1,debug:null}),[B,z]=(0,e.useState)((()=>"true"===sessionStorage.getItem("xb_pending_esu_pin"))),[U,V]=(0,e.useState)(!1),W=(0,e.useMemo)((()=>PA(i)),[i]),H=!!W,q=(0,e.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W?(0,b.A)((0,b.A)({},e),{},{headers:(0,b.A)((0,b.A)({},e.headers||{}),{},{"X-Business-Id":W})}):e}),[W]),K=(0,e.useCallback)((()=>"xb_whatsapp_settings_draft:v1:".concat(W||"no-biz")),[W]),G=432e5,[Y,X]=(0,e.useState)(!1),$=(0,e.useRef)(!1),Z=(0,e.useRef)(W),Q=(0,e.useCallback)((()=>{try{const e=sessionStorage.getItem(K());if(!e)return!1;const t=JSON.parse(e);return!(!t||1!==t.v)&&(t.businessId===W&&(t.at&&Date.now()-new Date(t.at).getTime()>G?(sessionStorage.removeItem(K()),!1):(t.formData&&"object"===typeof t.formData&&d((e=>(0,b.A)((0,b.A)({},e),t.formData))),"boolean"===typeof t.hasSavedOnce&&E(t.hasSavedOnce),"string"===typeof t.savedProvider&&C(t.savedProvider),!0)))}catch(e){return!1}}),[G,W,K]),ee=async(e,t)=>{var n;const r=OA(e),o={phoneNumberId:(t.phoneNumberId||"").trim(),whatsAppBusinessNumber:(t.whatsAppBusinessNumber||"").trim(),senderDisplayName:(t.label||t.senderDisplayName||"").trim(),isActive:null===(n=t.isActive)||void 0===n||n,isDefault:!!t.isDefault},{data:i}=await c.default.post("/whatsappsettings/".concat(r,"/numbers"),o,q());return i},te=async(e,t)=>{const n=OA(e);await c.default.patch("/whatsappsettings/".concat(n,"/numbers/").concat(t,"/default"),null,q())},ne=async e=>{try{const t=await(async e=>{const t=OA(e),{data:n}=await c.default.get("/whatsappsettings/".concat(t,"/numbers"),q());return Array.isArray(n)?n:[]})(e);j(t.map((e=>{var t;return{id:e.id,label:e.senderDisplayName||"",phoneNumberId:e.phoneNumberId||"",whatsAppBusinessNumber:e.whatsAppBusinessNumber||"",isDefault:!!e.isDefault,isActive:null===(t=e.isActive)||void 0===t||t}})))}catch(t){j([])}},re=(0,e.useMemo)((()=>{return e=s.provider,"PINNACLE"===OA(e)?"API Key":"Token";var e}),[s.provider]),oe=(0,e.useMemo)((()=>OA(s.provider)),[s.provider]),ie=A;(0,e.useEffect)((()=>{const e=void 0!==Z.current&&Z.current!==W;Z.current=W,$.current=!1,X(!1);if(Q())return $.current=!0,void X(!0);e&&(d(TA),j([]),E(!1),C(null))}),[W,Q]),(0,e.useEffect)((()=>{if(!Y)return;const e=setTimeout((()=>{try{sessionStorage.setItem(K(),JSON.stringify({v:1,businessId:W,at:(new Date).toISOString(),formData:s,hasSavedOnce:A,savedProvider:k}))}catch(e){}}),350);return()=>clearTimeout(e)}),[W,Y,K,s,A,k]);const ae=(0,e.useCallback)((async()=>{try{var e,t,n,r,o,i,a,s,l,d,u,p,f,h;F((e=>(0,b.A)((0,b.A)({},e),{},{loading:!0})));const m=await c.default.get("esu/facebook/status"),g=null!==(e=null===m||void 0===m?void 0:m.data)&&void 0!==e?e:{},v=(null===g||void 0===g?void 0:g.data)||(null===g||void 0===g?void 0:g.Data)||g||{},x=null!==(t=null!==(n=null!==(r=v.hasEsuFlag)&&void 0!==r?r:v.HasEsuFlag)&&void 0!==n?n:v.facebookEsuCompleted)&&void 0!==t&&t,y=null!==(o=null!==(i=v.tokenExpiresAtUtc)&&void 0!==i?i:v.TokenExpiresAtUtc)&&void 0!==o?o:null,w=null!==(a=null!==(s=v.hasValidToken)&&void 0!==s?s:v.HasValidToken)&&void 0!==a?a:!!y,j=null!==(l=null!==(d=null!==(u=null!==(p=v.willExpireSoon)&&void 0!==p?p:v.WillExpireSoon)&&void 0!==u?u:v.isExpiringSoon)&&void 0!==d?d:v.IsExpiringSoon)&&void 0!==l&&l,N=!!x,S=N&&!w,A=!!w&&j,E=N&&w&&!j,k=v.phoneCount||v.numbersCount||0,C=!(!v.wabaId&&!v.WabaId),_=null!==(f=null!==(h=v.debug)&&void 0!==h?h:v.Debug)&&void 0!==f?f:null;F({loading:!1,hasEsuFlag:x,hasValidToken:w,willExpireSoon:j,tokenExpiresAtUtc:y,isConfiguredViaEsu:N,isTokenExpiredOrInvalid:S,isTokenExpiringSoon:A,isFullyHealthy:E,phoneCount:k,hasWaba:C,debug:_})}catch(oD){console.error("Unable to load Meta ESU status",oD),F({loading:!1,hasEsuFlag:!1,hasValidToken:!1,willExpireSoon:!1,tokenExpiresAtUtc:null,isConfiguredViaEsu:!1,isTokenExpiredOrInvalid:!1,isTokenExpiringSoon:!1,isFullyHealthy:!1,phoneCount:0,hasWaba:!1,debug:"status-error"})}}),[]);(0,e.useEffect)((()=>{ae()}),[ae]),(0,e.useEffect)((()=>{let e=!0;return(async()=>{try{f(!0);const t=await c.default.get("/whatsappsettings/me",q());if(!e)return;const n=(null===t||void 0===t?void 0:t.data)||{},r=!1===("boolean"===typeof n.hasSettings?n.hasSettings:void 0)?null:void 0!==n.data?n.data:n;if(!r||0===Object.keys(r).length)return a.oR.info("No WhatsApp settings found. You can create them now."),E(!1),C(null),j([]),void X(!0);const o=OA(r.provider),i=r.apiKey||r.apiToken||"";d((e=>{var t,n;return(0,b.A)((0,b.A)({},e),{},{provider:o||e.provider,apiUrl:r.apiUrl||e.apiUrl||"",apiKey:i||e.apiKey||"",wabaId:r.wabaId||e.wabaId||"",senderDisplayName:r.senderDisplayName||e.senderDisplayName||"",webhookSecret:r.webhookSecret||e.webhookSecret||"",webhookVerifyToken:r.webhookVerifyToken||e.webhookVerifyToken||"",webhookCallbackUrl:r.webhookCallbackUrl||e.webhookCallbackUrl||"",isActive:null===(t=null!==(n=r.isActive)&&void 0!==n?n:e.isActive)||void 0===t||t})})),C(o);const s=!!r.provider||!!r.apiKey||!!r.apiToken||!!r.wabaId;E(!!s),X(!0),await ne(o)}catch(oD){0,E(!1),C(null)}finally{e&&f(!1)}})(),()=>{e=!1}}),[W]),(0,e.useEffect)((()=>{ne(s.provider)}),[s.provider]),(0,e.useEffect)((()=>{const e=new URLSearchParams(window.location.search),t=e.get("esuStatus"),o=null===t||void 0===t?void 0:t.toLowerCase(),i=e.get("connected"),s=(null===i||void 0===i?void 0:i.toLowerCase())||i;if(console.log("[WhatsAppSettings] params check:",{rawStatus:t,esuStatus:o,rawConnected:i,connected:s}),"success"===o?(a.oR.success("\u2705 Connected to Meta! Your number is active."),sessionStorage.removeItem("xb_pending_esu_pin"),z(!1),ue(),ae()):"needs_pin"!==o&&"true"!==sessionStorage.getItem("xb_pending_esu_pin")||("needs_pin"===o&&(a.oR.info("This number is already protected. Please enter your existing PIN."),sessionStorage.setItem("xb_pending_esu_pin","true")),z(!0)),t||i){const e=new URLSearchParams(n);e.delete("esuStatus"),e.delete("connected"),r(e,{replace:!0})}}),[n,r]);const se=e=>j((t=>t.filter(((t,n)=>n!==e)))),le=(e,t,n)=>j((r=>r.map(((r,o)=>o===e?(0,b.A)((0,b.A)({},r),{},{[t]:n}):r)))),ce=e=>{const{name:t,value:n}=e.target;$.current=!0,X(!0),d((e=>(0,b.A)((0,b.A)({},e),{},{[t]:n}))),M[t]&&D((e=>(0,b.A)((0,b.A)({},e),{},{[t]:null})))},de=async()=>{if(H)try{var e,t,n,r,o,i;V(!0);const l="/app/settings/whatsapp",d=await c.default.post("esu/facebook/start",{returnUrlAfterSuccess:l}),u=(null===d||void 0===d||null===(e=d.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.authUrl)||(null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.authUrl)||(null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.url)||(null===d||void 0===d||null===(o=d.data)||void 0===o||null===(i=o.Data)||void 0===i?void 0:i.AuthUrl);var s;if(!u)return void a.oR.error((null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.message)||"Could not get Meta Embedded Signup URL.");window.location.href=u}catch(oD){var l,d;a.oR.error((null===oD||void 0===oD||null===(l=oD.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||(null===oD||void 0===oD?void 0:oD.message)||"Failed to start Meta Embedded Signup.")}finally{V(!1)}else a.oR.error("Business context missing. Please re-login.")},ue=async()=>{var e,t;let n=!1;if(null!==(e=s.apiKey)&&void 0!==e&&e.trim()||(a.oR.warn("Please provide API Key/Token."),n=!0),null!==(t=s.wabaId)&&void 0!==t&&t.trim()||(D((e=>(0,b.A)((0,b.A)({},e),{},{wabaId:"WABA ID is required to fetch numbers."}))),n=!0),!n)try{var r;S(!0);const e=await c.default.post("/whatsappsettings/fetch-numbers",{},q()),t=OA(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.provider),n=t||(k||oe);await ne(n),n&&n!==oe&&d((e=>(0,b.A)((0,b.A)({},e),{},{provider:n})));const{added:o=0,updated:i=0,total:s=0}=(null===e||void 0===e?void 0:e.data)||{};a.oR.success("Synced \u2014 added ".concat(o,", updated ").concat(i,", total ").concat(s," (").concat(n,")."))}catch(oD){var o,i;const t=(null===oD||void 0===oD||null===(o=oD.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||(null===oD||void 0===oD?void 0:oD.message)||"Fetch failed.";t.includes("WABA ID")?D((e=>(0,b.A)((0,b.A)({},e),{},{wabaId:t}))):a.oR.error(t)}finally{S(!1)}};return(0,u.jsx)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:(0,u.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-8",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"p-2.5 bg-emerald-50 rounded-xl text-emerald-600 shadow-sm border border-emerald-100",children:(0,u.jsx)(ge.A,{size:24})}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center gap-2.5 mb-0.5",children:[(0,u.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 tracking-tight",children:"Manual WhatsApp Business Api Setup"}),L.isFullyHealthy?(0,u.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-700 rounded-lg border border-emerald-100 shadow-sm transition-all hover:bg-emerald-100",children:[(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),(0,u.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:"Connected"})]}):(0,u.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-rose-50 text-rose-700 rounded-lg border border-rose-100 shadow-sm transition-all hover:bg-rose-100",children:[(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 shadow-[0_0_8px_rgba(244,63,94,0.5)] animate-pulse"}),(0,u.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:"Disconnected"})]})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 font-medium max-w-2xl",children:"Configure your API credentials and manage sender identities."})]})]}),(0,u.jsxs)("div",{className:"flex items-center bg-slate-100/30 p-1 rounded-xl border border-slate-200/50 backdrop-blur-sm shadow-sm transition-all",children:[(0,u.jsxs)("button",{type:"button",onClick:async()=>{v(!0),y("");try{var e,t;const n=await c.default.post("/whatsappsettings/test-connection/current",{},q());y(JSON.stringify(null!==(e=null===n||void 0===n?void 0:n.data)&&void 0!==e?e:{},null,2)),a.oR.success((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Connection test complete.")}catch(oD){var n,r,o,i;y(JSON.stringify(null!==(n=null===oD||void 0===oD||null===(r=oD.response)||void 0===r?void 0:r.data)&&void 0!==n?n:{error:String(oD)},null,2)),a.oR.error((null===oD||void 0===oD||null===(o=oD.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||"Connection test failed.")}finally{v(!1)}},disabled:g,className:"inline-flex items-center justify-center px-4 py-2 rounded-lg text-xs font-bold transition-all border-none ".concat(g?"bg-transparent text-slate-300":"bg-transparent text-slate-600 hover:text-slate-900 active:scale-95"),children:[g?(0,u.jsx)(lA.A,{className:"w-3.5 h-3.5 animate-spin mr-1.5"}):(0,u.jsx)(lA.A,{className:"w-3.5 h-3.5 mr-1.5"}),"Test"]}),(0,u.jsx)("div",{className:"w-[1px] h-4 bg-slate-200/60 mx-1"}),(0,u.jsxs)("button",{type:"button",onClick:async()=>{if(s.apiKey.trim()||(a.oR.error("API Key / Token is required."),0))try{m(!0);const e={provider:OA(s.provider),apiUrl:(s.apiUrl||"").trim(),apiKey:(s.apiKey||"").trim(),wabaId:(s.wabaId||"").trim()||null,senderDisplayName:(s.senderDisplayName||"").trim()||null,webhookSecret:(s.webhookSecret||"").trim()||null,webhookVerifyToken:(s.webhookVerifyToken||"").trim()||null,webhookCallbackUrl:(s.webhookCallbackUrl||"").trim()||null,isActive:!!s.isActive};await c.default.put("/whatsappsettings/update",e,q()),E(!0),C(e.provider),X(!0),a.oR.success("Settings saved."),D({})}catch(oD){var e,t;const r=(null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save settings.";r.includes("WABA ID")?D((e=>(0,b.A)((0,b.A)({},e),{},{wabaId:r}))):a.oR.error(r)}finally{m(!1)}},disabled:h,className:"inline-flex items-center justify-center px-5 py-2 rounded-lg text-xs font-bold shadow-lg transition-all ".concat(h?"bg-slate-400 text-white cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700 shadow-emerald-500/20 active:scale-95"),children:[(0,u.jsx)(jA,{className:"w-3.5 h-3.5 mr-1.5"}),h?"Saving...":"Save Settings"]})]})]}),(0,u.jsxs)("div",{className:"space-y-8",children:[(()=>{const{loading:e,isConfiguredViaEsu:t,isTokenExpiredOrInvalid:n,isTokenExpiringSoon:r,isFullyHealthy:o,phoneCount:i,tokenExpiresAtUtc:a}=L,s=a?new Date(a).toLocaleString():null;return e?(0,u.jsx)("div",{className:"mb-4 rounded-xl bg-slate-50 border border-slate-200 px-4 py-3 text-sm text-slate-600",children:"Checking Meta connection status\u2026"}):t?(0,u.jsx)("div",{className:"mb-6 rounded-xl border-l-4 border-emerald-500 bg-emerald-50/40 shadow-sm overflow-hidden transition-all",children:(0,u.jsxs)("div",{className:"px-5 py-3.5 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"mt-0.5 p-1.5 bg-emerald-100 rounded-lg text-emerald-600",children:(0,u.jsx)(Le,{size:18})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-sm font-bold text-emerald-900",children:"Connected"}),(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})]}),o&&(0,u.jsxs)("span",{className:"text-xs text-emerald-700/70 font-medium",children:["WhatsApp API is fully active for this workspace",i?" \u2022 ".concat(i," numbers synced"):""]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("button",{type:"button",onClick:de,disabled:U||!H,className:"shrink-0 inline-flex items-center gap-2 px-4 py-1.5 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 shadow-md shadow-emerald-600/10 transition-all active:scale-95 disabled:opacity-50 whitespace-nowrap",children:U?(0,u.jsx)(lA.A,{className:"w-3.5 h-3.5 animate-spin"}):n||r?"Refresh Token":"Manage Connection"}),s&&(0,u.jsxs)("span",{className:"text-[9px] text-slate-400 font-mono uppercase tracking-wider whitespace-nowrap",children:["Expires: ",s]})]})]}),n&&(0,u.jsxs)("div",{className:"mt-2 text-[10px] text-rose-700 bg-white/60 border border-rose-100 px-3 py-1.5 rounded-lg flex items-center gap-2",children:[(0,u.jsx)(MS.A,{size:12,className:"shrink-0"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Token Expired:"})," Generate a new long-lived token using ",(0,u.jsx)("b",{children:"Refresh Token"})," below."]})]}),r&&(0,u.jsxs)("div",{className:"mt-2 text-[10px] text-amber-700 bg-white/60 border border-amber-100 px-3 py-1.5 rounded-lg flex items-center gap-2",children:[(0,u.jsx)(MS.A,{size:12,className:"shrink-0"}),(0,u.jsx)("p",{children:"Your Meta access token will expire soon. Please refresh it to avoid service gaps."})]})]})]})}):(0,u.jsx)("div",{className:"mb-6 rounded-xl border-l-4 border-rose-500 bg-rose-50/40 shadow-sm overflow-hidden transition-all",children:(0,u.jsxs)("div",{className:"px-5 py-3.5 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"mt-0.5 p-1.5 bg-rose-100 rounded-lg text-rose-600",children:(0,u.jsx)(J.A,{size:18})}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-sm font-bold text-rose-900",children:"Disconnected"}),(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse"})]}),(0,u.jsx)("span",{className:"text-xs text-rose-700/70 font-medium",children:"Connect via Facebook to start sending messages and more."})]}),(0,u.jsxs)("button",{type:"button",onClick:de,disabled:U||!H,className:"shrink-0 inline-flex items-center gap-2 px-4 py-1.5 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold shadow-md shadow-emerald-500/10 transition-all active:scale-95 disabled:opacity-50 whitespace-nowrap",children:[U?(0,u.jsx)(lA.A,{className:"w-3.5 h-3.5 animate-spin"}):(0,u.jsx)(uS.A,{className:"w-3.5 h-3.5"}),"Connect via Facebook"]})]})]})})})(),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,u.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden transition-all hover:border-slate-300/80",children:[(0,u.jsxs)("div",{className:"px-5 py-3 border-b border-slate-100 bg-slate-50/50 flex items-center gap-3",children:[(0,u.jsx)("div",{className:"p-1.5 bg-blue-100 rounded-lg text-blue-600",children:(0,u.jsx)(he,{size:16})}),(0,u.jsx)("h3",{className:"text-sm font-bold text-slate-800",children:"API Credentials"})]}),(0,u.jsx)("div",{className:"p-5 space-y-4",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:"Provider"}),(0,u.jsx)("select",{name:"provider",value:OA(s.provider),onChange:e=>{const t=OA(e.target.value);$.current=!0,X(!0),d((e=>(0,b.A)((0,b.A)({},e),{},{provider:t})))},className:"w-full px-3.5 py-1.5 rounded-lg text-xs border border-slate-200 bg-white focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 transition-all font-medium",children:CA.map((e=>(0,u.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:"API URL (Optional)"}),(0,u.jsxs)("div",{className:"relative flex items-center",children:[(0,u.jsx)("div",{className:"absolute left-3 text-slate-400 pointer-events-none",children:(0,u.jsx)(me,{size:13})}),(0,u.jsx)("input",{type:"text",name:"apiUrl",value:s.apiUrl,onChange:ce,placeholder:"https://graph.facebook.com/v22.0",className:"w-full pl-9 pr-4 py-1.5 rounded-lg text-xs border border-slate-200 bg-white focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 transition-all"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:re}),(0,u.jsxs)("div",{className:"relative flex items-center",children:[(0,u.jsx)("div",{className:"absolute left-3 text-slate-400 pointer-events-none",children:(0,u.jsx)(he,{size:13})}),(0,u.jsx)("input",{type:_?"text":"password",name:"apiKey",value:s.apiKey,onChange:ce,placeholder:"Enter your ".concat(re.toLowerCase()),className:"w-full pl-9 pr-12 py-1.5 rounded-lg text-xs border border-slate-200 bg-white focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 transition-all font-mono"}),(0,u.jsx)("button",{type:"button",onClick:()=>P(!_),className:"absolute right-3 text-slate-400 hover:text-slate-600 transition-colors",children:_?(0,u.jsx)(I,{size:15}):(0,u.jsx)(R.A,{size:15})})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:"WABA ID"}),(0,u.jsx)("input",{type:"text",name:"wabaId",value:s.wabaId,onChange:ce,placeholder:"e.g. 7445482479...",className:"w-full px-3.5 py-1.5 rounded-lg text-xs border bg-white focus:outline-none focus:ring-4 transition-all ".concat(M.wabaId?"border-red-500 focus:ring-red-500/10 focus:border-red-500":"border-slate-200 focus:ring-emerald-500/5 focus:border-emerald-500")}),M.wabaId&&(0,u.jsxs)("div",{className:"mt-1.5 flex items-center gap-1.5 px-2 py-1 bg-red-50 text-red-600 rounded-lg border border-red-100 animate-in fade-in slide-in-from-top-1 duration-200",children:[(0,u.jsx)(MS.A,{size:12,className:"shrink-0"}),(0,u.jsx)("span",{className:"text-[10px] font-bold leading-tight",children:M.wabaId})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:"Display Name"}),(0,u.jsx)("input",{type:"text",name:"senderDisplayName",value:s.senderDisplayName,onChange:ce,placeholder:"e.g. Acme Sales",className:"w-full px-3.5 py-1.5 rounded-lg text-xs border border-slate-200 bg-white focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 transition-all font-medium"})]})]})]})})]}),(0,u.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden transition-all hover:border-slate-300/80",children:[(0,u.jsxs)("div",{className:"px-5 py-3 border-b border-slate-100 bg-slate-50/50 flex items-center gap-3",children:[(0,u.jsx)("div",{className:"p-1.5 bg-indigo-100 rounded-lg text-indigo-600",children:(0,u.jsx)(NA,{size:16})}),(0,u.jsx)("h3",{className:"text-sm font-bold text-slate-800",children:"Webhook Configuration"})]}),(0,u.jsxs)("div",{className:"p-5 space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:"Callback URL"}),(0,u.jsxs)("div",{className:"relative flex items-center",children:[(0,u.jsx)("div",{className:"absolute left-3 text-slate-400 pointer-events-none",children:(0,u.jsx)(NA,{size:13})}),(0,u.jsx)("input",{type:"text",name:"webhookCallbackUrl",value:s.webhookCallbackUrl,onChange:ce,placeholder:"https://example.com/api/webhooks/whatsapp",className:"w-full pl-9 pr-4 py-1.5 rounded-lg text-xs border border-slate-200 bg-white focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 transition-all"})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:"Verify Token"}),(0,u.jsx)("input",{type:"text",name:"webhookVerifyToken",value:s.webhookVerifyToken,onChange:ce,placeholder:"Enter verify token",className:"w-full px-3.5 py-1.5 rounded-lg text-xs border border-slate-200 bg-white focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 transition-all font-mono"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1",children:"Webhook Secret"}),(0,u.jsxs)("div",{className:"relative flex items-center",children:[(0,u.jsx)("input",{type:O?"text":"password",name:"webhookSecret",value:s.webhookSecret,onChange:ce,placeholder:"Enter secret",className:"w-full pl-3.5 pr-12 py-1.5 rounded-lg text-xs border border-slate-200 bg-white focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 transition-all font-mono"}),(0,u.jsx)("button",{type:"button",onClick:()=>T(!O),className:"absolute right-3 text-slate-400 hover:text-slate-600 transition-colors",children:O?(0,u.jsx)(I,{size:15}):(0,u.jsx)(R.A,{size:15})})]})]})]}),(0,u.jsxs)("div",{className:"pt-2",children:[(0,u.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer group",children:[(0,u.jsx)("input",{type:"checkbox",name:"isActive",checked:!!s.isActive,onChange:e=>{const{name:t,checked:n}=e.target;$.current=!0,X(!0),d((e=>(0,b.A)((0,b.A)({},e),{},{[t]:n})))},className:"sr-only peer"}),(0,u.jsx)("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-500/10 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"}),(0,u.jsx)("span",{className:"ml-3 text-sm font-bold text-slate-700 select-none",children:"Active"})]}),(0,u.jsx)("p",{className:"text-[10px] text-slate-400 mt-2 ml-14",children:"Enable or disable all WhatsApp services for this workspace."})]})]})]})]}),(0,u.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden transition-all hover:border-slate-300/80",children:[(0,u.jsxs)("div",{className:"px-5 py-4 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h3",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[(0,u.jsx)(ge.A,{className:"w-3.5 h-3.5 text-emerald-600"}),"Senders (phone numbers)"]}),(0,u.jsx)("p",{className:"text-[11px] text-slate-400 font-medium",children:"Manage your phone identities for WhatsApp campaigns."})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[ie&&(0,u.jsxs)("button",{type:"button",onClick:ue,disabled:N,className:"inline-flex items-center gap-1.5 rounded-lg px-3.5 py-1.5 text-[11px] font-bold transition-all shadow-sm ".concat(N?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-emerald-50 text-emerald-700 border border-emerald-100 hover:bg-emerald-100 active:scale-95"),children:[(0,u.jsx)(lA.A,{className:"w-3 h-3 ".concat(N?"animate-spin":"")}),N?"Fetching...":"Fetch from Meta"]}),(0,u.jsxs)("button",{type:"button",onClick:()=>j((e=>[...e,{label:"",phoneNumberId:"",whatsAppBusinessNumber:"",isDefault:0===e.length,isActive:!0}])),className:"inline-flex items-center gap-1.5 rounded-lg bg-white border border-slate-200 px-3.5 py-1.5 text-[11px] font-bold text-slate-700 hover:bg-slate-50 active:scale-95 transition-all shadow-sm",children:[(0,u.jsx)(uS.A,{className:"w-3 h-3"}),"Add Number"]})]})]}),(0,u.jsx)("div",{className:"p-1",children:0===w.length?(0,u.jsxs)("div",{className:"bg-slate-50/50 rounded-2xl p-12 text-center border-2 border-dashed border-slate-100 m-4",children:[(0,u.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-white border border-slate-100 shadow-sm mb-4",children:(0,u.jsx)(ge.A,{className:"w-6 h-6 text-slate-300"})}),(0,u.jsx)("h4",{className:"text-slate-900 font-bold mb-1",children:"No senders found"}),(0,u.jsx)("p",{className:"text-slate-500 text-xs max-w-xs mx-auto mb-6 leading-relaxed",children:"Connect your Meta account or add your first sender manually to start using WhatsApp."})]}):(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,u.jsx)("th",{className:"px-4 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"label"}),(0,u.jsx)("th",{className:"px-4 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"phone number"}),(0,u.jsx)("th",{className:"px-4 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"number id"}),(0,u.jsx)("th",{className:"px-4 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-right",children:"actions & status"})]})}),(0,u.jsx)("tbody",{className:"divide-y divide-slate-50",children:w.map(((e,t)=>(0,u.jsxs)("tr",{className:"group ".concat(e.isDefault?"bg-emerald-50/20":"hover:bg-slate-50/50"," transition-colors"),children:[(0,u.jsx)("td",{className:"px-4 py-2",children:(0,u.jsx)("input",{type:"text",value:e.label||"",onChange:e=>le(t,"label",e.target.value),placeholder:"e.g. Sales",className:"w-full bg-transparent text-xs font-medium focus:outline-none"})}),(0,u.jsx)("td",{className:"px-4 py-2",children:(0,u.jsx)("input",{type:"text",value:e.whatsAppBusinessNumber||"",onChange:e=>le(t,"whatsAppBusinessNumber",e.target.value),placeholder:"+1...",className:"w-full bg-transparent text-xs focus:outline-none text-slate-600"})}),(0,u.jsx)("td",{className:"px-4 py-2",children:(0,u.jsx)("input",{type:"text",value:e.phoneNumberId||"",onChange:e=>le(t,"phoneNumberId",e.target.value),placeholder:"ID",className:"w-full bg-transparent text-xs focus:outline-none text-slate-400 font-mono"})}),(0,u.jsx)("td",{className:"px-4 py-2 text-right",children:(0,u.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[e.isDefault&&(0,u.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-emerald-100 text-emerald-700 text-[9px] font-bold rounded uppercase tracking-tighter",children:"Default"}),(0,u.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,u.jsx)("button",{type:"button",onClick:async()=>{try{const n=await ee(s.provider,e);j((e=>e.map(((e,r)=>r===t?(0,b.A)((0,b.A)({},e),{},{id:(null===n||void 0===n?void 0:n.id)||e.id}):e)))),a.oR.success("Saved")}catch(n){a.oR.error("Failed")}},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,u.jsx)(jA,{className:"w-3.5 h-3.5"})}),!e.isDefault&&(0,u.jsx)("button",{type:"button",onClick:async()=>{try{if(e.id)await te(s.provider,e.id);else{const t=await ee(s.provider,e);await te(s.provider,null===t||void 0===t?void 0:t.id)}(e=>{j((t=>t.map(((t,n)=>(0,b.A)((0,b.A)({},t),{},{isDefault:n===e})))))})(t),a.oR.success("Default set")}catch(n){a.oR.error("Failed")}},className:"p-1.5 text-amber-500 hover:bg-amber-50 rounded-lg transition-colors",children:(0,u.jsx)(SA,{className:"w-3.5 h-3.5"})}),(0,u.jsx)("button",{type:"button",onClick:async()=>{try{if(!e.id)return void se(t);await(async(e,t)=>{const n=OA(e);await c.default.delete("/whatsappsettings/".concat(n,"/numbers/").concat(t),q())})(s.provider,e.id),se(t),a.oR.success("Deleted")}catch(n){a.oR.error("Failed")}},className:"p-1.5 text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",children:(0,u.jsx)(hS.A,{className:"w-3.5 h-3.5"})})]})]})})]},t)))})]})})})]}),(0,u.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-blue-50/50 border border-blue-100 rounded-xl shadow-sm",children:[(0,u.jsx)("div",{className:"mt-0.5 p-1.5 bg-white rounded-lg border border-blue-100 shadow-sm text-blue-500",children:(0,u.jsx)(MS.A,{size:16})}),(0,u.jsxs)("p",{className:"text-[11px] text-blue-700/80 leading-relaxed font-medium",children:["The ",(0,u.jsx)("b",{className:"font-bold text-blue-900",children:"Default"})," sender is critical\u2014it will be used for automated messages like OTPs, welcome sequences, and when no specific phone number is selected during a mass broadcast."]})]}),x&&(0,u.jsxs)("div",{className:"mt-8",children:[(0,u.jsxs)("h3",{className:"text-sm font-bold text-slate-800 mb-3 flex items-center gap-2",children:[(0,u.jsx)(lA.A,{className:"w-4 h-4 text-slate-400"}),"Connection Test Result"]}),(0,u.jsx)("pre",{className:"text-xs bg-slate-900 text-emerald-400 p-6 rounded-2xl overflow-auto border border-slate-800 shadow-2xl max-h-[300px] font-mono leading-relaxed",children:x})]}),(0,u.jsx)(kA,{isOpen:B,onClose:()=>{z(!1),sessionStorage.removeItem("xb_pending_esu_pin")},businessId:W,onSuccess:()=>{sessionStorage.removeItem("xb_pending_esu_pin"),ae()}})]})]})})}var IA=n(69022);const RA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function DA(){var t,n,r,s,d,p,f,h,m,g,v,x,b,y,w,j,N;const{business:S,hasAllAccess:A,isLoading:E}=(0,l.h)(),k=(0,i.Zp)(),[C,_]=(0,e.useState)(!1),[P,O]=(0,e.useState)(!1),[T,M]=(0,e.useState)(!0),[I,R]=(0,e.useState)(null),[D,L]=(0,e.useState)(!1),[F,B]=(0,e.useState)(!1),[z,U]=(0,e.useState)(!1),[V,W]=(0,e.useState)(!1),[H,q]=(0,e.useState)(!1),[K,G]=(0,e.useState)(!1),[Y,X]=(0,e.useState)(!1),[$,Z]=(0,o.ok)(),[J,Q]=(0,e.useState)((()=>"true"===sessionStorage.getItem("xb_pending_esu_pin"))),ee=(null===S||void 0===S?void 0:S.id)||(null===S||void 0===S?void 0:S.businessId)||(null===S||void 0===S?void 0:S.BusinessId)||null,te=(0,e.useMemo)((()=>function(){try{const e=localStorage.getItem("xbyte_token");if(!e)return null;const[,t]=e.split(".");if(!t)return null;const n=JSON.parse(atob(t.replace(/-/g,"+").replace(/_/g,"/"))),r=(null===n||void 0===n?void 0:n.businessId)||(null===n||void 0===n?void 0:n.BusinessId)||null;return"string"===typeof r&&RA.test(r)?r:null}catch(e){return null}}()),[]),ne=ee||te,re=!!ne,oe=async()=>{try{var e,t,n,r;M(!0);const o=await c.default.get("esu/facebook/status"),i=null!==(e=null===o||void 0===o?void 0:o.data)&&void 0!==e?e:null,a=(null===i||void 0===i?void 0:i.data)||(null===i||void 0===i?void 0:i.Data)||i;R(a||null);null!==(t=null!==(n=null!==(r=null===a||void 0===a?void 0:a.hardDeleted)&&void 0!==r?r:null===a||void 0===a?void 0:a.HardDeleted)&&void 0!==n?n:null===a||void 0===a?void 0:a.isHardDeleted)&&void 0!==t&&t&&X(!0)}catch(oD){console.error("Failed to load ESU status",oD),R(null)}finally{M(!1)}};(0,e.useEffect)((()=>{oe()}),[]),(0,e.useEffect)((()=>{const e=$.get("esuStatus"),t=null===e||void 0===e?void 0:e.toLowerCase();if(console.log("[MetaAccountManagement] esuStatus check:",{rawStatus:e,status:t}),"success"===t?(a.oR.success("\u2705 Connected to Meta! Your number is active."),sessionStorage.removeItem("xb_pending_esu_pin"),Q(!1),oe()):"needs_pin"!==t&&"true"!==sessionStorage.getItem("xb_pending_esu_pin")||("needs_pin"===t&&(a.oR.info("This number is already protected. Please enter your existing PIN."),sessionStorage.setItem("xb_pending_esu_pin","true")),Q(!0)),e){const e=new URLSearchParams($);e.delete("esuStatus"),Z(e,{replace:!0})}}),[$,Z]);const ie=null!==(t=null!==(n=null===I||void 0===I?void 0:I.hasEsuFlag)&&void 0!==n?n:null===I||void 0===I?void 0:I.HasEsuFlag)&&void 0!==t&&t,ae=null!==(r=null!==(s=null!==(d=null!==(p=null===I||void 0===I?void 0:I.tokenExpiresAtUtc)&&void 0!==p?p:null===I||void 0===I?void 0:I.TokenExpiresAtUtc)&&void 0!==d?d:null===I||void 0===I?void 0:I.accessTokenExpiresAtUtc)&&void 0!==s?s:null===I||void 0===I?void 0:I.AccessTokenExpiresAtUtc)&&void 0!==r?r:null,se=null!==(f=null!==(h=null===I||void 0===I?void 0:I.hasValidToken)&&void 0!==h?h:null===I||void 0===I?void 0:I.HasValidToken)&&void 0!==f&&f,le=null!==(m=null!==(g=null!==(v=null!==(x=null===I||void 0===I?void 0:I.willExpireSoon)&&void 0!==x?x:null===I||void 0===I?void 0:I.WillExpireSoon)&&void 0!==v?v:null===I||void 0===I?void 0:I.isExpiringSoon)&&void 0!==g?g:null===I||void 0===I?void 0:I.IsExpiringSoon)&&void 0!==m&&m,ce=null!==(b=null!==(y=null!==(w=null===I||void 0===I?void 0:I.hardDeleted)&&void 0!==w?w:null===I||void 0===I?void 0:I.HardDeleted)&&void 0!==y?y:null===I||void 0===I?void 0:I.isHardDeleted)&&void 0!==b&&b,de=null!==(j=null!==(N=null===I||void 0===I?void 0:I.debug)&&void 0!==N?N:null===I||void 0===I?void 0:I.Debug)&&void 0!==j?j:null,ue=!!ce||!!Y,pe=!!ie,fe=pe&&se,he=pe&&!se&&le,me=pe&&!se&&!le&&!!ae,ge=ae?new Date(ae).toLocaleString():null,ve=pe||se||!!ae,xe=re&&ve&&!ue,be=re&&!ue,ye=async()=>{if(re)try{var e,t,n,r,o,i;O(!0);const l=await c.default.post("esu/facebook/start",{returnUrlAfterSuccess:"/app/welcomepage"}),d=(null===l||void 0===l||null===(e=l.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.authUrl)||(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.authUrl)||(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.url)||(null===l||void 0===l||null===(o=l.data)||void 0===o||null===(i=o.Data)||void 0===i?void 0:i.AuthUrl);var s;if(!d)return void a.oR.error((null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message)||"Could not get Meta Embedded Signup URL.");window.location.href=d}catch(oD){console.error("ESU start failed",oD),a.oR.error("Failed to start Meta Embedded Signup.")}finally{O(!1)}else a.oR.error("Workspace context is missing. Please log in again.")},we=()=>{K||q(!1)},je=()=>{z||L(!1)};return(0,u.jsx)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:(0,u.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,u.jsx)("div",{className:"p-2.5 bg-emerald-100 rounded-xl text-emerald-600 shadow-sm shadow-emerald-100/50",children:(0,u.jsx)(IA.A,{size:24})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 tracking-tight",children:"WhatsApp Api Integration"}),(0,u.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Control your Meta WhatsApp Business Platform connection and data settings"})]})]})}),(0,u.jsx)("div",{className:"flex items-center gap-3",children:(0,u.jsx)("button",{onClick:()=>k("/app/settings"),className:"px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-xs font-bold hover:bg-slate-50 transition-all active:scale-95",children:"Back to Settings"})})]}),T||E?(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"h-20 shimmer-bg rounded-xl w-full"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsx)("div",{className:"h-48 shimmer-bg rounded-xl w-full"}),(0,u.jsx)("div",{className:"h-48 shimmer-bg rounded-xl w-full"})]})]}):(0,u.jsxs)(u.Fragment,{children:[(()=>{if(ue)return(0,u.jsx)("div",{className:"mb-6 rounded-xl border-l-4 border-slate-700 bg-slate-50 shadow-sm overflow-hidden transition-all",children:(0,u.jsxs)("div",{className:"px-5 py-3.5 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"mt-0.5 p-1.5 bg-slate-200 rounded-lg text-slate-700",children:(0,u.jsx)(hS.A,{size:18})}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-sm font-bold text-slate-900",children:"Data Deleted"}),(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-600"})]}),(0,u.jsx)("span",{className:"text-xs text-slate-600 font-medium",children:"WhatsApp onboarding configuration and tokens were removed from XploreByte. You can connect again via Embedded Signup."})]}),(0,u.jsxs)("button",{type:"button",onClick:ye,disabled:P||!re,className:"shrink-0 inline-flex items-center gap-2 px-4 py-1.5 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold shadow-md shadow-emerald-500/10 transition-all active:scale-95 disabled:opacity-50 whitespace-nowrap",children:[P?(0,u.jsx)(lA.A,{className:"w-3.5 h-3.5 animate-spin"}):(0,u.jsx)(uS.A,{className:"w-3.5 h-3.5"}),"Connect via Facebook"]})]})]})});return pe?(0,u.jsx)("div",{className:"mb-6 rounded-xl border-l-4 border-emerald-500 bg-emerald-50/40 shadow-sm overflow-hidden transition-all",children:(0,u.jsxs)("div",{className:"px-5 py-3.5 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"mt-0.5 p-1.5 bg-emerald-100 rounded-lg text-emerald-600",children:(0,u.jsx)(IA.A,{size:18})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-sm font-bold text-emerald-900",children:"Connected"}),(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})]}),fe&&(0,u.jsx)("span",{className:"text-xs text-emerald-700/70 font-medium",children:"WhatsApp API is fully active via Meta Embedded Signup"})]}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("button",{type:"button",onClick:ye,disabled:P||!re,className:"shrink-0 inline-flex items-center gap-2 px-4 py-1.5 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 shadow-md shadow-emerald-600/10 transition-all active:scale-95 disabled:opacity-50 whitespace-nowrap",children:P?(0,u.jsx)(lA.A,{className:"w-3.5 h-3.5 animate-spin"}):me||he?"Refresh Token":"Manage Connection"}),ge&&(0,u.jsxs)("span",{className:"text-[9px] text-slate-400 font-mono uppercase tracking-wider whitespace-nowrap",children:["Expires: ",ge]})]})]}),me&&(0,u.jsxs)("div",{className:"mt-2 text-[10px] text-rose-700 bg-white/60 border border-rose-100 px-3 py-1.5 rounded-lg flex items-center gap-2",children:[(0,u.jsx)(IA.A,{size:12,className:"shrink-0"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Token Expired:"})," Generate a new long-lived token using"," ",(0,u.jsx)("b",{children:"Refresh Token"})," below."]})]}),he&&(0,u.jsxs)("div",{className:"mt-2 text-[10px] text-amber-700 bg-white/60 border border-amber-100 px-3 py-1.5 rounded-lg flex items-center gap-2",children:[(0,u.jsx)(IA.A,{size:12,className:"shrink-0"}),(0,u.jsx)("p",{children:"Your Meta access token will expire soon. Please refresh it to avoid service gaps."})]}),A&&de&&(0,u.jsxs)("div",{className:"mt-2 text-[10px] text-slate-500 font-mono",children:["Debug: ",de]})]})]})}):(0,u.jsx)("div",{className:"mb-6 rounded-xl border-l-4 border-rose-500 bg-rose-50/40 shadow-sm overflow-hidden transition-all",children:(0,u.jsxs)("div",{className:"px-5 py-3.5 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"mt-0.5 p-1.5 bg-rose-100 rounded-lg text-rose-600",children:(0,u.jsx)(IA.A,{size:18})}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-sm font-bold text-rose-900",children:"Disconnected"}),(0,u.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse"})]}),(0,u.jsx)("span",{className:"text-xs text-rose-700/70 font-medium",children:"Account disconnected."})]}),(0,u.jsxs)("button",{type:"button",onClick:ye,disabled:P||!re,className:"shrink-0 inline-flex items-center gap-2 px-4 py-1.5 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold shadow-md shadow-emerald-500/10 transition-all active:scale-95 disabled:opacity-50 whitespace-nowrap",children:[P?(0,u.jsx)(lA.A,{className:"w-3.5 h-3.5 animate-spin"}):(0,u.jsx)(uS.A,{className:"w-3.5 h-3.5"}),"Connect via Facebook"]})]})]})})})(),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden hover:shadow-md transition-all",children:[(0,u.jsx)("div",{className:"p-5 border-b border-slate-50 flex items-center justify-between",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"p-1.5 bg-emerald-50 rounded-lg text-emerald-600",children:(0,u.jsx)(IA.A,{size:16})}),(0,u.jsx)("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-wider",children:"Disconnect WhatsApp (Temporary)"})]})}),(0,u.jsxs)("div",{className:"p-5 space-y-4",children:[(0,u.jsx)("p",{className:"text-xs text-slate-600 leading-relaxed font-medium",children:"Disables WhatsApp messaging in XploreByte. You can reconnect later without repeating the full onboarding flow."}),(0,u.jsx)("button",{type:"button",onClick:()=>{re?ue?a.oR.info("WhatsApp data is already deleted for this account. Disconnect is not applicable."):xe?q(!0):a.oR.info("No active WhatsApp Business API connection is configured for this account."):a.oR.error("Workspace context is missing. Please re-login.")},disabled:C||!xe,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 text-xs font-bold transition-all active:scale-95 disabled:opacity-50",children:"Disconnect Account"}),!xe&&(0,u.jsx)("p",{className:"text-[10px] text-slate-400 italic",children:ue?"WhatsApp data is deleted. Disconnect is not applicable.":"No active integration found to disconnect."})]})]}),(0,u.jsxs)("div",{className:"bg-white rounded-xl border border-rose-100 shadow-sm overflow-hidden hover:shadow-md transition-all",children:[(0,u.jsx)("div",{className:"p-5 border-b border-rose-50 flex items-center justify-between",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"p-1.5 bg-rose-50 rounded-lg text-rose-600",children:(0,u.jsx)(hS.A,{size:16})}),(0,u.jsx)("h3",{className:"text-sm font-bold text-rose-900 uppercase tracking-wider",children:"Delete WhatsApp Data (Permanent)"})]})}),(0,u.jsxs)("div",{className:"p-5 space-y-4",children:[(0,u.jsx)("p",{className:"text-xs text-rose-700/70 leading-relaxed font-medium",children:"Permanently deletes WhatsApp onboarding configuration and tokens stored in XploreByte. This cannot be undone."}),(0,u.jsx)("button",{type:"button",onClick:()=>{re?ue?a.oR.info("WhatsApp data for this account is already deleted."):(B(!1),L(!0)):a.oR.error("Business context is missing. Please re-login.")},disabled:!be,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-rose-600 hover:bg-rose-700 text-white text-xs font-bold shadow-md shadow-rose-600/10 transition-all active:scale-95 disabled:opacity-50",children:"Delete All Data"}),!be&&(0,u.jsx)("p",{className:"text-[10px] text-rose-400 italic",children:ue?"WhatsApp data is already deleted for this account.":"Data has already been deleted or context is missing."})]})]}),A&&(0,u.jsxs)("div",{className:"md:col-span-2 bg-slate-900 rounded-xl border border-slate-800 shadow-inner overflow-hidden",children:[(0,u.jsx)("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"p-1.5 bg-slate-800 rounded-lg text-slate-400",children:(0,u.jsx)(lA.A,{size:14})}),(0,u.jsx)("h3",{className:"text-[11px] font-bold text-slate-100 uppercase tracking-widest",children:"Internal Admin Tools"})]})}),(0,u.jsxs)("div",{className:"p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,u.jsx)("div",{className:"max-w-md",children:(0,u.jsx)("p",{className:"text-[11px] text-slate-400 font-medium",children:"Trigger local deauthorization to clear ESU flags and stored tokens without hitting Meta APIs."})}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(re)if(ue)a.oR.info("WhatsApp data has already been deleted.");else try{_(!0),await c.default.post("esu/facebook/debug/deauthorize"),a.oR.success("Local deauthorization complete (debug / internal)."),await oe()}catch(oD){console.error("Deauthorize failed",oD),a.oR.error("Deauthorize failed or endpoint is disabled.")}finally{_(!1)}else a.oR.error("Workspace context is missing. Please re-login.")},disabled:C||!re||ue,className:"inline-flex items-center justify-center gap-2 px-4 py-1.5 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-300 text-xs font-bold transition-all active:scale-95 disabled:opacity-50",children:"Run Local Deauth"})]})]})]})]}),H&&(0,u.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:we}),(0,u.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl relative animate-in fade-in zoom-in duration-200",children:[(0,u.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:"Disconnect WhatsApp Account?"}),(0,u.jsx)("p",{className:"text-xs text-slate-600 mb-4 font-medium leading-relaxed",children:"You are about to temporarily disconnect your WhatsApp account from XploreByte. This will pause all automated workflows, message sending, and template management. Your configuration stays stored for quick reconnection."}),(0,u.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,u.jsx)("button",{type:"button",onClick:we,disabled:K,className:"px-4 py-2 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(re){if(ue)return a.oR.info("WhatsApp data is already deleted for this account."),void q(!1);if(!ve)return a.oR.info("No active WhatsApp Business API connection is configured for this account."),void q(!1);try{var e,t;_(!0),G(!0);const r=await c.default.delete("esu/facebook/disconnect");var n;if(null===(e=null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.ok)||void 0===e||e)a.oR.success("WhatsApp was disconnected for this account."),q(!1);else a.oR.error((null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to disconnect. Please check logs or contact support.");await oe()}catch(oD){var r,o;console.error("Disconnect failed",oD);const t=(null===oD||void 0===oD||null===(r=oD.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||"Failed to disconnect. Please check logs or contact support.";a.oR.error(t)}finally{_(!1),G(!1)}}else a.oR.error("Workspace context is missing. Please re-login.")},disabled:K,className:"px-5 py-2 rounded-lg bg-slate-900 text-white text-xs font-bold hover:bg-slate-800 shadow-md shadow-slate-900/10 transition-all active:scale-95 disabled:opacity-50",children:K?"Disconnecting\u2026":"Confirm Disconnect"})]})]})]}),D&&(0,u.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:je}),(0,u.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl relative animate-in fade-in zoom-in duration-200 border border-rose-100",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,u.jsx)("div",{className:"p-2 bg-rose-100 rounded-lg text-rose-600",children:(0,u.jsx)(hS.A,{size:20})}),(0,u.jsx)("h2",{className:"text-lg font-bold text-rose-900",children:"Delete WhatsApp Data Permanently?"})]}),(0,u.jsxs)("p",{className:"text-xs text-slate-600 mb-4 font-medium leading-relaxed",children:["You are about to permanently remove your WhatsApp connection, phone settings, and configuration from XploreByte."," ",(0,u.jsx)("span",{className:"text-rose-600 font-bold",children:"This action cannot be undone"}),", and you will need to complete the full setup process again to reconnect in the future."]}),(0,u.jsxs)("label",{className:"flex items-start gap-3 p-3 bg-rose-50/50 rounded-lg mb-6 border border-rose-100/50 cursor-pointer transition-all hover:bg-rose-50",children:[(0,u.jsx)("input",{type:"checkbox",className:"mt-0.5 rounded border-rose-300 text-rose-600 focus:ring-rose-500",checked:F,onChange:e=>B(e.target.checked),disabled:z}),(0,u.jsx)("span",{className:"text-[11px] text-rose-800 font-semibold leading-tight",children:"I confirm that I want to permanently delete all WhatsApp configuration data for this account."})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,u.jsx)("button",{type:"button",onClick:je,disabled:z,className:"px-4 py-2 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 transition-all disabled:opacity-50",children:"Cancel"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(re){if(F)try{var e;U(!0);const n=await c.default.delete("esu/facebook/hard-delete-full-account");var t;if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.ok)a.oR.success("Meta WhatsApp onboarding configuration and related data have been deleted for this account."),L(!1),X(!0),W(!0),await oe();else a.oR.error((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to delete WhatsApp data. Please contact support.")}catch(oD){var n,r;console.error("Hard delete failed",oD);const t=(null===oD||void 0===oD||null===(n=oD.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to delete WhatsApp data. Please contact support.";a.oR.error(t)}finally{U(!1)}}else a.oR.error("Workspace context is missing. Please re-login.")},disabled:!F||z,className:"px-5 py-2 rounded-lg bg-rose-600 text-white text-xs font-bold hover:bg-rose-700 shadow-md shadow-rose-600/10 transition-all active:scale-95 disabled:opacity-50",children:z?"Deleting Data...":"Delete Permanently"})]})]})]}),V&&(0,u.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"}),(0,u.jsx)("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl relative animate-in fade-in zoom-in duration-200",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"mx-auto w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 mb-4",children:(0,u.jsx)(uS.A,{size:24,className:"rotate-45"})}),(0,u.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:"Data Deleted Successfully"}),(0,u.jsx)("p",{className:"text-xs text-slate-600 mb-6 font-medium leading-relaxed",children:"Your WhatsApp account connection and all your account data have been deleted. These settings have been permanently removed from XploreByte. You can reconnect at any time if you wish to start over."}),(0,u.jsx)("button",{type:"button",onClick:()=>W(!1),className:"w-full px-4 py-2 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 transition-all active:scale-95 shadow-md shadow-emerald-600/10",children:"Close"})]})})]}),(0,u.jsx)(kA,{isOpen:J,onClose:()=>{Q(!1),sessionStorage.removeItem("xb_pending_esu_pin")},businessId:ne,onSuccess:()=>{oe()}})]})})}const LA=(0,_.A)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);function FA(){const[t]=(0,o.ok)(),n=(0,i.Zp)(),[r,a]=(0,e.useState)("syncing");return(0,e.useEffect)((()=>{const e=t.get("esuStatus"),r=setTimeout((()=>{"success"===e?(a("success"),setTimeout((()=>{n("/app/welcomepage?esuStatus=success",{replace:!0})}),3e3)):n("needs_pin"===e?"/app/welcomepage?esuStatus=needs_pin":"/app/welcomepage",{replace:!0})}),2500);return()=>clearTimeout(r)}),[t,n]),(0,u.jsx)("div",{className:"min-h-screen w-full bg-slate-50 flex items-center justify-center p-6 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white via-slate-50 to-emerald-50/30",children:(0,u.jsx)("div",{className:"max-w-md w-full",children:(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"absolute inset-0 -m-20 bg-emerald-500/5 blur-[100px] rounded-full"}),(0,u.jsx)("div",{className:"absolute top-0 right-0 -mr-20 bg-blue-500/5 blur-[80px] rounded-full"}),(0,u.jsxs)(EA.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative bg-white rounded-[2.5rem] border border-slate-200/60 shadow-2xl shadow-emerald-500/10 p-10 text-center space-y-8",children:[(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)("div",{className:"relative",children:(0,u.jsx)(AA.N,{mode:"wait",children:"syncing"===r?(0,u.jsxs)(EA.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},className:"relative h-24 w-24 flex items-center justify-center",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-emerald-100 rounded-3xl rotate-12 animate-pulse"}),(0,u.jsx)("div",{className:"absolute inset-0 bg-emerald-500/10 rounded-3xl -rotate-6"}),(0,u.jsx)("div",{className:"relative bg-white rounded-2xl shadow-sm border border-slate-100 p-5",children:(0,u.jsx)(s.A,{className:"text-emerald-600 animate-spin",size:40,strokeWidth:1.5})})]},"sync"):(0,u.jsxs)(EA.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative h-24 w-24 flex items-center justify-center",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-emerald-100 rounded-3xl rotate-12"}),(0,u.jsx)("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-3xl -rotate-6"}),(0,u.jsx)(EA.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:12},className:"relative bg-white rounded-2xl shadow-sm border border-slate-100 p-5 text-emerald-600",children:(0,u.jsx)(pt.A,{size:40,strokeWidth:1.5})})]},"success")})})}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"syncing"===r?"Finalizing Connection":"Connection Verified"}),(0,u.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,u.jsx)(LA,{size:14,className:"text-emerald-600 fill-emerald-600"}),(0,u.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Meta Secure Handshake"})]}),(0,u.jsx)("p",{className:"text-slate-500 text-sm leading-relaxed px-4",children:"syncing"===r?"We're verifying your business numbers and establishing your secure WhatsApp API channel...":"Great news! Your WhatsApp Business API is now successfully linked to XploreByte."})]}),(0,u.jsxs)(EA.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex items-start gap-3 text-left",children:[(0,u.jsx)(U.A,{size:18,className:"text-amber-600 mt-0.5 shrink-0"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-[11px] font-bold text-amber-900 uppercase tracking-wider mb-0.5",children:"Safety Protocol"}),(0,u.jsxs)("p",{className:"text-[11px] text-amber-700 leading-tight",children:["Please ",(0,u.jsx)("span",{className:"font-bold underline",children:"do not refresh"})," or close this window while we finalize your secure connection."]})]})]}),(0,u.jsx)("div",{className:"pt-2 flex items-center justify-center gap-2",children:[1,2,3].map((e=>(0,u.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-1000 ".concat(1===e?"w-10 bg-emerald-500":2===e?"success"===r?"w-10 bg-emerald-500":"w-4 bg-emerald-100":"w-4 bg-slate-100")},e)))}),(0,u.jsxs)("div",{className:"pt-2 grid grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{className:"p-3 bg-slate-50 rounded-2xl flex flex-col items-center gap-2 border border-slate-100",children:[(0,u.jsx)(T.A,{size:16,className:"text-emerald-500"}),(0,u.jsx)("span",{className:"text-[10px] font-bold text-slate-600 uppercase",children:"Instant Sync"})]}),(0,u.jsxs)("div",{className:"p-3 bg-slate-50 rounded-2xl flex flex-col items-center gap-2 border border-slate-100",children:[(0,u.jsx)(J.A,{size:16,className:"text-emerald-500"}),(0,u.jsx)("span",{className:"text-[10px] font-bold text-slate-600 uppercase",children:"Secure API"})]})]})]}),(0,u.jsxs)(EA.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-8 text-center text-xs font-medium text-slate-400",children:["Secure connection by ",(0,u.jsx)("span",{className:"text-emerald-600 font-bold",children:"XploreByte"})]})]})})})}function BA(e){let{label:t,value:n,subtitle:r,tone:o="default"}=e;const i="accent"===o?"border-slate-900":"positive"===o?"border-emerald-400":"negative"===o?"border-red-400":"border-slate-200";return(0,u.jsxs)("div",{className:"\n        flex flex-col gap-1.5 p-3.5 rounded-lg bg-white\n        border ".concat(i,"\n        shadow-[0_1px_2px_rgba(15,23,42,0.04)]\n      "),children:[(0,u.jsx)("div",{className:"text-[9px] font-semibold uppercase tracking-[0.14em] text-slate-500",children:t}),(0,u.jsx)("div",{className:"text-xl font-semibold text-slate-900 leading-tight",children:null!==n&&void 0!==n?n:"\u2014"}),r&&(0,u.jsx)("div",{className:"text-[10px] text-slate-500 leading-snug",children:r})]})}var zA=n(64467);function UA(e){return e+.5|0}const VA=(e,t,n)=>Math.max(Math.min(e,n),t);function WA(e){return VA(UA(2.55*e),0,255)}function HA(e){return VA(UA(255*e),0,255)}function qA(e){return VA(UA(e/2.55)/100,0,1)}function KA(e){return VA(UA(100*e),0,100)}const GA={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},YA=[..."0123456789ABCDEF"],XA=e=>YA[15&e],$A=e=>YA[(240&e)>>4]+YA[15&e],ZA=e=>(240&e)>>4===(15&e);function JA(e){var t=(e=>ZA(e.r)&&ZA(e.g)&&ZA(e.b)&&ZA(e.a))(e)?XA:$A;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const QA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eE(e,t,n){const r=t*Math.min(n,1-n),o=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(o-3,9-o,1),-1)};return[o(0),o(8),o(4)]}function tE(e,t,n){const r=function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(o,4-o,1),0)};return[r(5),r(3),r(1)]}function nE(e,t,n){const r=eE(e,1,.5);let o;for(t+n>1&&(o=1/(t+n),t*=o,n*=o),o=0;o<3;o++)r[o]*=1-t-n,r[o]+=t;return r}function rE(e){const t=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(t,n,r),i=Math.min(t,n,r),a=(o+i)/2;let s,l,c;return o!==i&&(c=o-i,l=a>.5?c/(2-o-i):c/(o+i),s=function(e,t,n,r,o){return e===o?(t-n)/r+(t<n?6:0):t===o?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,o),s=60*s+.5),[0|s,l||0,a]}function oE(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(HA)}function iE(e,t,n){return oE(eE,e,t,n)}function aE(e){return(e%360+360)%360}function sE(e){const t=QA.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?WA(+t[5]):HA(+t[5]));const o=aE(+t[2]),i=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return oE(nE,e,t,n)}(o,i,a):"hsv"===t[1]?function(e,t,n){return oE(tE,e,t,n)}(o,i,a):iE(o,i,a),{r:n[0],g:n[1],b:n[2],a:r}}const lE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let dE;function uE(e){dE||(dE=function(){const e={},t=Object.keys(cE),n=Object.keys(lE);let r,o,i,a,s;for(r=0;r<t.length;r++){for(a=s=t[r],o=0;o<n.length;o++)i=n[o],s=s.replace(i,lE[i]);i=parseInt(cE[a],16),e[s]=[i>>16&255,i>>8&255,255&i]}return e}(),dE.transparent=[0,0,0,0]);const t=dE[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const pE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const fE=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,hE=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function mE(e,t,n){if(e){let r=rE(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=iE(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function gE(e,t){return e?Object.assign(t||{},e):e}function vE(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=HA(e[3]))):(t=gE(e,{r:0,g:0,b:0,a:1})).a=HA(t.a),t}function xE(e){return"r"===e.charAt(0)?function(e){const t=pE.exec(e);let n,r,o,i=255;if(t){if(t[7]!==n){const e=+t[7];i=t[8]?WA(e):VA(255*e,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?WA(n):VA(n,0,255)),r=255&(t[4]?WA(r):VA(r,0,255)),o=255&(t[6]?WA(o):VA(o,0,255)),{r:n,g:r,b:o,a:i}}}(e):sE(e)}class bE{constructor(e){if(e instanceof bE)return e;const t=typeof e;let n;"object"===t?n=vE(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*GA[e[1]],g:255&17*GA[e[2]],b:255&17*GA[e[3]],a:5===n?17*GA[e[4]]:255}:7!==n&&9!==n||(t={r:GA[e[1]]<<4|GA[e[2]],g:GA[e[3]]<<4|GA[e[4]],b:GA[e[5]]<<4|GA[e[6]],a:9===n?GA[e[7]]<<4|GA[e[8]]:255})),t}(e)||uE(e)||xE(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=gE(this._rgb);return e&&(e.a=qA(e.a)),e}set rgb(e){this._rgb=vE(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(qA(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?JA(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=rE(e),n=t[0],r=KA(t[1]),o=KA(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(o,"%, ").concat(qA(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(o,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let o;const i=t===o?.5:t,a=2*i-1,s=n.a-r.a,l=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;o=1-l,n.r=255&l*n.r+o*r.r+.5,n.g=255&l*n.g+o*r.g+.5,n.b=255&l*n.b+o*r.b+.5,n.a=i*n.a+(1-i)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=hE(qA(e.r)),o=hE(qA(e.g)),i=hE(qA(e.b));return{r:HA(fE(r+n*(hE(qA(t.r))-r))),g:HA(fE(o+n*(hE(qA(t.g))-o))),b:HA(fE(i+n*(hE(qA(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new bE(this.rgb)}alpha(e){return this._rgb.a=HA(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=UA(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return mE(this._rgb,2,e),this}darken(e){return mE(this._rgb,2,-e),this}saturate(e){return mE(this._rgb,1,e),this}desaturate(e){return mE(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=rE(e);n[0]=aE(n[0]+t),n=iE(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function yE(){}const wE=(()=>{let e=0;return()=>e++})();function jE(e){return null===e||void 0===e}function NE(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function SE(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function AE(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function EE(e,t){return AE(e)?e:t}function kE(e,t){return"undefined"===typeof e?t:e}const CE=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function _E(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function PE(e,t,n,r){let o,i,a;if(NE(e))if(i=e.length,r)for(o=i-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<i;o++)t.call(n,e[o],o);else if(SE(e))for(a=Object.keys(e),i=a.length,o=0;o<i;o++)t.call(n,e[a[o]],a[o])}function OE(e,t){let n,r,o,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(o=e[n],i=t[n],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function TE(e){if(NE(e))return e.map(TE);if(SE(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let o=0;for(;o<r;++o)t[n[o]]=TE(e[n[o]]);return t}return e}function ME(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function IE(e,t,n,r){if(!ME(e))return;const o=t[e],i=n[e];SE(o)&&SE(i)?RE(o,i,r):t[e]=TE(i)}function RE(e,t,n){const r=NE(t)?t:[t],o=r.length;if(!SE(e))return e;const i=(n=n||{}).merger||IE;let a;for(let s=0;s<o;++s){if(a=r[s],!SE(a))continue;const t=Object.keys(a);for(let r=0,o=t.length;r<o;++r)i(t[r],e,a,n)}return e}function DE(e,t){return RE(e,t,{merger:LE})}function LE(e,t,n){if(!ME(e))return;const r=t[e],o=n[e];SE(r)&&SE(o)?DE(r,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=TE(o))}const FE={"":e=>e,x:e=>e.x,y:e=>e.y};function BE(e,t){const n=FE[t]||(FE[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const o of t)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function zE(e){return e.charAt(0).toUpperCase()+e.slice(1)}const UE=e=>"undefined"!==typeof e,VE=e=>"function"===typeof e,WE=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const HE=Math.PI,qE=2*HE,KE=qE+HE,GE=Number.POSITIVE_INFINITY,YE=HE/180,XE=HE/2,$E=HE/4,ZE=2*HE/3,JE=Math.log10,QE=Math.sign;function ek(e,t,n){return Math.abs(e-t)<n}function tk(e){const t=Math.round(e);e=ek(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(JE(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function nk(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function rk(e,t,n){let r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function ok(e){return e*(HE/180)}function ik(e){return e*(180/HE)}function ak(e){if(!AE(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function sk(e,t){const n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*HE&&(i+=qE),{angle:i,distance:o}}function lk(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ck(e,t){return(e-t+KE)%qE-HE}function dk(e){return(e%qE+qE)%qE}function uk(e,t,n,r){const o=dk(e),i=dk(t),a=dk(n),s=dk(i-o),l=dk(a-o),c=dk(o-i),d=dk(o-a);return o===i||o===a||r&&i===a||s>l&&c<d}function pk(e,t,n){return Math.max(t,Math.min(n,e))}function fk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function hk(e,t,n){n=n||(n=>e[n]<t);let r,o=e.length-1,i=0;for(;o-i>1;)r=i+o>>1,n(r)?i=r:o=r;return{lo:i,hi:o}}const mk=(e,t,n,r)=>hk(e,n,r?r=>{const o=e[r][t];return o<n||o===n&&e[r+1][t]===n}:r=>e[r][t]<n),gk=(e,t,n)=>hk(e,n,(r=>e[r][t]>=n));const vk=["push","pop","shift","splice","unshift"];function xk(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,o=r.indexOf(t);-1!==o&&r.splice(o,1),r.length>0||(vk.forEach((t=>{delete e[t]})),delete e._chartjs)}function bk(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const yk="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function wk(e,t){let n=[],r=!1;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n=i,r||(r=!0,yk.call(window,(()=>{r=!1,e.apply(t,n)})))}}const jk=e=>"start"===e?"left":"end"===e?"right":"center",Nk=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Sk(e,t,n){const r=t.length;let o=0,i=r;if(e._sorted){const{iScale:a,vScale:s,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=a.axis,{min:u,max:p,minDefined:f,maxDefined:h}=a.getUserBounds();if(f){if(o=Math.min(mk(l,d,u).lo,n?r:mk(t,d,a.getPixelForValue(u)).lo),c){const e=l.slice(0,o+1).reverse().findIndex((e=>!jE(e[s.axis])));o-=Math.max(0,e)}o=pk(o,0,r-1)}if(h){let e=Math.max(mk(l,a.axis,p,!0).hi+1,n?0:mk(t,d,a.getPixelForValue(p),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!jE(e[s.axis])));e+=Math.max(0,t)}i=pk(e,o,r)-o}else i=r-o}return{start:o,count:i}}function Ak(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,o={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=o,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,o),i}const Ek=e=>0===e||1===e,kk=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*qE/n),Ck=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*qE/n)+1,_k={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*XE),easeOutSine:e=>Math.sin(e*XE),easeInOutSine:e=>-.5*(Math.cos(HE*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ek(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ek(e)?e:kk(e,.075,.3),easeOutElastic:e=>Ek(e)?e:Ck(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ek(e)?e:e<.5?.5*kk(2*e,t,.45):.5+.5*Ck(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-_k.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*_k.easeInBounce(2*e):.5*_k.easeOutBounce(2*e-1)+.5};function Pk(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ok(e){return Pk(e)?e:new bE(e)}function Tk(e){return Pk(e)?e:new bE(e).saturate(.5).darken(.1).hexString()}const Mk=["x","y","borderWidth","radius","tension"],Ik=["color","borderColor","backgroundColor"];const Rk=new Map;function Dk(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Rk.get(n);return r||(r=new Intl.NumberFormat(e,t),Rk.set(n,r)),r}(t,n).format(e)}const Lk={values:e=>NE(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let o,i=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(o="scientific"),i=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=JE(Math.abs(i)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Dk(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(JE(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Lk.numeric.call(this,e,t,n):""}};var Fk={formatters:Lk};const Bk=Object.create(null),zk=Object.create(null);function Uk(e,t){if(!t)return e;const n=t.split(".");for(let r=0,o=n.length;r<o;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function Vk(e,t,n){return"string"===typeof t?RE(Uk(e,t),n):RE(Uk(e,""),t)}class Wk{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Tk(t.backgroundColor),this.hoverBorderColor=(e,t)=>Tk(t.borderColor),this.hoverColor=(e,t)=>Tk(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Vk(this,e,t)}get(e){return Uk(this,e)}describe(e,t){return Vk(zk,e,t)}override(e,t){return Vk(Bk,e,t)}route(e,t,n,r){const o=Uk(this,e),i=Uk(this,n),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=i[r];return SE(e)?Object.assign({},t,e):kE(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Hk=new Wk({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Ik},numbers:{type:"number",properties:Mk}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Fk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function qk(e,t,n,r,o){let i=t[o];return i||(i=t[o]=e.measureText(o).width,n.push(o)),i>r&&(r=i),r}function Kk(e,t,n,r){let o=(r=r||{}).data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(o=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const s=n.length;let l,c,d,u,p;for(l=0;l<s;l++)if(u=n[l],void 0===u||null===u||NE(u)){if(NE(u))for(c=0,d=u.length;c<d;c++)p=u[c],void 0===p||null===p||NE(p)||(a=qk(e,o,i,a,p))}else a=qk(e,o,i,a,u);e.restore();const f=i.length/2;if(f>n.length){for(l=0;l<f;l++)delete o[i[l]];i.splice(0,f)}return a}function Gk(e,t,n){const r=e.currentDevicePixelRatio,o=0!==n?Math.max(n/2,.5):0;return Math.round((t-o)*r)/r+o}function Yk(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Xk(e,t,n,r){$k(e,t,n,r,null)}function $k(e,t,n,r,o){let i,a,s,l,c,d,u,p;const f=t.pointStyle,h=t.rotation,m=t.radius;let g=(h||0)*YE;if(f&&"object"===typeof f&&(i=f.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:o?e.ellipse(n,r,o/2,m,0,0,qE):e.arc(n,r,m,0,qE),e.closePath();break;case"triangle":d=o?o/2:m,e.moveTo(n+Math.sin(g)*d,r-Math.cos(g)*m),g+=ZE,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*m),g+=ZE,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+$E)*l,u=Math.cos(g+$E)*(o?o/2-c:l),s=Math.sin(g+$E)*l,p=Math.sin(g+$E)*(o?o/2-c:l),e.arc(n-u,r-s,c,g-HE,g-XE),e.arc(n+p,r-a,c,g-XE,g),e.arc(n+u,r+s,c,g,g+XE),e.arc(n-p,r+a,c,g+XE,g+HE),e.closePath();break;case"rect":if(!h){l=Math.SQRT1_2*m,d=o?o/2:l,e.rect(n-d,r-l,2*d,2*l);break}g+=$E;case"rectRot":u=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,p=Math.sin(g)*(o?o/2:m),e.moveTo(n-u,r-s),e.lineTo(n+p,r-a),e.lineTo(n+u,r+s),e.lineTo(n-p,r+a),e.closePath();break;case"crossRot":g+=$E;case"cross":u=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,p=Math.sin(g)*(o?o/2:m),e.moveTo(n-u,r-s),e.lineTo(n+u,r+s),e.moveTo(n+p,r-a),e.lineTo(n-p,r+a);break;case"star":u=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,p=Math.sin(g)*(o?o/2:m),e.moveTo(n-u,r-s),e.lineTo(n+u,r+s),e.moveTo(n+p,r-a),e.lineTo(n-p,r+a),g+=$E,u=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,p=Math.sin(g)*(o?o/2:m),e.moveTo(n-u,r-s),e.lineTo(n+u,r+s),e.moveTo(n+p,r-a),e.lineTo(n-p,r+a);break;case"line":a=o?o/2:Math.cos(g)*m,s=Math.sin(g)*m,e.moveTo(n-a,r-s),e.lineTo(n+a,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(o?o/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Zk(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Jk(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Qk(e){e.restore()}function eC(e,t,n,r,o){if(!t)return e.lineTo(n.x,n.y);if("middle"===o){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===o!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function tC(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function nC(e,t,n,r,o){if(o.strikethrough||o.underline){const i=e.measureText(r),a=t-i.actualBoundingBoxLeft,s=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=o.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(a,d),e.lineTo(s,d),e.stroke()}}function rC(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function oC(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=NE(t)?t:[t],s=i.strokeWidth>0&&""!==i.strokeColor;let l,c;for(e.save(),e.font=o.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),jE(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&rC(e,i.backdrop),s&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),jE(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,r,i.maxWidth)),e.fillText(c,n,r,i.maxWidth),nC(e,n,r,c,i),r+=Number(o.lineHeight);e.restore()}function iC(e,t){const{x:n,y:r,w:o,h:i,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*HE,HE,!0),e.lineTo(n,r+i-a.bottomLeft),e.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,HE,XE,!0),e.lineTo(n+o-a.bottomRight,r+i),e.arc(n+o-a.bottomRight,r+i-a.bottomRight,a.bottomRight,XE,0,!0),e.lineTo(n+o,r+a.topRight),e.arc(n+o-a.topRight,r+a.topRight,a.topRight,0,-XE,!0),e.lineTo(n+a.topLeft,r)}const aC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lC(e,t){const n=(""+e).match(aC);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function cC(e,t){const n={},r=SE(t),o=r?Object.keys(t):t,i=SE(e)?r?n=>kE(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of o)n[a]=+i(a)||0;return n}function dC(e){return cC(e,{top:"y",right:"x",bottom:"y",left:"x"})}function uC(e){return cC(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pC(e){const t=dC(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fC(e,t){e=e||{},t=t||Hk.font;let n=kE(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=kE(e.style,t.style);r&&!(""+r).match(sC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:kE(e.family,t.family),lineHeight:lC(kE(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:kE(e.weight,t.weight),string:""};return o.string=function(e){return!e||jE(e.size)||jE(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(o),o}function hC(e,t,n,r){let o,i,a,s=!0;for(o=0,i=e.length;o<i;++o)if(a=e[o],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),s=!1),void 0!==n&&NE(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function mC(e,t){return Object.assign(Object.create(e),t)}function gC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const o=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=kC("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:r,override:r=>gC([r,...e],t,o,n)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>wC(n,r,(()=>function(e,t,n,r){let o;for(const i of t)if(o=kC(bC(i,e),n),"undefined"!==typeof o)return yC(e,o)?AC(n,r,e,o):o}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>CC(e).includes(t),ownKeys:e=>CC(e),set(e,t,n){const o=e._storage||(e._storage=r());return e[t]=o[t]=n,delete e._keys,!0}})}function vC(e,t,n,r){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:xC(e,r),setContext:t=>vC(e,t,n,r),override:o=>vC(e.override(o),t,n,r)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>wC(e,t,(()=>function(e,t,n){const{_proxy:r,_context:o,_subProxy:i,_descriptors:a}=e;let s=r[t];VE(s)&&a.isScriptable(t)&&(s=function(e,t,n,r){const{_proxy:o,_context:i,_subProxy:a,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(i,a||r);s.delete(e),yC(e,l)&&(l=AC(o._scopes,o,e,l));return l}(t,s,e,n));NE(s)&&s.length&&(s=function(e,t,n,r){const{_proxy:o,_context:i,_subProxy:a,_descriptors:s}=n;if("undefined"!==typeof i.index&&r(e))return t[i.index%t.length];if(SE(t[0])){const n=t,r=o._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=AC(r,o,e,l);t.push(vC(n,i,a&&a[e],s))}}return t}(t,s,e,a.isIndexable));yC(t,s)&&(s=vC(s,o,i&&i[t],a));return s}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function xC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:n,indexable:r,isScriptable:VE(n)?n:()=>n,isIndexable:VE(r)?r:()=>r}}const bC=(e,t)=>e?e+zE(t):t,yC=(e,t)=>SE(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function wC(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function jC(e,t,n){return VE(e)?e(t,n):e}const NC=(e,t)=>!0===e?t:"string"===typeof e?BE(t,e):void 0;function SC(e,t,n,r,o){for(const i of t){const t=NC(n,i);if(t){e.add(t);const i=jC(t._fallback,n,o);if("undefined"!==typeof i&&i!==n&&i!==r)return i}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function AC(e,t,n,r){const o=t._rootScopes,i=jC(t._fallback,n,r),a=[...e,...o],s=new Set;s.add(r);let l=EC(s,a,n,i||n,r);return null!==l&&(("undefined"===typeof i||i===n||(l=EC(s,a,i,l,r),null!==l))&&gC(Array.from(s),[""],o,i,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const o=r[t];if(NE(o)&&SE(n))return n;return o||{}}(t,n,r))))}function EC(e,t,n,r,o){for(;n;)n=SC(e,t,n,r,o);return n}function kC(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function CC(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function _C(e,t,n,r){const{iScale:o}=e,{key:i="r"}=this._parsing,a=new Array(r);let s,l,c,d;for(s=0,l=r;s<l;++s)c=s+n,d=t[c],a[s]={r:o.parse(BE(d,i),c)};return a}const PC=Number.EPSILON||1e-14,OC=(e,t)=>t<e.length&&!e[t].skip&&e[t],TC=e=>"x"===e?"y":"x";function MC(e,t,n,r){const o=e.skip?t:e,i=t,a=n.skip?t:n,s=lk(i,o),l=lk(a,i);let c=s/(s+l),d=l/(s+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=r*c,p=r*d;return{previous:{x:i.x-u*(a.x-o.x),y:i.y-u*(a.y-o.y)},next:{x:i.x+p*(a.x-o.x),y:i.y+p*(a.y-o.y)}}}function IC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=TC(t),r=e.length,o=Array(r).fill(0),i=Array(r);let a,s,l,c=OC(e,0);for(a=0;a<r;++a)if(s=l,l=c,c=OC(e,a+1),l){if(c){const e=c[t]-l[t];o[a]=0!==e?(c[n]-l[n])/e:0}i[a]=s?c?QE(o[a-1])!==QE(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}!function(e,t,n){const r=e.length;let o,i,a,s,l,c=OC(e,0);for(let d=0;d<r-1;++d)l=c,c=OC(e,d+1),l&&c&&(ek(t[d],0,PC)?n[d]=n[d+1]=0:(o=n[d]/t[d],i=n[d+1]/t[d],s=Math.pow(o,2)+Math.pow(i,2),s<=9||(a=3/Math.sqrt(s),n[d]=o*a*t[d],n[d+1]=i*a*t[d])))}(e,o,i),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=TC(n),o=e.length;let i,a,s,l=OC(e,0);for(let c=0;c<o;++c){if(a=s,s=l,l=OC(e,c+1),!s)continue;const o=s[n],d=s[r];a&&(i=(o-a[n])/3,s["cp1".concat(n)]=o-i,s["cp1".concat(r)]=d-i*t[c]),l&&(i=(l[n]-o)/3,s["cp2".concat(n)]=o+i,s["cp2".concat(r)]=d+i*t[c])}}(e,i,t)}function RC(e,t,n){return Math.max(Math.min(e,n),t)}function DC(e,t,n,r,o){let i,a,s,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)IC(e,o);else{let n=r?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)s=e[i],l=MC(n,s,e[Math.min(i+1,a-(r?0:1))%a],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,r,o,i,a,s=Zk(e[0],t);for(n=0,r=e.length;n<r;++n)a=i,i=s,s=n<r-1&&Zk(e[n+1],t),i&&(o=e[n],a&&(o.cp1x=RC(o.cp1x,t.left,t.right),o.cp1y=RC(o.cp1y,t.top,t.bottom)),s&&(o.cp2x=RC(o.cp2x,t.left,t.right),o.cp2y=RC(o.cp2y,t.top,t.bottom)))}(e,n)}function LC(){return"undefined"!==typeof window&&"undefined"!==typeof document}function FC(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function BC(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const zC=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const UC=["top","right","bottom","left"];function VC(e,t,n){const r={};n=n?"-"+n:"";for(let o=0;o<4;o++){const i=UC[o];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function WC(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,o=zC(n),i="border-box"===o.boxSizing,a=VC(o,"padding"),s=VC(o,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:o,offsetY:i}=r;let a,s,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(o,i,e.target))a=o,s=i;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,s=r.clientY-e.top,l=!0}return{x:a,y:s,box:l}}(e,n),u=a.left+(d&&s.left),p=a.top+(d&&s.top);let{width:f,height:h}=t;return i&&(f-=a.width+s.width,h-=a.height+s.height),{x:Math.round((l-u)/f*n.width/r),y:Math.round((c-p)/h*n.height/r)}}const HC=e=>Math.round(10*e)/10;function qC(e,t,n,r){const o=zC(e),i=VC(o,"margin"),a=BC(o.maxWidth,e,"clientWidth")||GE,s=BC(o.maxHeight,e,"clientHeight")||GE,l=function(e,t,n){let r,o;if(void 0===t||void 0===n){const i=e&&FC(e);if(i){const e=i.getBoundingClientRect(),a=zC(i),s=VC(a,"border","width"),l=VC(a,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,r=BC(a.maxWidth,i,"clientWidth"),o=BC(a.maxHeight,i,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||GE,maxHeight:o||GE}}(e,t,n);let{width:c,height:d}=l;if("content-box"===o.boxSizing){const e=VC(o,"border","width"),t=VC(o,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=HC(Math.min(c,a,l.maxWidth)),d=HC(Math.min(d,s,l.maxHeight)),c&&!d&&(d=HC(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&d>l.height&&(d=l.height,c=HC(Math.floor(d*r))),{width:c,height:d}}function KC(e,t,n){const r=t||1,o=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||a.height!==o||a.width!==i)&&(e.currentDevicePixelRatio=r,a.height=o,a.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0)}const GC=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};LC()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Jg){}return e}();function YC(e,t){const n=function(e,t){return zC(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function XC(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function $C(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function ZC(e,t,n,r){const o={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=XC(e,o,n),s=XC(o,i,n),l=XC(i,t,n),c=XC(a,s,n),d=XC(s,l,n);return XC(c,d,n)}function JC(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function QC(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function e_(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function t_(e){return"angle"===e?{between:uk,compare:ck,normalize:dk}:{between:fk,compare:(e,t)=>e-t,normalize:e=>e}}function n_(e){let{start:t,end:n,count:r,loop:o,style:i}=e;return{start:t%r,end:n%r,loop:o&&(n-t+1)%r===0,style:i}}function r_(e,t,n){if(!n)return[e];const{property:r,start:o,end:i}=n,a=t.length,{compare:s,between:l,normalize:c}=t_(r),{start:d,end:u,loop:p,style:f}=function(e,t,n){const{property:r,start:o,end:i}=n,{between:a,normalize:s}=t_(r),l=t.length;let c,d,{start:u,end:p,loop:f}=e;if(f){for(u+=l,p+=l,c=0,d=l;c<d&&a(s(t[u%l][r]),o,i);++c)u--,p--;u%=l,p%=l}return p<u&&(p+=l),{start:u,end:p,loop:f,style:e.style}}(e,t,n),h=[];let m,g,v,x=!1,b=null;const y=()=>x||l(o,v,m)&&0!==s(o,v),w=()=>!x||0===s(i,m)||l(i,v,m);for(let j=d,N=d;j<=u;++j)g=t[j%a],g.skip||(m=c(g[r]),m!==v&&(x=l(m,o,i),null===b&&y()&&(b=0===s(m,o)?j:N),null!==b&&w()&&(h.push(n_({start:b,end:j,loop:p,count:a,style:f})),b=null),N=j,v=m));return null!==b&&h.push(n_({start:b,end:u,loop:p,count:a,style:f})),h}function o_(e,t){const n=[],r=e.segments;for(let o=0;o<r.length;o++){const i=r_(r[o],e.points,t);i.length&&n.push(...i)}return n}function i_(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const o=e._chart.getContext(),i=a_(e.options),{_datasetIndex:a,options:{spanGaps:s}}=e,l=n.length,c=[];let d=i,u=t[0].start,p=u;function f(e,t,r,o){const i=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=i;for(;n[t%l].skip;)t+=i;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:o}),d=o,u=t%l)}}for(const h of t){u=s?u:h.start;let e,t=n[u%l];for(p=u+1;p<=h.end;p++){const i=n[p%l];e=a_(r.setContext(mC(o,{type:"segment",p0:t,p1:i,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),s_(e,d)&&f(u,p-1,h.loop,d),t=i,d=e}u<p-1&&f(u,p-1,h.loop,d)}return c}(e,t,n,r):t}function a_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function s_(e,t){if(!t)return!1;const n=[],r=function(e,t){return Pk(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function l_(e,t,n){return e.options.clip?e[n]:t[n]}function c_(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:l_(n,t,"left"),right:l_(n,t,"right"),top:l_(r,t,"top"),bottom:l_(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class d_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const o=t.listeners[r],i=t.duration;o.forEach((r=>r({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(n-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=yk.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const o=n.items;let i,a=o.length-1,s=!1;for(;a>=0;--a)i=o[a],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(e),s=!0):(o[a]=o[o.length-1],o.pop());s&&(r.draw(),this._notify(r,n,e,"progress")),o.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=o.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var u_=new d_;const p_="transparent",f_={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Ok(e||p_),o=r.valid&&Ok(t||p_);return o&&o.valid?o.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class h_{constructor(e,t,n,r){const o=t[n];r=hC([e.to,r,o,e.from]);const i=hC([e.from,o,r]);this._active=!0,this._fn=e.fn||f_[e.type||typeof i],this._easing=_k[e.easing]||_k.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=i,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],o=n-this._start,i=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=hC([e.to,t,r,e.from]),this._from=hC([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,o=this._from,i=this._loop,a=this._to;let s;if(this._active=o!==a&&(i||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=o:(s=t/n%2,s=i&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(o,a,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class m_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!SE(e))return;const t=Object.keys(Hk.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const o=e[r];if(!SE(o))return;const i={};for(const e of t)i[e]=o[e];(NE(o.properties)&&o.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,i)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const o=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let o=0;o<r.length;o++){const t=e[r[o]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),o}_createAnimations(e,t){const n=this._properties,r=[],o=e.$animations||(e.$animations={}),i=Object.keys(t),a=Date.now();let s;for(s=i.length-1;s>=0;--s){const l=i[s];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let d=o[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,a);continue}d.cancel()}u&&u.duration?(o[l]=d=new h_(u,e,l,c),r.push(d)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(u_.add(this._chart,n),!0):void 0}}function g_(e,t){const n=e&&e.options||{},r=n.reverse,o=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:r?i:o,end:r?o:i}}function v_(e,t){const n=[],r=e._getSortedDatasetMetas(t);let o,i;for(o=0,i=r.length;o<i;++o)n.push(r[o].index);return n}function x_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=e.keys,i="single"===r.mode;let a,s,l,c;if(null===t)return;let d=!1;for(a=0,s=o.length;a<s;++a){if(l=+o[a],l===n){if(d=!0,r.all)continue;break}c=e.values[l],AE(c)&&(i||0===t||QE(t)===QE(c))&&(t+=c)}return d||r.all?t:0}function b_(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function y_(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function w_(e,t,n,r){for(const o of t.getMatchingVisibleMetas(r).reverse()){const t=e[o.index];if(n&&t>0||!n&&t<0)return o.index}return null}function j_(e,t){const{chart:n,_cachedMeta:r}=e,o=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:s}=r,l=i.axis,c=a.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(i,a,r),u=t.length;let p;for(let f=0;f<u;++f){const e=t[f],{[l]:n,[c]:i}=e;p=(e._stacks||(e._stacks={}))[c]=y_(o,d,n),p[s]=i,p._top=w_(p,a,!0,r.type),p._bottom=w_(p,a,!1,r.type);(p._visualValues||(p._visualValues={}))[s]=i}}function N_(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function S_(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const A_=e=>"reset"===e||"none"===e,E_=(e,t)=>t?e:Object.assign({},e);class k_{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=b_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&S_(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,o=t.xAxisID=kE(n.xAxisID,N_(e,"x")),i=t.yAxisID=kE(n.yAxisID,N_(e,"y")),a=t.rAxisID=kE(n.rAxisID,N_(e,"r")),s=t.indexAxis,l=t.iAxisID=r(s,o,i,a),c=t.vAxisID=r(s,i,o,a);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xk(this._data,this),e._stacked&&S_(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(SE(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,o="x"===n.axis?"x":"y",i="x"===r.axis?"x":"y",a=Object.keys(e),s=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],s[l]={[o]:d,[i]:e[d]};return s}(t,e)}else if(n!==t){if(n){xk(n,this);const e=this._cachedMeta;S_(e),e._parsed=[]}t&&Object.isExtensible(t)&&(o=this,(r=t)._chartjs?r._chartjs.listeners.push(o):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),vk.forEach((e=>{const t="_onData"+zE(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];const a=n.apply(this,o);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...o)})),a}})})))),this._syncList=[],this._data=t}var r,o}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=b_(t.vScale,t),t.stack!==n.stack&&(r=!0,S_(t),t.stack=n.stack),this._resyncElements(e),(r||o!==t._stacked)&&(j_(this,t._parsed),t._stacked=b_(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:o,_stacked:i}=n,a=o.axis;let s,l,c,d=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=NE(r[e])?this.parseArrayData(n,r,e,t):SE(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const o=()=>null===l[a]||u&&l[a]<u[a];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],d&&(o()&&(d=!1),u=l);n._sorted=d}i&&j_(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:o,vScale:i}=e,a=o.axis,s=i.axis,l=o.getLabels(),c=o===i,d=new Array(r);let u,p,f;for(u=0,p=r;u<p;++u)f=u+n,d[u]={[a]:c||o.parse(l[f],f),[s]:i.parse(t[f],f)};return d}parseArrayData(e,t,n,r){const{xScale:o,yScale:i}=e,a=new Array(r);let s,l,c,d;for(s=0,l=r;s<l;++s)c=s+n,d=t[c],a[s]={x:o.parse(d[0],c),y:i.parse(d[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:o,yScale:i}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(r);let c,d,u,p;for(c=0,d=r;c<d;++c)u=c+n,p=t[u],l[c]={x:o.parse(BE(p,a),u),y:i.parse(BE(p,s),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,o=this._cachedMeta,i=t[e.axis];return x_({keys:v_(r,!0),values:t._stacks[e.axis]._visualValues},i,o.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const o=n[t.axis];let i=null===o?NaN:o;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,i=x_(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,o=n._sorted&&e===n.iScale,i=r.length,a=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:v_(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:r,maxDefined:o}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}(a);let u,p;function f(){p=r[u];const t=p[a.axis];return!AE(p[e.axis])||c>t||d<t}for(u=0;u<i&&(f()||(this.updateRangeFromParsed(l,e,p,s),!o));++u);if(o)for(u=i-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,e,p,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,o,i;for(r=0,o=t.length;r<o;++r)i=t[r][e.axis],AE(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,o;return SE(e)?(t=e.top,n=e.right,r=e.bottom,o=e.left):t=n=r=o=e,{top:t,right:n,bottom:r,left:o,disabled:!1===e}}(kE(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=g_(e,n),o=g_(t,n);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],o=t.chartArea,i=[],a=this._drawStart||0,s=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,o,a,s),c=a;c<a+s;++c){const t=r[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,o))}for(c=0;c<i.length;++c)i[c].draw(e,o)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];o=t.$context||(t.$context=function(e,t,n){return mC(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function(e,t){return mC(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,o=this._cachedDataOpts,i=e+"-"+t,a=o[i],s=this.enableOptionSharing&&UE(n);if(a)return E_(a,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),p=Object.keys(Hk.elements[e]),f=l.resolveNamedOptions(u,p,(()=>this.getContext(n,r,t)),d);return f.$shared&&(f.$shared=s,o[i]=Object.freeze(E_(f,s))),f}_resolveAnimations(e,t,n){const r=this.chart,o=this._cachedDataOpts,i="animation-".concat(t),a=o[i];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,o=r.datasetAnimationScopeKeys(this._type,t),i=r.getOptionScopes(this.getDataset(),o);s=r.createResolver(i,this.getContext(e,n,t))}const l=new m_(r,s&&s.animations);return s&&s._cacheable&&(o[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||A_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(n),i=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,n),{sharedOptions:o,includeOptions:i}}updateElement(e,t,n,r){A_(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!A_(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,s,l]of this._syncList)this[a](s,l);this._syncList=[];const r=n.length,o=t.length,i=Math.min(o,r);i&&this.parse(0,i),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,o=r.data,i=e+t;let a;const s=e=>{for(e.length+=t,a=e.length-1;a>=i;a--)e[a]=e[a-t]};for(s(o),a=e;a<i;++a)o[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),n&&this.updateElements(o,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&S_(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function C_(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,o=n.length;t<o;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=bk(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,o,i,a,s=t._length;const l=()=>{32767!==i&&-32768!==i&&(UE(a)&&(s=Math.min(s,Math.abs(i-a)||s)),a=i)};for(r=0,o=n.length;r<o;++r)i=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)i=t.getPixelForTick(r),l();return s}function __(e,t,n,r){return NE(e)?function(e,t,n,r){const o=n.parse(e[0],r),i=n.parse(e[1],r),a=Math.min(o,i),s=Math.max(o,i);let l=a,c=s;Math.abs(a)>Math.abs(s)&&(l=s,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:o,end:i,min:a,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function P_(e,t,n,r){const o=e.iScale,i=e.vScale,a=o.getLabels(),s=o===i,l=[];let c,d,u,p;for(c=n,d=n+r;c<d;++c)p=t[c],u={},u[o.axis]=s||o.parse(a[c],c),l.push(__(p,u,i,c));return l}function O_(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function T_(e,t,n,r){let o=t.borderSkipped;const i={};if(!o)return void(e.borderSkipped=i);if(!0===o)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:l,top:c,bottom:d}=function(e){let t,n,r,o,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(o="end",i="start"):(o="start",i="end"),{start:n,end:r,reverse:t,top:o,bottom:i}}(e);"middle"===o&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?o=c:(n._bottom||0)===r?o=d:(i[M_(d,a,s,l)]=!0,o=c)),i[M_(o,a,s,l)]=!0,e.borderSkipped=i}function M_(e,t,n,r){var o,i,a;return r?(a=n,e=I_(e=(o=e)===(i=t)?a:o===a?i:o,n,t)):e=I_(e,t,n),e}function I_(e,t,n){return"start"===e?t:"end"===e?n:e}function R_(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,zA.A)(k_,"defaults",{}),(0,zA.A)(k_,"datasetElementType",null),(0,zA.A)(k_,"dataElementType",null);class D_ extends k_{parsePrimitiveData(e,t,n,r){return P_(e,t,n,r)}parseArrayData(e,t,n,r){return P_(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:o,vScale:i}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===o.axis?a:s,c="x"===i.axis?a:s,d=[];let u,p,f,h;for(u=n,p=n+r;u<p;++u)h=t[u],f={},f[o.axis]=o.parse(BE(h,l),u),d.push(__(BE(h,c),f,i,u));return d}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const o=n._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,o=this.getParsed(e),i=o._custom,a=O_(i)?"["+i.start+", "+i.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const o="reset"===r,{index:i,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,r);for(let p=t;p<t+n;p++){const t=this.getParsed(p),n=o||jE(t[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(p),f=this._calculateBarIndexPixels(p,c),h=(t._stacks||{})[a.axis],m={horizontal:l,base:n.base,enableBorderRadius:!h||O_(t._custom)||i===h._top||i===h._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};u&&(m.options=d||this.resolveDataElementOptions(p,e[p].active?"active":r));const g=m.options||e[p].options;T_(m,g,h,i),R_(m,g,c.ratio),this.updateElement(e[p],p,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),o=n.options.stacked,i=[],a=this._cachedMeta.controller.getParsed(t),s=a&&a[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===s)),r=t&&t[e.vScale.axis];if(jE(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===o||-1===i.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter((n=>e[n].axis===t)).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[kE("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),o=void 0!==t?r.indexOf(t):-1;return-1===o?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let o,i;for(o=0,i=t.data.length;o<i;++o)r.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=e.barThickness;return{min:a||C_(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:o,minBarLength:i}}=this,a=o||0,s=this.getParsed(e),l=s._custom,c=O_(l);let d,u,p=s[t.axis],f=0,h=n?this.applyStack(t,s,n):p;h!==p&&(f=h-p,h=p),c&&(p=l.barStart,h=l.barEnd-l.barStart,0!==p&&QE(p)!==QE(l.barEnd)&&(f=0),f+=p);const m=jE(o)||c?f:o;let g=t.getPixelForValue(m);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(f+h):g,u=d-g,Math.abs(u)<i){u=function(e,t,n){return 0!==e?QE(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,a)*i,p===a&&(g-=u/2);const e=t.getPixelForDecimal(0),o=t.getPixelForDecimal(1),l=Math.min(e,o),f=Math.max(e,o);g=Math.max(Math.min(g,f),l),d=g+u,n&&!c&&(s._stacks[t.axis]._visualValues[r]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(a)){const e=QE(u)*t.getLineWidthForValue(a)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,o=r.skipNull,i=kE(r.maxBarThickness,1/0);let a,s;const l=this._getAxisCount();if(t.grouped){const n=o?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const o=t.pixels,i=o[e];let a=e>0?o[e-1]:null,s=e<o.length-1?o[e+1]:null;const l=n.categoryPercentage;null===a&&(a=i-(null===s?t.end-t.start:s-i)),null===s&&(s=i+i-a);const c=i-(i-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const o=n.barThickness;let i,a;return jE(o)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,r,n*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(kE(d,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+u;a=c.start+c.chunk*p+c.chunk/2,s=Math.min(i,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(i,t.min*t.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let o=0;for(;o<r;++o)null===this.getParsed(o)[t.axis]||n[o].hidden||n[o].draw(this._ctx)}}(0,zA.A)(D_,"id","bar"),(0,zA.A)(D_,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,zA.A)(D_,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class L_ extends k_{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const o=super.parsePrimitiveData(e,t,n,r);for(let i=0;i<o.length;i++)o[i]._custom=this.resolveDataElementOptions(i+n).radius;return o}parseArrayData(e,t,n,r){const o=super.parseArrayData(e,t,n,r);for(let i=0;i<o.length;i++){const e=t[n+i];o[i]._custom=kE(e[2],this.resolveDataElementOptions(i+n).radius)}return o}parseObjectData(e,t,n,r){const o=super.parseObjectData(e,t,n,r);for(let i=0;i<o.length;i++){const e=t[n+i];o[i]._custom=kE(e&&e.r&&+e.r,this.resolveDataElementOptions(i+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:o}=t,i=this.getParsed(e),a=r.getLabelForValue(i.x),s=o.getLabelForValue(i.y),l=i._custom;return{label:n[e]||"",value:"("+a+", "+s+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const o="reset"===r,{iScale:i,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,r),c=i.axis,d=a.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!o&&this.getParsed(u),p={},f=p[c]=o?i.getPixelForDecimal(.5):i.getPixelForValue(n[c]),h=p[d]=o?a.getBasePixel():a.getPixelForValue(n[d]);p.skip=isNaN(f)||isNaN(h),l&&(p.options=s||this.resolveDataElementOptions(u,t.active?"active":r),o&&(p.options.radius=0)),this.updateElement(t,u,p,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return"active"!==t&&(r.radius=0),r.radius+=kE(n&&n._custom,o),r}}(0,zA.A)(L_,"id","bubble"),(0,zA.A)(L_,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,zA.A)(L_,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class F_ extends k_{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let o,i,a=e=>+n[e];if(SE(n[e])){const{key:e="value"}=this._parsing;a=t=>+BE(n[t],e)}for(o=e,i=e+t;o<i;++o)r._parsed[o]=a(o)}}_getRotation(){return ok(this.options.rotation-90)}_getCircumference(){return ok(this.options.circumference)}_getRotationExtents(){let e=qE,t=-qE;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,o=r._getRotation(),i=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,o=r.data,i=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-i)/2,0),s=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:m,offsetY:g}=function(e,t,n){let r=1,o=1,i=0,a=0;if(t<qE){const s=e,l=s+t,c=Math.cos(s),d=Math.sin(s),u=Math.cos(l),p=Math.sin(l),f=(e,t,r)=>uk(e,s,l,!0)?1:Math.max(t,t*n,r,r*n),h=(e,t,r)=>uk(e,s,l,!0)?-1:Math.min(t,t*n,r,r*n),m=f(0,c,u),g=f(XE,d,p),v=h(HE,c,u),x=h(HE+XE,d,p);r=(m-v)/2,o=(g-x)/2,i=-(m+v)/2,a=-(g+x)/2}return{ratioX:r,ratioY:o,offsetX:i,offsetY:a}}(p,u,s),v=(n.width-i)/f,x=(n.height-i)/h,b=Math.max(Math.min(v,x)/2,0),y=CE(this.options.radius,b),w=(y-Math.max(y*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=g*y,r.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/qE)}updateElements(e,t,n,r){const o="reset"===r,i=this.chart,a=i.chartArea,s=i.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=o&&s.animateScale,u=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:f,includeOptions:h}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,o);for(m=t;m<t+n;++m){const t=this._circumference(m,o),n=e[m],i={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:p,innerRadius:u};h&&(i.options=f||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,i,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const o=e._parsed[n];null===o||isNaN(o)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(o))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?qE*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],o=Dk(t._parsed[e],n.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,o,i,a,s;if(!e)for(r=0,o=n.data.datasets.length;r<o;++r)if(n.isDatasetVisible(r)){i=n.getDatasetMeta(r),e=i.data,a=i.controller;break}if(!e)return 0;for(r=0,o=e.length;r<o;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(kE(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,zA.A)(F_,"id","doughnut"),(0,zA.A)(F_,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,zA.A)(F_,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,zA.A)(F_,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,o)=>{const i=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class B_ extends k_{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:o}=t,i=this.chart._animationsDisabled;let{start:a,count:s}=Sk(t,r,i);this._drawStart=a,this._drawCount=s,Ak(t)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:l},e),this.updateElements(r,a,s,e)}updateElements(e,t,n,r){const o="reset"===r,{iScale:i,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),u=i.axis,p=a.axis,{spanGaps:f,segment:h}=this.options,m=nk(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||o||"none"===r,v=t+n,x=e.length;let b=t>0&&this.getParsed(t-1);for(let y=0;y<x;++y){const n=e[y],f=g?n:{};if(y<t||y>=v){f.skip=!0;continue}const x=this.getParsed(y),w=jE(x[p]),j=f[u]=i.getPixelForValue(x[u],y),N=f[p]=o||w?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,x,s):x[p],y);f.skip=isNaN(j)||isNaN(N)||w,f.stop=y>0&&Math.abs(x[u]-b[u])>m,h&&(f.parsed=x,f.raw=l.data[y]),d&&(f.options=c||this.resolveDataElementOptions(y,n.active?"active":r)),g||this.updateElement(n,y,f,r),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const o=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,o,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,zA.A)(B_,"id","line"),(0,zA.A)(B_,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,zA.A)(B_,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class z_ extends k_{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],o=Dk(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,t,n,r){return _C.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(r/2,0),i=(o-Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(e,t,n,r){const o="reset"===r,i=this.chart,a=i.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,d=s.getIndexAngle(0)-.5*HE;let u,p=d;const f=360/this.countVisibleElements();for(u=0;u<t;++u)p+=this._computeAngle(u,r,f);for(u=t;u<t+n;u++){const t=e[u];let n=p,h=p+this._computeAngle(u,r,f),m=i.getDataVisibility(u)?s.getDistanceFromCenterForValue(this.getParsed(u).r):0;p=h,o&&(a.animateScale&&(m=0),a.animateRotate&&(n=h=d));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:h,options:this.resolveDataElementOptions(u,t.active?"active":r)};this.updateElement(t,u,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?ok(this.resolveDataElementOptions(e,t).angle||n):0}}(0,zA.A)(z_,"id","polarArea"),(0,zA.A)(z_,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,zA.A)(z_,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,o)=>{const i=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class U_ extends F_{}(0,zA.A)(U_,"id","pie"),(0,zA.A)(U_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class V_ extends k_{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return _C.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],o=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const i={_loop:!0,_fullLoop:o.length===r.length,options:t};this.updateElement(n,void 0,i,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const o=this._cachedMeta.rScale,i="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),s=o.getPointPositionForValue(a,this.getParsed(a).r),l=i?o.xCenter:s.x,c=i?o.yCenter:s.y,d={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,a,d,r)}}}(0,zA.A)(V_,"id","radar"),(0,zA.A)(V_,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,zA.A)(V_,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class W_ extends k_{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:o}=t,i=this.getParsed(e),a=r.getLabelForValue(i.x),s=o.getLabelForValue(i.y);return{label:n[e]||"",value:"("+a+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:o,count:i}=Sk(t,n,r);if(this._drawStart=o,this._drawCount=i,Ak(t)&&(o=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:i}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!i._decimated,o.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,o,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const o="reset"===r,{iScale:i,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),d=this.getSharedOptions(c),u=this.includeOptions(r,d),p=i.axis,f=a.axis,{spanGaps:h,segment:m}=this.options,g=nk(h)?h:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===r;let x=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=v?t:{},h=jE(n[f]),y=c[p]=i.getPixelForValue(n[p],b),w=c[f]=o||h?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[f],b);c.skip=isNaN(y)||isNaN(w)||h,c.stop=b>0&&Math.abs(n[p]-x[p])>g,m&&(c.parsed=n,c.raw=l.data[b]),u&&(c.options=d||this.resolveDataElementOptions(b,t.active?"active":r)),v||this.updateElement(t,b,c,r),x=n}this.updateSharedOptions(d,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const o=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,o,i)/2}}(0,zA.A)(W_,"id","scatter"),(0,zA.A)(W_,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,zA.A)(W_,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function H_(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class q_{static override(e){Object.assign(q_.prototype,e)}constructor(e){(0,zA.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return H_()}parse(){return H_()}format(){return H_()}add(){return H_()}diff(){return H_()}startOf(){return H_()}endOf(){return H_()}}var K_=q_;function G_(e,t,n,r){const{controller:o,data:i,_sorted:a}=e,s=o._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(s&&t===s.axis&&"r"!==t&&a&&i.length){const a=s._reversePixels?gk:mk;if(!r){const r=a(i,t,n);if(l){const{vScale:t}=o._cachedMeta,{_parsed:n}=e,i=n.slice(0,r.lo+1).reverse().findIndex((e=>!jE(e[t.axis])));r.lo-=Math.max(0,i);const a=n.slice(r.hi).findIndex((e=>!jE(e[t.axis])));r.hi+=Math.max(0,a)}return r}if(o._sharedOptions){const e=i[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(i,t,n-r),o=a(i,t,n+r);return{lo:e.lo,hi:o.hi}}}}return{lo:0,hi:i.length-1}}function Y_(e,t,n,r,o){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let s=0,l=i.length;s<l;++s){const{index:e,data:n}=i[s],{lo:l,hi:c}=G_(i[s],t,a,o);for(let t=l;t<=c;++t){const o=n[t];o.skip||r(o,e,t)}}}function X_(e,t,n,r,o){const i=[];if(!o&&!e.isPointInArea(t))return i;return Y_(e,n,t,(function(n,a,s){(o||Zk(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&i.push({element:n,datasetIndex:a,index:s})}),!0),i}function $_(e,t,n,r,o,i){let a=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const o=t?Math.abs(e.x-r.x):0,i=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}}(n);let l=Number.POSITIVE_INFINITY;return Y_(e,n,t,(function(n,c,d){const u=n.inRange(t.x,t.y,o);if(r&&!u)return;const p=n.getCenterPoint(o);if(!(!!i||e.isPointInArea(p))&&!u)return;const f=s(t,p);f<l?(a=[{element:n,datasetIndex:c,index:d}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:d})})),a}function Z_(e,t,n,r,o,i){return i||e.isPointInArea(t)?"r"!==n||r?$_(e,t,n,r,o,i):function(e,t,n,r){let o=[];return Y_(e,n,t,(function(e,n,i){const{startAngle:a,endAngle:s}=e.getProps(["startAngle","endAngle"],r),{angle:l}=sk(e,{x:t.x,y:t.y});uk(l,a,s)&&o.push({element:e,datasetIndex:n,index:i})})),o}(e,t,n,o):[]}function J_(e,t,n,r,o){const i=[],a="x"===n?"inXRange":"inYRange";let s=!1;return Y_(e,n,t,((e,r,l)=>{e[a]&&e[a](t[n],o)&&(i.push({element:e,datasetIndex:r,index:l}),s=s||e.inRange(t.x,t.y,o))})),r&&!s?[]:i}var Q_={evaluateInteractionItems:Y_,modes:{index(e,t,n,r){const o=WC(t,e),i=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?X_(e,o,i,r,a):Z_(e,o,i,!1,r,a),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const o=WC(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?X_(e,o,i,r,a):Z_(e,o,i,!1,r,a);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,r)=>X_(e,WC(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const o=WC(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return Z_(e,o,i,n.intersect,r,a)},x:(e,t,n,r)=>J_(e,WC(t,e),"x",n.intersect,r),y:(e,t,n,r)=>J_(e,WC(t,e),"y",n.intersect,r)}};const eP=["left","top","right","bottom"];function tP(e,t){return e.filter((e=>e.pos===t))}function nP(e,t){return e.filter((e=>-1===eP.indexOf(e.pos)&&e.box.axis===t))}function rP(e,t){return e.sort(((e,n)=>{const r=t?n:e,o=t?e:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight}))}function oP(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:o}=n;if(!e||!eP.includes(r))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=o}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:o}=t;let i,a,s;for(i=0,a=e.length;i<a;++i){s=e[i];const{fullSize:a}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*r:a&&t.availableWidth,s.height=o):(s.width=r,s.height=c?c*o:a&&t.availableHeight)}return n}function iP(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function aP(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function sP(e,t,n,r){const{pos:o,box:i}=n,a=e.maxPadding;if(!SE(o)){n.size&&(e[o]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?i.height:i.width),n.size=t.size/t.count,e[o]+=n.size}i.getPadding&&aP(a,i.getPadding());const s=Math.max(0,t.outerWidth-iP(a,e,"left","right")),l=Math.max(0,t.outerHeight-iP(a,e,"top","bottom")),c=s!==e.w,d=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function lP(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function cP(e,t,n,r){const o=[];let i,a,s,l,c,d;for(i=0,a=e.length,c=0;i<a;++i){s=e[i],l=s.box,l.update(s.width||t.w,s.height||t.h,lP(s.horizontal,t));const{same:a,other:u}=sP(t,n,s,r);c|=a&&o.length,d=d||u,l.fullSize||o.push(s)}return c&&cP(o,t,n,r)||d}function dP(e,t,n,r,o){e.top=n,e.left=t,e.right=t+r,e.bottom=n+o,e.width=r,e.height=o}function uP(e,t,n,r){const o=n.padding;let{x:i,y:a}=t;for(const s of e){const e=s.box,l=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const r=t.w*c,i=l.size||e.height;UE(l.start)&&(a=l.start),e.fullSize?dP(e,o.left,a,n.outerWidth-o.right-o.left,i):dP(e,t.left+l.placed,a,r,i),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;UE(l.start)&&(i=l.start),e.fullSize?dP(e,i,o.top,a,n.outerHeight-o.bottom-o.top):dP(e,i,t.top+l.placed,a,r),l.start=i,l.placed+=r,i=e.right}}t.x=i,t.y=a}var pP={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const o=pC(e.options.layout.padding),i=Math.max(t-o.width,0),a=Math.max(n-o.height,0),s=function(e){const t=function(e){const t=[];let n,r,o,i,a,s;for(n=0,r=(e||[]).length;n<r;++n)o=e[n],({position:i,options:{stack:a,stackWeight:s=1}}=o),t.push({index:n,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&i+a,stackWeight:s});return t}(e),n=rP(t.filter((e=>e.box.fullSize)),!0),r=rP(tP(t,"left"),!0),o=rP(tP(t,"right")),i=rP(tP(t,"top"),!0),a=rP(tP(t,"bottom")),s=nP(t,"x"),l=nP(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:o.concat(l).concat(a).concat(s),chartArea:tP(t,"chartArea"),vertical:r.concat(o).concat(l),horizontal:i.concat(a).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;PE(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},o);aP(p,pC(r));const f=Object.assign({maxPadding:p,w:i,h:a,x:o.left,y:o.top},o),h=oP(l.concat(c),u);cP(s.fullSize,f,u,h),cP(l,f,u,h),cP(c,f,u,h)&&cP(l,f,u,h),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),uP(s.leftAndTop,f,u,h),f.x+=f.w,f.y+=f.h,uP(s.rightAndBottom,f,u,h),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},PE(s.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class fP{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class hP extends fP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const mP="$chartjs",gP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vP=e=>null===e||""===e;const xP=!!GC&&{passive:!0};function bP(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,xP)}function yP(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function wP(e,t,n){const r=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||yP(n.addedNodes,r),t=t&&!yP(n.removedNodes,r);t&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}function jP(e,t,n){const r=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||yP(n.removedNodes,r),t=t&&!yP(n.addedNodes,r);t&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}const NP=new Map;let SP=0;function AP(){const e=window.devicePixelRatio;e!==SP&&(SP=e,NP.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function EP(e,t,n){const r=e.canvas,o=r&&FC(r);if(!o)return;const i=wk(((e,t)=>{const r=o.clientWidth;n(e,t),r<o.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||i(n,r)}));return a.observe(o),function(e,t){NP.size||window.addEventListener("resize",AP),NP.set(e,t)}(e,i),a}function kP(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){NP.delete(e),NP.size||window.removeEventListener("resize",AP)}(e)}function CP(e,t,n){const r=e.canvas,o=wk((t=>{null!==e.ctx&&n(function(e,t){const n=gP[e.type]||e.type,{x:r,y:o}=WC(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==o?o:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,xP)}(r,t,o),o}class _P extends fP{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e[mP]={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vP(o)){const t=YC(e,"width");void 0!==t&&(e.width=t)}if(vP(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=YC(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[mP])return!1;const n=t[mP].initial;["height","width"].forEach((e=>{const r=n[e];jE(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[mP],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:wP,detach:jP,resize:EP}[t]||CP;r[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:kP,detach:kP,resize:kP}[t]||bP)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return qC(e,t,n,r)}isAttached(e){const t=e&&FC(e);return!(!t||!t.isConnected)}}class PP{constructor(){(0,zA.A)(this,"x",void 0),(0,zA.A)(this,"y",void 0),(0,zA.A)(this,"active",!1),(0,zA.A)(this,"options",void 0),(0,zA.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return nk(this.x)&&nk(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function OP(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),o=e._maxLength/n;return Math.floor(Math.min(r,o))}(e),o=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=i.length,s=i[0],l=i[a-1],c=[];if(a>o)return function(e,t,n,r){let o,i=0,a=n[0];for(r=Math.ceil(r),o=0;o<e.length;o++)o===a&&(t.push(e[o]),i++,a=n[i*r])}(t,c,i,a/o),c;const d=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),o=t.length/n;if(!r)return Math.max(o,1);const i=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,s=i.length-1;a<s;a++){const e=i[a];if(e>o)return e}return Math.max(o,1)}(i,t,o);if(a>0){let e,n;const r=a>1?Math.round((l-s)/(a-1)):null;for(TP(t,c,d,jE(r)?0:s-r,s),e=0,n=a-1;e<n;e++)TP(t,c,d,i[e],i[e+1]);return TP(t,c,d,l,jE(r)?t.length:l+r),c}return TP(t,c,d),c}function TP(e,t,n,r,o){const i=kE(r,0),a=Math.min(kE(o,e.length),e.length);let s,l,c,d=0;for(n=Math.ceil(n),o&&(s=o-r,n=s/Math.floor(s/n)),c=i;c<0;)d++,c=Math.round(i+d*n);for(l=Math.max(i,0);l<a;l++)l===c&&(t.push(e[l]),d++,c=Math.round(i+d*n))}(0,zA.A)(PP,"defaults",{}),(0,zA.A)(PP,"defaultRoutes",void 0);const MP=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,IP=(e,t)=>Math.min(t||e,e);function RP(e,t){const n=[],r=e.length/t,o=e.length;let i=0;for(;i<o;i+=r)n.push(e[Math.floor(i)]);return n}function DP(e,t,n){const r=e.ticks.length,o=Math.min(t,r-1),i=e._startPixel,a=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(o);if(!(n&&(l=1===r?Math.max(c-i,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(o-1))/2,c+=o<t?l:-l,c<i-s||c>a+s)))return c}function LP(e){return e.drawTicks?e.tickLength:0}function FP(e,t){if(!e.display)return 0;const n=fC(e.font,t),r=pC(e.padding);return(NE(e.text)?e.text.length:1)*n.lineHeight+r.height}function BP(e,t,n){let r=jk(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class zP extends PP{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=EE(e,Number.POSITIVE_INFINITY),t=EE(t,Number.NEGATIVE_INFINITY),n=EE(n,Number.POSITIVE_INFINITY),r=EE(r,Number.NEGATIVE_INFINITY),{min:EE(e,n),max:EE(t,r),minDefined:AE(e),maxDefined:AE(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:o,maxDefined:i}=this.getUserBounds();if(o&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,l=a.length;s<l;++s)t=a[s].controller.getMinMax(this,e),o||(n=Math.min(n,t.min)),i||(r=Math.max(r,t.max));return n=i&&n>r?r:n,r=o&&n>r?n:r,{min:EE(n,EE(r,n)),max:EE(r,EE(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_E(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:o,ticks:i}=this.options,a=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:o}=e,i=CE(t,(o-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(i)),max:a(o,i)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?RP(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=OP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_E(this.options.afterUpdate,[this])}beforeSetDimensions(){_E(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_E(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),_E(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_E(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n],o.label=_E(t.callback,[o.value,n,e],this)}afterTickToLabelConversion(){_E(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_E(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=IP(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let i,a,s,l=r;if(!this._isVisible()||!t.display||r>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,p=pk(this.chart.width-d,0,this.maxWidth);i=e.offset?this.maxWidth/n:p/(n-1),d+6>i&&(i=p/(n-(e.offset?.5:1)),a=this.maxHeight-LP(e.grid)-t.padding-FP(e.title,this.chart.options.font),s=Math.sqrt(d*d+u*u),l=ik(Math.min(Math.asin(pk((c.highest.height+6)/i,-1,1)),Math.asin(pk(a/s,-1,1))-Math.asin(pk(u/s,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){_E(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_E(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:o}}=this,i=this._isVisible(),a=this.isHorizontal();if(i){const i=FP(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=LP(o)+i):(e.height=this.maxHeight,e.width=LP(o)+i),n.display&&this.ticks.length){const{first:t,last:r,widest:o,highest:i}=this._getLabelSizes(),s=2*n.padding,l=ok(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(a){const t=n.mirror?0:d*o.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*o.width+d*i.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,r,d,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:o,padding:i},position:a}=this.options,s=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;s?l?(d=r*e.width,u=n*t.height):(d=n*e.height,u=r*t.width):"start"===o?u=t.width:"end"===o?d=e.width:"inner"!==o&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-a+i)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-c+i)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===o?(n=0,r=e.height):"end"===o&&(n=t.height,r=0),this.paddingTop=n+i,this.paddingBottom=r+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_E(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)jE(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=RP(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:o}=this,i=[],a=[],s=Math.floor(t/IP(t,n));let l,c,d,u,p,f,h,m,g,v,x,b=0,y=0;for(l=0;l<t;l+=s){if(u=e[l].label,p=this._resolveTickFontOptions(l),r.font=f=p.string,h=o[f]=o[f]||{data:{},gc:[]},m=p.lineHeight,g=v=0,jE(u)||NE(u)){if(NE(u))for(c=0,d=u.length;c<d;++c)x=u[c],jE(x)||NE(x)||(g=qk(r,h.data,h.gc,g,x),v+=m)}else g=qk(r,h.data,h.gc,g,u),v=m;i.push(g),a.push(v),b=Math.max(g,b),y=Math.max(v,y)}!function(e,t){PE(e,(e=>{const n=e.gc,r=n.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[n[o]];n.splice(0,r)}}))}(o,t);const w=i.indexOf(b),j=a.indexOf(y),N=e=>({width:i[e]||0,height:a[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:i,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return pk(this._alignToPixels?Gk(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return mC(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=mC(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=ok(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),i=e.autoSkipPadding||0,a=o?o.widest.width+i:0,s=o?o.highest.height+i:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:o,position:i,border:a}=r,s=o.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),d=LP(o),u=[],p=a.setContext(this.getContext()),f=p.display?p.width:0,h=f/2,m=function(e){return Gk(n,e,f)};let g,v,x,b,y,w,j,N,S,A,E,k;if("top"===i)g=m(this.bottom),w=this.bottom-d,N=g-h,A=m(e.top)+h,k=e.bottom;else if("bottom"===i)g=m(this.top),A=e.top,k=m(e.bottom)-h,w=g+h,N=this.top+d;else if("left"===i)g=m(this.right),y=this.right-d,j=g-h,S=m(e.left)+h,E=e.right;else if("right"===i)g=m(this.left),S=e.left,E=m(e.right)-h,y=g+h,j=this.left+d;else if("x"===t){if("center"===i)g=m((e.top+e.bottom)/2+.5);else if(SE(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}A=e.top,k=e.bottom,w=g+h,N=w+d}else if("y"===t){if("center"===i)g=m((e.left+e.right)/2);else if(SE(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}y=g-h,j=y-d,S=e.left,E=e.right}const C=kE(r.ticks.maxTicksLimit,c),_=Math.max(1,Math.ceil(c/C));for(v=0;v<c;v+=_){const e=this.getContext(v),t=o.setContext(e),r=a.setContext(e),i=t.lineWidth,c=t.color,d=r.dash||[],p=r.dashOffset,f=t.tickWidth,h=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;x=DP(this,v,s),void 0!==x&&(b=Gk(n,x,i),l?y=j=S=E=b:w=N=A=k=b,u.push({tx1:y,ty1:w,tx2:j,ty2:N,x1:S,y1:A,x2:E,y2:k,width:i,color:c,borderDash:d,borderDashOffset:p,tickWidth:f,tickColor:h,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:o}=n,i=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:l,padding:c,mirror:d}=o,u=LP(n.grid),p=u+c,f=d?-c:p,h=-ok(this.labelRotation),m=[];let g,v,x,b,y,w,j,N,S,A,E,k,C="middle";if("top"===r)w=this.bottom-f,j=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,j=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+p;else if(SE(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+p}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)y=(e.left+e.right)/2-p;else if(SE(r)){const e=Object.keys(r)[0],t=r[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===s?C="top":"end"===s&&(C="bottom"));const _=this._getLabelSizes();for(g=0,v=a.length;g<v;++g){x=a[g],b=x.label;const e=o.setContext(this.getContext(g));N=this.getPixelForTick(g)+o.labelOffset,S=this._resolveTickFontOptions(g),A=S.lineHeight,E=NE(b)?b.length:1;const t=E/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let u,p=j;if(i?(y=N,"inner"===j&&(p=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),k="top"===r?"near"===l||0!==h?-E*A+A/2:"center"===l?-_.highest.height/2-t*A+A:-_.highest.height+A/2:"near"===l||0!==h?A/2:"center"===l?_.highest.height/2-t*A:_.highest.height-E*A,d&&(k*=-1),0===h||e.showLabelBackdrop||(y+=A/2*Math.sin(h))):(w=N,k=(1-E)*A/2),e.showLabelBackdrop){const t=pC(e.backdropPadding),n=_.heights[g],r=_.widths[g];let o=k-t.top,i=0-t.left;switch(C){case"middle":o-=n/2;break;case"bottom":o-=n}switch(j){case"center":i-=r/2;break;case"right":i-=r;break;case"inner":g===v-1?i-=r:g>0&&(i-=r/2)}u={left:i,top:o,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:S,textOffset:k,options:{rotation:h,color:n,strokeColor:s,strokeWidth:c,textAlign:p,textBaseline:C,translation:[y,w],backdrop:u}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ok(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,i=e+o,a=this._getLabelSizes().widest.width;let s,l;return"left"===t?r?(l=this.right+o,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l+=a)):(l=this.right-i,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l=this.left)):"right"===t?r?(l=this.left+o,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l-=a)):(l=this.left+i,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:o,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,o,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,i;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(o=0,i=r.length;o<i;++o){const e=r[o];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),i=n.display?o.width:0;if(!i)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Gk(e,this.left,i)-i/2,c=Gk(e,this.right,a)+a/2,d=u=s):(d=Gk(e,this.top,i)-i/2,u=Gk(e,this.bottom,a)+a/2,l=c=s),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Jk(t,n);const r=this.getLabelItems(e);for(const o of r){const e=o.options,n=o.font;oC(t,o.label,0,o.textOffset,n,e)}n&&Qk(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const o=fC(n.font),i=pC(n.padding),a=n.align;let s=o.lineHeight/2;"bottom"===t||"center"===t||SE(t)?(s+=i.bottom,NE(n.text)&&(s+=o.lineHeight*(n.text.length-1))):s+=i.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,r){const{top:o,left:i,bottom:a,right:s,chart:l}=e,{chartArea:c,scales:d}=l;let u,p,f,h=0;const m=a-o,g=s-i;if(e.isHorizontal()){if(p=Nk(r,i,s),SE(n)){const e=Object.keys(n)[0],r=n[e];f=d[e].getPixelForValue(r)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:MP(e,n,t);u=s-i}else{if(SE(n)){const e=Object.keys(n)[0],r=n[e];p=d[e].getPixelForValue(r)-g+t}else p="center"===n?(c.left+c.right)/2-g+t:MP(e,n,t);f=Nk(r,a,o),h="left"===n?-XE:XE}return{titleX:p,titleY:f,maxWidth:u,rotation:h}}(this,s,t,a);oC(e,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:u,textAlign:BP(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=kE(e.grid&&e.grid.z,-1),r=kE(e.border&&e.border.z,0);return this._isVisible()&&this.draw===zP.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let o,i;for(o=0,i=t.length;o<i;++o){const i=t[o];i[n]!==this.id||e&&i.type!==e||r.push(i)}return r}_resolveTickFontOptions(e){return fC(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class UP{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,o=e.id,i=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,function(e,t,n){const r=RE(Object.create(null),[n?Hk.get(n):{},Hk.get(t),e.defaults]);Hk.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),o=r.pop(),i=[e].concat(r).join("."),a=t[n].split("."),s=a.pop(),l=a.join(".");Hk.route(i,o,l,s)}))}(t,e.defaultRoutes);e.descriptors&&Hk.describe(t,e.descriptors)}(e,i,n),this.override&&Hk.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Hk[r]&&(delete Hk[r][n],this.override&&delete Bk[n])}}class VP{constructor(){this.controllers=new UP(k_,"datasets",!0),this.elements=new UP(PP,"elements"),this.plugins=new UP(Object,"plugins"),this.scales=new UP(zP,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):PE(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=zE(e);_E(n["before"+r],[],n),t[e](n),_E(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var WP=new VP;class HP{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),i=this._notify(o,e,t,n);return"afterDestroy"===t&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,n,r){r=r||{};for(const o of e){const e=o.plugin;if(!1===_E(e[n],[t,r,o.options],e)&&r.cancelable)return!1}return!0}invalidate(){jE(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=kE(n.options&&n.options.plugins,{}),o=function(e){const t={},n=[],r=Object.keys(WP.plugins.items);for(let i=0;i<r.length;i++)n.push(WP.getPlugin(r[i]));const o=e.plugins||[];for(let i=0;i<o.length;i++){const e=o[i];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:o,localIds:i}=t;const a=[],s=e.getContext();for(const l of o){const t=l.id,o=qP(n[t],r);null!==o&&a.push({plugin:l,options:KP(e.config,{plugin:l,local:i[t]},o,s)})}return a}(e,o,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function qP(e,t){return t||!1!==e?!0===e?{}:e:null}function KP(e,t,n,r){let{plugin:o,local:i}=t;const a=e.pluginScopeKeys(o),s=e.getOptionScopes(n,a);return i&&o.defaults&&s.push(o.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function GP(e,t){const n=Hk.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function YP(e){if("x"===e||"y"===e||"r"===e)return e}function XP(e){if(YP(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||("top"===(o=i.position)||"bottom"===o?"x":"left"===o||"right"===o?"y":void 0)||e.length>1&&YP(e[0].toLowerCase());if(t)return t}var o;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function $P(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function ZP(e,t){const n=Bk[e.type]||{scales:{}},r=t.scales||{},o=GP(e.type,t),i=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!SE(a))return console.error("Invalid scale configuration for scale: ".concat(t));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=XP(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return $P(e,"x",n[0])||$P(e,"y",n[0])}return{}}(t,e),Hk.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,o),c=n.scales||{};i[t]=DE(Object.create(null),[{axis:s},a,c[s],c[l]])})),e.data.datasets.forEach((n=>{const o=n.type||e.type,a=n.indexAxis||GP(o,t),s=(Bk[o]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),o=n[t+"AxisID"]||t;i[o]=i[o]||Object.create(null),DE(i[o],[{axis:t},r[o],s[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];DE(t,[Hk.scales[t.type],Hk.scale])})),i}function JP(e){const t=e.options||(e.options={});t.plugins=kE(t.plugins,{}),t.scales=ZP(e,t)}function QP(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const eO=new Map,tO=new Set;function nO(e,t){let n=eO.get(e);return n||(n=t(),eO.set(e,n),tO.add(n)),n}const rO=(e,t,n)=>{const r=BE(t,n);void 0!==r&&e.add(r)};class oO{constructor(e){this._config=function(e){return(e=e||{}).data=QP(e.data),JP(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=QP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),JP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return nO(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return nO("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return nO("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return nO("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:o}=this,i=this._cachedScopes(e,n),a=i.get(t);if(a)return a;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>rO(s,e,t)))),t.forEach((e=>rO(s,r,e))),t.forEach((e=>rO(s,Bk[o]||{},e))),t.forEach((e=>rO(s,Hk,e))),t.forEach((e=>rO(s,zk,e)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),tO.has(t)&&i.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Bk[t]||{},Hk.datasets[t]||{},{type:t},Hk,zk]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const o={$shared:!0},{resolver:i,subPrefixes:a}=iO(this._resolverCache,e,r);let s=i;if(function(e,t){const{isScriptable:n,isIndexable:r}=xC(e);for(const o of t){const t=n(o),i=r(o),a=(i||t)&&e[o];if(t&&(VE(a)||aO(a))||i&&NE(a))return!0}return!1}(i,t)){o.$shared=!1;s=vC(i,n=VE(n)?n():n,this.createResolver(e,n,a))}for(const l of t)o[l]=s[l];return o}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:o}=iO(this._resolverCache,e,n);return SE(t)?vC(o,t,void 0,r):o}}function iO(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const o=n.join();let i=r.get(o);if(!i){i={resolver:gC(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(o,i)}return i}const aO=e=>SE(e)&&Object.getOwnPropertyNames(e).some((t=>VE(e[t])));const sO=["top","bottom","left","right","chartArea"];function lO(e,t){return"top"===e||"bottom"===e||-1===sO.indexOf(e)&&"x"===t}function cO(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function dO(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),_E(n&&n.onComplete,[e],t)}function uO(e){const t=e.chart,n=t.options.animation;_E(n&&n.onProgress,[e],t)}function pO(e){return LC()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const fO={},hO=e=>{const t=pO(e);return Object.values(fO).filter((e=>e.canvas===t)).pop()};function mO(e,t,n){const r=Object.keys(e);for(const o of r){const r=+o;if(r>=t){const i=e[o];delete e[o],(n>0||r>t)&&(e[r+n]=i)}}}class gO{static register(){WP.add(...arguments),vO()}static unregister(){WP.remove(...arguments),vO()}constructor(e,t){const n=this.config=new oO(t),r=pO(e),o=hO(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!LC()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?hP:_P}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,i.aspectRatio),s=a&&a.canvas,l=s&&s.height,c=s&&s.width;this.id=wE(),this.ctx=a,this.canvas=s,this.width=c,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t?(clearTimeout(n),n=setTimeout(e,t,o)):e.apply(this,o),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],fO[this.id]=this,a&&s?(u_.listen(this,"complete",dO),u_.listen(this,"progress",uO),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:o}=this;return jE(e)?t&&o?o:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return WP}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yk(this.canvas,this.ctx),this}stop(){return u_.stop(this),this}resize(e,t){u_.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(r,e,t,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,KC(this,a,!0)&&(this.notifyPlugins("resize",{size:i}),_E(n.onResize,[this,i],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){PE(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];t&&(o=o.concat(Object.keys(t).map((e=>{const n=t[e],r=XP(e,n),o="r"===r,i="x"===r;return{options:n,dposition:o?"chartArea":i?"bottom":"left",dtype:o?"radialLinear":i?"category":"linear"}})))),PE(o,(t=>{const o=t.options,i=o.id,a=XP(i,o),s=kE(o.type,t.dtype);void 0!==o.position&&lO(o.position,a)===lO(t.dposition)||(o.position=t.dposition),r[i]=!0;let l=null;if(i in n&&n[i].type===s)l=n[i];else{l=new(WP.getScale(s))({id:i,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(o,e)})),PE(r,((e,t)=>{e||delete n[t]})),PE(n,(e=>{pP.configure(this,e,e.options),pP.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(cO("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let o=this.getDatasetMeta(n);const i=r.type||this.config.type;if(o.type&&o.type!==i&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=i,o.indexAxis=r.indexAxis||GP(i,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const t=WP.getController(i),{datasetElementType:r,dataElementType:a}=Hk.datasets[i];Object.assign(t,{dataElementType:WP.getElement(a),datasetElementType:r&&WP.getElement(r)}),o.controller=new t(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){PE(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===o.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),r||PE(o,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cO("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){PE(this.scales,(e=>{pP.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);WE(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:o}of t){mO(e,r,"_removeElements"===n?-o:o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let o=1;o<t;o++)if(!WE(r,n(o)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;pP.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],PE(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,VE(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(u_.has(this)?this.attached&&!u_.running(this)&&u_.start(this):(this.draw(),dO({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,o;for(r=0,o=t.length;r<o;++r){const o=t[r];e&&!o.visible||n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=c_(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&Jk(t,r),e.controller.draw(),r&&Qk(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Zk(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const o=Q_.modes[t];return"function"===typeof o?o(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=mC(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",o=this.getDatasetMeta(e),i=o.controller._resolveAnimations(void 0,r);UE(t)?(o.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(o,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),u_.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Yk(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete fO[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};PE(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},o=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",i)};i=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():i()}unbindEvents(){PE(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},PE(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let o,i,a,s;for("dataset"===t&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=e.length;a<s;++a){i=e[a];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[r+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!OE(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,o=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=o(t,e),a=n?e:o(e,t);i.length&&this.updateHoverStyle(i,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const o=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(o||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:o}=this,i=t,a=this._getActiveElements(e,r,n,i),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,_E(o.onHover,[e,a,this],this),s&&_E(o.onClick,[e,a,this],this));const c=!OE(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}function vO(){return PE(gO.instances,(e=>e._plugins.invalidate()))}function xO(e,t,n,r){const o=cC(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const i=(n-t)/2,a=Math.min(i,r*t/2),s=e=>{const t=(n-Math.min(i,e))*r/2;return pk(e,0,Math.min(i,t))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:pk(o.innerStart,0,a),innerEnd:pk(o.innerEnd,0,a)}}function bO(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function yO(e,t,n,r,o,i){const{x:a,y:s,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+r+n-c,0),p=d>0?d+r+n+c:0;let f=0;const h=o-l;if(r){const e=((d>0?d-r:0)+(u>0?u-r:0))/2;f=(h-(0!==e?h*e/(e+r):h))/2}const m=(h-Math.max(.001,h*u-n/HE)/u)/2,g=l+m+f,v=o-m-f,{outerStart:x,outerEnd:b,innerStart:y,innerEnd:w}=xO(t,p,u,v-g),j=u-x,N=u-b,S=g+x/j,A=v-b/N,E=p+y,k=p+w,C=g+y/E,_=v-w/k;if(e.beginPath(),i){const t=(S+A)/2;if(e.arc(a,s,u,S,t),e.arc(a,s,u,t,A),b>0){const t=bO(N,A,a,s);e.arc(t.x,t.y,b,A,v+XE)}const n=bO(k,v,a,s);if(e.lineTo(n.x,n.y),w>0){const t=bO(k,_,a,s);e.arc(t.x,t.y,w,v+XE,_+Math.PI)}const r=(v-w/p+(g+y/p))/2;if(e.arc(a,s,p,v-w/p,r,!0),e.arc(a,s,p,r,g+y/p,!0),y>0){const t=bO(E,C,a,s);e.arc(t.x,t.y,y,C+Math.PI,g-XE)}const o=bO(j,g,a,s);if(e.lineTo(o.x,o.y),x>0){const t=bO(j,S,a,s);e.arc(t.x,t.y,x,g-XE,S)}}else{e.moveTo(a,s);const t=Math.cos(S)*u+a,n=Math.sin(S)*u+s;e.lineTo(t,n);const r=Math.cos(A)*u+a,o=Math.sin(A)*u+s;e.lineTo(r,o)}e.closePath()}function wO(e,t,n,r,o){const{fullCircles:i,startAngle:a,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:p,borderRadius:f}=l,h="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=p,h?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(i){yO(e,t,n,r,m,o);for(let t=0;t<i;++t)e.stroke();isNaN(s)||(m=a+(s%qE||qE))}h&&function(e,t,n){const{startAngle:r,pixelMargin:o,x:i,y:a,outerRadius:s,innerRadius:l}=t;let c=o/s;e.beginPath(),e.arc(i,a,s,r-c,n+c),l>o?(c=o/l,e.arc(i,a,l,n+c,r-c,!0)):e.arc(i,a,o,n+XE,r-XE),e.closePath(),e.clip()}(e,t,m),l.selfJoin&&m-a>=HE&&0===f&&"miter"!==d&&function(e,t,n){const{startAngle:r,x:o,y:i,outerRadius:a,innerRadius:s,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/a,dk(r-n));if(e.beginPath(),e.arc(o,i,a-c/2,r+u/2,n-u/2),s>0){const t=Math.min(c/s,dk(r-n));e.arc(o,i,s+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,a*dk(r-n));if("round"===d)e.arc(o,i,t,n-HE/2,r+HE/2,!0);else if("bevel"===d){const a=2*t*t,s=-a*Math.cos(n+HE/2)+o,l=-a*Math.sin(n+HE/2)+i,c=a*Math.cos(r+HE/2)+o,d=a*Math.sin(r+HE/2)+i;e.lineTo(s,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,m),i||(yO(e,t,n,r,m,o),e.stroke())}(0,zA.A)(gO,"defaults",Hk),(0,zA.A)(gO,"instances",fO),(0,zA.A)(gO,"overrides",Bk),(0,zA.A)(gO,"registry",WP),(0,zA.A)(gO,"version","4.5.0"),(0,zA.A)(gO,"getChart",hO);class jO extends PP{constructor(e){super(),(0,zA.A)(this,"circumference",void 0),(0,zA.A)(this,"endAngle",void 0),(0,zA.A)(this,"fullCircles",void 0),(0,zA.A)(this,"innerRadius",void 0),(0,zA.A)(this,"outerRadius",void 0),(0,zA.A)(this,"pixelMargin",void 0),(0,zA.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:o,distance:i}=sk(r,{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,p=kE(d,s-a),f=uk(o,a,s)&&a!==s,h=p>=qE||f,m=fk(i,l+u,c+u);return h&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:o,innerRadius:i,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,c=(r+o)/2,d=(i+a+l+s)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>qE?Math.floor(n/qE):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const s=r*(1-Math.sin(Math.min(HE,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,o){const{fullCircles:i,startAngle:a,circumference:s}=t;let l=t.endAngle;if(i){yO(e,t,n,r,l,o);for(let t=0;t<i;++t)e.fill();isNaN(s)||(l=a+(s%qE||qE))}yO(e,t,n,r,l,o),e.fill()}(e,this,s,o,i),wO(e,this,s,o,i),e.restore()}}function NO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=kE(n.borderCapStyle,t.borderCapStyle),e.setLineDash(kE(n.borderDash,t.borderDash)),e.lineDashOffset=kE(n.borderDashOffset,t.borderDashOffset),e.lineJoin=kE(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=kE(n.borderWidth,t.borderWidth),e.strokeStyle=kE(n.borderColor,t.borderColor)}function SO(e,t,n){e.lineTo(n.x,n.y)}function AO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:o=0,end:i=r-1}=n,{start:a,end:s}=t,l=Math.max(o,a),c=Math.min(i,s),d=o<a&&i<a||o>s&&i>s;return{count:r,start:l,loop:t.loop,ilen:c<l&&!d?r+c-l:c-l}}function EO(e,t,n,r){const{points:o,options:i}=t,{count:a,start:s,loop:l,ilen:c}=AO(o,n,r),d=function(e){return e.stepped?eC:e.tension||"monotone"===e.cubicInterpolationMode?tC:SO}(i);let u,p,f,{move:h=!0,reverse:m}=r||{};for(u=0;u<=c;++u)p=o[(s+(m?c-u:u))%a],p.skip||(h?(e.moveTo(p.x,p.y),h=!1):d(e,f,p,m,i.stepped),f=p);return l&&(p=o[(s+(m?c:0))%a],d(e,f,p,m,i.stepped)),!!l}function kO(e,t,n,r){const o=t.points,{count:i,start:a,ilen:s}=AO(o,n,r),{move:l=!0,reverse:c}=r||{};let d,u,p,f,h,m,g=0,v=0;const x=e=>(a+(c?s-e:e))%i,b=()=>{f!==h&&(e.lineTo(g,h),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(u=o[x(0)],e.moveTo(u.x,u.y)),d=0;d<=s;++d){if(u=o[x(d)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===p?(n<f?f=n:n>h&&(h=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),p=r,v=0,f=h=n),m=n}b()}function CO(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?kO:EO}(0,zA.A)(jO,"id","arc"),(0,zA.A)(jO,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,zA.A)(jO,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,zA.A)(jO,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const _O="function"===typeof Path2D;function PO(e,t,n,r){_O&&!t.options.segment?function(e,t,n,r){let o=t._path;o||(o=t._path=new Path2D,t.path(o,n,r)&&o.closePath()),NO(e,t.options),e.stroke(o)}(e,t,n,r):function(e,t,n,r){const{segments:o,options:i}=t,a=CO(t);for(const s of o)NO(e,i,s.style),e.beginPath(),a(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class OO extends PP{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;DC(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,o=n.length;if(!o)return[];const i=!!e._loop,{start:a,end:s}=function(e,t,n,r){let o=0,i=t-1;if(n&&!r)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,n&&(i+=o);i>o&&e[i%t].skip;)i--;return i%=t,{start:o,end:i}}(n,o,i,r);return i_(e,!0===r?[{start:a,end:s,loop:i}]:function(e,t,n,r){const o=e.length,i=[];let a,s=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%o];n.skip||n.stop?l.skip||(r=!1,i.push({start:t%o,end:(a-1)%o,loop:r}),t=s=n.stop?a:null):(s=a,l.skip&&(t=a)),l=n}return null!==s&&i.push({start:t%o,end:s%o,loop:r}),i}(n,a,s<a?s+o:s,!!e._fullLoop&&0===a&&s===o-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],o=this.points,i=o_(this,{property:t,start:r,end:r});if(!i.length)return;const a=[],s=function(e){return e.stepped?$C:e.tension||"monotone"===e.cubicInterpolationMode?ZC:XC}(n);let l,c;for(l=0,c=i.length;l<c;++l){const{start:c,end:d}=i[l],u=o[c],p=o[d];if(u===p){a.push(u);continue}const f=s(u,p,Math.abs((r-u[t])/(p[t]-u[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return CO(this)(e,this,t,n)}path(e,t,n){const r=this.segments,o=CO(this);let i=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)i&=o(e,this,a,{start:t,end:t+n-1});return!!i}draw(e,t,n,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),PO(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function TO(e,t,n,r){const o=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<o.radius+o.hitRadius}(0,zA.A)(OO,"id","line"),(0,zA.A)(OO,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,zA.A)(OO,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,zA.A)(OO,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class MO extends PP{constructor(e){super(),(0,zA.A)(this,"parsed",void 0),(0,zA.A)(this,"skip",void 0),(0,zA.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:o,y:i}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(t-i,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return TO(this,e,"x",t)}inYRange(e,t){return TO(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Zk(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Xk(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function IO(e,t){const{x:n,y:r,base:o,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let s,l,c,d,u;return e.horizontal?(u=a/2,s=Math.min(n,o),l=Math.max(n,o),c=r-u,d=r+u):(u=i/2,s=n-u,l=n+u,c=Math.min(r,o),d=Math.max(r,o)),{left:s,top:c,right:l,bottom:d}}function RO(e,t,n,r){return e?0:pk(t,n,r)}function DO(e){const t=IO(e),n=t.right-t.left,r=t.bottom-t.top,o=function(e,t,n){const r=e.options.borderWidth,o=e.borderSkipped,i=dC(r);return{t:RO(o.top,i.top,0,n),r:RO(o.right,i.right,0,t),b:RO(o.bottom,i.bottom,0,n),l:RO(o.left,i.left,0,t)}}(e,n/2,r/2),i=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,i=uC(o),a=Math.min(t,n),s=e.borderSkipped,l=r||SE(o);return{topLeft:RO(!l||s.top||s.left,i.topLeft,0,a),topRight:RO(!l||s.top||s.right,i.topRight,0,a),bottomLeft:RO(!l||s.bottom||s.left,i.bottomLeft,0,a),bottomRight:RO(!l||s.bottom||s.right,i.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+o.l,y:t.top+o.t,w:n-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,i.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(o.b,o.r))}}}}function LO(e,t,n,r){const o=null===t,i=null===n,a=e&&!(o&&i)&&IO(e,r);return a&&(o||fk(t,a.left,a.right))&&(i||fk(n,a.top,a.bottom))}function FO(e,t){e.rect(t.x,t.y,t.w,t.h)}function BO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,o=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-o;return{x:e.x+r,y:e.y+o,w:e.w+i,h:e.h+a,radius:e.radius}}(0,zA.A)(MO,"id","point"),(0,zA.A)(MO,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,zA.A)(MO,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class zO extends PP{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:i}=DO(this),a=(s=i.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?iC:FO;var s;e.save(),i.w===o.w&&i.h===o.h||(e.beginPath(),a(e,BO(i,t,o)),e.clip(),a(e,BO(o,-t,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,BO(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return LO(this,e,t,n)}inXRange(e,t){return LO(this,e,null,t)}inYRange(e,t){return LO(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,zA.A)(zO,"id","bar"),(0,zA.A)(zO,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,zA.A)(zO,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const UO=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class VO extends PP{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=_E(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=fC(n.font),o=r.size,i=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=UO(n,o);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(i,o,a,s)+10):(c=this.maxHeight,l=this._fitCols(i,r,a,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:o,maxWidth:i,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let d=e;o.textAlign="left",o.textBaseline="middle";let u=-1,p=-c;return this.legendItems.forEach(((e,f)=>{const h=n+t/2+o.measureText(e.text).width;(0===f||l[l.length-1]+h+2*a>i)&&(d+=c,l[l.length-(f>0?0:1)]=0,p+=c,u++),s[f]={left:0,top:p,row:u,width:h,height:r},l[l.length-1]+=h+a})),d}_fitCols(e,t,n,r){const{ctx:o,maxHeight:i,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let d=a,u=0,p=0,f=0,h=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,o){const i=function(e,t,n,r){let o=e.text;o&&"string"!==typeof o&&(o=o.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(o).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=WO(t,n));return r}(o,r,t.lineHeight);return{itemWidth:i,itemHeight:a}}(n,t,o,e,r);i>0&&p+g+2*a>c&&(d+=u+a,l.push({width:u,height:p}),f+=u+a,h++,u=p=0),s[i]={left:f,top:p,col:h,width:m,height:g},u=Math.max(u,m),p+=g+a})),d+=u,l.push({width:u,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:o}}=this,i=JC(o,this.left,this.width);if(this.isHorizontal()){let o=0,a=Nk(n,this.left+r,this.right-this.lineWidths[o]);for(const s of t)o!==s.row&&(o=s.row,a=Nk(n,this.left+r,this.right-this.lineWidths[o])),s.top+=this.top+e+r,s.left=i.leftForLtr(i.x(a),s.width),a+=s.width+r}else{let o=0,a=Nk(n,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const s of t)s.col!==o&&(o=s.col,a=Nk(n,this.top+e+r,this.bottom-this.columnSizes[o].height)),s.top=a,s.left+=this.left+r,s.left=i.leftForLtr(i.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Jk(e,this),this._draw(),Qk(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:o,labels:i}=e,a=Hk.color,s=JC(e.rtl,this.left,this.width),l=fC(i.font),{padding:c}=i,d=l.size,u=d/2;let p;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:h,itemHeight:m}=UO(i,d),g=this.isHorizontal(),v=this._computeTitleHeight();p=g?{x:Nk(o,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Nk(o,this.top+v+c,this.bottom-t[0].height),line:0},QC(this.ctx,e.textDirection);const x=m+c;this.legendItems.forEach(((b,y)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,j=s.textAlign(b.textAlign||(b.textAlign=i.textAlign)),N=f+u+w;let S=p.x,A=p.y;s.setWidth(this.width),g?y>0&&S+N+c>this.right&&(A=p.y+=x,p.line++,S=p.x=Nk(o,this.left+c,this.right-n[p.line])):y>0&&A+x>this.bottom&&(S=p.x=S+t[p.line].width+c,p.line++,A=p.y=Nk(o,this.top+v+c,this.bottom-t[p.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(h)||h<0)return;r.save();const o=kE(n.lineWidth,1);if(r.fillStyle=kE(n.fillStyle,a),r.lineCap=kE(n.lineCap,"butt"),r.lineDashOffset=kE(n.lineDashOffset,0),r.lineJoin=kE(n.lineJoin,"miter"),r.lineWidth=o,r.strokeStyle=kE(n.strokeStyle,a),r.setLineDash(kE(n.lineDash,[])),i.usePointStyle){const a={radius:h*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:o},l=s.xPlus(e,f/2);$k(r,a,l,t+u,i.pointStyleWidth&&f)}else{const i=t+Math.max((d-h)/2,0),a=s.leftForLtr(e,f),l=uC(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?iC(r,{x:a,y:i,w:f,h:h,radius:l}):r.rect(a,i,f,h),r.fill(),0!==o&&r.stroke()}r.restore()}(s.x(S),A,b),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(j,S+f+u,g?S+N:this.right,e.rtl),function(e,t,n){oC(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(S),A,b),g)p.x+=N+c;else if("string"!==typeof b.text){const e=l.lineHeight;p.y+=WO(b,e)+c}else p.y+=x})),e_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=fC(t.font),r=pC(t.padding);if(!t.display)return;const o=JC(e.rtl,this.left,this.width),i=this.ctx,a=t.position,s=n.size/2,l=r.top+s;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Nk(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Nk(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const p=Nk(a,d,d+u);i.textAlign=o.textAlign(jk(a)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=n.string,oC(i,t.text,p,c,n)}_computeTitleHeight(){const e=this.options.title,t=fC(e.font),n=pC(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,o;if(fk(e,this.left,this.right)&&fk(t,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],fk(e,r.left,r.left+r.width)&&fk(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,a=(o=n,null!==(r=i)&&null!==o&&r.datasetIndex===o.datasetIndex&&r.index===o.index);i&&!a&&_E(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&_E(t.onHover,[e,n,this],this)}else n&&_E(t.onClick,[e,n,this],this);var r,o}}function WO(e,t){return t*(e.text?e.text.length:0)}var HO={id:"legend",_element:VO,start(e,t,n){const r=e.legend=new VO({ctx:e.ctx,options:n,chart:e});pP.configure(e,r,n),pP.addBox(e,r)},stop(e){pP.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;pP.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,o=n.chart;o.isDatasetVisible(r)?(o.hide(r),t.hidden=!0):(o.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:o,color:i,useBorderRadius:a,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=pC(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:o||l.textAlign,borderRadius:a&&(s||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;const qO={average(e){if(!e.length)return!1;let t,n,r=new Set,o=0,i=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),o+=e.y,++i}}if(0===i||0===r.size)return!1;return{x:[...r].reduce(((e,t)=>e+t))/r.size,y:o/i}},nearest(e,t){if(!e.length)return!1;let n,r,o,i=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=lk(t,r.getCenterPoint());e<s&&(s=e,o=r)}}if(o){const e=o.tooltipPosition();i=e.x,a=e.y}return{x:i,y:a}}};function KO(e,t){return t&&(NE(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function GO(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function YO(e,t){const{element:n,datasetIndex:r,index:o}=t,i=e.getDatasetMeta(r).controller,{label:a,value:s}=i.getLabelAndValue(o);return{chart:e,label:a,parsed:i.getParsed(o),raw:e.data.datasets[r].data[o],formattedValue:s,dataset:i.getDataset(),dataIndex:o,datasetIndex:r,element:n}}function XO(e,t){const n=e.chart.ctx,{body:r,footer:o,title:i}=e,{boxWidth:a,boxHeight:s}=t,l=fC(t.bodyFont),c=fC(t.titleFont),d=fC(t.footerFont),u=i.length,p=o.length,f=r.length,h=pC(t.padding);let m=h.height,g=0,v=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v){m+=f*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}p&&(m+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let x=0;const b=function(e){g=Math.max(g,n.measureText(e).width+x)};return n.save(),n.font=c.string,PE(e.title,b),n.font=l.string,PE(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?a+2+t.boxPadding:0,PE(r,(e=>{PE(e.before,b),PE(e.lines,b),PE(e.after,b)})),x=0,n.font=d.string,PE(e.footer,b),n.restore(),g+=h.width,{width:g,height:m}}function $O(e,t,n,r){const{x:o,width:i}=n,{width:a,chartArea:{left:s,right:l}}=e;let c="center";return"center"===r?c=o<=(s+l)/2?"left":"right":o<=i/2?c="left":o>=a-i/2&&(c="right"),function(e,t,n,r){const{x:o,width:i}=r,a=n.caretSize+n.caretPadding;return"left"===e&&o+i+a>t.width||"right"===e&&o-i-a<0||void 0}(c,e,t,n)&&(c="center"),c}function ZO(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||$O(e,t,n,r),yAlign:r}}function JO(e,t,n,r){const{caretSize:o,caretPadding:i,cornerRadius:a}=e,{xAlign:s,yAlign:l}=n,c=o+i,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:f}=uC(a);let h=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s);const m=function(e,t,n){let{y:r,height:o}=e;return"top"===t?r+=n:r-="bottom"===t?o+n:o/2,r}(t,l,c);return"center"===l?"left"===s?h+=c:"right"===s&&(h-=c):"left"===s?h-=Math.max(d,p)+o:"right"===s&&(h+=Math.max(u,f)+o),{x:pk(h,0,r.width-t.width),y:pk(m,0,r.height-t.height)}}function QO(e,t,n){const r=pC(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function eT(e){return KO([],GO(e))}function tT(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const nT={beforeTitle:yE,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:yE,beforeBody:yE,beforeLabel:yE,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return jE(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:yE,afterBody:yE,beforeFooter:yE,footer:yE,afterFooter:yE};function rT(e,t,n,r){const o=e[t].call(n,r);return"undefined"===typeof o?nT[t].call(n,r):o}class oT extends PP{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,o=new m_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,mC(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=rT(n,"beforeTitle",this,e),o=rT(n,"title",this,e),i=rT(n,"afterTitle",this,e);let a=[];return a=KO(a,GO(r)),a=KO(a,GO(o)),a=KO(a,GO(i)),a}getBeforeBody(e,t){return eT(rT(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return PE(e,(e=>{const t={before:[],lines:[],after:[]},o=tT(n,e);KO(t.before,GO(rT(o,"beforeLabel",this,e))),KO(t.lines,rT(o,"label",this,e)),KO(t.after,GO(rT(o,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return eT(rT(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=rT(n,"beforeFooter",this,e),o=rT(n,"footer",this,e),i=rT(n,"afterFooter",this,e);let a=[];return a=KO(a,GO(r)),a=KO(a,GO(o)),a=KO(a,GO(i)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],o=[],i=[];let a,s,l=[];for(a=0,s=t.length;a<s;++a)l.push(YO(this.chart,t[a]));return e.filter&&(l=l.filter(((t,r,o)=>e.filter(t,r,o,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),PE(l,(t=>{const n=tT(e.callbacks,t);r.push(rT(n,"labelColor",this,t)),o.push(rT(n,"labelPointStyle",this,t)),i.push(rT(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=i,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let o,i=[];if(r.length){const e=qO[n.position].call(this,r,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const t=this._size=XO(this,n),a=Object.assign({},e,t),s=ZO(this.chart,n,a),l=JO(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,o={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=i,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const o=this.getCaretPosition(e,n,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:o}=this,{caretSize:i,cornerRadius:a}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:d}=uC(a),{x:u,y:p}=e,{width:f,height:h}=t;let m,g,v,x,b,y;return"center"===o?(b=p+h/2,"left"===r?(m=u,g=m-i,x=b+i,y=b-i):(m=u+f,g=m+i,x=b-i,y=b+i),v=m):(g="left"===r?u+Math.max(s,c)+i:"right"===r?u+f-Math.max(l,d)-i:this.caretX,"top"===o?(x=p,b=x-i,m=g-i,v=g+i):(x=p+h,b=x+i,m=g+i,v=g-i),y=x),{x1:m,x2:g,x3:v,y1:x,y2:b,y3:y}}drawTitle(e,t,n){const r=this.title,o=r.length;let i,a,s;if(o){const l=JC(n.rtl,this.x,this.width);for(e.x=QO(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",i=fC(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=i.string,s=0;s<o;++s)t.fillText(r[s],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+a,s+1===o&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,o){const i=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=o,c=fC(o.bodyFont),d=QO(this,"left",o),u=r.x(d),p=s<c.lineHeight?(c.lineHeight-s)/2:0,f=t.y+p;if(o.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,c=f+s/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Xk(e,t,n,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,Xk(e,t,n,c)}else{e.lineWidth=SE(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),a=uC(i.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=o.multiKeyBackground,iC(e,{x:t,y:f,w:l,h:s,radius:a}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),iC(e,{x:n,y:f+1,w:l-2,h:s-2,radius:a}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(t,f,l,s),e.strokeRect(t,f,l,s),e.fillStyle=i.backgroundColor,e.fillRect(n,f+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:o,bodyAlign:i,displayColors:a,boxHeight:s,boxWidth:l,boxPadding:c}=n,d=fC(n.bodyFont);let u=d.lineHeight,p=0;const f=JC(n.rtl,this.x,this.width),h=function(n){t.fillText(n,f.x(e.x+p),e.y+u/2),e.y+=u+o},m=f.textAlign(i);let g,v,x,b,y,w,j;for(t.textAlign=i,t.textBaseline="middle",t.font=d.string,e.x=QO(this,m,n),t.fillStyle=n.bodyColor,PE(this.beforeBody,h),p=a&&"right"!==m?"center"===i?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(g=r[b],v=this.labelTextColors[b],t.fillStyle=v,PE(g.before,h),x=g.lines,a&&x.length&&(this._drawColorBox(t,e,b,f,n),u=Math.max(d.lineHeight,s)),y=0,j=x.length;y<j;++y)h(x[y]),u=d.lineHeight;PE(g.after,h)}p=0,u=d.lineHeight,PE(this.afterBody,h),e.y-=o}drawFooter(e,t,n){const r=this.footer,o=r.length;let i,a;if(o){const s=JC(n.rtl,this.x,this.width);for(e.x=QO(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",i=fC(n.footerFont),t.fillStyle=n.footerColor,t.font=i.string,a=0;a<o;++a)t.fillText(r[a],s.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:o,yAlign:i}=this,{x:a,y:s}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:f}=uC(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+d,s),"top"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l-u,s),t.quadraticCurveTo(a+l,s,a+l,s+u),"center"===i&&"right"===o&&this.drawCaret(e,t,n,r),t.lineTo(a+l,s+c-f),t.quadraticCurveTo(a+l,s+c,a+l-f,s+c),"bottom"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+p,s+c),t.quadraticCurveTo(a,s+c,a,s+c-p),"center"===i&&"left"===o&&this.drawCaret(e,t,n,r),t.lineTo(a,s+d),t.quadraticCurveTo(a,s,a+d,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,o=n&&n.y;if(r||o){const n=qO[e.position].call(this,this._active,this._eventPosition);if(!n)return;const i=this._size=XO(this,e),a=Object.assign({},n,this._size),s=ZO(t,e,a),l=JO(e,a,s,t);r._to===l.x&&o._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=i.width,this.height=i.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=pC(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,r,t),QC(e,t.textDirection),o.y+=i.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),e_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),o=!OE(n,r),i=this._positionChanged(r,t);(o||i)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],i=this._getActiveElements(e,o,t,n),a=this._positionChanged(i,e),s=t||!OE(i,o)||a;return s&&(this._active=i,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,r){const o=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const i=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:n,caretY:r,options:o}=this,i=qO[o.position].call(this,e,t);return!1!==i&&(n!==i.x||r!==i.y)}}(0,zA.A)(oT,"positioners",qO);var iT={id:"tooltip",_element:oT,positioners:qO,afterInit(e,t,n){n&&(e.tooltip=new oT({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,b.A)((0,b.A)({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function aT(e,t,n,r){const o=e.indexOf(t);if(-1===o)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return o!==e.lastIndexOf(t)?n:o}function sT(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class lT extends zP{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(jE(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:pk(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:aT(n,e,kE(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let o=this.getLabels();o=0===e&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=t;i++)r.push({value:i});return r}getLabelForValue(e){return sT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function cT(e,t){const n=[],{bounds:r,step:o,min:i,max:a,precision:s,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,p=o||1,f=c-1,{min:h,max:m}=t,g=!jE(i),v=!jE(a),x=!jE(l),b=(m-h)/(d+1);let y,w,j,N,S=tk((m-h)/f/p)*p;if(S<1e-14&&!g&&!v)return[{value:h},{value:m}];N=Math.ceil(m/S)-Math.floor(h/S),N>f&&(S=tk(N*S/f/p)*p),jE(s)||(y=Math.pow(10,s),S=Math.ceil(S*y)/y),"ticks"===r?(w=Math.floor(h/S)*S,j=Math.ceil(m/S)*S):(w=h,j=m),g&&v&&o&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-i)/o,S/1e3)?(N=Math.round(Math.min((a-i)/S,c)),S=(a-i)/N,w=i,j=a):x?(w=g?i:w,j=v?a:j,N=l-1,S=(j-w)/N):(N=(j-w)/S,N=ek(N,Math.round(N),S/1e3)?Math.round(N):Math.ceil(N));const A=Math.max(ak(S),ak(w));y=Math.pow(10,jE(s)?A:s),w=Math.round(w*y)/y,j=Math.round(j*y)/y;let E=0;for(g&&(u&&w!==i?(n.push({value:i}),w<i&&E++,ek(Math.round((w+E*S)*y)/y,i,dT(i,b,e))&&E++):w<i&&E++);E<N;++E){const e=Math.round((w+E*S)*y)/y;if(v&&e>a)break;n.push({value:e})}return v&&u&&j!==a?n.length&&ek(n[n.length-1].value,a,dT(a,b,e))?n[n.length-1].value=a:n.push({value:a}):v&&j!==a||n.push({value:j}),n}function dT(e,t,n){let{horizontal:r,minRotation:o}=n;const i=ok(o),a=(r?Math.sin(i):Math.cos(i))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}(0,zA.A)(lT,"id","category"),(0,zA.A)(lT,"defaults",{ticks:{callback:sT}});class uT extends zP{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return jE(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this;const i=e=>r=t?r:e,a=e=>o=n?o:e;if(e){const e=QE(r),t=QE(o);e<0&&t<0?a(0):e>0&&t>0&&i(0)}if(r===o){let t=0===o?1:Math.abs(.05*o);a(o+t),e||i(r-t)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=cT({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&rk(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Dk(e,this.chart.options.locale,this.options.ticks.format)}}class pT extends uT{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=AE(e)?e:0,this.max=AE(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=ok(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,zA.A)(pT,"id","linear"),(0,zA.A)(pT,"defaults",{ticks:{callback:Fk.formatters.numeric}});const fT=e=>Math.floor(JE(e)),hT=(e,t)=>Math.pow(10,fT(e)+t);function mT(e){return 1===e/Math.pow(10,fT(e))}function gT(e,t,n){const r=Math.pow(10,n),o=Math.floor(e/r);return Math.ceil(t/r)-o}function vT(e,t){let{min:n,max:r}=t;n=EE(e.min,n);const o=[],i=fT(n);let a=function(e,t){let n=fT(t-e);for(;gT(e,t,n)>10;)n++;for(;gT(e,t,n)<10;)n--;return Math.min(n,fT(e))}(n,r),s=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=i>a?Math.pow(10,i):0,d=Math.round((n-c)*s)/s,u=Math.floor((n-c)/l/10)*l*10;let p=Math.floor((d-u)/Math.pow(10,a)),f=EE(e.min,Math.round((c+u+p*Math.pow(10,a))*s)/s);for(;f<r;)o.push({value:f,major:mT(f),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(a++,p=2,s=a>=0?1:s),f=Math.round((c+u+p*Math.pow(10,a))*s)/s;const h=EE(e.max,f);return o.push({value:h,major:mT(h),significand:p}),o}class xT extends zP{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=uT.prototype.parse.apply(this,[e,t]);if(0!==n)return AE(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=AE(e)?Math.max(0,e):null,this.max=AE(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!AE(this._userMin)&&(this.min=e===hT(this.min,0)?hT(this.min,-1):hT(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const o=t=>n=e?n:t,i=e=>r=t?r:e;n===r&&(n<=0?(o(1),i(10)):(o(hT(n,-1)),i(hT(r,1)))),n<=0&&o(hT(r,-1)),r<=0&&i(hT(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=vT({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&rk(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Dk(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=JE(e),this._valueRange=JE(this.max)-JE(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(JE(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function bT(e){const t=e.ticks;if(t.display&&e.display){const e=pC(t.backdropPadding);return kE(t.font&&t.font.size,Hk.font.size)+e.height}return 0}function yT(e,t,n,r,o){return e===r||e===o?{start:t-n/2,end:t+n/2}:e<r||e>o?{start:t-n,end:t}:{start:t,end:t+n}}function wT(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],o=[],i=e._pointLabels.length,a=e.options.pointLabels,s=a.centerPointLabels?HE/i:0;for(let u=0;u<i;u++){const i=a.setContext(e.getPointLabelContext(u));o[u]=i.padding;const p=e.getPointPosition(u,e.drawingArea+o[u],s),f=fC(i.font),h=(l=e.ctx,c=f,d=NE(d=e._pointLabels[u])?d:[d],{w:Kk(l,c.string,d),h:d.length*c.lineHeight});r[u]=h;const m=dk(e.getIndexAngle(u)+s),g=Math.round(ik(m));jT(n,t,m,yT(g,p.x,h.w,0,180),yT(g,p.y,h.h,90,270))}var l,c,d;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],o=e._pointLabels.length,i=e.options,{centerPointLabels:a,display:s}=i.pointLabels,l={extra:bT(i)/2,additionalAngle:a?HE/o:0};let c;for(let d=0;d<o;d++){l.padding=n[d],l.size=t[d];const o=NT(e,d,l);r.push(o),"auto"===s&&(o.visible=ST(o,c),o.visible&&(c=o))}return r}(e,r,o)}function jT(e,t,n,r,o){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,l=0;r.start<t.l?(s=(t.l-r.start)/i,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/i,e.r=Math.max(e.r,t.r+s)),o.start<t.t?(l=(t.t-o.start)/a,e.t=Math.min(e.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function NT(e,t,n){const r=e.drawingArea,{extra:o,additionalAngle:i,padding:a,size:s}=n,l=e.getPointPosition(t,r+o+a,i),c=Math.round(ik(dk(l.angle+XE))),d=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),p=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:p,top:d,right:p+s.w,bottom:d+s.h}}function ST(e,t){if(!t)return!0;const{left:n,top:r,right:o,bottom:i}=e;return!(Zk({x:n,y:r},t)||Zk({x:n,y:i},t)||Zk({x:o,y:r},t)||Zk({x:o,y:i},t))}function AT(e,t,n){const{left:r,top:o,right:i,bottom:a}=n,{backdropColor:s}=t;if(!jE(s)){const n=uC(t.borderRadius),l=pC(t.backdropPadding);e.fillStyle=s;const c=r-l.left,d=o-l.top,u=i-r+l.width,p=a-o+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),iC(e,{x:c,y:d,w:u,h:p,radius:n}),e.fill()):e.fillRect(c,d,u,p)}}function ET(e,t,n,r){const{ctx:o}=e;if(n)o.arc(e.xCenter,e.yCenter,t,0,qE);else{let n=e.getPointPosition(0,t);o.moveTo(n.x,n.y);for(let i=1;i<r;i++)n=e.getPointPosition(i,t),o.lineTo(n.x,n.y)}}(0,zA.A)(xT,"id","logarithmic"),(0,zA.A)(xT,"defaults",{ticks:{callback:Fk.formatters.logarithmic,major:{enabled:!0}}});class kT extends uT{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=pC(bT(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=AE(e)&&!isNaN(e)?e:0,this.max=AE(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/bT(this.options))}generateTickLabels(e){uT.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=_E(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?wT(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return dk(e*(qE/(this._pointLabels.length||1))+ok(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(jE(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(jE(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return mC(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-XE+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:o}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),ET(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:o}=t,i=this._pointLabels.length;let a,s,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let o=t-1;o>=0;o--){const t=e._pointLabelItems[o];if(!t.visible)continue;const i=r.setContext(e.getPointLabelContext(o));AT(n,i,t);const a=fC(i.font),{x:s,y:l,textAlign:c}=t;oC(n,e._pointLabels[o],s,l+a.lineHeight/2,a,{color:i.color,textAlign:c,textBaseline:"middle"})}}(this,i),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),l=o.setContext(n);!function(e,t,n,r,o){const i=e.ctx,a=t.circular,{color:s,lineWidth:l}=t;!a&&!r||!s||!l||n<0||(i.save(),i.strokeStyle=s,i.lineWidth=l,i.setLineDash(o.dash||[]),i.lineDashOffset=o.dashOffset,i.beginPath(),ET(e,n,a,r),i.closePath(),i.stroke(),i.restore())}(this,a,s,i,l)}})),n.display){for(e.save(),a=i-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:o,lineWidth:i}=r;i&&o&&(e.lineWidth=i,e.strokeStyle=o,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let o,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const s=n.setContext(this.getContext(a)),l=fC(s.font);if(o=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){e.font=l.string,i=e.measureText(r.label).width,e.fillStyle=s.backdropColor;const t=pC(s.backdropPadding);e.fillRect(-i/2-t.left,-o-l.size/2-t.top,i+t.width,l.size+t.height)}oC(e,r.label,0,-o,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}(0,zA.A)(kT,"id","radialLinear"),(0,zA.A)(kT,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Fk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,zA.A)(kT,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,zA.A)(kT,"descriptors",{angleLines:{_fallback:"grid"}});const CT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_T=Object.keys(CT);function PT(e,t){return e-t}function OT(e,t){if(jE(t))return null;const n=e._adapter,{parser:r,round:o,isoWeekday:i}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),AE(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(o&&(a="week"!==o||!nk(i)&&!0!==i?n.startOf(a,o):n.startOf(a,"isoWeek",i)),+a)}function TT(e,t,n,r){const o=_T.length;for(let i=_T.indexOf(e);i<o-1;++i){const e=CT[_T[i]],o=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(o*e.size))<=r)return _T[i]}return _T[o-1]}function MT(e,t,n){if(n){if(n.length){const{lo:r,hi:o}=hk(n,t);e[n[r]>=t?n[r]:n[o]]=!0}}else e[t]=!0}function IT(e,t,n){const r=[],o={},i=t.length;let a,s;for(a=0;a<i;++a)s=t[a],o[s]=a,r.push({value:s,major:!1});return 0!==i&&n?function(e,t,n,r){const o=e._adapter,i=+o.startOf(t[0].value,r),a=t[t.length-1].value;let s,l;for(s=i;s<=a;s=+o.add(s,1,r))l=n[s],l>=0&&(t[l].major=!0);return t}(e,r,o,n):r}class RT extends zP{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new K_(e.adapters.date);r.init(t),DE(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:OT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:o,minDefined:i,maxDefined:a}=this.getUserBounds();function s(e){i||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(o=Math.max(o,e.max))}i&&a||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),r=AE(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),o=AE(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,i=function(e,t,n){let r=0,o=e.length;for(;r<o&&e[r]<t;)r++;for(;o>r&&e[o-1]>n;)o--;return r>0||o<e.length?e.slice(r,o):e}(r,o,this.max);return this._unit=t.unit||(n.autoSkip?TT(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):function(e,t,n,r,o){for(let i=_T.length-1;i>=_T.indexOf(n);i--){const n=_T[i];if(CT[n].common&&e._adapter.diff(o,r,n)>=t-1)return n}return _T[n?_T.indexOf(n):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=_T.indexOf(e)+1,n=_T.length;t<n;++t)if(CT[_T[t]].common)return _T[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&i.reverse(),IT(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,o=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),o=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const i=n.length<3?.5:.25;r=pk(r,0,i),o=pk(o,0,i),this._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,o=r.time,i=o.unit||TT(o.minUnit,t,n,this._getLabelCapacity(t)),a=kE(r.ticks.stepSize,1),s="week"===i&&o.isoWeekday,l=nk(s)||!0===s,c={};let d,u,p=t;if(l&&(p=+e.startOf(p,"isoWeek",s)),p=+e.startOf(p,l?"day":i),e.diff(n,t,i)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+i);const f="data"===r.ticks.source&&this.getDataTimestamps();for(d=p,u=0;d<n;d=+e.add(d,a,i),u++)MT(c,d,f);return d!==n&&"ticks"!==r.bounds&&1!==u||MT(c,d,f),Object.keys(c).sort(PT).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,o=t||n[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,r){const o=this.options,i=o.ticks.callback;if(i)return _E(i,[e,t,n],this);const a=o.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&a[s],d=l&&a[l],u=n[t],p=l&&d&&u&&u.major;return this._adapter.format(e,r||(p?d:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=ok(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),i=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*i,h:n*i+a*o}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,o=this._tickFormatFunction(e,0,IT(this,[e],this._majorUnit),r),i=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(OT(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bk(e.sort(PT))}}function DT(e,t,n){let r,o,i,a,s=0,l=e.length-1;n?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=mk(e,"pos",t)),({pos:r,time:i}=e[s]),({pos:o,time:a}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=mk(e,"time",t)),({time:r,pos:i}=e[s]),({time:o,pos:a}=e[l]));const c=o-r;return c?i+(a-i)*(t-r)/c:i}(0,zA.A)(RT,"id","time"),(0,zA.A)(RT,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class LT extends RT{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=DT(t,this.min),this._tableRange=DT(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],o=[];let i,a,s,l,c;for(i=0,a=e.length;i<a;++i)l=e[i],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(i=0,a=r.length;i<a;++i)c=r[i+1],s=r[i-1],l=r[i],Math.round((c+s)/2)!==l&&o.push({time:l,pos:i/(a-1)});return o}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(DT(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return DT(this._table,n*this._tableRange+this._minPos,!0)}}(0,zA.A)(LT,"id","timeseries"),(0,zA.A)(LT,"defaults",RT.defaults);const FT=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],BT="label";function zT(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function UT(e,t){e.labels=t}function VT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BT;const r=[];e.datasets=t.map((t=>{const o=e.datasets.find((e=>e[n]===t[n]));return o&&t.data&&!r.includes(o)?(r.push(o),Object.assign(o,t),o):(0,b.A)({},t)}))}function WT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BT;const n={labels:[],datasets:[]};return UT(n,e.labels),VT(n,e.datasets,t),n}function HT(t,n){const{height:r=150,width:o=300,redraw:i=!1,datasetIdKey:a,type:s,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:p}=t,f=(0,lo.A)(t,FT),h=(0,e.useRef)(null),m=(0,e.useRef)(null),g=()=>{h.current&&(m.current=new gO(h.current,{type:s,data:WT(l,a),options:c&&(0,b.A)({},c),plugins:d}),zT(n,m.current))},v=()=>{zT(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,e.useEffect)((()=>{!i&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[i,c]),(0,e.useEffect)((()=>{!i&&m.current&&UT(m.current.config.data,l.labels)}),[i,l.labels]),(0,e.useEffect)((()=>{!i&&m.current&&l.datasets&&VT(m.current.config.data,l.datasets,a)}),[i,l.datasets]),(0,e.useEffect)((()=>{m.current&&(i?(v(),setTimeout(g)):m.current.update(p))}),[i,c,l.labels,l.datasets,p]),(0,e.useEffect)((()=>{m.current&&(v(),setTimeout(g))}),[s]),(0,e.useEffect)((()=>(g(),()=>v())),[]),e.createElement("canvas",(0,b.A)({ref:h,role:"img",height:r,width:o},f),u)}const qT=(0,e.forwardRef)(HT);function KT(t,n){return gO.register(n),(0,e.forwardRef)(((n,r)=>e.createElement(qT,(0,b.A)((0,b.A)({},n),{},{ref:r,type:t}))))}const GT=KT("line",B_),YT=KT("bar",D_);function XT(e){let{title:t,labels:n=[],values:r=[],type:o="line"}=e;const i={labels:n,datasets:[{label:t,data:r,fill:!1}]},a="bar"===o?YT:GT;return(0,u.jsxs)("div",{className:"w-full h-56 p-4 rounded-2xl bg-white/90 border border-slate-200 shadow-sm",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:t}),(0,u.jsx)(a,{data:i,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{font:{size:10}},grid:{display:!1}},y:{beginAtZero:!0,ticks:{font:{size:10}},grid:{color:"rgba(148,163,253,0.08)"}}}}})]})}gO.register(lT,pT,MO,OO,zO,iT,HO);const $T=[{key:"overview",label:"Overview",to:"/app/admin/account-insights"},{key:"funnels",label:"Funnels",to:"/app/admin/account-insights/funnels"},{key:"alerts",label:"Alerts",to:"/app/admin/account-insights/alerts"}];function ZT(){const e=(0,i.zy)();return(0,u.jsx)("div",{className:"flex items-center gap-3 border-b border-slate-200 mb-4",children:$T.map((t=>{const n=e.pathname===t.to;return(0,u.jsx)(o.k2,{to:t.to,className:"pb-2 text-base font-medium border-b-2 transition-colors ".concat(n?"border-purple-600 text-purple-700":"border-transparent text-slate-500 hover:text-slate-800 hover:border-slate-300"),children:t.label},t.key)}))})}function JT(){var t,n,r,o,i,s,l,d,p,f,h,m,g,v,x,b,y,w,j,N,S,A;const[E,k]=(0,e.useState)(!0),[C,_]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{k(!0);const e=await c.default.get("/admin/account-insights/summary");if(!e.data)throw new Error("Empty response from /admin/account-insights/summary");_(e.data)}catch(oD){console.error("Failed to load account insights summary",oD),a.oR.error("Failed to load Account Insights summary.")}finally{k(!1)}})()}),[]);const P=C||{},O=null!==(t=null!==(n=P.totalBusinesses)&&void 0!==n?n:P.TotalBusinesses)&&void 0!==t?t:0,T=null!==(r=null!==(o=P.activeBusinesses)&&void 0!==o?o:P.ActiveBusinesses)&&void 0!==r?r:0,M=null!==(i=null!==(s=P.atRiskBusinesses)&&void 0!==s?s:P.AtRiskBusinesses)&&void 0!==i?i:0,I=null!==(l=null!==(d=P.dormantBusinesses)&&void 0!==d?d:P.DormantBusinesses)&&void 0!==l?l:0,R=null!==(p=null!==(f=P.noUsagePostApproval)&&void 0!==f?f:P.NoUsagePostApproval)&&void 0!==p?p:0,D=null!==(h=null!==(m=P.trialPlan)&&void 0!==m?m:P.TrialPlan)&&void 0!==h?h:0,L=null!==(g=null!==(v=P.paidPlan)&&void 0!==v?v:P.PaidPlan)&&void 0!==g?g:0,F=null!==(x=null!==(b=P.unknownPlan)&&void 0!==b?b:P.UnknownPlan)&&void 0!==x?x:0,B=null!==(y=null!==(w=P.trialTotal)&&void 0!==w?w:P.TrialTotal)&&void 0!==y?y:D,z=null!==(j=null!==(N=P.trialExpiringSoon)&&void 0!==N?N:P.TrialExpiringSoon)&&void 0!==j?j:0,U=null!==(S=null!==(A=P.trialExpiredNoUpgrade)&&void 0!==A?A:P.TrialExpiredNoUpgrade)&&void 0!==S?S:0,V=O>0?(T+L)/O*100:0,W=O>0?L/O*100:0,H=["Week 1","Week 2","Week 3","Week 4"];return(0,u.jsxs)("div",{className:"px-4 sm:px-6 py-6 space-y-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Account Insights Overview"}),(0,u.jsx)("p",{className:"text-sm text-slate-500 max-w-3xl",children:"High-level intelligence across all accounts: signup quality, activation, lifecycle stages, trials, and paid distribution."})]}),(0,u.jsx)(ZT,{}),E&&(0,u.jsx)("div",{className:"w-full py-10 flex items-center justify-center",children:(0,u.jsx)("div",{className:"text-sm text-slate-500",children:"Loading Account Insights..."})}),!E&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[(0,u.jsx)(BA,{label:"Total Accounts",value:O,subtitle:"All businesses registered on the platform.",highlight:!0}),(0,u.jsx)(BA,{label:"Active",value:T,subtitle:"Currently healthy & engaged."}),(0,u.jsx)(BA,{label:"At Risk",value:M,subtitle:"Low recent usage; watch closely."}),(0,u.jsx)(BA,{label:"Dormant",value:I,subtitle:"Idle for a long time."})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,u.jsx)(BA,{label:"No Usage Post-Approval",value:R,subtitle:"Approved but never used \u2014 top churn risk."}),(0,u.jsx)(BA,{label:"Activation Rate",value:"".concat(V.toFixed(1),"%"),subtitle:"(Active + Paid) / Total Accounts"}),(0,u.jsx)(BA,{label:"Paid Conversion",value:"".concat(W.toFixed(1),"%"),subtitle:"Paid / Total Accounts"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,u.jsx)(BA,{label:"On Trial Plan",value:D,subtitle:"Currently on a trial plan."}),(0,u.jsx)(BA,{label:"On Paid Plan",value:L,subtitle:"Any paid subscription.",highlight:!0}),(0,u.jsx)(BA,{label:"Unknown Plan",value:F,subtitle:"Check mapping / billing sync."})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,u.jsx)(BA,{label:"Trials (Total)",value:B,subtitle:"Active trials in the system."}),(0,u.jsx)(BA,{label:"Trials Expiring Soon",value:z,subtitle:"Ideal targets for save / upsell."}),(0,u.jsx)(BA,{label:"Trials Expired, No Upgrade",value:U,subtitle:"Lost opportunities; review patterns."})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,u.jsx)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-sm",children:(0,u.jsx)(XT,{title:"New Accounts (Sample Trend)",labels:H,values:[2,4,3,5],type:"bar"})}),(0,u.jsx)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-sm",children:(0,u.jsx)(XT,{title:"Active Usage Proxy (Sample)",labels:H,values:[1,3,2,4],type:"line"})})]}),(0,u.jsx)("div",{className:"mt-2 text-[11px] text-slate-500",children:"For deeper cohorts and actions, use the Funnels and Alerts tabs in Account Insights."})]})]})}function QT(e){var t;let{title:n,steps:r=[]}=e;if(!r.length)return(0,u.jsxs)("div",{className:"p-4 rounded-lg bg-white border border-slate-200",children:[(0,u.jsx)("div",{className:"text-xs font-semibold text-slate-900 mb-1",children:n}),(0,u.jsx)("div",{className:"text-[10px] text-slate-500",children:"No data available for this funnel."})]});const o=(null===(t=r[0])||void 0===t?void 0:t.value)||0||1;return(0,u.jsxs)("div",{className:"p-4 rounded-lg bg-white border border-slate-200 space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-baseline justify-between gap-2",children:[(0,u.jsx)("div",{className:"text-xs font-semibold text-slate-900",children:n}),(0,u.jsx)("div",{className:"text-[9px] text-slate-500",children:"Left \u2192 right; width shows relative retention."})]}),(0,u.jsx)("div",{className:"flex items-stretch gap-1 w-full",children:r.map(((e,t)=>{var n;const r=Math.max(6,100*(e.value||0/o));return(0,u.jsx)("div",{className:"relative rounded-md bg-slate-900/90 flex items-center justify-center",style:{width:"".concat(r,"%")},children:(0,u.jsxs)("div",{className:"px-2 py-1 flex flex-col items-center",children:[(0,u.jsx)("div",{className:"text-[8px] font-medium text-slate-50 truncate max-w-[120px]",children:e.label}),(0,u.jsx)("div",{className:"text-[8px] text-slate-100",children:null!==(n=e.value)&&void 0!==n?n:0})]})},t)}))}),(0,u.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-[9px] text-slate-600",children:r.map(((e,t)=>{var n,i;const a=o>0?((e.value||0)/o*100).toFixed(1):"0.0",s=(null===(n=r[t-1])||void 0===n?void 0:n.value)||0,l=0===t||0===s?null:((e.value||0)/s*100).toFixed(1);return(0,u.jsxs)("div",{className:"p-2 rounded-md bg-slate-50 border border-slate-200",children:[(0,u.jsx)("div",{className:"text-[9px] font-semibold text-slate-800 mb-0.5",children:e.label}),(0,u.jsxs)("div",{children:["Count:"," ",(0,u.jsx)("span",{className:"font-semibold text-slate-900",children:null!==(i=e.value)&&void 0!==i?i:0})]}),0===t?(0,u.jsx)("div",{className:"text-[8px] text-slate-500",children:"Entry cohort"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:["From previous:"," ",(0,u.jsxs)("span",{className:"font-semibold",children:[null!==l&&void 0!==l?l:"\u2013","%"]})]}),(0,u.jsxs)("div",{children:["From start:"," ",(0,u.jsxs)("span",{className:"font-semibold",children:[a,"%"]})]})]})]},t)}))})]})}function eM(){var t,n,r,o,s,l,d,p,f,h,m,g;const[v,x]=(0,e.useState)(!0),[b,y]=(0,e.useState)(null),w=(0,i.Zp)();(0,e.useEffect)((()=>{(async()=>{try{x(!0);const e=await c.default.get("/admin/account-insights/summary");if(!e.data)throw new Error("Empty response from /admin/account-insights/summary");y(e.data)}catch(oD){console.error("Failed to load funnels summary",oD),a.oR.error("Failed to load Account Funnels.")}finally{x(!1)}})()}),[]);const j=e=>{w("/app/campaigns/CampaignWizard?segment=".concat(encodeURIComponent(e)))};if(v)return(0,u.jsx)("div",{className:"px-6 py-4",children:(0,u.jsx)("div",{className:"text-sm text-slate-500",children:"Loading funnel analytics..."})});const N=b||{},S=N.byLifecycleStage||N.ByLifecycleStage||{},A=null!==(t=null!==(n=N.totalBusinesses)&&void 0!==n?n:N.TotalBusinesses)&&void 0!==t?t:0,E=(r=null!==(o=S.Trial)&&void 0!==o?o:S.Trial,null!==(s=null!==(l=S.Active)&&void 0!==l?l:S.Active)&&void 0!==s?s:0),k=null!==(d=null!==(p=S.AtRisk)&&void 0!==p?p:S.AtRisk)&&void 0!==d?d:0,C=null!==(f=null!==(h=S.Dormant)&&void 0!==h?h:S.Dormant)&&void 0!==f?f:0,_=null!==(m=null!==(g=S.NoUsagePostApproval)&&void 0!==g?g:S.NoUsagePostApproval)&&void 0!==m?m:0,P=[{label:"Total Approved/Live",value:A},{label:"Active",value:E},{label:"At Risk",value:k},{label:"Dormant",value:C}],O=[{label:"Approved/Live",value:A},{label:"No Usage Post-Approval",value:_},{label:"Healthy (Active)",value:E}];return(0,u.jsxs)("div",{className:"px-6 py-4 space-y-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Account Funnels & Stages"}),(0,u.jsx)("p",{className:"text-sm text-slate-500 max-w-3xl",children:"View how accounts flow across lifecycle stages and jump directly into targeted recovery or upgrade campaigns."})]}),(0,u.jsx)(ZT,{}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,u.jsx)(BA,{label:"Total",value:A,subtitle:"All known businesses.",highlight:!0}),(0,u.jsx)(BA,{label:"Active",value:E,subtitle:"Healthy usage."}),(0,u.jsx)(BA,{label:"At Risk",value:k,subtitle:"Low recent usage."}),(0,u.jsx)(BA,{label:"Dormant",value:C,subtitle:"Long-term idle."}),(0,u.jsx)(BA,{label:"No Usage Post-Approval",value:_,subtitle:"Approved but never active."})]}),(0,u.jsx)(QT,{title:"Lifecycle Funnel (Health)",steps:P}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 text-[10px] mt-1",children:[(0,u.jsx)("button",{onClick:()=>j("registered-never-active"),className:"px-2 py-1 rounded-full border border-slate-200 bg-slate-50 text-slate-700 hover:bg-slate-100",children:"Target: Registered / Approved, Never Active"}),(0,u.jsx)("button",{onClick:()=>j("at-risk"),className:"px-2 py-1 rounded-full border border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100",children:"Target: At-Risk Accounts"}),(0,u.jsx)("button",{onClick:()=>j("dormant"),className:"px-2 py-1 rounded-full border border-red-200 bg-red-50 text-red-700 hover:bg-red-100",children:"Target: Dormant Accounts"})]}),(0,u.jsx)(QT,{title:"Usage / WA Engagement Funnel",steps:O}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 text-[10px] mt-1",children:[(0,u.jsx)("button",{onClick:()=>j("no-usage-post-approval"),className:"px-2 py-1 rounded-full border border-purple-200 bg-purple-50 text-purple-700 hover:bg-purple-100",children:"Target: No Usage Post-Approval"}),(0,u.jsx)("button",{onClick:()=>j("healthy-active"),className:"px-2 py-1 rounded-full border border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100",children:"Target: Healthy Active (for cross-sell)"})]}),(0,u.jsx)("div",{className:"mt-2 text-[10px] text-slate-500",children:"These funnels are built from the same summary data your alerts use. Later, a dedicated Segment API can resolve these CTAs into live audiences."})]})}const tM={critical:{label:"Critical",bar:"bg-red-500",pill:"bg-red-50 text-red-700 border-red-200"},warning:{label:"Warning",bar:"bg-amber-500",pill:"bg-amber-50 text-amber-700 border-amber-200"},info:{label:"Info",bar:"bg-slate-500",pill:"bg-slate-50 text-slate-700 border-slate-200"}};function nM(e){let{id:t,title:n,message:r,severity:o="info",businessName:a,businessId:s,daysToEvent:l,createdAtUtc:c}=e;const d=(0,i.Zp)(),p=tM[o]||tM.info;let f=null;return"number"===typeof l&&(f=0===l?"Event is today.":l>0?"Event in ".concat(l," day").concat(1===l?"":"s","."):"Event was ".concat(Math.abs(l)," day").concat(1===Math.abs(l)?"":"s"," ago.")),(0,u.jsxs)("div",{className:"flex gap-3 p-3.5 rounded-lg bg-white border border-slate-200 shadow-[0_1px_2px_rgba(15,23,42,0.04)]",children:[(0,u.jsx)("div",{className:"w-1 rounded-md ".concat(p.bar)}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col gap-1",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[8px] font-semibold border ".concat(p.pill),children:p.label}),a&&(0,u.jsx)("span",{className:"text-[9px] text-slate-600",children:a})]}),c&&(0,u.jsx)("span",{className:"text-[8px] text-slate-400",children:new Date(c).toLocaleDateString()})]}),(0,u.jsx)("div",{className:"text-[11px] font-semibold text-slate-900 leading-snug",children:n||"Account Alert"}),r&&(0,u.jsx)("div",{className:"text-[10px] text-slate-600 leading-snug",children:r}),f&&(0,u.jsx)("div",{className:"text-[8px] text-slate-500",children:f}),s&&(0,u.jsxs)("div",{className:"flex justify-end gap-2 pt-1",children:[(0,u.jsx)("button",{onClick:()=>{s&&d("/app/admin/approvals?businessId=".concat(encodeURIComponent(s)))},className:"px-2.5 py-1 text-[9px] font-semibold rounded border border-slate-300 text-slate-800 hover:bg-slate-50",children:"View account"}),(0,u.jsx)("button",{onClick:()=>{s&&d("/app/campaigns/CampaignWizard?targetBusinessId=".concat(encodeURIComponent(s)))},className:"px-2.5 py-1 text-[9px] font-semibold rounded bg-slate-900 text-white hover:bg-black",children:"Open in Campaigns"})]})]})]})}function rM(){const[t,n]=(0,e.useState)(!0),[r,o]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{var e;n(!0);const[t,r]=await Promise.all([c.default.get("/admin/account-insights/trial-expiring-soon",{params:{days:3}}),c.default.get("/admin/account-insights/by-stage",{params:{stage:"NoUsagePostApproval",page:1,pageSize:200}})]),i=Array.isArray(t.data)?t.data.map((e=>({id:"trial-".concat(e.businessId),severity:"warning",title:"Trial ending soon",message:"Trial is ending soon and this account has not upgraded yet.",businessId:e.businessId,businessName:e.businessName,daysToEvent:null,createdAtUtc:e.createdAt}))):[],a=(Array.isArray(null===(e=r.data)||void 0===e?void 0:e.items)?r.data.items:Array.isArray(r.data)?r.data:[]).map((e=>({id:"no-usage-".concat(e.businessId),severity:"warning",title:"No usage after approval",message:"Approved but no messages sent post-approval. High churn risk.",businessId:e.businessId,businessName:e.businessName,daysToEvent:null,createdAtUtc:e.createdAt}))),s=[...i,...a].reduce(((e,t)=>{const n="".concat(t.businessId||"na","|").concat(t.title);return e[n]||(e[n]=t),e}),{}),l=Object.values(s);o(l)}catch(oD){console.error("Failed to load account insight alerts",oD),a.oR.error("Failed to load Account Alerts.")}finally{n(!1)}})()}),[]);const i=r.length,s=r.filter((e=>"critical"===e.severity)).length,l=r.filter((e=>"warning"===e.severity)).length,d=r.filter((e=>"info"===e.severity)).length;return(0,u.jsxs)("div",{className:"px-4 sm:px-6 py-6 space-y-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Account Alerts"}),(0,u.jsx)("p",{className:"text-sm text-slate-500 max-w-3xl",children:"Concrete cohorts that need attention: trials expiring soon and approved accounts with zero usage."})]}),(0,u.jsx)(ZT,{}),t&&(0,u.jsx)("div",{className:"w-full py-10 flex items-center justify-center",children:(0,u.jsx)("div",{className:"text-sm text-slate-500",children:"Loading alerts & signals..."})}),!t&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,u.jsx)(BA,{label:"Total Alerts",value:i,subtitle:"Accounts needing action.",highlight:!0}),(0,u.jsx)(BA,{label:"Critical",value:s,subtitle:"Reserved for severe issues."}),(0,u.jsx)(BA,{label:"Warnings",value:l,subtitle:"Risk & opportunity cohorts."}),(0,u.jsx)(BA,{label:"Informational",value:d,subtitle:"General signals."})]}),0===r.length?(0,u.jsx)("div",{className:"w-full py-10 flex items-center justify-center",children:(0,u.jsx)("div",{className:"text-xs text-emerald-600 bg-emerald-50 px-3 py-2 rounded-full border border-emerald-100",children:"No active alerts. Your accounts look stable."})}):(0,u.jsx)("div",{className:"grid grid-cols-1 gap-3",children:r.map((e=>(0,u.jsx)(nM,(0,b.A)({},e),e.id)))}),(0,u.jsx)("div",{className:"mt-2 text-[10px] text-slate-500",children:"Each alert here represents a distinct risk or opportunity cohort. Later, a shared Segment API can let these feed directly into campaigns or workflows."})]})]})}const oM=[{key:"overview",label:"Overview",to:"/app/admin/account-insights/account-reports",exact:!0},{key:"lifecycle",label:"Lifecycle",to:"/app/admin/account-insights/account-reports/lifecycle"},{key:"trials",label:"Trials",to:"/app/admin/account-insights/account-reports/trials"},{key:"risk",label:"Risk & Recovery",to:"/app/admin/account-insights/account-reports/risk"}];function iM(e){let{title:t,description:n,children:r}=e;return(0,u.jsx)("div",{className:"min-h-screen bg-slate-50 px-6 py-6",children:(0,u.jsxs)("div",{className:"max-w-7xl mx-auto space-y-5",children:[(0,u.jsxs)("header",{className:"space-y-1",children:[(0,u.jsx)("h1",{className:"text-xl font-semibold text-slate-900 tracking-tight",children:t}),n&&(0,u.jsx)("p",{className:"text-xs text-slate-600 max-w-3xl",children:n})]}),(0,u.jsx)("div",{className:"flex items-center gap-4 border-b border-slate-200",children:oM.map((e=>(0,u.jsx)(o.k2,{to:e.to,end:e.exact,className:e=>{let{isActive:t}=e;return"pb-2 text-[10px] font-semibold uppercase tracking-[0.14em] border-b-2 ".concat(t?"border-slate-900 text-slate-900":"border-transparent text-slate-500 hover:text-slate-900 hover:border-slate-300")},children:e.label},e.key)))}),(0,u.jsx)("section",{className:"space-y-4",children:r})]})})}const aM=(0,_.A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),sM=(0,_.A)("phone-call",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);function lM(t){let{businessId:n,onClose:r,onUpdated:o}=t;const[s,l]=(0,e.useState)(null),[d,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)([]),[m,g]=(0,e.useState)(!1),v=(0,i.Zp)(),x=(0,e.useRef)(null);if((0,e.useEffect)((()=>{if(!n)return l(null),void h([]);let e=!1;return(async()=>{try{p(!0);const t=await c.default.get("/admin/account-insights/".concat(n));e||l(t.data||null)}catch(oD){console.error("Failed to load account detail",oD),e||l(null)}finally{e||p(!1)}})(),()=>{e=!0}}),[n]),(0,e.useEffect)((()=>{if(!n)return void h([]);let e=!1;return(async()=>{try{g(!0);const t=await c.default.get("/admin/account-insights/".concat(n,"/actions"),{params:{limit:50}});if(e)return;const r=t.data||[],o=(Array.isArray(r)?r:Array.isArray(r.items)?r.items:Array.isArray(r.data)?r.data:[]).map((e=>{const t=e.type||e.actionType||"ACTION";let n={};if(e.metaJson)try{n=JSON.parse(e.metaJson)}catch(o){n={}}const r=e.label||pM(t,n)||"Account activity";return{id:e.id||"".concat(t,"-").concat(e.createdAt||e.timestamp||Math.random()),type:t,label:r,actor:e.actor||e.performedBy||null,createdAt:e.createdAt||e.timestamp||null,meta:n}})).sort(((e,t)=>{const n=e.createdAt?new Date(e.createdAt).getTime():0;return(t.createdAt?new Date(t.createdAt).getTime():0)-n}));h(o)}catch(oD){e||(console.error("Failed to load recent actions",oD),h([]))}finally{e||g(!1)}})(),()=>{e=!0}}),[n]),(0,e.useEffect)((()=>{if(!n)return;const e=e=>{"Escape"===e.key&&(null===r||void 0===r||r())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[n,r]),(0,e.useEffect)((()=>{if(!n)return;const e=e=>{x.current&&(x.current.contains(e.target)||null===r||void 0===r||r())};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[n,r]),!n)return null;const y=(null===s||void 0===s?void 0:s.businessId)||(null===s||void 0===s?void 0:s.id)||n,w=((null===s||void 0===s?void 0:s.lifecycleStage)||(null===s||void 0===s?void 0:s.stage)||(null===s||void 0===s?void 0:s.lifecycle)||"").trim(),j=((null===s||void 0===s?void 0:s.planName)||(null===s||void 0===s?void 0:s.planType)||(null===s||void 0===s?void 0:s.plan)||"").trim(),N="number"===typeof(null===s||void 0===s?void 0:s.daysToTrialEnd)?s.daysToTrialEnd:null,S="Trial"===w||"Trial"===j||!0===(null===s||void 0===s?void 0:s.isTrial),A=S&&null!==N&&N<=5,E=!0===(null===s||void 0===s?void 0:s.hasWhatsAppConfigured)||!0===(null===s||void 0===s?void 0:s.whatsAppConnected)||"Connected"===(null===s||void 0===s?void 0:s.whatsAppStatus),k=f.find((e=>"TAG_CONTACTED"===e.type)),C=(null===k||void 0===k?void 0:k.createdAt)||(null===s||void 0===s?void 0:s.lastContactedAt)||null,_=!!C||!0===(null===s||void 0===s?void 0:s.isContacted)||!(null===s||void 0===s||!s.lastOutreachOn),P=(w||"").toLowerCase(),T=!!y&&S&&A&&!1!==(null===s||void 0===s?void 0:s.canExtendTrial),M=!!y&&["trial","trialexpiringsoon","nousagepostapproval","risk","churned","demo"].includes(P),I=!!y&&(E||["Active","Trial","Risk"].includes(w)),R=(e,t)=>{let{label:n}=t;const r=(new Date).toISOString();h((t=>[{id:"local-".concat(e,"-").concat(r),type:e,label:n||pM(e)||"Account activity",actor:"You",createdAt:r,meta:{}},...t]))};return(0,u.jsxs)("div",{ref:x,className:"\r fixed inset-y-0 right-0\r z-[9999]\r w-full sm:w-[420px]\r bg-white\r border-l border-slate-200\r shadow-xl\r flex flex-col\r animate-account-drawer-in\r ",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-slate-50",children:[(0,u.jsx)("div",{children:(0,u.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Account details"})}),(0,u.jsx)("button",{onClick:r,className:"\r h-7 w-7 flex items-center justify-center\r rounded-full\r bg-slate-100\r text-slate-700\r hover:bg-slate-200\r hover:text-slate-900\r border border-slate-300\r transition\r ","aria-label":"Close details",children:(0,u.jsx)(Pe.A,{className:"w-4 h-4"})})]}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col px-5 py-4 gap-4 overflow-hidden",children:[d&&(0,u.jsx)("div",{className:"text-sm text-slate-500 text-center py-6",children:"Loading details\u2026"}),!d&&!s&&(0,u.jsx)("div",{className:"text-sm text-slate-500 text-center py-6",children:"No additional details available for this account."}),!d&&s&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)(cM,{title:"Core",children:[(0,u.jsx)(dM,{label:"Business name",value:s.businessName||s.name}),(0,u.jsx)(dM,{label:"Business ID",value:y}),(0,u.jsx)(dM,{label:"Lifecycle stage",value:w||"\u2014"}),(0,u.jsx)(dM,{label:"Plan",value:j||"\u2014"}),(0,u.jsx)(dM,{label:"Status",value:s.status||s.approvalStatus||s.accountStatus||"\u2014"})]}),(0,u.jsxs)(cM,{title:"Activity & Trial",children:[(0,u.jsx)(dM,{label:"Trial ends",value:s.trialEndsOn||"\u2014"}),(0,u.jsx)(dM,{label:"Trial days left",value:null!==N?N:S?"\u2014":"N/A"}),(0,u.jsx)(dM,{label:"Last active",value:s.lastActiveOn||s.lastSeenAt||s.lastActivityOn||"\u2014"}),(0,u.jsx)(dM,{label:"Last contacted",value:C?uM(C):"\u2014"}),(0,u.jsx)(dM,{label:"Created at",value:s.createdAt||s.createdOn||s.signupDate||"\u2014"})]}),(s.ownerEmail||s.ownerName)&&(0,u.jsxs)(cM,{title:"Owner",children:[(0,u.jsx)(dM,{label:"Owner email",value:s.ownerEmail||"\u2014"}),s.ownerName&&(0,u.jsx)(dM,{label:"Owner name",value:s.ownerName})]})]}),(0,u.jsx)("div",{className:"flex-1 min-h-0",children:(0,u.jsxs)(cM,{title:"Recent activity",children:[m&&(0,u.jsx)("div",{className:"text-[11px] text-slate-500",children:"Loading activity\u2026"}),!m&&0===f.length&&(0,u.jsx)("div",{className:"text-[11px] text-slate-500",children:"No recent actions recorded for this account."}),!m&&f.length>0&&(0,u.jsx)("div",{className:"h-full overflow-y-auto pr-1 space-y-1.5 text-[11px]",children:f.map((e=>(0,u.jsxs)("div",{className:"flex items-start gap-2",children:[(0,u.jsx)("div",{className:"w-1 h-1 mt-1.5 rounded-full bg-slate-400"}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("div",{className:"text-slate-800",children:e.label}),(0,u.jsxs)("div",{className:"text-[10px] text-slate-500",children:[uM(e.createdAt),e.actor?" \xb7 ".concat(e.actor):""]})]})]},e.id)))})]})})]})]}),(0,u.jsxs)("div",{className:"px-5 py-3 border-t border-slate-200 bg-slate-50",children:[(0,u.jsx)("div",{className:"text-[10px] font-semibold text-slate-500 uppercase tracking-[0.14em] mb-1.5",children:"Quick actions"}),s?(0,u.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,u.jsxs)("button",{onClick:()=>{y?(v("/admin/accounts/".concat(y)),null===r||void 0===r||r()):a.oR.error("Business id missing for this account.")},className:"\r w-full flex items-center justify-between\r px-3 py-2 rounded-md\r bg-slate-900 text-slate-50\r hover:bg-slate-800\r transition\r ",children:[(0,u.jsxs)("span",{className:"flex items-center gap-2",children:[(0,u.jsx)(aM,{className:"w-3 h-3"}),"Open Business Profile"]}),(0,u.jsx)("span",{className:"text-[9px] text-slate-300",children:"Full context"})]}),M&&(0,u.jsxs)("button",{onClick:async()=>{if(y)try{var e;const t=await c.default.post("/admin/account-insights/".concat(y,"/mark-contacted"));if(!1===(null===(e=t.data)||void 0===e?void 0:e.ok))return void a.oR.error(t.data.message||"Failed to log contact.");const n=(new Date).toISOString();R("TAG_CONTACTED",{label:"Contacted account"});const r=(0,b.A)((0,b.A)({},s||{}),{},{isContacted:!0,lastContactedAt:n});l(r),null===o||void 0===o||o(r),a.oR.success(_?"Additional contact logged.":"Contact logged.")}catch(oD){console.error(oD),a.oR.error("Error while logging contact.")}else a.oR.error("Business id missing.")},className:"\r w-full flex items-center justify-between\r px-3 py-2 rounded-md\r bg-emerald-50 text-emerald-900\r border border-emerald-200\r hover:bg-emerald-100\r transition\r ",children:[(0,u.jsxs)("span",{className:"flex items-center gap-2",children:[(0,u.jsx)(sM,{className:"w-3 h-3"}),_?"Log another contact":"Tag as Contacted"]}),(0,u.jsx)("span",{className:"text-[9px] text-emerald-700",children:"Touchpoint history"})]}),I&&(0,u.jsxs)("button",{onClick:()=>{y?(v("/admin/accounts/".concat(y,"/whatsapp-settings")),null===r||void 0===r||r()):a.oR.error("Business id missing.")},className:"\r w-full flex items-center justify-between\r px-3 py-2 rounded-md\r bg-sky-50 text-sky-900\r border border-sky-200\r hover:bg-sky-100\r transition\r ",children:[(0,u.jsxs)("span",{className:"flex items-center gap-2",children:[(0,u.jsx)(O.A,{className:"w-3 h-3"}),"View Manual WhatsApp Business Api Setup"]}),(0,u.jsx)("span",{className:"text-[9px] text-sky-700",children:"Channel readiness"})]}),T&&(0,u.jsxs)("button",{onClick:async()=>{if(!y)return void a.oR.error("Business id missing.");try{const t=await c.default.post("/admin/account-insights/".concat(y,"/extend-trial"),{extraDays:7});var e;if(!t.data||!1===t.data.ok)return void a.oR.error((null===(e=t.data)||void 0===e?void 0:e.message)||"Unable to extend trial.");const n=t.data.snapshot;if(n)l(n),null===o||void 0===o||o(n);else{const e=t.data.newEnd||(null===s||void 0===s?void 0:s.trialEndsOn)||null,n=(0,b.A)((0,b.A)({},s||{}),{},{trialEndsOn:e});l(n),null===o||void 0===o||o(n)}R("EXTEND_TRIAL",{label:"Trial extended by ".concat(7," days")}),a.oR.success("Trial extended successfully.")}catch(oD){console.error(oD),a.oR.error("Error while extending trial.")}},className:"\r w-full flex items-center justify-between\r px-3 py-2 rounded-md\r bg-amber-50 text-amber-900\r border border-amber-200\r hover:bg-amber-100\r transition\r ",children:[(0,u.jsxs)("span",{className:"flex items-center gap-2",children:[(0,u.jsx)(re.A,{className:"w-3 h-3"}),"Extend Trial by 7 days"]}),(0,u.jsx)("span",{className:"text-[9px] text-amber-700",children:"Retain high-intent"})]}),!M&&!I&&!T&&(0,u.jsx)("div",{className:"text-[10px] text-slate-500",children:"No special actions for this account right now."})]}):(0,u.jsx)("div",{className:"text-[10px] text-slate-500",children:"Actions will appear once account details are loaded."}),(0,u.jsxs)("div",{className:"mt-2 text-[10px] text-slate-400",children:["Press ",(0,u.jsx)("span",{className:"font-semibold",children:"Esc"}),", click outside the panel, or use the ",(0,u.jsx)("span",{className:"font-semibold",children:"X"})," button to close."]})]}),(0,u.jsx)("style",{children:"\n        @keyframes account-drawer-in {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n        .animate-account-drawer-in {\n          animation: account-drawer-in 0.22s ease-out;\n        }\n      "})]})}function cM(e){let{title:t,children:n}=e;return(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.14em]",children:t}),(0,u.jsx)("div",{className:"space-y-1.5",children:n})]})}function dM(e){let{label:t,value:n}=e;return(0,u.jsxs)("div",{className:"flex justify-between gap-3 border-b border-slate-100 pb-1.5",children:[(0,u.jsx)("div",{className:"text-xs font-medium text-slate-600",children:t}),(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900 text-right truncate max-w-[220px]",children:null!=n&&""!==n?n:"\u2014"})]})}function uM(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleString()}function pM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"TAG_CONTACTED":return"Tagged as contacted";case"EXTEND_TRIAL":return"number"===typeof t.extraDays?"Trial extended by ".concat(t.extraDays," days"):"Trial extended";default:return null}}const fM=[{key:"ALL",label:"All time"},{key:"7D",label:"Last 7 days"},{key:"30D",label:"Last 30 days"},{key:"90D",label:"Last 90 days"}];function hM(e){let{value:t,onChange:n}=e;return(0,u.jsx)("div",{className:"inline-flex items-center gap-1 bg-slate-50 rounded-full px-1.5 py-1",children:fM.map((e=>(0,u.jsx)("button",{type:"button",onClick:()=>n(e.key),className:"px-2.5 py-0.5 rounded-full text-xs border transition-colors "+(t===e.key?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-100"),children:e.label},e.key)))})}function mM(e,t){if("ALL"===t)return!0;if(!e)return!1;const n=new Date(e);if(isNaN(n.getTime()))return!1;const r=(new Date-n)/864e5;switch(t){case"7D":return r<=7;case"30D":return r<=30;case"90D":return r<=90;default:return!0}}function gM(){const[t,n]=(0,e.useState)(!0),[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)(1),[s]=(0,e.useState)(50),[l,d]=(0,e.useState)(null),[p,f]=(0,e.useState)(""),[h,m]=(0,e.useState)("ALL"),[g,v]=(0,e.useState)("ALL"),[x,b]=(0,e.useState)("ALL"),[y,w]=(0,e.useState)("createdAt"),[j,N]=(0,e.useState)("desc"),[S,A]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{n(!0);const e=(await c.default.get("/admin/account-insights",{params:{page:i,pageSize:s}})).data||{},t=Array.isArray(e.items)?e.items:Array.isArray(e.data)?e.data:Array.isArray(e)?e:[];o(t);const r="number"===typeof e.total?e.total:"number"===typeof e.totalCount?e.totalCount:null;d(r)}catch(oD){console.error("Failed to load AccountsMasterReport",oD),o([]),d(null)}finally{n(!1)}})()}),[i,s]);const E=e=>null==e?"":String(e).toLowerCase(),k=e=>e.planName||e.planType||"",C=e=>e.lifecycleStage||e.stage||"",_=(0,e.useMemo)((()=>{let e=[...r];if(p.trim()){const t=p.trim().toLowerCase();e=e.filter((e=>E(e.businessName).includes(t)||E(e.businessId).includes(t)||E(e.domain).includes(t)||E(e.ownerEmail).includes(t)))}return"ALL"!==h&&(e=e.filter((e=>C(e).toLowerCase()===h.toLowerCase()))),"ALL"!==g&&(e=e.filter((e=>k(e).toLowerCase()===g.toLowerCase()))),e=e.filter((e=>mM(e.lastActiveOn||e.createdAt,x))),e.sort(((e,t)=>function(e,t,n,r){const o="asc"===r?1:-1,i=()=>{switch(n){case"businessName":return[e.businessName||"",t.businessName||""];case"lifecycleStage":return[e.lifecycleStage||e.stage||"",t.lifecycleStage||t.stage||""];case"plan":return[e.planName||e.planType||"",t.planName||t.planType||""];case"trialEndsOn":return[e.trialEndsOn||"",t.trialEndsOn||""];case"lastActiveOn":return[e.lastActiveOn||"",t.lastActiveOn||""];case"status":return[e.status||"",t.status||""];default:return[e.createdAt||"",t.createdAt||""]}},[a,s]=i();return a<s?-1*o:a>s?1*o:0}(e,t,y,j))),e}),[r,p,h,g,x,y,j]),P=(0,e.useMemo)((()=>{const e=new Set(r.map(C).filter(Boolean).map((e=>e.trim())));return["ALL",...Array.from(e)]}),[r]),O=(0,e.useMemo)((()=>{const e=new Set(r.map(k).filter(Boolean).map((e=>e.trim())));return["ALL",...Array.from(e)]}),[r]),T=e=>{w((t=>t===e?(N((e=>"asc"===e?"desc":"asc")),t):(N("asc"),e)))},M="number"===typeof l&&l>=0,I=M?Math.max(1,Math.ceil(l/s)):null,R=M?i<I:r.length===s,D=_.length?(i-1)*s+1:0,L=(i-1)*s+_.length;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(iM,{title:"Accounts Ledger",description:"Comprehensive ledger of all accounts with lifecycle, plan, activity, and status. Use filters to focus on the slice that matters.",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{value:p,onChange:e=>f(e.target.value),placeholder:"Search by name, ID, domain, or owner email",className:"w-72 px-3 py-2 rounded border border-slate-300 bg-white text-sm text-slate-800 focus:outline-none focus:ring-1 focus:ring-slate-900"}),(0,u.jsx)("select",{value:h,onChange:e=>m(e.target.value),className:"px-2.5 py-2 rounded border border-slate-300 bg-white text-xs text-slate-800 focus:outline-none focus:ring-1 focus:ring-slate-900",children:P.map((e=>(0,u.jsx)("option",{value:e,children:"ALL"===e?"All stages":e},e)))}),(0,u.jsx)("select",{value:g,onChange:e=>v(e.target.value),className:"px-2.5 py-2 rounded border border-slate-300 bg-white text-xs text-slate-800 focus:outline-none focus:ring-1 focus:ring-slate-900",children:O.map((e=>(0,u.jsx)("option",{value:e,children:"ALL"===e?"All plans":e},e)))}),(0,u.jsx)(hM,{value:x,onChange:b})]}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("span",{className:"text-xs text-slate-500",children:["Page ",i," \u2022 ","Showing ",_.length," row",1===_.length?"":"s",M&&" \u2022 Total ".concat(l)]}),(0,u.jsx)("button",{onClick:()=>{if(!_.length)return;const e=_.map((e=>[e.businessId,e.businessName,C(e),k(e),e.trialEndsOn,e.lastActiveOn,e.status,e.createdAt].map(bM).join(","))),t=[["BusinessId","BusinessName","LifecycleStage","Plan","TrialEndsOn","LastActiveOn","Status","CreatedAt"].join(","),...e].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="accounts-ledger.csv",o.click(),URL.revokeObjectURL(r)},className:"px-3 py-2 rounded bg-slate-900 text-white text-xs font-semibold hover:bg-black",children:"Export CSV"})]})]}),(0,u.jsx)("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white mt-4",children:(0,u.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,u.jsx)("thead",{className:"bg-slate-50",children:(0,u.jsxs)("tr",{className:"text-[11px] text-slate-500 uppercase tracking-[0.12em]",children:[(0,u.jsx)(vM,{label:"Business",col:"businessName",sortBy:y,sortDir:j,onSort:T}),(0,u.jsx)(vM,{label:"Lifecycle Stage",col:"lifecycleStage",sortBy:y,sortDir:j,onSort:T}),(0,u.jsx)(vM,{label:"Plan",col:"plan",sortBy:y,sortDir:j,onSort:T}),(0,u.jsx)(vM,{label:"Trial Ends",col:"trialEndsOn",sortBy:y,sortDir:j,onSort:T}),(0,u.jsx)(vM,{label:"Last Active",col:"lastActiveOn",sortBy:y,sortDir:j,onSort:T}),(0,u.jsx)(vM,{label:"Status",col:"status",sortBy:y,sortDir:j,onSort:T})]})}),(0,u.jsxs)("tbody",{className:"text-sm text-slate-800",children:[t&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-500",children:"Loading accounts\u2026"})}),!t&&0===_.length&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-500",children:"No accounts found for current filters."})}),!t&&_.map((e=>(0,u.jsxs)("tr",{className:"border-t border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>A(e.businessId),children:[(0,u.jsx)(xM,{primary:!0,children:e.businessName||e.businessId||"\u2014"}),(0,u.jsx)(xM,{children:C(e)||"\u2014"}),(0,u.jsx)(xM,{children:k(e)||"\u2014"}),(0,u.jsx)(xM,{children:e.trialEndsOn||"\u2014"}),(0,u.jsx)(xM,{children:e.lastActiveOn||"\u2014"}),(0,u.jsx)(xM,{children:e.status||"\u2014"})]},e.businessId)))]})]})}),(0,u.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-600 mt-3",children:[(0,u.jsxs)("div",{children:["Showing ",D,"-",L||0,M&&" of ".concat(l)]}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)("button",{disabled:1===i,onClick:()=>a((e=>Math.max(1,e-1))),className:"px-2 py-1 border border-slate-300 rounded disabled:opacity-40",children:"Prev"}),(0,u.jsx)("button",{disabled:!R,onClick:()=>{R&&a((e=>e+1))},className:"px-2 py-1 border border-slate-300 rounded disabled:opacity-40",children:"Next"})]})]})]}),(0,u.jsx)(lM,{businessId:S,onClose:()=>A(null)})]})}function vM(e){let{label:t,col:n,sortBy:r,sortDir:o,onSort:i}=e;const a=r===n;return(0,u.jsx)("th",{className:"px-4 py-2 text-left font-semibold whitespace-nowrap select-none "+(a?"text-slate-900":"text-slate-600"),children:(0,u.jsxs)("button",{type:"button",onClick:()=>i(n),className:"inline-flex items-center gap-1",children:[(0,u.jsx)("span",{children:t}),a&&(0,u.jsx)("span",{className:"text-[10px]",children:"asc"===o?"\u25b2":"\u25bc"})]})})}function xM(e){let{children:t,primary:n}=e;return(0,u.jsx)("td",{className:"px-4 py-2 whitespace-nowrap "+(n?"font-semibold text-slate-900":"text-slate-800"),children:t})}function bM(e){const t=null==e?"":String(e);return/[",\n]/.test(t)?'"'.concat(t.replace(/"/g,'""'),'"'):t}const yM=[{key:"Active",label:"Active"},{key:"AtRisk",label:"At Risk"},{key:"Dormant",label:"Dormant"},{key:"NoUsagePostApproval",label:"No Usage Post-Approval"}];function wM(){const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)("Active"),[i,a]=(0,e.useState)([]),[s,l]=(0,e.useState)(1),[d]=(0,e.useState)(100),[p,f]=(0,e.useState)(null),[h,m]=(0,e.useState)(!0),[g,v]=(0,e.useState)(""),[x,y]=(0,e.useState)("ALL"),[w,j]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{const e=await c.default.get("/admin/account-insights/summary");n(e.data||null)}catch(oD){console.error("Failed to load lifecycle summary",oD)}})()}),[]),(0,e.useEffect)((()=>{j(null),(async()=>{if(r)try{m(!0);const e=(await c.default.get("/admin/account-insights/by-stage",{params:{stage:r,page:s,pageSize:d}})).data||{},t=Array.isArray(e.items)?e.items:Array.isArray(e.data)?e.data:Array.isArray(e)?e:[];a(t);const n="number"===typeof e.total?e.total:"number"===typeof e.totalCount?e.totalCount:null;f(n)}catch(oD){console.error("Failed to load accounts for stage ".concat(r),oD),a([]),f(null)}finally{m(!1)}})()}),[r,s,d]);const N=(0,e.useMemo)((()=>{const e=(null===t||void 0===t?void 0:t.byLifecycleStage)||(null===t||void 0===t?void 0:t.ByLifecycleStage)||{},n=t=>{var n,r,o;return null!==(n=null!==(r=e[t])&&void 0!==r?r:e[null===t||void 0===t||null===(o=t.toLowerCase)||void 0===o?void 0:o.call(t)])&&void 0!==n?n:0};return{Active:n("Active"),AtRisk:n("AtRisk"),Dormant:n("Dormant"),NoUsagePostApproval:n("NoUsagePostApproval")}}),[t]),S=(0,e.useMemo)((()=>{let e=[...i];if(g.trim()){const t=g.trim().toLowerCase();e=e.filter((e=>{const n=(e.businessName||"").toLowerCase(),r=(e.businessId||e.id||"").toLowerCase(),o=(e.domain||"").toLowerCase(),i=(e.ownerEmail||"").toLowerCase();return n.includes(t)||r.includes(t)||o.includes(t)||i.includes(t)}))}return e=e.filter((e=>mM(e.lastActiveOn||e.createdAt,x))),e}),[i,g,x]),A="number"===typeof p&&p>=0,E=S.length?(s-1)*d+1:0,k=(s-1)*d+S.length;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(iM,{title:"Lifecycle Stage Report",description:"Analyze accounts by lifecycle stage and recent activity to understand health, activation quality, and emerging risk.",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-3",children:[(0,u.jsx)("div",{className:"flex flex-wrap gap-2",children:yM.map((e=>{var t;return(0,u.jsxs)("button",{onClick:()=>{o(e.key),l(1),v(""),y("ALL"),j(null)},className:"px-3 py-1.5 rounded-full border text-xs transition-colors "+(r===e.key?"border-slate-900 bg-slate-900 text-white":"border-slate-300 text-slate-700 hover:bg-slate-50"),children:[e.label,(0,u.jsx)("span",{className:"ml-1 text-[10px] text-slate-400",children:null!==(t=N[e.key])&&void 0!==t?t:0})]},e.key)}))}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{value:g,onChange:e=>v(e.target.value),placeholder:"Search within ".concat(r," accounts"),className:"w-64 px-3 py-2 rounded border border-slate-300 bg-white text-sm text-slate-800 focus:outline-none focus:ring-1 focus:ring-slate-900"}),(0,u.jsx)(hM,{value:x,onChange:y}),(0,u.jsx)("button",{onClick:()=>{if(!S.length)return;const e=S.map((e=>[e.businessId||e.id||"",e.businessName||"",e.lifecycleStage||r,e.planName||e.planType||"",e.trialEndsOn||"",e.lastActiveOn||"",e.status||""].map(SM).join(","))),t=[["BusinessId","BusinessName","LifecycleStage","Plan","TrialEndsOn","LastActiveOn","Status"].join(","),...e].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(n),i=document.createElement("a");i.href=o,i.download="lifecycle-".concat(r.toLowerCase(),"-report.csv"),i.click(),URL.revokeObjectURL(o)},className:"px-3 py-2 rounded bg-slate-900 text-white text-xs font-semibold hover:bg-black",children:"Export CSV"})]})]}),(0,u.jsx)("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white",children:(0,u.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,u.jsx)("thead",{className:"bg-slate-50",children:(0,u.jsxs)("tr",{className:"text-[11px] text-slate-500 uppercase tracking-[0.14em]",children:[(0,u.jsx)(jM,{children:"Business"}),(0,u.jsx)(jM,{children:"Lifecycle Stage"}),(0,u.jsx)(jM,{children:"Plan"}),(0,u.jsx)(jM,{children:"Trial Ends"}),(0,u.jsx)(jM,{children:"Last Active"}),(0,u.jsx)(jM,{children:"Status"})]})}),(0,u.jsxs)("tbody",{className:"text-sm text-slate-800",children:[h&&(0,u.jsx)("tr",{children:(0,u.jsxs)("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-500",children:["Loading ",r," accounts\u2026"]})}),!h&&0===S.length&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-500",children:"No accounts found in this stage with current filters."})}),!h&&S.map((e=>{const t=e.businessId||e.id;return(0,u.jsxs)("tr",{className:"border-t border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>j(t),children:[(0,u.jsx)(NM,{primary:!0,children:e.businessName||e.businessId||e.id||"\u2014"}),(0,u.jsx)(NM,{children:e.lifecycleStage||r}),(0,u.jsx)(NM,{children:e.planName||e.planType||"\u2014"}),(0,u.jsx)(NM,{children:e.trialEndsOn||"\u2014"}),(0,u.jsx)(NM,{children:e.lastActiveOn||"\u2014"}),(0,u.jsx)(NM,{children:e.status||"\u2014"})]},t)}))]})]})}),(0,u.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-600 mt-3",children:[(0,u.jsxs)("div",{children:["Showing ",E,"-",k||0,A&&" of ".concat(p," in ").concat(r)]}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)("button",{disabled:1===s,onClick:()=>l((e=>Math.max(1,e-1))),className:"px-2 py-1 border border-slate-300 rounded disabled:opacity-40",children:"Prev"}),(0,u.jsx)("button",{disabled:A?s*d>=p:i.length<d,onClick:()=>l((e=>e+1)),className:"px-2 py-1 border border-slate-300 rounded disabled:opacity-40",children:"Next"})]})]})]}),(0,u.jsx)(lM,{businessId:w,onClose:()=>j(null),onUpdated:e=>{if(!e)return;const t=e.businessId||e.id;t&&a((n=>n.map((n=>(n.businessId||n.id)===t?(0,b.A)((0,b.A)({},n),e):n))))}})]})}function jM(e){let{children:t}=e;return(0,u.jsx)("th",{className:"px-4 py-2 text-left font-semibold whitespace-nowrap",children:t})}function NM(e){let{children:t,primary:n}=e;return(0,u.jsx)("td",{className:"px-4 py-2 whitespace-nowrap "+(n?"font-semibold text-slate-900":"text-slate-800"),children:t})}function SM(e){const t=null==e?"":String(e);return/[",\n]/.test(t)?'"'.concat(t.replace(/"/g,'""'),'"'):t}const AM=14;function EM(){const[t,n]=(0,e.useState)(null),[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)(!0),[s,l]=(0,e.useState)(""),[d,p]=(0,e.useState)("ALL"),[f,h]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{a(!0);const[e,t]=await Promise.all([c.default.get("/admin/account-insights/summary"),c.default.get("/admin/account-insights/trial-expiring-soon",{params:{days:AM}})]);n(e.data||null);const r=t.data||{},i=Array.isArray(r)?r:Array.isArray(r.items)?r.items:Array.isArray(r.data)?r.data:[];o(i)}catch(oD){console.error("Failed to load TrialPerformanceReport",oD),n(null),o([])}finally{a(!1)}})()}),[]);const m=(0,e.useMemo)((()=>{var e,n,o,i,a,s,l,c,d;const u=t||{},p=null!==(e=null!==(n=null!==(o=null!==(i=u.trialTotal)&&void 0!==i?i:u.TrialTotal)&&void 0!==o?o:u.trialPlan)&&void 0!==n?n:u.TrialPlan)&&void 0!==e?e:0,f=null!==(a=null!==(s=u.paidPlan)&&void 0!==s?s:u.PaidPlan)&&void 0!==a?a:0,h=null!==(l=null!==(c=u.trialExpiredNoUpgrade)&&void 0!==c?c:u.TrialExpiredNoUpgrade)&&void 0!==l?l:0,m=null!==(d=u.trialExpiringSoon)&&void 0!==d?d:u.TrialExpiringSoon;return{trialsTotal:p,trialsExpSoon:"number"===typeof m?m:r.length,trialExpiredNoUpgrade:h,paid:f,approxConv:p>0?(f/p*100).toFixed(1):"0.0"}}),[t,r.length]),g=(0,e.useMemo)((()=>{let e=[...r];if(s.trim()){const t=s.trim().toLowerCase();e=e.filter((e=>{const n=(e.businessName||"").toLowerCase(),r=(e.businessId||e.id||"").toLowerCase(),o=(e.domain||"").toLowerCase(),i=(e.ownerEmail||"").toLowerCase();return n.includes(t)||r.includes(t)||o.includes(t)||i.includes(t)}))}return e=e.filter((e=>mM(e.trialEndsOn,d))),e}),[r,s,d]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(iM,{title:"Trial Performance Report",description:"Analyze trial volume, upcoming expiries, and approximate trial-to-paid conversion. Focus on trials expiring within the next ".concat(AM," days as your save pipeline."),children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,u.jsx)(kM,{label:"Trials (Total)",value:m.trialsTotal,hint:"Current trial accounts."}),(0,u.jsx)(kM,{label:"Expiring \u2264 ".concat(AM," days"),value:m.trialsExpSoon,hint:"Immediate conversion opportunities."}),(0,u.jsx)(kM,{label:"Trials Expired (No Upgrade)",value:m.trialExpiredNoUpgrade,hint:"Loss bucket for win-back."}),(0,u.jsx)(kM,{label:"Approx. Trial \u2192 Paid",value:"".concat(m.approxConv,"%"),hint:"Paid / Trials (coarse signal)."})]}),(0,u.jsxs)("div",{className:"mt-4 p-4 rounded-lg border border-slate-200 bg-white",children:[(0,u.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-xs font-semibold text-slate-900",children:"Trial Funnel Snapshot"}),(0,u.jsx)("div",{className:"text-[11px] text-slate-500",children:"Relative comparison of total trials, expiring soon, lost trials, and paid accounts."})]})}),(0,u.jsx)(PM,{trials:m.trialsTotal,expiring:m.trialsExpSoon,lost:m.trialExpiredNoUpgrade,paid:m.paid})]}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mt-5",children:[(0,u.jsxs)("div",{className:"flex flex-col",children:[(0,u.jsxs)("div",{className:"text-sm font-semibold text-slate-900",children:["Trials expiring in next ",AM," days"]}),(0,u.jsx)("div",{className:"text-[11px] text-slate-500",children:"Use this list as your primary save queue."})]}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{value:s,onChange:e=>l(e.target.value),placeholder:"Search trials by name, ID, domain, owner",className:"w-72 px-3 py-2 rounded border border-slate-300 bg-white text-sm text-slate-800 focus:outline-none focus:ring-1 focus:ring-slate-900"}),(0,u.jsx)(hM,{value:d,onChange:p}),(0,u.jsx)("button",{onClick:()=>{if(!g.length)return;const e=g.map((e=>[e.businessId||e.id||"",e.businessName||"",e.trialEndsOn||"",e.planName||e.planType||"Trial",e.lifecycleStage||"Trial",e.status||""].map(OM).join(","))),t=[["BusinessId","BusinessName","TrialEndsOn","Plan","LifecycleStage","Status"].join(","),...e].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="trial-expiring-".concat(AM,"d-report.csv"),o.click(),URL.revokeObjectURL(r)},className:"px-3 py-2 rounded bg-slate-900 text-white text-xs font-semibold hover:bg-black",children:"Export CSV"})]})]}),(0,u.jsx)("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white mt-3",children:(0,u.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,u.jsx)("thead",{className:"bg-slate-50",children:(0,u.jsxs)("tr",{className:"text-[11px] text-slate-500 uppercase tracking-[0.14em]",children:[(0,u.jsx)(CM,{children:"Business"}),(0,u.jsx)(CM,{children:"Trial Ends"}),(0,u.jsx)(CM,{children:"Plan"}),(0,u.jsx)(CM,{children:"Lifecycle Stage"}),(0,u.jsx)(CM,{children:"Status"})]})}),(0,u.jsxs)("tbody",{className:"text-sm text-slate-800",children:[i&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-500",children:"Loading trial data\u2026"})}),!i&&0===g.length&&(0,u.jsx)("tr",{children:(0,u.jsxs)("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-500",children:["No trials expiring in the next ",AM," days matching current filters."]})}),!i&&g.map((e=>{const t=e.businessId||e.id;return(0,u.jsxs)("tr",{className:"border-t border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>h(t),children:[(0,u.jsx)(_M,{primary:!0,children:e.businessName||e.businessId||e.id||"\u2014"}),(0,u.jsx)(_M,{children:e.trialEndsOn||"\u2014"}),(0,u.jsx)(_M,{children:e.planName||e.planType||"Trial"}),(0,u.jsx)(_M,{children:e.lifecycleStage||"Trial"}),(0,u.jsx)(_M,{children:e.status||"\u2014"})]},t)}))]})]})}),(0,u.jsx)("div",{className:"text-[11px] text-slate-500 mt-3",children:"Combine this with campaign tools to automate nudges for trials near expiry instead of chasing them manually."})]}),(0,u.jsx)(lM,{businessId:f,onClose:()=>h(null),onUpdated:e=>{if(!e)return;const t=e.businessId||e.id;if(!t)return;o((n=>{let r=!1,o=n.map((n=>(n.businessId||n.id)===t?(r=!0,(0,b.A)((0,b.A)({},n),e)):n));const i=(e=>{const t=e.trialEndsOn||e.trialEndDate;if(!t)return!1;const n=new Date(t);if(Number.isNaN(n.getTime()))return!1;const r=new Date;r.setHours(0,0,0,0),n.setHours(0,0,0,0);const o=(n.getTime()-r.getTime())/864e5;return o>=0&&o<=AM})(e);return r&&!i&&(o=o.filter((e=>(e.businessId||e.id)!==t))),!r&&i&&(o=[...o,e]),o})),n((e=>{if(!e)return e;const t=(0,b.A)({},e);return null!=t.trialExpiringSoon&&(t.trialExpiringSoon=t.trialExpiringSoon),null!=t.TrialExpiringSoon&&(t.TrialExpiringSoon=t.TrialExpiringSoon),t}))}})]})}function kM(e){let{label:t,value:n,hint:r}=e;return(0,u.jsxs)("div",{className:"p-4 rounded-lg border border-slate-200 bg-white space-y-1",children:[(0,u.jsx)("div",{className:"text-[10px] uppercase tracking-[0.16em] text-slate-500",children:t}),(0,u.jsx)("div",{className:"text-lg font-semibold text-slate-900",children:null!==n&&void 0!==n?n:"\u2014"}),r&&(0,u.jsx)("div",{className:"text-xs text-slate-500 leading-snug",children:r})]})}function CM(e){let{children:t}=e;return(0,u.jsx)("th",{className:"px-4 py-2 text-left font-semibold whitespace-nowrap",children:t})}function _M(e){let{children:t,primary:n}=e;return(0,u.jsx)("td",{className:"px-4 py-2 whitespace-nowrap "+(n?"font-semibold text-slate-900":"text-slate-800"),children:t})}function PM(e){let{trials:t,expiring:n,lost:r,paid:o}=e;const i=[t,n,r,o].map((e=>"number"===typeof e&&e>0?e:0)),a=Math.max(...i,1),s=(e,t,n)=>{const r=t/a*72;let o="";switch(n){case"primary":o="bg-slate-900";break;case"warn":o="bg-amber-500";break;case"danger":o="bg-rose-500";break;case"success":o="bg-emerald-500";break;default:o="bg-slate-500"}return(0,u.jsxs)("div",{className:"flex flex-col items-center justify-end gap-1 flex-1",children:[(0,u.jsx)("div",{className:"".concat("w-7 rounded-t-md transition-all"," ").concat(o),style:{height:"".concat(r||4,"px")}}),(0,u.jsx)("div",{className:"text-[10px] font-semibold text-slate-900",children:t}),(0,u.jsx)("div",{className:"text-[9px] text-slate-500 text-center leading-tight",children:e})]},e)};return(0,u.jsxs)("div",{className:"flex items-end gap-4 mt-2 h-28",children:[s("Trials",t,"primary"),s("Expiring \u2264 ".concat(AM,"d"),n,"warn"),s("Expired (No Upgrade)",r,"danger"),s("On Paid Plan",o,"success")]})}function OM(e){const t=null==e?"":String(e);return/[",\n]/.test(t)?'"'.concat(t.replace(/"/g,'""'),'"'):t}const TM=[{key:"AtRisk",label:"At Risk"},{key:"NoUsagePostApproval",label:"No Usage Post-Approval"},{key:"Dormant",label:"Dormant"}],MM=100;function IM(){const[t,n]=(0,e.useState)("AtRisk"),[r,o]=(0,e.useState)([]),[i,a]=(0,e.useState)(1),[s,l]=(0,e.useState)(null),[d,p]=(0,e.useState)(!0),[f,h]=(0,e.useState)(""),[m,g]=(0,e.useState)("ALL"),[v,x]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{p(!0);const e=(await c.default.get("/admin/account-insights/by-stage",{params:{stage:t,page:i,pageSize:MM}})).data||{},n=Array.isArray(e.items)?e.items:Array.isArray(e.data)?e.data:Array.isArray(e)?e:[];o(n);const r="number"===typeof e.total?e.total:"number"===typeof e.totalCount?e.totalCount:null;l(r)}catch(oD){console.error("Failed to load risk cohort for ".concat(t),oD),o([]),l(null)}finally{p(!1)}})()}),[t,i]);const b=(0,e.useMemo)((()=>{let e=[...r];if(f.trim()){const t=f.trim().toLowerCase();e=e.filter((e=>{const n=(e.businessName||"").toLowerCase(),r=(e.businessId||"").toLowerCase(),o=(e.domain||"").toLowerCase(),i=(e.ownerEmail||"").toLowerCase();return n.includes(t)||r.includes(t)||o.includes(t)||i.includes(t)}))}return e=e.filter((e=>mM(e.lastActiveOn||e.createdAt,m))),e}),[r,f,m]),y="number"===typeof s&&s>=0,w=b.length?(i-1)*MM+1:0,j=(i-1)*MM+b.length;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(iM,{title:"Risk & Recovery Report",description:"Operational view of at-risk, no-usage, and dormant accounts. Use this as a live recovery queue for Customer Success.",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-3",children:[(0,u.jsx)("div",{className:"flex flex-wrap gap-2",children:TM.map((e=>(0,u.jsx)("button",{onClick:()=>{n(e.key),a(1),h("")},className:"px-3 py-1.5 rounded-full border text-xs transition-colors "+(t===e.key?"border-rose-600 bg-rose-600 text-white":"border-slate-300 text-slate-700 hover:bg-slate-50"),children:e.label},e.key)))}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("input",{value:f,onChange:e=>h(e.target.value),placeholder:"Search within ".concat(LM(t)," accounts"),className:"w-72 px-3 py-2 rounded border border-slate-300 bg-white text-sm text-slate-800 focus:outline-none focus:ring-1 focus:ring-slate-900"}),(0,u.jsx)(hM,{value:m,onChange:g}),(0,u.jsx)("button",{onClick:()=>{if(!b.length)return;const e=b.map((e=>[e.businessId,e.businessName,LM(t),e.lifecycleStage||t,e.planName||e.planType||"",e.lastActiveOn||"",e.status||"",e.note||e.reason||""].map(FM).join(","))),n=[["BusinessId","BusinessName","RiskType","LifecycleStage","Plan","LastActiveOn","Status","NoteOrReason"].join(","),...e].join("\n"),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download="risk-".concat(t.toLowerCase(),"-report.csv"),i.click(),URL.revokeObjectURL(o)},className:"px-3 py-2 rounded bg-slate-900 text-white text-xs font-semibold hover:bg-black",children:"Export CSV"})]})]}),(0,u.jsx)("div",{className:"overflow-auto rounded-lg border border-slate-200 bg-white",children:(0,u.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,u.jsx)("thead",{className:"bg-slate-50",children:(0,u.jsxs)("tr",{className:"text-[11px] text-slate-500 uppercase tracking-[0.14em]",children:[(0,u.jsx)(RM,{children:"Business"}),(0,u.jsx)(RM,{children:"Risk Type"}),(0,u.jsx)(RM,{children:"Lifecycle Stage"}),(0,u.jsx)(RM,{children:"Plan"}),(0,u.jsx)(RM,{children:"Last Active"}),(0,u.jsx)(RM,{children:"Status"}),(0,u.jsx)(RM,{children:"Note / Reason"})]})}),(0,u.jsxs)("tbody",{className:"text-sm text-slate-800",children:[d&&(0,u.jsx)("tr",{children:(0,u.jsxs)("td",{colSpan:7,className:"px-4 py-6 text-center text-slate-500",children:["Loading ",LM(t)," accounts\u2026"]})}),!d&&0===b.length&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:7,className:"px-4 py-6 text-center text-slate-500",children:"No accounts found in this cohort with current filters."})}),!d&&b.map((e=>(0,u.jsxs)("tr",{className:"border-t border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>x(e.businessId),children:[(0,u.jsx)(DM,{primary:!0,children:e.businessName||e.businessId||"\u2014"}),(0,u.jsx)(DM,{children:LM(t)}),(0,u.jsx)(DM,{children:e.lifecycleStage||t}),(0,u.jsx)(DM,{children:e.planName||e.planType||"\u2014"}),(0,u.jsx)(DM,{children:e.lastActiveOn||"\u2014"}),(0,u.jsx)(DM,{children:e.status||"\u2014"}),(0,u.jsx)(DM,{className:"max-w-xs truncate",children:e.note||e.reason||"\u2014"})]},e.businessId)))]})]})}),(0,u.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-600 mt-3",children:[(0,u.jsxs)("div",{children:["Showing ",w,"-",j||0,y&&" of ".concat(s)," in ",LM(t)]}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)("button",{disabled:1===i,onClick:()=>a((e=>Math.max(1,e-1))),className:"px-2 py-1 border border-slate-300 rounded disabled:opacity-40",children:"Prev"}),(0,u.jsx)("button",{disabled:y?i*MM>=s:r.length<MM,onClick:()=>a((e=>e+1)),className:"px-2 py-1 border border-slate-300 rounded disabled:opacity-40",children:"Next"})]})]}),(0,u.jsx)("div",{className:"text-[11px] text-slate-500 mt-3",children:"Prioritize outreach starting with At Risk, then No Usage Post-Approval, then long-term Dormant. Each row is a candidate for targeted playbooks."})]}),(0,u.jsx)(lM,{businessId:v,onClose:()=>x(null)})]})}function RM(e){let{children:t}=e;return(0,u.jsx)("th",{className:"px-4 py-2 text-left font-semibold whitespace-nowrap",children:t})}function DM(e){let{children:t,primary:n,className:r=""}=e;return(0,u.jsx)("td",{className:"px-4 py-2 whitespace-nowrap "+(n?"font-semibold text-slate-900":"text-slate-800")+" "+r,children:t})}function LM(e){switch(e){case"AtRisk":return"At Risk";case"NoUsagePostApproval":return"No Usage Post-Approval";case"Dormant":return"Dormant";default:return e}}function FM(e){const t=null==e?"":String(e);return/[",\n]/.test(t)?'"'.concat(t.replace(/"/g,'""'),'"'):t}function BM(){var t,n,r,o,a,s,l,d,p,f,h,m,g,v,x,b,y,w,j,N;const S=(0,i.Zp)(),[A,E]=(0,e.useState)(null),[k,C]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{try{const e=await c.default.get("/admin/account-insights/summary");E(e.data||null)}catch(oD){console.error("Failed to load reports overview summary",oD)}finally{C(!1)}})()}),[]);const _=A||{},P=null!==(t=null!==(n=_.totalBusinesses)&&void 0!==n?n:_.TotalBusinesses)&&void 0!==t?t:0,O=null!==(r=null!==(o=_.activeBusinesses)&&void 0!==o?o:_.ActiveBusinesses)&&void 0!==r?r:0,T=null!==(a=null!==(s=_.atRiskBusinesses)&&void 0!==s?s:_.AtRiskBusinesses)&&void 0!==a?a:0,M=null!==(l=null!==(d=_.dormantBusinesses)&&void 0!==d?d:_.DormantBusinesses)&&void 0!==l?l:0,I=null!==(p=null!==(f=_.noUsagePostApproval)&&void 0!==f?f:_.NoUsagePostApproval)&&void 0!==p?p:0,R=null!==(h=null!==(m=null!==(g=null!==(v=_.trialTotal)&&void 0!==v?v:_.TrialTotal)&&void 0!==g?g:_.trialPlan)&&void 0!==m?m:_.TrialPlan)&&void 0!==h?h:0,D=null!==(x=null!==(b=_.trialExpiringSoon)&&void 0!==b?b:_.TrialExpiringSoon)&&void 0!==x?x:0,L=null!==(y=null!==(w=_.trialExpiredNoUpgrade)&&void 0!==w?w:_.TrialExpiredNoUpgrade)&&void 0!==y?y:0,F=null!==(j=null!==(N=_.paidPlan)&&void 0!==N?N:_.PaidPlan)&&void 0!==j?j:0,B=R>0?(F/R*100).toFixed(1):"0.0";return(0,u.jsxs)(iM,{title:"Account Reports Overview",description:"Central hub for detailed account reports: ledger, lifecycle, trial performance, and risk cohorts.",children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,u.jsx)(zM,{label:"Total Accounts",value:P,hint:"All tracked businesses."}),(0,u.jsx)(zM,{label:"Active Accounts",value:O,hint:"Recently engaged or live."}),(0,u.jsx)(zM,{label:"At Risk + Dormant",value:T+M,hint:"Needs intervention.",highlight:!0}),(0,u.jsx)(zM,{label:"On Paid Plan",value:F,hint:"Converted customers."})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,u.jsx)(UM,{title:"Accounts Ledger",description:"Full row-level, exportable ledger of all accounts with lifecycle, plan, and activity.",primaryMetricLabel:"Total accounts",primaryMetricValue:P,onClick:()=>S("/app/admin/account-insights/account-reports/accounts-master")}),(0,u.jsx)(UM,{title:"Lifecycle Cohorts",description:"Accounts grouped by lifecycle stage to understand health across Active, At Risk, and Dormant.",primaryMetricLabel:"Active / At Risk / Dormant",primaryMetricValue:"".concat(O," / ").concat(T," / ").concat(M),onClick:()=>S("/app/admin/account-insights/account-reports/lifecycle")}),(0,u.jsx)(UM,{title:"Trial Performance",description:"Track trial volume, upcoming expiries, and approximate trial-to-paid conversion.",primaryMetricLabel:"Trials \u2022 Expiring \u2022 Lost",primaryMetricValue:"".concat(R," \u2022 ").concat(D," \u2022 ").concat(L),secondary:"".concat(B,"% approx. trial \u2192 paid"),onClick:()=>S("/app/admin/account-insights/account-reports/trials")}),(0,u.jsx)(UM,{title:"Risk & Recovery",description:"At-risk, no-usage, and dormant accounts as a focused queue for recovery and outreach.",primaryMetricLabel:"No-usage / At Risk / Dormant",primaryMetricValue:"".concat(I," / ").concat(T," / ").concat(M),highlight:!0,onClick:()=>S("/app/admin/account-insights/account-reports/risk")})]}),!k&&!A&&(0,u.jsx)("div",{className:"text-sm text-red-500 mt-3",children:"Unable to load summary. Reports are still accessible via the cards."}),(0,u.jsx)("div",{className:"text-xs text-slate-500 mt-4",children:"All reports use the existing Account Insights APIs and are designed for readable, exportable, operational analysis."})]})}function zM(e){let{label:t,value:n,hint:r,highlight:o}=e;return(0,u.jsxs)("div",{className:"p-4 rounded-lg border bg-white space-y-1 "+(o?"border-rose-300":"border-slate-200"),children:[(0,u.jsx)("div",{className:"text-[10px] uppercase tracking-[0.16em] text-slate-500",children:t}),(0,u.jsx)("div",{className:"text-lg font-semibold text-slate-900",children:null!==n&&void 0!==n?n:"\u2014"}),r&&(0,u.jsx)("div",{className:"text-xs text-slate-500 leading-snug",children:r})]})}function UM(e){let{title:t,description:n,primaryMetricLabel:r,primaryMetricValue:o,secondary:i,onClick:a,highlight:s}=e;return(0,u.jsxs)("div",{onClick:a,className:"group cursor-pointer p-4 rounded-lg border bg-white flex flex-col justify-between gap-3 transition hover:-translate-y-0.5 hover:shadow-md "+(s?"border-rose-200":"border-slate-200"),children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:t}),(0,u.jsx)("div",{className:"text-xs text-slate-600 leading-snug",children:n})]}),(0,u.jsxs)("div",{className:"flex items-baseline justify-between gap-4",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-[0.16em]",children:r}),(0,u.jsx)("div",{className:"text-base font-semibold text-slate-900",children:null!==o&&void 0!==o?o:"\u2014"}),i&&(0,u.jsx)("div",{className:"text-xs text-slate-500",children:i})]}),(0,u.jsx)("div",{className:"text-xs text-slate-600 group-hover:text-slate-900",children:"View report \u2192"})]})]})}const VM=(0,_.A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var WM=n(14459);const HM=(0,_.A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var qM=n(28006);const KM="https://api.xplorebyte.com/api";function GM(){const t=(0,i.Zp)(),n=localStorage.getItem("businessId"),[r,o]=(0,e.useState)({companyName:"",representativeName:"",phone:"",companyPhone:"",country:"",website:"",address:"",industry:"",logoUrl:""}),[s,l]=(0,e.useState)({}),[c,d]=(0,e.useState)(!1),p=[["Company Name","companyName","text",{required:!0,minLength:2,maxLength:150}],["Representative Name","representativeName","text",{required:!0,minLength:2,maxLength:100}],["Phone","phone","text",{required:!0,pattern:/^\d{1,10}$/,title:"Enter a valid phone number (up to 10 digits)"}],["Company Phone","companyPhone","text",{required:!0,pattern:/^\d{1,10}$/,title:"Enter a valid company phone number (up to 10 digits)"}],["Country","country","text",{required:!1,maxLength:100}],["Website","website","text",{required:!1,pattern:/^www\..*/,title:"Website should start with www."}],["Address","address","text",{required:!1,maxLength:250}],["Industry","industry","text",{required:!1,maxLength:100}],["Logo URL","logoUrl","text",{required:!1,pattern:/^(https?:\/\/)?([\w-]+\.)+[\w-]+.*$/,title:"Enter a valid URL"}]];(0,e.useEffect)((()=>{n&&fetch("".concat(KM,"/businesses/").concat(n)).then((e=>e.ok?e.json():Promise.reject("Failed to fetch profile"))).then((e=>{var t,n,r,i,a,s,l,c,d,u;o({companyName:null!==(t=null!==(n=e.companyName)&&void 0!==n?n:e.businessName)&&void 0!==t?t:"",representativeName:null!==(r=e.representativeName)&&void 0!==r?r:"",phone:null!==(i=e.phone)&&void 0!==i?i:"",companyPhone:null!==(a=e.companyPhone)&&void 0!==a?a:"",country:null!==(s=e.country)&&void 0!==s?s:"",website:null!==(l=e.website)&&void 0!==l?l:"",address:null!==(c=e.address)&&void 0!==c?c:"",industry:null!==(d=e.industry)&&void 0!==d?d:"",logoUrl:null!==(u=e.logoUrl)&&void 0!==u?u:""})})).catch((e=>{console.error("\u274c Fetch error:",e),a.oR.error("\u274c Failed to load profile.")}))}),[n]);const f=(e,t)=>{const n=p.find((t=>t[1]===e));if(!n)return null;const r=n[3];return r.required&&!String(t||"").trim()?"".concat(n[0]," is required."):r.minLength&&t.length<r.minLength?"".concat(n[0]," must be at least ").concat(r.minLength," characters."):r.maxLength&&t.length>r.maxLength?"".concat(n[0]," cannot exceed ").concat(r.maxLength," characters."):r.pattern&&String(t||"").length>0&&!r.pattern.test(t)?r.title||"".concat(n[0]," is invalid."):null},h=e=>{const{name:t,value:n}=e.target;("phone"!==t&&"companyPhone"!==t||!n||/^\d*$/.test(n))&&(o((e=>(0,b.A)((0,b.A)({},e),{},{[t]:n}))),l((e=>(0,b.A)((0,b.A)({},e),{},{[t]:f(t,n)}))))},m=Math.round(Object.values(r).filter((e=>String(e||"").trim().length>0)).length/Object.keys(r).length*100),g=[{title:"Business Identity",description:"Define your company and primary contact.",fields:[{name:"companyName",icon:VM},{name:"representativeName",icon:WM.A},{name:"industry",icon:HM}]},{title:"Contact & Location",description:"Where can customers and partners find you?",fields:[{name:"phone",icon:ge.A},{name:"companyPhone",icon:ge.A},{name:"country",icon:me},{name:"address",icon:qM.A},{name:"website",icon:NA}]},{title:"Branding",description:"Customize your presence with a logo.",fields:[{name:"logoUrl",icon:wS}]}];return(0,u.jsxs)("div",{className:"bg-[#f5f6f7] min-h-[calc(100vh-80px)] px-4 py-4 md:px-6 md:py-6 font-inter",children:[(0,u.jsx)("div",{className:"max-w-5xl mx-auto mb-4",children:(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,u.jsx)("div",{className:"p-1.5 bg-emerald-100 rounded-lg text-emerald-700",children:(0,u.jsx)(VM,{size:20})}),(0,u.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 tracking-tight",children:"Profile & Business Details"})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 max-w-2xl leading-relaxed",children:"Complete your business profile so messaging, campaigns, and analytics can use your latest company information."})]}),(0,u.jsxs)("div",{className:"w-full md:w-56 space-y-1.5",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between text-[10px] font-bold uppercase tracking-wider text-slate-400",children:[(0,u.jsx)("span",{children:"Setup Progress"}),(0,u.jsxs)("span",{className:"text-emerald-600",children:[m,"%"]})]}),(0,u.jsx)("div",{className:"h-1.5 w-full bg-slate-200 rounded-full overflow-hidden shadow-inner",children:(0,u.jsx)("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-500 ease-out",style:{width:"".concat(m,"%")}})})]})]})}),(0,u.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,u.jsx)("div",{className:"relative rounded-2xl bg-white border border-slate-200 shadow-lg shadow-slate-200/40 overflow-hidden",children:(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault();const o=(()=>{const e={};return p.forEach((t=>{let[n,o]=t;const i=f(o,r[o]);i&&(e[o]=i)})),e})();if(l(o),Object.keys(o).length>0)return void a.oR.error("Please fix validation errors before submitting.");d(!0);const i=Object.fromEntries(Object.entries(r).map((e=>{let[t,n]=e;return[t,"string"===typeof n?n.trim():n]})));fetch("".concat(KM,"/businesses/profile-completion/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((e=>e.ok?e.json():Promise.reject("Update failed"))).then((()=>{a.oR.success("\u2705 Profile updated successfully!"),setTimeout((()=>t("/app/crm")),800)})).catch((e=>{console.error("\u274c Submit error:",e),a.oR.error("\u274c Failed to update profile.")})).finally((()=>d(!1)))},className:"p-5 md:p-7",noValidate:!0,children:[(0,u.jsx)("div",{className:"space-y-8",children:g.map(((e,t)=>(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsxs)("h2",{className:"text-base font-bold text-slate-800 flex items-center gap-2",children:[e.title,(0,u.jsx)("div",{className:"h-px flex-1 bg-slate-100 ml-2"})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500",children:e.description})]}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3.5",children:e.fields.map((e=>{let{name:t,icon:n}=e;const o=(e=>p.find((t=>t[1]===e)))(t);if(!o)return null;const[i,,a]=o;return(0,u.jsxs)("div",{className:"relative group",children:[(0,u.jsx)("label",{htmlFor:t,className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 block mb-1.5 transition-colors group-focus-within:text-emerald-600",children:i}),(0,u.jsxs)("div",{className:"relative flex items-center",children:[(0,u.jsx)("div",{className:"absolute left-3 text-slate-400 pointer-events-none transition-colors group-focus-within:text-emerald-500",children:(0,u.jsx)(n,{size:14})}),(0,u.jsx)("input",{id:t,type:a,name:t,value:r[t],onChange:h,placeholder:"Enter ".concat(i.toLowerCase()),className:"w-full pl-9 pr-4 py-1.5 rounded-lg text-sm border bg-white shadow-sm transition-all focus:outline-none focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 ".concat(s[t]?"border-red-400 bg-red-50/10":"border-slate-200"),"aria-invalid":s[t]?"true":"false","aria-describedby":"".concat(t,"-error")}),"logoUrl"===t&&r.logoUrl&&(0,u.jsx)("div",{className:"absolute right-2 p-1 bg-white border rounded-lg shadow-sm",children:(0,u.jsx)("img",{src:r.logoUrl,alt:"Preview",className:"w-6 h-6 object-contain rounded",onError:e=>{e.target.src="https://placehold.co/100x100?text=Logo"}})})]}),s[t]&&(0,u.jsxs)("p",{className:"text-red-500 text-[11px] font-medium mt-1.5 flex items-center gap-1",id:"".concat(t,"-error"),role:"alert",children:[(0,u.jsx)("span",{className:"w-1 h-1 rounded-full bg-red-500"}),s[t]]})]},t)}))})]},t)))}),(0,u.jsxs)("div",{className:"mt-8 pt-5 border-t border-slate-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-slate-50 rounded-xl border border-slate-100",children:[(0,u.jsx)("div",{className:"p-1.5 bg-white rounded-lg border border-slate-200 shadow-sm text-emerald-600",children:(0,u.jsx)(pt.A,{size:16})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-700",children:"Recommended setup step"}),(0,u.jsx)("p",{className:"text-[9px] text-slate-400",children:"Updates sync across your entire business workspace."})]})]}),(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:[(0,u.jsxs)("p",{className:"text-[10px] text-slate-400 text-center md:text-right italic leading-tight",children:["Changes take effect immediately ",(0,u.jsx)("br",{}),"upon successful save."]}),(0,u.jsx)("button",{type:"submit",disabled:c,className:"relative overflow-hidden group w-full sm:w-auto inline-flex items-center justify-center px-6 py-2 rounded-lg text-sm font-bold text-white shadow-md shadow-emerald-500/10 transition-all ".concat(c?"bg-slate-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 active:scale-95"),children:(0,u.jsx)("span",{className:"flex items-center gap-2",children:c?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving\u2026"]}):(0,u.jsx)(u.Fragment,{children:"Save Changes"})})})]})]})]})})})]})}const YM=(0,_.A)("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),XM=[{id:"basic",name:"Basic",priceMonthly:0,priceYearly:0,features:["Send WhatsApp messages","Manage contacts & tags","Access basic CRM"],icon:"\u26a1"},{id:"smart",name:"Smart",priceMonthly:399,priceYearly:3999,features:["Campaign management","Product catalog sharing","Catalog analytics","Reminder automation"],tag:"popular",icon:"\ud83d\udc51"},{id:"advanced",name:"Advanced",priceMonthly:899,priceYearly:8999,features:["CRM insights","Catalog CTA heatmaps","Team collaboration tools","Priority support"],tag:"recommended",icon:"\ud83d\udc51"}];function $M(){const[t,n]=(0,e.useState)("yearly"),{plan:r}=_e();return(0,u.jsxs)("div",{className:"p-8",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-purple-700 flex items-center gap-2",children:"\ud83d\ude80 Upgrade Your Plan"}),(0,u.jsx)("p",{className:"text-gray-500 mt-1",children:"Unlock premium features to grow your business faster."}),(0,u.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,u.jsx)("button",{className:"px-4 py-2 rounded-full text-sm font-medium ".concat("monthly"===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"),onClick:()=>n("monthly"),children:"Monthly Billing"}),(0,u.jsxs)("button",{className:"px-4 py-2 rounded-full text-sm font-medium ".concat("yearly"===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"),onClick:()=>n("yearly"),children:["Yearly Billing \ud83c\udf81"," ",(0,u.jsx)("span",{className:"ml-1 text-yellow-400",children:"Save 2 Months"})]})]}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:XM.map((e=>{const n=(e=>"monthly"===t?e.priceMonthly:e.priceYearly)(e),o=r===e.id,i="yearly"===t,a="basic"!==e.id&&i,s="recommended"===e.tag,l="popular"===e.tag;return(0,u.jsxs)("div",{className:"relative bg-white border rounded-xl p-6 shadow-md flex flex-col ".concat(s?"border-yellow-500 bg-gradient-to-br from-yellow-50 to-white":""),children:[l&&(0,u.jsxs)("span",{className:"absolute top-3 right-3 bg-purple-600 text-white text-xs font-semibold px-2 py-0.5 rounded-full shadow",children:[(0,u.jsx)(YM,{size:12,className:"inline mr-1"}),"Most Popular"]}),s&&(0,u.jsxs)("span",{className:"absolute top-3 right-3 bg-yellow-500 text-white text-xs font-semibold px-2 py-0.5 rounded-full shadow",children:[(0,u.jsx)(SA,{size:12,className:"inline mr-1"}),"Recommended"]}),(0,u.jsxs)("div",{className:"text-2xl font-bold text-purple-700 flex items-center gap-2 mb-2",children:[(0,u.jsx)("span",{children:e.icon})," ",e.name]}),(0,u.jsx)("div",{className:"text-3xl font-extrabold mt-2 mb-1",children:0===e.priceMonthly&&0===e.priceYearly?(0,u.jsx)(u.Fragment,{children:"Free"}):(0,u.jsxs)(u.Fragment,{children:["\u20b9",n,(0,u.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:[" ","/","monthly"===t?"mo":"yr"]})]})}),a&&(0,u.jsxs)("div",{className:"text-xs text-green-600 font-semibold mt-1",children:["Save \u20b9",12*e.priceMonthly-e.priceYearly," per year!"]}),(0,u.jsx)("ul",{className:"text-sm mt-4 space-y-2",children:e.features.map(((e,t)=>(0,u.jsxs)("li",{className:"flex items-center gap-2 text-gray-700",children:[(0,u.jsx)(Le,{className:"text-green-500",size:16}),e]},t)))}),(0,u.jsx)("button",{disabled:o,className:"w-full mt-auto px-4 py-2 text-sm font-medium rounded-lg transition mt-6 ".concat(o?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"),children:o?"Current Plan":"Choose Plan"})]},e.id)}))})]})}const ZM=function(){const[t,n]=(0,e.useState)("Your order {{1}} is out for delivery!\nIt should arrive by {{2}}."),[r,o]=(0,e.useState)(["",""]),i=((e,t)=>e?e.replace(/{{(\d+)}}/g,((e,n)=>{const r=parseInt(n,10)-1;return t[r]||"{{".concat(n,"}}")})):"")(t,r);return(0,u.jsxs)("div",{className:"max-w-xl mx-auto p-6 space-y-4",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-purple-700",children:"\ud83e\uddea Parameter Preview Test"}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"font-medium",children:"Template Body"}),(0,u.jsx)("textarea",{className:"w-full border rounded p-2",rows:4,value:t,onChange:e=>{n(e.target.value);const t=(e.target.value.match(/{{\d+}}/g)||[]).length,i=[...r];for(;i.length<t;)i.push("");o(i.slice(0,t))}})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"font-medium",children:"Parameter Inputs"}),r.map(((e,t)=>(0,u.jsx)("input",{type:"text",placeholder:"Param ".concat(t+1),value:e,onChange:e=>((e,t)=>{const n=[...r];n[e]=t,o(n)})(t,e.target.value),className:"w-full border rounded px-3 py-2"},t)))]}),(0,u.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,u.jsx)("p",{className:"font-semibold mb-2",children:"Live Preview"}),(0,u.jsx)("p",{className:"whitespace-pre-wrap",children:i})]})]})};function JM(){return(0,u.jsxs)("div",{className:"p-8 text-center",children:[(0,u.jsx)("h1",{className:"text-3xl font-semibold mb-2",children:"403 \u2014 No Access"}),(0,u.jsx)("p",{className:"opacity-80",children:"You\u2019re signed in, but your role/plan lacks permission for this area."}),(0,u.jsx)("a",{href:"/app",className:"inline-block mt-6 underline",children:"Go to Dashboard"})]})}const QM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function eI(){const t=(0,i.Zp)(),{role:n,hasAllAccess:r}=(0,l.h)(),o=String(n||"").toLowerCase(),s=r||"superadmin"===o,[d,p]=(0,e.useState)(""),[f,h]=(0,e.useState)(!1),[m,g]=(0,e.useState)(!1),[v,x]=(0,e.useState)(!1),[b,y]=(0,e.useState)(null),[w,j]=(0,e.useState)(null),[N,S]=(0,e.useState)(!1),[A,E]=(0,e.useState)("");if(!s)return(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsxs)("button",{onClick:()=>t("/app/admin"),className:"inline-flex items-center gap-2 text-sm text-purple-600 mb-4",children:[(0,u.jsx)(V.A,{size:16}),"Back to Admin"]}),(0,u.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[(0,u.jsx)("div",{className:"font-semibold mb-1",children:"Restricted"}),(0,u.jsx)("div",{className:"text-sm",children:"Meta ESU debug tools are only available to superadmin users."})]})]});const k=()=>{const e=d.trim();return QM.test(e)?e:(a.oR.error("Enter a valid BusinessId (GUID) to continue."),null)},C=async e=>{const t=e||k();if(t)try{var n;h(!0),y(null);const e=await c.default.get("/esu/facebook/debug/token",{params:{businessId:t}});var r;if(y((null===e||void 0===e?void 0:e.data)||null),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.ok)a.oR.success("Token info loaded.");else a.oR.info((null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"No valid token found.")}catch(oD){var o,i;a.oR.error((null===oD||void 0===oD||null===(o=oD.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||"Failed to load token info for this account.")}finally{h(!1)}},_=async e=>{const t=e||k();if(t)try{g(!0),j(null);const e=await c.default.get("/esu/facebook/debug/flags",{params:{businessId:t}});j((null===e||void 0===e?void 0:e.data)||null),a.oR.success("Flags loaded.")}catch(oD){var n,r;a.oR.error((null===oD||void 0===oD||null===(n=oD.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to load ESU flags for this account.")}finally{g(!1)}};return(0,u.jsxs)("div",{className:"p-6 max-w-3xl mx-auto",children:[(0,u.jsxs)("button",{onClick:()=>t("/app/admin"),className:"inline-flex items-center gap-2 text-sm text-purple-600 mb-4",children:[(0,u.jsx)(V.A,{size:16}),"Back to Admin"]}),(0,u.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,u.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-full p-2",children:(0,u.jsx)(J.A,{className:"text-amber-500",size:22})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-xl font-semibold text-slate-900",children:"Meta ESU Debug Tools"}),(0,u.jsxs)("p",{className:"text-sm text-slate-600",children:["Superadmin-only utilities to inspect ESU tokens/flags and run"," ",(0,u.jsx)("strong",{children:"local-only deauthorize"})," for a specific account."]})]})]}),(0,u.jsx)("div",{className:"mt-4 mb-6 p-4 rounded-xl bg-amber-50 border border-amber-200 text-xs text-amber-900",children:(0,u.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,u.jsxs)("li",{children:["Uses existing ",(0,u.jsx)("code",{children:"/api/esu/facebook/debug/*"})," endpoints."]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Deauthorize"})," clears ESU flags & tokens in our DB only. It does ",(0,u.jsx)("em",{children:"not"})," call Meta's"," ",(0,u.jsx)("code",{children:"/me/permissions"}),"."]}),(0,u.jsx)("li",{children:"Use for local/staging debugging or targeted cleanup by superadmins/ops."})]})}),(0,u.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-4 mb-6 shadow-sm",children:[(0,u.jsx)("label",{className:"block text-xs text-slate-600 mb-1",children:"Target Account BusinessId (GUID)"}),(0,u.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),placeholder:"e.g. 12345678-90ab-cdef-1234-567890abcdef",className:"w-full px-3 py-2 border border-slate-300 rounded-md text-sm font-mono"}),(0,u.jsx)("p",{className:"text-[10px] text-slate-500 mt-1",children:"This should be the same BusinessId used in ESU / WhatsApp settings."}),(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>C(),disabled:f,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md bg-sky-600 text-white text-xs font-semibold disabled:opacity-60",children:[(0,u.jsx)(ct.A,{size:14}),f?"Loading token\u2026":"Load Token Preview"]}),(0,u.jsxs)("button",{type:"button",onClick:()=>_(),disabled:m,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md bg-indigo-600 text-white text-xs font-semibold disabled:opacity-60",children:[(0,u.jsx)(ct.A,{size:14}),m?"Loading flags\u2026":"Load ESU Flags"]}),(0,u.jsxs)("button",{type:"button",onClick:()=>{const e=k();e&&(E(e),S(!0))},disabled:v,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md bg-amber-700 text-white text-xs font-semibold disabled:opacity-60",children:[(0,u.jsx)(hS.A,{size:14}),v?"Deauthorizing\u2026":"Deauthorize (Local Only)"]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3 text-xs",children:[(0,u.jsx)("div",{className:"font-semibold text-slate-700 mb-1",children:"Token Info"}),(0,u.jsx)("pre",{className:"whitespace-pre-wrap break-all text-[10px] text-slate-700",children:b?JSON.stringify(b,null,2):"No data loaded."})]}),(0,u.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3 text-xs",children:[(0,u.jsx)("div",{className:"font-semibold text-slate-700 mb-1",children:"ESU Flags"}),(0,u.jsx)("pre",{className:"whitespace-pre-wrap break-all text-[10px] text-slate-700",children:w?JSON.stringify(w,null,2):"No data loaded."})]})]}),N&&(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 p-5 border border-amber-200",children:[(0,u.jsx)("h2",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Deauthorize ESU locally for this account?"}),(0,u.jsxs)("p",{className:"text-xs text-slate-700 mb-2",children:[(0,u.jsx)("span",{className:"font-semibold",children:"BusinessId:"})," ",(0,u.jsx)("span",{className:"font-mono break-all",children:A})]}),(0,u.jsxs)("p",{className:"text-[11px] text-amber-800 mb-3",children:["This will clear ESU flags and stored tokens in"," ",(0,u.jsx)("span",{className:"font-semibold",children:"our DB only"})," for this account. It will ",(0,u.jsx)("span",{className:"font-semibold",children:"not"})," call Meta's ",(0,u.jsx)("code",{className:"text-[10px]",children:"/me/permissions"})," ","or revoke anything remotely. Use for local/staging debugging or targeted cleanup by superadmins/ops."]}),(0,u.jsxs)("div",{className:"flex justify-end gap-2 mt-3",children:[(0,u.jsx)("button",{type:"button",onClick:()=>{v||(S(!1),E(""))},className:"px-3 py-1.5 rounded-md text-xs border border-slate-300 text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:v,children:"Cancel"}),(0,u.jsx)("button",{type:"button",onClick:async()=>{if(A)try{var e;x(!0);const n=await c.default.post("/esu/facebook/debug/deauthorize",null,{params:{businessId:A}});var t;if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.ok)a.oR.success("Local ESU flags/tokens cleared for account ".concat(A,"."));else a.oR.info((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Deauthorize completed.");await Promise.all([C(A),_(A)])}catch(oD){var n,r;a.oR.error((null===oD||void 0===oD||null===(n=oD.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to deauthorize ESU locally for this account.")}finally{x(!1),S(!1),E("")}else S(!1)},disabled:v,className:"px-3 py-1.5 rounded-md text-xs bg-amber-700 text-white font-semibold hover:bg-amber-800 disabled:opacity-60",children:v?"Deauthorizing\u2026":"Yes, Deauthorize Locally"})]})]})})]})}var tI=n(72450);function nI(t){let{options:n,value:r,onChange:o,label:i="",placeholder:a="All",className:s=""}=t;const[l,c]=(0,e.useState)(!1),[d,p]=(0,e.useState)((()=>new Set(r||[]))),f=(0,e.useRef)(null),h=(0,e.useRef)(null);(0,e.useEffect)((()=>p(new Set(r||[]))),[r]),(0,e.useEffect)((()=>{const e=e=>{var t;null!==(t=f.current)&&void 0!==t&&t.contains(e.target)||c(!1)},t=e=>"Escape"===e.key&&c(!1);return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}}),[]);const m=(0,e.useMemo)((()=>{if(!r||0===r.length)return a;if(r.length===n.length)return"All";if(r.length<=2){const e=new Map(n.map((e=>[e.value,e.label])));return r.map((t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:t})).join(", ")}return"".concat(r.length," selected")}),[r,n,a]);return(0,u.jsxs)("div",{ref:f,className:"relative inline-block w-full ".concat(s),children:[i?(0,u.jsx)("label",{className:"text-sm text-gray-600 mb-1 block",children:i}):null,(0,u.jsxs)("button",{ref:h,type:"button",onClick:()=>c((e=>!e)),className:"w-full border px-3 py-2 rounded text-left flex items-center justify-between hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-300","aria-haspopup":"listbox","aria-expanded":l,children:[(0,u.jsx)("span",{className:"truncate",children:m}),(0,u.jsx)("span",{className:"ml-2 text-gray-500",children:"\u25be"})]}),l&&(0,u.jsxs)("div",{className:"absolute left-0 right-0 mt-1 bg-white border rounded-md shadow-lg z-30",role:"listbox",children:[(0,u.jsxs)("div",{className:"max-h-56 overflow-auto p-2",children:[0===n.length&&(0,u.jsx)("div",{className:"text-sm text-gray-500 py-1 px-1",children:"No options"}),n.map((e=>{const t=d.has(e.value);return(0,u.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer px-1 py-1",children:[(0,u.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",checked:t,onChange:()=>(e=>{const t=new Set(d);t.has(e)?t.delete(e):t.add(e),p(t)})(e.value)}),(0,u.jsx)("span",{className:"text-gray-800 text-sm",children:e.label})]},e.value)}))]}),(0,u.jsxs)("div",{className:"flex items-center justify-between border-t px-2 py-2 bg-gray-50 rounded-b-md",children:[(0,u.jsx)("button",{type:"button",className:"text-sm text-gray-600 hover:text-gray-800",onClick:()=>p(new Set),children:"Clear"}),(0,u.jsxs)("div",{className:"space-x-2",children:[(0,u.jsx)("button",{type:"button",className:"text-sm text-gray-600 hover:text-gray-800",onClick:()=>p(new Set(n.map((e=>e.value)))),children:"Select all"}),(0,u.jsx)("button",{type:"button",className:"bg-gray-900 text-white text-sm px-3 py-1 rounded hover:bg-black",onClick:()=>{o(Array.from(d)),c(!1)},children:"Done"})]})]})]})]})}const rI=["Queued","Sent","Delivered","Read","Failed"],oI=[{key:"today",label:"Today"},{key:"yesterday",label:"Yesterday"},{key:"last7",label:"Last 7 days"},{key:"last30",label:"Last 30 days"},{key:"custom",label:"Custom\u2026"}],iI=e=>(e||[]).map((e=>({label:e,value:e})));function aI(t){let{value:n}=t;const r=n||"",o=r.length>23?"".concat(r.slice(0,23),"\u2026"):r,[i,a]=(0,e.useState)(!1);return(0,u.jsxs)("div",{className:"relative group inline-block align-middle",children:[(0,u.jsx)("span",{className:"inline-block max-w-[220px] truncate font-mono text-gray-800",children:o||"-"}),r&&(0,u.jsxs)("div",{className:"\r pointer-events-auto\r invisible opacity-0 translate-y-1\r group-hover:visible group-hover:opacity-100 group-hover:translate-y-0\r group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-0\r transition-opacity transition-transform\r absolute left-0 mt-1 z-30\r min-w-[320px] max-w-[560px]\r bg-white border rounded shadow px-3 py-2\r ",role:"tooltip",children:[(0,u.jsxs)("div",{className:"flex items-start gap-2",children:[(0,u.jsx)("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(r),a(!0),setTimeout((()=>a(!1)),1200)}catch(e){}},className:"shrink-0 text-xs px-2 py-0.5 rounded border hover:bg-gray-50",title:"Copy Message Id",children:"Copy"}),(0,u.jsx)("code",{className:"text-xs font-mono leading-snug break-all text-gray-900",children:r})]}),i&&(0,u.jsx)("div",{className:"mt-1 text-[11px] text-emerald-600",children:"Copied"})]})]})}function sI(){var t,n,r,i,s,l;const[d,p]=(0,e.useState)([]),[f,h]=(0,e.useState)(!0),[m,g]=(0,e.useState)(0),[v,x]=(0,e.useState)(0),[b,y]=(0,e.useState)(""),[w,j]=(0,e.useState)("last7"),[N,S]=(0,e.useState)(""),[A,E]=(0,e.useState)(""),[k,C]=(0,e.useState)([]),[_,P]=(0,e.useState)([]),[O,T]=(0,e.useState)([]),[M,I]=(0,e.useState)([]),[R,D]=(0,e.useState)([]),[L,F]=(0,e.useState)(1),[B,z]=(0,e.useState)(25),[U,V]=(0,e.useState)("SentAt"),[W,H]=(0,e.useState)("desc"),q=(0,e.useMemo)((()=>{const e=new Date,t=new Date;if("today"===w)t.setHours(0,0,0,0);else if("yesterday"===w)t.setDate(t.getDate()-1),t.setHours(0,0,0,0),e.setDate(e.getDate()-1),e.setHours(23,59,59,999);else if("last7"===w)t.setDate(t.getDate()-6),t.setHours(0,0,0,0);else if("last30"===w)t.setDate(t.getDate()-29),t.setHours(0,0,0,0);else if("custom"===w&&N&&A)return{fromUtc:new Date(N),toUtc:new Date(A)};return{fromUtc:t,toUtc:e}}),[w,N,A]),K="".concat(null!==(t=null===(n=q.fromUtc)||void 0===n||null===(r=n.toISOString)||void 0===r?void 0:r.call(n))&&void 0!==t?t:"","|").concat(null!==(i=null===(s=q.toUtc)||void 0===s||null===(l=s.toISOString)||void 0===l?void 0:l.call(s))&&void 0!==i?i:""),G=(0,e.useCallback)((async()=>{try{const{data:e}=await c.default.get("/report/message-logs/facets");null!==e&&void 0!==e&&e.senderIds&&I(iI(e.senderIds)),null!==e&&void 0!==e&&e.wabaIds&&D(iI(e.wabaIds))}catch(e){}}),[]),Y=(0,e.useCallback)((async()=>{var e,t,n,r;h(!0);const o={search:b||void 0,statuses:k.length?k:void 0,senderIds:_.length?_:void 0,wabaIds:O.length?O:void 0,fromUtc:null===(e=q.fromUtc)||void 0===e||null===(t=e.toISOString)||void 0===t?void 0:t.call(e),toUtc:null===(n=q.toUtc)||void 0===n||null===(r=n.toISOString)||void 0===r?void 0:r.call(n),sortBy:U,sortDir:W,page:L,pageSize:B};try{var i,s,l;const{data:e}=await c.default.post("/report/message-logs/search",o),t=e.items||[];p(t);const n="number"===typeof e.totalPages?e.totalPages:Math.ceil((null!==(i=e.totalCount)&&void 0!==i?i:0)/(null!==(s=e.pageSize)&&void 0!==s?s:B));g(Number.isFinite(n)?n:0),x(null!==(l=e.totalCount)&&void 0!==l?l:t?t.length:0);const r=function(e){const t=new Set,n=new Set;for(const c of e||[]){var r,o,i,a,s;c.senderId&&t.add(String(c.senderId).trim());const e=null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=c.wabaId)&&void 0!==s?s:c.wabaID)&&void 0!==a?a:c.metaWabaId)&&void 0!==i?i:c.businessWabaId)&&void 0!==o?o:c.waba_id)&&void 0!==r?r:null;e&&n.add(String(e).trim())}const l=e=>Array.from(e).filter(Boolean).sort(((e,t)=>String(e).localeCompare(String(t)))).map((e=>({label:e,value:e})));return{senderOptions:l(t),wabaOptions:l(n)}}(t);r.senderOptions.length&&I((e=>{const t=new Set(e.map((e=>e.value))),n=[...e];return r.senderOptions.forEach((e=>{t.has(e.value)||n.push(e)})),n.sort(((e,t)=>e.label.localeCompare(t.label)))})),r.wabaOptions.length&&D((e=>{const t=new Set(e.map((e=>e.value))),n=[...e];return r.wabaOptions.forEach((e=>{t.has(e.value)||n.push(e)})),n.sort(((e,t)=>e.label.localeCompare(t.label)))}))}catch(d){a.oR.error("\u274c Failed to load message logs"),p([]),g(0),x(0)}finally{h(!1)}}),[b,k,_,O,K,U,W,L,B]);(0,e.useEffect)((()=>{G()}),[G]),(0,e.useEffect)((()=>{const e=setTimeout(Y,250);return()=>clearTimeout(e)}),[Y]);const X=()=>{var e,t,n,r;return{search:b||void 0,statuses:k.length?k:void 0,senderIds:_.length?_:void 0,wabaIds:O.length?O:void 0,fromUtc:null===(e=q.fromUtc)||void 0===e||null===(t=e.toISOString)||void 0===t?void 0:t.call(e),toUtc:null===(n=q.toUtc)||void 0===n||null===(r=n.toISOString)||void 0===r?void 0:r.call(n),sortBy:U,sortDir:W}},$=e=>{const t=e=>"string"===typeof e?e.trim():e,n=t(null===e||void 0===e?void 0:e.contactPhone);if(n&&"-"!==n&&"n/a"!==n.toLowerCase())return n;return t(null===e||void 0===e?void 0:e.recipientNumber)||t(null===e||void 0===e?void 0:e.to)||""};return(0,u.jsxs)("div",{className:"p-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-black",children:"\ud83d\udcca Message Send Logs "}),(0,u.jsxs)("div",{className:"space-x-2",children:[(0,u.jsx)("button",{onClick:async()=>{try{const e=await c.default.post("/report/message-logs/export/csv",X(),{responseType:"blob"});(0,tI.saveAs)(e.data,"MessageLogs.csv")}catch(e){const t=[["S.No","Contacts","Sender Id","Status","Campaign","Message","MessageId","SentAt","Error"],...d.map(((e,t)=>[t+1,e.recipientNumber||"",e.senderId||"",e.status||"",e.campaignName||e.campaignId||"",(e.messageContent||"").replace(/\r?\n/g," ").slice(0,500),e.providerMessageId||"",e.sentAt?new Date(e.sentAt).toLocaleString():new Date(e.createdAt).toLocaleString(),(e.errorMessage||"").replace(/\r?\n/g," ").slice(0,500)]))],n=new Blob([t.map((e=>e.join(","))).join("\n")],{type:"text/csv"});(0,tI.saveAs)(n,"MessageLogs.csv")}},className:"bg-emerald-600 text-white text-sm px-3 py-1 rounded hover:bg-emerald-700",children:"CSV"}),(0,u.jsx)("button",{onClick:async()=>{try{const e=await c.default.post("/report/message-logs/export/xlsx",X(),{responseType:"blob"});(0,tI.saveAs)(e.data,"MessageLogs.xlsx")}catch(e){a.oR.error("XLSX export not available")}},className:"bg-emerald-700 text-white text-sm px-3 py-1 rounded hover:bg-emerald-800",children:"Excel"}),(0,u.jsxs)(o.N_,{to:"/app/campaigns/template-campaigns-list",className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50 transition",children:[(0,u.jsx)("span",{className:"text-lg",children:"\u2190"})," Back to Campaigns"]})]})]}),(0,u.jsxs)("div",{className:"grid lg:grid-cols-12 md:grid-cols-8 grid-cols-1 gap-4 mb-4",children:[(0,u.jsx)("div",{className:"lg:col-span-2 md:col-span-4 col-span-1 relative",children:(0,u.jsx)(nI,{label:"WABA Id",options:R,value:O,onChange:e=>{T(e),F(1)},placeholder:"All"})}),(0,u.jsx)("div",{className:"lg:col-span-2 md:col-span-4 col-span-1 relative",children:(0,u.jsx)(nI,{label:"Sender Id",options:M,value:_,onChange:e=>{P(e),F(1)},placeholder:"All"})}),(0,u.jsx)("div",{className:"lg:col-span-2 md:col-span-4 col-span-1 relative",children:(0,u.jsx)(nI,{label:"Status",options:iI(rI),value:k,onChange:e=>{C(e),F(1)},placeholder:"All"})}),(0,u.jsxs)("div",{className:"lg:col-span-3 md:col-span-4 col-span-1",children:[(0,u.jsx)("label",{className:"text-sm text-gray-600 mb-1 block",children:"Search"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("input",{className:"w-full border px-3 py-2 rounded pr-8",placeholder:"Search across all fields",value:b,onChange:e=>{y(e.target.value),F(1)}}),(0,u.jsx)("span",{className:"absolute right-2 top-2.5 text-gray-400",children:"\u2315"})]})]}),(0,u.jsxs)("div",{className:"lg:col-span-3 md:col-span-4 col-span-1",children:[(0,u.jsx)("label",{className:"text-sm text-gray-600 mb-1 block",children:"Date range"}),(0,u.jsx)("select",{className:"w-full border px-3 py-2 rounded",value:w,onChange:e=>{j(e.target.value),F(1)},children:oI.map((e=>(0,u.jsx)("option",{value:e.key,children:e.label},e.key)))})]}),"custom"===w&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"lg:col-span-3 md:col-span-4 col-span-1",children:[(0,u.jsx)("label",{className:"text-sm text-gray-600 mb-1 block",children:"From"}),(0,u.jsx)("input",{type:"datetime-local",className:"w-full border px-3 py-2 rounded",value:N,onChange:e=>{S(e.target.value),F(1)}})]}),(0,u.jsxs)("div",{className:"lg:col-span-3 md:col-span-4 col-span-1",children:[(0,u.jsx)("label",{className:"text-sm text-gray-600 mb-1 block",children:"To"}),(0,u.jsx)("input",{type:"datetime-local",className:"w-full border px-3 py-2 rounded",value:A,onChange:e=>{E(e.target.value),F(1)}})]})]})]}),(0,u.jsxs)("div",{className:"mb-3 text-sm text-gray-500",children:["Showing ",d.length," of ",v," logs"]}),(0,u.jsx)("div",{className:"overflow-x-auto bg-white shadow rounded",children:(0,u.jsxs)("table",{className:"w-full text-sm",children:[(0,u.jsx)("thead",{className:"bg-gray-100 sticky top-0 text-left",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"p-2 whitespace-nowrap",children:"S.No"}),[["Recipient","Contacts"],["SenderId","Sender Id"],["Status","Status"],["CampaignName","Campaign"],["Message","Message"],["MessageId","Message Id"],["SentAt","Sent At"],["Error","Error"]].map((e=>{let[t,n]=e;return(0,u.jsxs)("th",{className:"p-2 cursor-pointer select-none whitespace-nowrap",onClick:()=>{return U===(e="Message"===t?"MessageType":t)?H((e=>"asc"===e?"desc":"asc")):(V(e),H("desc")),void F(1);var e},children:[n," ",U===t?"asc"===W?"\u25b2":"\u25bc":""]},t)}))]})}),(0,u.jsx)("tbody",{children:f?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"p-3",colSpan:11,children:"Loading\u2026"})}):0===d.length?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"p-3 text-gray-500",colSpan:11,children:"No logs found for the selected filters."})}):d.map(((e,t)=>{var n;const r="failed"===String(e.status||"").toLowerCase(),o=(L-1)*B+t+1;return(0,u.jsxs)("tr",{className:"border-t hover:bg-gray-50 ".concat(r?"text-red-700":""),children:[(0,u.jsx)("td",{className:"p-2 whitespace-nowrap",children:o}),(0,u.jsx)("td",{className:"p-2 whitespace-nowrap",children:$(e)||"-"}),(0,u.jsx)("td",{className:"p-2 whitespace-nowrap",children:e.senderId||"-"}),(0,u.jsx)("td",{className:"p-2 whitespace-nowrap",children:e.status||"-"}),(0,u.jsx)("td",{className:"p-2 whitespace-nowrap",children:e.campaignName||e.campaignId||"-"}),(0,u.jsx)("td",{className:"p-2 max-w-[460px]",children:(0,u.jsx)("div",{className:"text-gray-800 truncate",title:e.messageContent||"",children:e.messageContent||"-"})}),(0,u.jsx)("td",{className:"p-2 whitespace-nowrap align-top",children:(0,u.jsx)(aI,{value:e.providerMessageId})}),(0,u.jsx)("td",{className:"p-2 whitespace-nowrap",children:e.sentAt?new Date(e.sentAt).toLocaleString():new Date(e.createdAt).toLocaleString()}),(0,u.jsx)("td",{className:"p-2 max-w-[320px]",children:(0,u.jsx)("div",{className:"truncate ".concat(r?"text-red-700 font-medium":""),title:e.errorMessage||"",children:e.errorMessage?"\u2757 ".concat(e.errorMessage):"-"})})]},null!==(n=e.id)&&void 0!==n?n:o)}))})]})}),m>1&&(0,u.jsxs)("div",{className:"flex flex-wrap gap-2 justify-end items-center mt-4",children:[(0,u.jsx)("button",{className:"px-2 py-1 text-sm border rounded",disabled:1===L,onClick:()=>F((e=>e-1)),children:"\u2b05 Prev"}),(0,u.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",L," of ",m]}),(0,u.jsx)("button",{className:"px-2 py-1 text-sm border rounded",disabled:L===m,onClick:()=>F((e=>e+1)),children:"Next \u27a1"}),(0,u.jsx)("select",{className:"border px-2 py-1 rounded",value:B,onChange:e=>{z(parseInt(e.target.value,10)),F(1)},children:[10,25,50,100,200].map((e=>(0,u.jsxs)("option",{value:e,children:[e,"/page"]},e)))})]})]})}function lI(){const[t,n]=(0,e.useState)(!1),[r,o]=(0,e.useState)(null),a=(0,i.Zp)();if((0,e.useEffect)((()=>(0,d.T)((e=>{o(e),n(!0)}))),[]),!t)return null;const s="quota"===(null===r||void 0===r?void 0:r.reason),l=s?"Quota limit reached":"Upgrade required",c=s?"You\u2019ve reached the usage limit for this feature on your current plan.":"This feature isn\u2019t available on your current plan yet.",p=s?"Plan limit":"Locked feature",f=(null===r||void 0===r?void 0:r.title)||(null===r||void 0===r?void 0:r.featureName)||(null===r||void 0===r?void 0:r.code)||null,h=()=>{n(!1),o(null)};return(0,u.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 py-6",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:h}),(0,u.jsxs)("div",{className:"relative w-full max-w-lg rounded-2xl bg-white shadow-2xl border border-emerald-100 p-6 md:p-8 overflow-hidden",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute -top-20 -right-10 h-40 w-40 rounded-full bg-emerald-100 opacity-40"}),(0,u.jsx)("div",{className:"pointer-events-none absolute -bottom-24 -left-16 h-44 w-44 rounded-full bg-cyan-100 opacity-40"}),(0,u.jsx)("button",{type:"button",onClick:h,className:"absolute top-3 right-3 inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/80 border border-slate-200 text-slate-500 hover:text-slate-700 hover:bg-slate-50 shadow-sm","aria-label":"Close upgrade dialog",children:(0,u.jsx)(Pe.A,{className:"h-4 w-4"})}),(0,u.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,u.jsx)("div",{className:"shrink-0 rounded-xl bg-emerald-50 p-3",children:s?(0,u.jsx)(mt,{className:"h-7 w-7 text-emerald-700"}):(0,u.jsx)(rl.A,{className:"h-7 w-7 text-emerald-700"})}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 mb-3 border border-amber-200",children:[(0,u.jsx)(rl.A,{className:"h-4 w-4 text-amber-500"}),(0,u.jsx)("span",{className:"text-xs font-semibold text-amber-700 uppercase tracking-wide",children:p})]}),(0,u.jsx)("h2",{className:"text-lg md:text-xl font-bold text-slate-900 mb-1",children:l}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:c}),f&&(0,u.jsxs)("p",{className:"text-xs font-mono text-slate-500 mb-4",children:[s?"Feature / Quota:":"Feature:"," ",(0,u.jsx)("span",{className:"font-semibold text-emerald-700",children:f})]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mb-6",children:"Upgrading your plan will unlock this feature immediately for your workspace, along with higher limits and additional tools designed for growing teams."}),(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-2 sm:gap-3",children:[(0,u.jsx)("button",{type:"button",onClick:h,className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Not now"}),(0,u.jsxs)("button",{type:"button",onClick:()=>{n(!1),a("/app/settings/billing")},className:"inline-flex items-center justify-center rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700",children:["View plans",(0,u.jsx)(D,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]})}var cI=n(50480);var dI=n(75686),uI=n(81007),pI=n(63961),fI=n(5244),hI=n(8927);const mI={"whatsapp-settings":[v.FK.SETTINGS_WHATSAPP_SETTINGS_VIEW],"role-permission-mapping":[v.FK.SETTINGS_ROLE_PERMISSIONS_MAPPING],"team-management":[v.FK.SETTINGS_STAFF_MANAGEMENT],"password-update":[],"meta-account":[v.FK.SETTINGS_META_ACCOUNT_MANAGEMENT],"billing-subscription":[v.FK.SETTINGS_BILLING_VIEW],"profile-update":[v.FK.SETTINGS_PROFILE_UPDATE]},gI=[{id:"profile-update",label:"Profile Update",description:"Update your business profile and contact details.",path:"/app/settings/profile-completion",icon:(0,u.jsx)(pe,{size:22}),action:"Edit Profile"},{id:"password-update",label:"Change Password",description:"Update your account password.",path:"/app/settings/password",icon:(0,u.jsx)(he,{size:22}),action:"Update Password"},{id:"team-management",label:"User & Staff Management",description:"Create staff users, assign roles, and control access status.",path:"/app/settings/team-management",icon:(0,u.jsx)(G,{size:22}),action:"Manage Staff"},{id:"role-permission-mapping",label:"Role Permission Mapping",description:"Create roles and assign permissions to staff users.",path:"/app/settings/role-permission-mapping",icon:(0,u.jsx)(he,{size:22}),action:"Permissions Mapping"},{id:"meta-account",label:"WhatsApp Api Integration",description:"Disconnect WhatsApp or handle Meta data deletion.",path:"/app/settings/meta-account",icon:(0,u.jsx)(me,{size:22}),action:"Manage Meta"},{id:"billing-subscription",label:"Billing & Subscription",description:"View your current plan, invoices, and manage payments.",path:"/app/settings/billing",icon:(0,u.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",viewBox:"0 0 24 24",children:[(0,u.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",ry:"2"}),(0,u.jsx)("path",{d:"M3 9h18"}),(0,u.jsx)("path",{d:"M8 14h2"})]}),action:"View Billing"}];function vI(){const t=(0,i.Zp)(),{isLoading:n,entLoading:r,can:o,hasAllAccess:a}=(0,l.h)(),[s,c]=(0,e.useState)(JSON.parse(localStorage.getItem("myaccount-pinned")||"[]")),[p,f]=(0,e.useState)(JSON.parse(localStorage.getItem("myaccount-archived")||"[]")),h=(0,e.useMemo)((()=>gI.map((e=>e.id))),[]),m=JSON.parse(localStorage.getItem("myaccount-order")||"null")||[],g=(0,e.useMemo)((()=>{if(!Array.isArray(m)||0===m.length)return h;const e=m.filter((e=>h.includes(e))),t=h.filter((t=>!e.includes(t)));return[...e,...t]}),[h]),[v,x]=(0,e.useState)(g),[y,w]=(0,e.useState)(!1),j=v.map((e=>gI.find((t=>t.id===e)))).filter(Boolean).filter((e=>!!y||!p.includes(e.id))).map((e=>{const t=mI[e.id],n=Array.isArray(t)?t.filter(Boolean):[],r=a||0===n.length||n.some((e=>o(e)));return(0,b.A)((0,b.A)({},e),{},{allowed:r,primaryCode:n&&n[0]||null})})),N=j.length>0,S=j.some((e=>e.allowed));return n||r?(0,u.jsx)("div",{className:"p-10 text-center text-lg text-gray-500",children:"Loading account workspace\u2026"}):(0,u.jsxs)("div",{className:"p-6 bg-[#f5f6f7] min-h-[calc(100vh-80px)]","data-test-id":"myaccount-root",children:[(0,u.jsx)("style",{children:"\n        @keyframes drawRight { from { transform: scaleX(0) } to { transform: scaleX(1) } }\n        @keyframes drawDown  { from { transform: scaleY(0) } to { transform: scaleY(1) } }\n        @keyframes drawLeft  { from { transform: scaleX(0) } to { transform: scaleX(1) } }\n        @keyframes drawUp    { from { transform: scaleY(0) } to { transform: scaleY(1) } }\n\n        .tile:hover .topline    { animation: drawRight .9s ease forwards; }\n        .tile:hover .rightline  { animation: drawDown  .9s ease .18s forwards; }\n        .tile:hover .bottomline { animation: drawLeft  .9s ease .36s forwards; }\n        .tile:hover .leftline   { animation: drawUp    .9s ease .54s forwards; }\n      "}),(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-emerald-800",children:"\u2699\ufe0f My Account & Settings"}),(0,u.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,u.jsx)("input",{type:"checkbox",checked:y,onChange:()=>w(!y),className:"accent-emerald-600"}),"Show Archived Tools"]})]}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Manage your WhatsApp configuration, profile, security, and billing from a single place."}),N&&!S&&(0,u.jsxs)("div",{className:"bg-amber-50 text-amber-800 p-4 border-l-4 border-amber-500 rounded-md mb-6 shadow-sm flex items-start gap-3",children:[(0,u.jsx)(st.A,{size:22,className:"mt-1"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:"Account tools locked:"})," Your current plan doesn't include these settings.",(0,u.jsx)("div",{className:"text-sm mt-1 text-gray-600",children:"Try opening a tile to see upgrade options, or contact your administrator."})]})]}),N&&(0,u.jsx)(hI.JY,{onDragEnd:e=>{if(!e.destination)return;const t=Array.from(v),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),x(t),localStorage.setItem("myaccount-order",JSON.stringify(t))},children:(0,u.jsx)(hI.gL,{droppableId:"myaccount-blocks",direction:"horizontal",children:e=>(0,u.jsxs)("div",(0,b.A)((0,b.A)({className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",ref:e.innerRef},e.droppableProps),{},{children:[j.map(((e,n)=>{const r="tile group relative overflow-hidden cursor-pointer bg-white rounded-md border shadow-sm hover:shadow-md transition transform hover:-translate-y-0.5 duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-300",o=e.allowed?r:"".concat(r," ").concat("opacity-70 border-dashed cursor-not-allowed hover:-translate-y-0 hover:shadow-sm"),i=()=>{e.allowed?t(e.path):e.primaryCode&&(0,d.Y)({reason:"feature",code:e.primaryCode,source:"myaccount.workspace.tile"})},a=n=>{n.stopPropagation(),e.allowed?t(e.path):e.primaryCode&&(0,d.Y)({reason:"feature",code:e.primaryCode,source:"myaccount.workspace.action"})};return(0,u.jsx)(hI.sx,{draggableId:e.id,index:n,children:t=>(0,u.jsxs)("div",(0,b.A)((0,b.A)({ref:t.innerRef},t.draggableProps),{},{role:"button",tabIndex:0,"aria-label":"".concat(e.label,": ").concat(e.action),onKeyDown:e=>{"Enter"===e.key&&i()},onClick:i,className:o,style:{userSelect:"none"},children:[!e.allowed&&(0,u.jsx)("span",{className:"pointer-events-none absolute top-3 right-3 inline-flex items-center gap-1 rounded-full border border-dashed border-amber-500 bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"\ud83d\udd12 Upgrade"}),(0,u.jsx)("span",{"aria-hidden":!0,className:"topline pointer-events-none absolute left-0 -top-[2px] h-[2px] w-full origin-left rounded opacity-0 group-hover:opacity-100",style:{background:"linear-gradient(90deg, #A7F3D0, #34D399, #059669)",transform:"scaleX(0)"}}),(0,u.jsx)("span",{"aria-hidden":!0,className:"rightline pointer-events-none absolute right-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-top rounded opacity-0 group-hover:opacity-100",style:{background:"linear-gradient(180deg, #A7F3D0, #34D399, #059669)",transform:"scaleY(0)"}}),(0,u.jsx)("span",{"aria-hidden":!0,className:"bottomline pointer-events-none absolute left-0 -bottom-[2px] h-[2px] w-full origin-right rounded opacity-0 group-hover:opacity-100",style:{background:"linear-gradient(270deg, #A7F3D0, #34D399, #059669)",transform:"scaleX(0)"}}),(0,u.jsx)("span",{"aria-hidden":!0,className:"leftline pointer-events-none absolute left-0 -top-[2px] h-[calc(100%+4px)] w-[2px] origin-bottom rounded opacity-0 group-hover:opacity-100",style:{background:"linear-gradient(0deg, #A7F3D0, #34D399, #059669)",transform:"scaleY(0)"}}),(0,u.jsxs)("div",{className:"flex items-start gap-4 p-5",children:[(0,u.jsx)("div",{className:"bg-emerald-50 rounded-md p-2 text-emerald-800",children:e.icon}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h3",{className:"text-md font-semibold text-emerald-800 group-hover:text-emerald-900",children:e.label}),(0,u.jsx)("p",{className:"text-sm text-slate-600 workspace-tile-desc",children:e.description})]}),(0,u.jsx)("div",(0,b.A)((0,b.A)({},t.dragHandleProps),{},{title:"Drag to re-order",className:"ml-2 rounded p-1 text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing",onClick:e=>e.stopPropagation(),children:(0,u.jsx)(dI.A,{size:16})}))]}),(0,u.jsxs)("div",{className:"px-5 py-3 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[(0,u.jsxs)("button",{onClick:a,className:"text-sm text-gray-700 font-medium flex items-center gap-1 hover:text-gray-900",children:[e.allowed?e.action:"Upgrade to unlock",(0,u.jsx)(uI.A,{size:18})]}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("button",{onClick:t=>((e,t)=>{e.stopPropagation();const n=s.includes(t)?s.filter((e=>e!==t)):[...s,t];c(n),localStorage.setItem("myaccount-pinned",JSON.stringify(n))})(t,e.id),title:s.includes(e.id)?"Unpin":"Pin",children:(0,u.jsx)(pI.A,{size:18,className:s.includes(e.id)?"text-red-600":"text-gray-400 hover:text-red-500"})}),(0,u.jsx)("button",{onClick:t=>((e,t)=>{e.stopPropagation();const n=p.includes(t)?p.filter((e=>e!==t)):[...p,t];f(n),localStorage.setItem("myaccount-archived",JSON.stringify(n))})(t,e.id),title:"Archive this",children:(0,u.jsx)(fI.A,{size:18,className:p.includes(e.id)?"text-indigo-600":"text-gray-400 hover:text-indigo-500"})})]})]})]}))},e.id)})),e.placeholder]}))})}),!N&&(0,u.jsxs)("div",{className:"bg-red-100 text-red-700 p-4 border-l-4 border-red-500 rounded-md mt-4 shadow-sm flex items-start gap-3",children:[(0,u.jsx)(st.A,{size:22,className:"mt-1"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:"No account tiles:"})," All account tools are archived or hidden.",(0,u.jsx)("div",{className:"text-sm mt-1 text-gray-600",children:"Un-archive some tiles to see them here again."})]})]})]})}var xI=n(95258),bI=n(8092),yI=n.n(bI);tA().extend(yI());const wI={GREEN:{color:"text-emerald-600 bg-emerald-50 border-emerald-100",label:"High Quality",dot:"bg-emerald-500"},YELLOW:{color:"text-amber-600 bg-amber-50 border-amber-100",label:"Medium Quality",dot:"bg-amber-500"},RED:{color:"text-rose-600 bg-rose-50 border-rose-100",label:"Low Quality",dot:"bg-rose-500"},NA:{color:"text-slate-500 bg-slate-50 border-slate-100",label:"N/A",dot:"bg-slate-400"},UNKNOWN:{color:"text-slate-500 bg-slate-50 border-slate-100",label:"Unknown",dot:"bg-slate-400"}},jI={TIER_NOT_VERIFIED:"Trial (50/day)",TIER_250:"250/day",TIER_1K:"1K/day",TIER_10K:"10K/day",TIER_100K:"100K/day",TIER_UNLIMITED:"Unlimited"};function NI(t){var n;let{businessId:r}=t;const[o,i]=(0,e.useState)(null),[s,l]=(0,e.useState)(!0),[d,p]=(0,e.useState)(!1),f=async()=>{p(!0);try{const e=await c.default.post("whatsappsettings/connection-summary/refresh");e.data.success&&(i(e.data.data),a.oR.success("Connection status updated from Meta."))}catch(oD){var e,t;a.oR.error((null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to refresh status.")}finally{p(!1)}};(0,e.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await c.default.get("whatsappsettings/connection-summary");e.data.success&&i(e.data.data)}catch(oD){console.error("Failed to fetch connection summary",oD)}finally{l(!1)}})()})()}),[]);const h=e.useRef(!1);if((0,e.useEffect)((()=>{s||d||!o||o.lastUpdated||h.current||(h.current=!0,f())}),[s,o]),s)return(0,u.jsxs)("div",{className:"p-6 rounded-2xl border border-slate-200 bg-white animate-pulse",children:[(0,u.jsx)("div",{className:"h-6 w-1/3 bg-slate-100 rounded mb-4"}),(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsx)("div",{className:"h-16 w-1/4 bg-slate-100 rounded-xl"}),(0,u.jsx)("div",{className:"h-16 w-1/4 bg-slate-100 rounded-xl"}),(0,u.jsx)("div",{className:"h-16 w-1/4 bg-slate-100 rounded-xl"})]})]});if(!o)return null;const m=null===(n=o.qualityRating)||void 0===n?void 0:n.toUpperCase(),g=wI[m]||wI.UNKNOWN,v="UNKNOWN"!==m&&m?g===wI.UNKNOWN&&o.qualityRating?o.qualityRating:g.label:"Pending",x=jI[o.messagingLimitTier]||o.messagingLimitTier||"Unknown Tier",b=o.lastUpdated?tA()(o.lastUpdated).fromNow():"Never";return(0,u.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[(0,u.jsxs)("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[(0,u.jsxs)("h3",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[(0,u.jsx)(lt.A,{size:16,className:"text-indigo-500"}),"Account Summary"]}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsxs)("span",{className:"text-[10px] text-slate-400 font-medium",children:["Updated ",b]}),(0,u.jsx)("button",{onClick:f,disabled:d,className:"p-1.5 hover:bg-white rounded-lg text-slate-400 hover:text-indigo-600 transition-all border border-transparent hover:border-slate-200 hover:shadow-sm",title:"Refresh from Meta",children:(0,u.jsx)(lA.A,{size:14,className:d?"animate-spin text-indigo-500":""})})]})]}),(0,u.jsxs)("div",{className:"p-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:["CONNECTED"===o.status?(0,u.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)]"}):(0,u.jsx)("div",{className:"h-2 w-2 rounded-full bg-rose-500"}),(0,u.jsx)("span",{className:"text-xs font-bold text-slate-900",children:o.status||"Unknown"})]})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Connected Numbers"}),(0,u.jsx)("div",{className:"flex flex-wrap items-center gap-1.5",children:o.whatsAppBusinessNumbers&&o.whatsAppBusinessNumbers.length>0?o.whatsAppBusinessNumbers.map(((e,t)=>(0,u.jsx)("span",{className:"text-xs font-bold text-slate-900 bg-slate-50 px-2 py-0.5 rounded border border-slate-100",children:e},t))):(0,u.jsx)("span",{className:"text-xs font-bold text-slate-900",children:o.whatsAppBusinessNumber||"None"})})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Display Name"}),(0,u.jsx)("div",{className:"flex items-center gap-1.5",children:o.verifiedName?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"text-xs font-bold text-slate-900 truncate max-w-[120px]",title:o.verifiedName,children:o.verifiedName}),"APPROVED"===o.nameStatus&&(0,u.jsx)(J.A,{size:14,className:"text-emerald-500 fill-emerald-50",title:"Verified by Meta"})]}):(0,u.jsx)("span",{className:"text-sm text-slate-400 italic",children:"Not set"})})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Quality"}),(0,u.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg border text-xs font-bold ".concat(g.color),children:[(0,u.jsx)("div",{className:"h-1.5 w-1.5 rounded-full ".concat(g.dot)}),v]})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Messaging Limit"}),(0,u.jsxs)("div",{className:"flex items-center gap-1.5 whitespace-nowrap",children:[(0,u.jsx)(ue.A,{size:14,className:"text-slate-400 shrink-0"}),(0,u.jsx)("span",{className:"text-xs font-bold text-slate-900 truncate",children:x})]})]})]})]})}const SI=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e);const AI=e=>{let{step:t,title:n,desc:r,status:o,isLast:i,isActive:a,isCompleted:s,onClick:l}=e;return(0,u.jsxs)("div",{className:"relative flex gap-4 ".concat(l?"cursor-pointer group/step":""),onClick:l,children:[!i&&(0,u.jsx)("div",{className:"absolute left-[15px] top-[30px] bottom-[-10px] w-0.5 transition-colors duration-500 ".concat(s?"bg-emerald-500":"bg-slate-200")}),(0,u.jsx)("div",{className:"relative z-10 flex flex-col items-center",children:(0,u.jsx)("div",{className:"h-8 w-8 rounded-full border-2 flex items-center justify-center transition-all duration-500 ".concat(s?"bg-emerald-500 border-emerald-500 text-white shadow-lg shadow-emerald-200":a?"bg-white border-rose-500 text-rose-600 shadow-md":"bg-white border-slate-200 text-slate-400"),children:s?(0,u.jsx)(pt.A,{size:16}):(0,u.jsx)("span",{className:"text-xs font-bold",children:t})})}),(0,u.jsxs)("div",{className:"flex-1 pb-8",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("h4",{className:"text-sm font-bold transition-colors ".concat(s||a?"text-slate-900":"text-slate-400"),children:n}),a&&(0,u.jsxs)("span",{className:"ml-auto text-[10px] font-bold text-rose-600 flex items-center gap-0.5 opacity-0 group-hover/step:opacity-100 transition-opacity",children:["Start ",(0,u.jsx)(D,{size:10})]})]}),(0,u.jsx)("p",{className:"text-[11px] text-slate-500 leading-tight mt-0.5",children:r}),o&&(0,u.jsx)("span",{className:"inline-flex items-center mt-1.5 px-2 py-0.5 rounded-full text-[9px] font-bold uppercase tracking-wider border ".concat(s?"bg-emerald-50 border-emerald-100 text-emerald-600":a?"bg-rose-50 border-rose-100 text-rose-600":"bg-slate-50 border-slate-100 text-slate-500"),children:o})]})]})},EI=e=>{let{whatsappConnected:t,hasPlan:n,onConnect:r,onNavigate:o}=e;return(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)(AI,{step:1,title:"Business Profile",desc:"Profile & workspace",status:"Created",isCompleted:!0,onClick:()=>o("/app/settings/profile-completion")}),(0,u.jsx)(AI,{step:2,title:"Connect WhatsApp Api",desc:"Link with Meta",status:t?"Connected":"Action Required",isCompleted:t,isActive:!t,onClick:()=>!t&&r()}),(0,u.jsx)(AI,{step:3,title:"Select Plan",desc:"Unlock scaling",status:n?"Plan Active":"Pending",isCompleted:n,isActive:t&&!n,isLast:!0,onClick:()=>!n&&o("/app/settings/billing")})]})},kI=e=>{let{onConnect:t,connecting:n,whatsappConnected:r}=e;return(0,u.jsxs)(EA.P.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"relative overflow-hidden rounded-2xl bg-slate-900 shadow-xl shadow-emerald-500/5",children:[(0,u.jsx)("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 h-48 w-48 rounded-full bg-emerald-500/10 blur-2xl"}),(0,u.jsx)("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 h-48 w-48 rounded-full bg-emerald-500/5 blur-2xl"}),(0,u.jsxs)("div",{className:"relative p-7 md:p-8 flex flex-col md:flex-row items-center gap-8",children:[(0,u.jsxs)("div",{className:"flex-1 space-y-5",children:[(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("div",{className:"inline-flex items-center gap-2 px-3.5 py-2 rounded-lg transition-all duration-200 border shadow-sm ".concat(r?"bg-emerald-500 text-white border-emerald-500":"bg-white text-red-600 border-red-500"),children:r?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"}),(0,u.jsx)("span",{className:"text-xs font-semibold",children:"Connected"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"relative flex items-center justify-center w-2 h-2",children:[(0,u.jsx)(EA.P.div,{animate:{scale:[1,1.8,1],opacity:[.6,.2,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-full bg-red-500"}),(0,u.jsx)("div",{className:"relative w-2 h-2 rounded-full bg-red-500"})]}),(0,u.jsx)("span",{className:"text-xs font-semibold",children:"WhatsApp Api is not connected"})]})}),(0,u.jsxs)("h2",{className:"text-2xl md:text-3xl font-extrabold text-white leading-tight font-inter",children:["Connect your ",(0,u.jsx)("span",{className:"text-emerald-500",children:"WhatsApp Business Api"})," to XploreByte"]}),(0,u.jsxs)("p",{className:"text-slate-400 text-xs md:text-sm leading-relaxed max-w-lg",children:["Setting up your official ",(0,u.jsx)("span",{className:"text-emerald-400 font-semibold",children:"WhatsApp Business API is 100% FREE"}),". Scale your business beyond limits with WhatsApp Business API."]})]}),(0,u.jsx)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[{icon:xI.A,label:"Broadcasting",color:"text-emerald-400"},{icon:x.A,label:"Automation",color:"text-emerald-400"},{icon:O.A,label:"Team Inbox",color:"text-emerald-400"},{icon:T.A,label:"Campaigns",color:"text-emerald-400"}].map(((e,t)=>(0,u.jsxs)("div",{className:"flex items-center gap-2 group",children:[(0,u.jsx)("div",{className:"h-6 w-6 rounded-md bg-white/5 flex items-center justify-center transition-colors group-hover:bg-white/10 border border-white/5",children:(0,u.jsx)(e.icon,{size:12,className:e.color})}),(0,u.jsx)("span",{className:"text-[10px] font-bold text-slate-300",children:e.label})]},t)))}),(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 pt-2",children:[(0,u.jsxs)("button",{onClick:t,disabled:n,className:"w-full sm:w-auto px-6 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl text-xs font-bold tracking-tight transition-all transform hover:scale-[1.01] active:scale-[0.99] flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/20 font-inter",children:[(0,u.jsx)(LA,{className:"fill-white",size:14}),n?"Connecting...":"Connect with Meta"]}),(0,u.jsxs)("button",{onClick:()=>window.open("https://xplorebyte.com/demo","_blank"),className:"w-full sm:w-auto px-6 py-3 bg-transparent border border-white/10 hover:border-white/20 text-white rounded-xl text-xs font-bold tracking-tight transition-all flex items-center justify-center gap-2 font-inter",children:[(0,u.jsx)(Qr.A,{size:14}),"Book Demo"]})]})]}),(0,u.jsxs)("div",{className:"hidden lg:block relative shrink-0",children:[(0,u.jsx)("div",{className:"relative z-10 p-2",children:(0,u.jsx)(EA.P.div,{animate:{y:[0,-10,0],rotate:[0,1,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:(0,u.jsx)("div",{className:"relative h-32 w-32 bg-gradient-to-br from-emerald-500/10 to-slate-500/10 rounded-full flex items-center justify-center backdrop-blur-2xl border border-white/5 shadow-xl shadow-emerald-500/10",children:(0,u.jsx)(Ee,{size:60,className:"text-emerald-400 drop-shadow-[0_0_20px_rgba(52,211,153,0.4)]"})})})}),(0,u.jsx)("div",{className:"absolute top-5 left-5 h-1.5 w-1.5 rounded-full bg-emerald-500 animate-ping"}),(0,u.jsx)("div",{className:"absolute bottom-5 right-10 h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})]})]})]})};function CI(){var t;const n=(0,l.h)()||{},r=(0,i.Zp)();function s(e){var t,n,r,o,i,a;return e?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)if("string"===typeof r&&r.trim())return r.trim();return null}(e.whatsAppBusinessNumber,e.WhatsAppBusinessNumber,e.displayPhoneNumber,e.DisplayPhoneNumber,e.phoneNumber,e.PhoneNumber,e.senderNumber,e.SenderNumber,e.connectedPhoneNumber,e.ConnectedPhoneNumber,null===e||void 0===e||null===(t=e.primaryPhone)||void 0===t?void 0:t.displayPhoneNumber,null===e||void 0===e||null===(n=e.primaryPhone)||void 0===n?void 0:n.phoneNumber,null===e||void 0===e||null===(r=e.PrimaryPhone)||void 0===r?void 0:r.DisplayPhoneNumber,null===e||void 0===e||null===(o=e.PrimaryPhone)||void 0===o?void 0:o.PhoneNumber,null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.displayPhoneNumber,null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.phoneNumber):null}const{isLoading:d,userName:p,businessId:f,planId:h,business:m}=n,g=f||(null===m||void 0===m?void 0:m.businessId)||(null===m||void 0===m?void 0:m.id)||null,v=!!(null!==(t=null!==h&&void 0!==h?h:null===m||void 0===m?void 0:m.planId)&&void 0!==t?t:null),[x]=(0,o.ok)(),[y,w]=(0,e.useState)(!1),[j,N]=(0,e.useState)(!1),[S,A]=(0,e.useState)(!1),[E,k]=(0,e.useState)(!1),[C,_]=(0,e.useState)({loading:!0,hasSettings:!1,data:null}),[P,O]=(0,e.useState)((()=>"true"===sessionStorage.getItem("xb_pending_esu_pin"))),[T,M]=(0,e.useState)(!1),I=async()=>{if(SI(g)){_((e=>(0,b.A)((0,b.A)({},e),{},{loading:!0})));try{var e;const t=await c.default.get("whatsappsettings/me",{headers:{"X-Business-Id":g}}),n=!(null===t||void 0===t||null===(e=t.data)||void 0===e||!e.hasSettings);_({loading:!1,hasSettings:n,data:n?t.data.data:null})}catch(t){_({loading:!1,hasSettings:!1,data:null})}}else{if(d||!g)return;_({loading:!1,hasSettings:!1,data:null})}};(0,e.useEffect)((()=>{let e=!1;return(async()=>{e||await I()})(),()=>{e=!0}}),[g]);const R=C.hasSettings;(0,e.useMemo)((()=>s(C.data)),[C.data]);(0,e.useEffect)((()=>{const e=new URLSearchParams(x).get("esuStatus"),t=null===e||void 0===e?void 0:e.toLowerCase();if(console.log("[WelcomePage] esuStatus check:",{rawStatus:e,status:t}),"success"===t?(a.oR.success("\ud83c\udf89 Connected to Meta! Your number is active."),sessionStorage.removeItem("xb_pending_esu_pin"),O(!1),I()):"needs_pin"!==t&&"true"!==sessionStorage.getItem("xb_pending_esu_pin")||("needs_pin"===t&&(a.oR.info("This number is already protected. Please enter your existing PIN."),sessionStorage.setItem("xb_pending_esu_pin","true")),O(!0),M(!1)),e){const e=new URLSearchParams(x);e.delete("esuStatus"),r({search:e.toString()},{replace:!0})}}),[x,r]);const D=async()=>{try{var e,t,n,r,o,i,s,l,d,u;k(!0);const f="/app/welcomepage";if(!SI(g))return void a.oR.error("Business context missing. Please re-login.");const h=await c.default.post("esu/facebook/start",{returnUrlAfterSuccess:f},{headers:{"X-Business-Id":g}}),m=(null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.launchUrl)||(null===h||void 0===h||null===(n=h.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.LaunchUrl)||(null===h||void 0===h||null===(o=h.data)||void 0===o?void 0:o.launchUrl)||(null===h||void 0===h||null===(i=h.data)||void 0===i?void 0:i.LaunchUrl)||(null===h||void 0===h||null===(s=h.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.authUrl)||(null===h||void 0===h||null===(d=h.data)||void 0===d?void 0:d.authUrl)||(null===h||void 0===h||null===(u=h.data)||void 0===u?void 0:u.url);var p;if(!m)return void a.oR.error((null===h||void 0===h||null===(p=h.data)||void 0===p?void 0:p.message)||"Could not get Facebook connect URL.");window.location.href=m}catch(oD){var f,h;a.oR.error((null===oD||void 0===oD||null===(f=oD.response)||void 0===f||null===(h=f.data)||void 0===h?void 0:h.message)||(null===oD||void 0===oD?void 0:oD.message)||"Failed to start Facebook Connect.")}finally{k(!1)}};if(d||C.loading)return(0,u.jsx)("div",{className:"min-h-screen w-full bg-slate-50/50",children:(0,u.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-8",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,u.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,u.jsx)("div",{className:"h-10 shimmer-bg rounded-xl w-2/3"}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("div",{className:"h-4 shimmer-bg rounded-md w-3/4"}),(0,u.jsx)("div",{className:"h-4 shimmer-bg rounded-md w-1/2"})]})]}),(0,u.jsxs)("div",{className:"h-24 w-64 bg-white rounded-2xl border border-slate-100 shadow-sm flex items-center px-4 gap-4",children:[(0,u.jsx)("div",{className:"h-14 w-14 rounded-full shimmer-bg shrink-0"}),(0,u.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,u.jsx)("div",{className:"h-4 shimmer-bg rounded-md w-full"}),(0,u.jsx)("div",{className:"h-3 shimmer-bg rounded-md w-2/3"})]})]})]}),(0,u.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,u.jsx)("div",{className:"lg:col-span-3",children:(0,u.jsxs)("div",{className:"h-[400px] bg-white/50 backdrop-blur-sm border border-slate-200 rounded-2xl shadow-sm p-6 space-y-8",children:[(0,u.jsx)("div",{className:"h-3 shimmer-bg rounded-full w-1/2 mb-8"}),[1,2,3].map((e=>(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsx)("div",{className:"h-10 w-10 rounded-full shimmer-bg shrink-0"}),(0,u.jsxs)("div",{className:"flex-1 space-y-3 pt-2",children:[(0,u.jsx)("div",{className:"h-4 shimmer-bg rounded-md w-full"}),(0,u.jsx)("div",{className:"h-3 shimmer-bg rounded-md w-3/4"})]})]},e)))]})}),(0,u.jsxs)("div",{className:"lg:col-span-9 space-y-8",children:[(0,u.jsxs)("div",{className:"h-48 bg-white rounded-2xl border border-slate-100 shadow-sm p-8 space-y-4",children:[(0,u.jsx)("div",{className:"h-6 shimmer-bg rounded-lg w-1/4"}),(0,u.jsx)("div",{className:"h-20 shimmer-bg rounded-xl w-full"})]}),(0,u.jsxs)("div",{className:"h-64 bg-white rounded-2xl border border-slate-100 shadow-sm p-8 space-y-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("div",{className:"h-6 shimmer-bg rounded-lg w-1/3"}),(0,u.jsx)("div",{className:"h-10 shimmer-bg rounded-xl w-32"})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,u.jsx)("div",{className:"h-32 shimmer-bg rounded-xl w-full"}),(0,u.jsx)("div",{className:"h-32 shimmer-bg rounded-xl w-full"}),(0,u.jsx)("div",{className:"h-32 shimmer-bg rounded-xl w-full"})]})]})]})]})]})});const L=(R?1:0)+(v?1:0)+1,F=Math.round(L/3*100);return(0,u.jsxs)("div",{className:"min-h-screen w-full bg-slate-50/50 font-inter",children:[(0,u.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-8",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:100===F?"You're all set, ".concat(null===p||void 0===p?void 0:p.split(" ")[0],"! \ud83d\ude80"):"Welcome to XploreByte, ".concat(null===p||void 0===p?void 0:p.split(" ")[0],"! \ud83d\udc4b")}),(0,u.jsx)("p",{className:"text-slate-500 max-w-xl text-sm",children:100===F?"Your business is now ready for the world. You can now create templates, launch campaigns, and engage with your customers in real-time.":"Let's get your business ready for the world. Complete these steps to unlock full potential."})]}),(0,u.jsxs)("div",{className:"flex items-center gap-6 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[(0,u.jsxs)("div",{className:"relative h-16 w-16 flex items-center justify-center",children:[(0,u.jsxs)("svg",{className:"h-full w-full -rotate-90 text-slate-100",viewBox:"0 0 36 36",children:[(0,u.jsx)("path",{className:"text-slate-100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4"}),(0,u.jsx)("path",{className:"text-emerald-500 drop-shadow-md transition-all duration-1000 ease-out",strokeDasharray:"".concat(F,", 100"),d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4"})]}),(0,u.jsxs)("span",{className:"absolute text-xs font-bold text-slate-700",children:[F,"%"]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"text-sm font-semibold text-slate-900",children:[L," of ",3," Steps Complete"]}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:100===F?"Ready to grow!":"Next: ".concat(R?"Choose a Plan":"Connect WhatsApp")})]})]})]}),(0,u.jsxs)(EA.P.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,u.jsx)("div",{className:"lg:col-span-3",children:(0,u.jsx)("div",{className:"sticky top-24 space-y-6",children:(0,u.jsxs)("div",{className:"p-1 px-3 py-4 bg-white/50 backdrop-blur-sm border border-slate-200 rounded-2xl shadow-sm",children:[(0,u.jsx)("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-6 px-1",children:"Your Journey"}),(0,u.jsx)(EI,{whatsappConnected:R,hasPlan:v,onConnect:D,onNavigate:r})]})})}),(0,u.jsxs)("div",{className:"lg:col-span-9 space-y-8",children:[R&&(0,u.jsx)("div",{className:"space-y-6",children:(0,u.jsx)(NI,{businessId:g})}),(!R||!v)&&(0,u.jsx)("div",{className:"grid grid-cols-1 gap-6 items-stretch",children:!R&&(0,u.jsx)(kI,{onConnect:D,connecting:E,whatsappConnected:R})})]})]}),(0,u.jsx)(kA,{isOpen:P,onClose:()=>{O(!1),sessionStorage.removeItem("xb_pending_esu_pin")},businessId:g,onSuccess:async()=>{M(!0),await I()}})]}),(0,u.jsxs)(AA.N,{children:[y&&(0,u.jsx)(_I,{onClose:()=>w(!1),onSubmit:()=>A(!0),submitted:S,setSubmitted:A}),j&&(0,u.jsx)(PI,{onClose:()=>N(!1),onMigrate:()=>{N(!1),w(!0)},onConnect:D,connecting:E})]})]})}function _I(e){let{onClose:t,onSubmit:n,submitted:r,setSubmitted:o}=e;return(0,u.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm z-[100] p-4",children:(0,u.jsx)(EA.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white max-w-xl w-full rounded-2xl shadow-2xl overflow-hidden relative",children:(0,u.jsx)("div",{className:"p-6 md:p-8",children:r?(0,u.jsxs)("div",{className:"text-center py-8",children:[(0,u.jsx)("div",{className:"h-16 w-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,u.jsx)(pt.A,{size:32})}),(0,u.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Request Submitted!"}),(0,u.jsx)("p",{className:"text-slate-500 text-sm mb-6 max-w-sm mx-auto",children:"We've received your request. Check your email for next steps."}),(0,u.jsx)("button",{onClick:()=>{o(!1),t()},className:"px-8 py-2.5 bg-slate-900 text-white font-semibold rounded-lg hover:bg-slate-800 transition-colors font-inter",children:"Done"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-slate-900 font-inter",children:"Migrate to XploreByte"}),(0,u.jsx)("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors",children:"\u2715"})]}),(0,u.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,u.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-100 rounded-xl flex gap-3",children:[(0,u.jsx)(st.A,{className:"h-5 w-5 text-amber-600 shrink-0 mt-0.5"}),(0,u.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,u.jsx)("p",{className:"font-semibold mb-1",children:"Before you start:"}),(0,u.jsxs)("ul",{className:"list-disc list-inside space-y-1 opacity-90",children:[(0,u.jsx)("li",{children:"Disable Two-Step Verification on old account"}),(0,u.jsx)("li",{children:"Ensure number can receive SMS OTP"})]})]})]}),(0,u.jsx)("p",{className:"text-slate-600 text-sm",children:"Our migration team will handle the technical transfer. Once you submit, we'll reach out within 24 hours to guide you through the number porting process."})]}),(0,u.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,u.jsx)("button",{onClick:t,className:"px-5 py-2.5 text-slate-600 font-semibold hover:bg-slate-50 rounded-lg transition-colors",children:"Cancel"}),(0,u.jsx)("button",{onClick:n,className:"px-6 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-lg shadow-sm transition-colors font-inter",children:"Request Migration"})]})]})})})})}function PI(t){let{onClose:n,onMigrate:r,onConnect:o,connecting:i}=t;const[a,l]=(0,e.useState)(!1);return(0,u.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm z-[100] p-4",children:(0,u.jsxs)(EA.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white max-w-2xl w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[(0,u.jsxs)("div",{className:"p-6 md:p-8 overflow-y-auto",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-emerald-950 font-inter",children:"Connect WhatsApp API"}),(0,u.jsx)("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors",children:"\u2715"})]}),(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-5 border border-emerald-100",children:[(0,u.jsx)("p",{className:"text-xs font-bold text-emerald-800 uppercase tracking-wide mb-3",children:"Before you start, keep this ready"}),(0,u.jsxs)("ul",{className:"space-y-2",children:[(0,u.jsxs)("li",{className:"flex items-start gap-2.5 text-sm text-emerald-900",children:[(0,u.jsx)("span",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 shrink-0"}),"A registered business and a working website URL"]}),(0,u.jsxs)("li",{className:"flex items-start gap-2.5 text-sm text-emerald-900",children:[(0,u.jsx)("span",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 shrink-0"}),"Access to the phone number you want to use (to receive OTP via SMS or call)"]}),(0,u.jsxs)("li",{className:"flex items-start gap-2.5 text-sm text-emerald-900",children:[(0,u.jsx)("span",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 shrink-0"}),"A Facebook account with permission to manage your business (or ability to create one)"]})]})]}),(0,u.jsxs)("div",{className:"border border-emerald-100 rounded-xl overflow-hidden bg-white",children:[(0,u.jsxs)("button",{onClick:()=>l(!a),className:"w-full flex items-center justify-between p-4 bg-emerald-50/50 hover:bg-emerald-50 text-emerald-900 transition-colors",children:[(0,u.jsx)("span",{className:"font-semibold text-sm",children:'What happens after you click "Continue With Facebook"?'}),(0,u.jsx)(q.A,{size:18,className:"text-emerald-600 transition-transform duration-200 ".concat(a?"rotate-90":"")})]}),(0,u.jsx)(AA.N,{children:a&&(0,u.jsx)(EA.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-white",children:(0,u.jsx)("div",{className:"p-5 border-t border-emerald-100 text-[13px] text-slate-700 leading-relaxed",children:(0,u.jsxs)("ol",{className:"list-decimal list-outside ml-4 space-y-2",children:[(0,u.jsx)("li",{children:"A secure Meta (Facebook) window will open in a new tab or popup."}),(0,u.jsx)("li",{children:"Log in with the Facebook account that manages your business (or create one if needed)."}),(0,u.jsxs)("li",{children:["Select or create your"," ",(0,u.jsx)("span",{className:"font-semibold text-slate-900",children:"Business Manager"})," ","and"," ",(0,u.jsx)("span",{className:"font-semibold text-slate-900",children:"WhatsApp Business Account"}),"."]}),(0,u.jsx)("li",{children:"Choose the phone number you want to use (new number or move an existing WhatsApp Business / WhatsApp API number)."}),(0,u.jsx)("li",{children:"Verify the number using the SMS or call OTP that Meta sends to that phone."}),(0,u.jsx)("li",{children:"Review and grant the requested permissions so XploreByte can send and receive WhatsApp messages on your behalf."}),(0,u.jsxs)("li",{children:["When Meta shows"," ",(0,u.jsx)("span",{className:"font-semibold text-slate-900",children:"Setup complete"}),", close the Facebook window and return to this dashboard."]}),(0,u.jsx)("li",{children:"Your WhatsApp connection status in XploreByte will update automatically once Meta confirms the setup."})]})})})})]})]})]}),(0,u.jsxs)("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,u.jsx)("button",{onClick:r,className:"px-6 py-2.5 bg-white border border-emerald-500 text-emerald-700 font-semibold rounded-lg hover:bg-emerald-50 transition-colors font-inter",children:"Migrate from another vendor"}),(0,u.jsxs)("button",{disabled:i,onClick:o,className:"px-6 py-2.5 bg-[#008f5c] hover:bg-[#007a4d] text-white font-bold rounded-lg shadow-md transition-all flex items-center justify-center gap-2 font-inter",children:[i&&(0,u.jsx)(s.A,{className:"h-4 w-4 animate-spin text-white"}),"Continue with Facebook"]})]})]})})}const OI=[{label:"Any origin",value:""},{label:"AutoReply",value:"AutoReply"},{label:"Campaign",value:"Campaign"}];function TI(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch(t){return String(e)}}function MI(e){if(null===e||void 0===e)return"-";if("string"===typeof e)return e;switch(e){case 1:return"AutoReply";case 2:return"Campaign";default:return String(e)}}function II(e){let{ok:t}=e;const n="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold";return t?(0,u.jsx)("span",{className:"".concat(n," bg-emerald-50 text-emerald-700 border border-emerald-200"),children:"\u2713 Success"}):(0,u.jsx)("span",{className:"".concat(n," bg-rose-50 text-rose-700 border border-rose-200"),children:"\u26a0 Failed"})}function RI(){var t;const[n,r]=(0,e.useState)(localStorage.getItem("businessId")||""),[o,i]=(0,e.useState)([]),[s,l]=(0,e.useState)(!1),[d,p]=(0,e.useState)(""),[f,h]=(0,e.useState)(""),[m,g]=(0,e.useState)(""),[v,x]=(0,e.useState)(50),[b,y]=(0,e.useState)([]),[w,j]=(0,e.useState)(null),[N,S]=(0,e.useState)(!1),[A,E]=(0,e.useState)([]),[k,C]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{l(!0);try{const e=await c.default.get("/businesses/approved"),t=(e.data||[]).map((e=>({id:e.id,name:e.companyName||e.name||e.businessName||"Unknown"})));i(t),!n&&t.length>0&&r(t[0].id)}catch(oD){var e,t;401!==(null===oD||void 0===oD||null===(e=oD.response)||void 0===e?void 0:e.status)&&403!==(null===oD||void 0===oD||null===(t=oD.response)||void 0===t?void 0:t.status)&&(console.error("Failed to load businesses",oD),a.oR.error("Failed to load business list."))}finally{l(!1)}})()}),[]);const _=async()=>{if(n){S(!0);try{const e={businessId:n,limit:v};d&&(e.origin=d),f.trim()&&(e.contactPhone=f.trim()),m.trim()&&(e.flowId=m.trim());const t=(await c.default.get("/flow-executions/recent",{params:e})).data||[];if(y(t),0===t.length)j(null);else if(w){const e=t.find((e=>e.id===w.id));j(e||t[0])}else j(t[0])}catch(oD){console.error("Failed to load flow executions",oD),a.oR.error("Failed to load flow executions.")}finally{S(!1)}}else a.oR.warn("BusinessId is required to query executions.")};(0,e.useEffect)((()=>{n&&_()}),[n]);(0,e.useEffect)((()=>{const e=null===w||void 0===w?void 0:w.runId;if(!n||!e)return void E([]);(async()=>{C(!0);try{const t=await c.default.get("/flow-executions/run/".concat(e),{params:{businessId:n}});E(t.data||[])}catch(oD){console.error("Failed to load run timeline",oD),a.oR.error("Failed to load run timeline."),E([])}finally{C(!1)}})()}),[n,w]);const P=null===w||void 0===w?void 0:w.id;return(0,u.jsxs)("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[(0,u.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-xl font-semibold text-emerald-700",children:"Flow Execution Logs"}),(0,u.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Internal explorer for AutoReply + CTA Flow + Campaign runtimes. Filter by business, origin, contact, or flow; then inspect each run."})]})}),(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_()},className:"rounded-xl border border-emerald-100 bg-white p-4 shadow-sm",children:[(0,u.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.length>0?(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Business (Super Admin)"}),(0,u.jsx)("select",{value:n,onChange:e=>r(e.target.value),disabled:s,className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:o.map((e=>(0,u.jsxs)("option",{value:e.id,children:[e.name," (",String(e.id).slice(0,8),"\u2026)"]},e.id)))}),(0,u.jsx)("p",{className:"text-[11px] text-gray-500",children:"Super Admin can switch tenant to inspect different businesses."})]}):(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Business Id"}),(0,u.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),className:"block w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",placeholder:"Your BusinessId"}),(0,u.jsx)("p",{className:"text-[11px] text-gray-500",children:"Defaults to your own tenant. Super Admins see a dropdown instead."})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Origin"}),(0,u.jsx)("select",{value:d,onChange:e=>p(e.target.value),className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:OI.map((e=>(0,u.jsx)("option",{value:e.value,children:e.label},e.value||"any")))})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Contact phone"}),(0,u.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),placeholder:"WhatsApp number (e.g. 91897...)",className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Flow Id"}),(0,u.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"CTAFlowConfigId or AutoReplyFlowId (Guid)",className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Limit"}),(0,u.jsx)("input",{type:"number",min:1,max:500,value:v,onChange:e=>x(Number(e.target.value)||50),className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"}),(0,u.jsx)("p",{className:"text-[11px] text-gray-500",children:"Max 500 rows. Default is 50."})]})]}),(0,u.jsx)("div",{className:"mt-4 flex justify-end gap-2",children:(0,u.jsx)("button",{type:"submit",disabled:N,className:"inline-flex items-center rounded-md bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60",children:N?"Loading\u2026":"Apply filters"})})]}),(0,u.jsxs)("div",{className:"mt-6 grid gap-6 lg:grid-cols-[minmax(0,2.1fr)_minmax(0,1.5fr)]",children:[(0,u.jsxs)("div",{className:"rounded-xl border border-emerald-100 bg-white shadow-sm",children:[(0,u.jsxs)("div",{className:"border-b border-emerald-50 px-4 py-3",children:[(0,u.jsx)("h2",{className:"text-sm font-semibold text-gray-800",children:"Recent executions"}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Click a row to see step details and full run timeline."})]}),(0,u.jsx)("div",{className:"max-h-[520px] overflow-auto",children:(0,u.jsxs)("table",{className:"min-w-full divide-y divide-gray-100 text-sm",children:[(0,u.jsx)("thead",{className:"bg-emerald-50",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-emerald-800",children:"Time"}),(0,u.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-emerald-800",children:"Origin"}),(0,u.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-emerald-800",children:"Step"}),(0,u.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-emerald-800",children:"Template"}),(0,u.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-emerald-800",children:"Contact"}),(0,u.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-wide text-emerald-800",children:"Result"})]})}),(0,u.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[0===b.length&&!N&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-3 py-4 text-center text-sm text-gray-500",children:"No executions found. Adjust filters and try again."})}),b.map((e=>{var t;const n=e.id===P;return(0,u.jsxs)("tr",{onClick:()=>(e=>{j(e)})(e),className:"cursor-pointer transition-colors hover:bg-emerald-50"+(n?" bg-emerald-50/70":""),children:[(0,u.jsx)("td",{className:"whitespace-nowrap px-3 py-2 text-xs text-gray-700",children:TI(e.executedAtUtc)}),(0,u.jsx)("td",{className:"whitespace-nowrap px-3 py-2 text-xs text-gray-700",children:MI(e.origin)}),(0,u.jsxs)("td",{className:"px-3 py-2 text-xs text-gray-800",children:[(0,u.jsx)("div",{className:"font-medium",children:e.stepName||"(no step name)"}),e.stepId&&(0,u.jsxs)("div",{className:"text-[11px] text-gray-500",children:[String(e.stepId).slice(0,8),"\u2026"]})]}),(0,u.jsxs)("td",{className:"px-3 py-2 text-xs text-gray-800",children:[(0,u.jsx)("div",{className:"font-medium",children:e.templateName||"-"}),e.templateType&&(0,u.jsx)("div",{className:"text-[11px] uppercase text-gray-500",children:e.templateType})]}),(0,u.jsxs)("td",{className:"px-3 py-2 text-xs text-gray-800",children:[(0,u.jsx)("div",{children:e.contactPhone||"-"}),e.triggeredByButton&&(0,u.jsxs)("div",{className:"text-[11px] text-emerald-600",children:["Button #",null!==(t=e.buttonIndex)&&void 0!==t?t:"-"]})]}),(0,u.jsx)("td",{className:"px-3 py-2 text-xs",children:(0,u.jsx)(II,{ok:e.success})})]},e.id)})),N&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"px-3 py-4 text-center text-sm text-gray-500",children:"Loading\u2026"})})]})]})})]}),(0,u.jsxs)("div",{className:"flex flex-col rounded-xl border border-emerald-100 bg-white p-4 shadow-sm",children:[(0,u.jsx)("h2",{className:"text-sm font-semibold text-gray-800",children:"Step details"}),!w&&(0,u.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Select a row from the table to see details and run timeline."}),w&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"mt-3 grid gap-3 text-xs text-gray-700 sm:grid-cols-2",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500",children:"Run"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"RunId:"})," ",(0,u.jsx)("span",{className:"break-all",children:w.runId})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"FlowId:"})," ",(0,u.jsx)("span",{className:"break-all",children:w.flowId||"\u2014"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"AutoReplyFlowId:"})," ",(0,u.jsx)("span",{className:"break-all",children:w.autoReplyFlowId||"\u2014"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"CampaignId:"})," ",(0,u.jsx)("span",{className:"break-all",children:w.campaignId||"\u2014"})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500",children:"Correlation"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"MessageLogId:"})," ",(0,u.jsx)("span",{className:"break-all",children:w.messageLogId||"\u2014"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"RequestId:"})," ",(0,u.jsx)("span",{className:"break-all",children:w.requestId||"\u2014"})]})]})]})]}),(0,u.jsxs)("div",{className:"mt-4 grid gap-3 text-xs text-gray-700 sm:grid-cols-2",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500",children:"Step"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Name:"})," ",w.stepName||"\u2014"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"StepId:"})," ",(0,u.jsx)("span",{className:"break-all",children:w.stepId||"\u2014"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Template:"})," ",w.templateName||"\u2014"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Type:"})," ",w.templateType||"\u2014"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Origin:"})," ",MI(w.origin)]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"mb-1 text-[11px] font-semibold uppercase tracking-wide text-gray-500",children:"Contact & Result"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Contact:"})," ",w.contactPhone||"\u2014"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Button:"})," ",w.triggeredByButton?"Button #".concat(null!==(t=w.buttonIndex)&&void 0!==t?t:"?"):"\u2014"]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"font-medium",children:"Result:"}),(0,u.jsx)(II,{ok:w.success})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Executed at:"})," ",TI(w.executedAtUtc)]}),w.errorMessage&&(0,u.jsx)("div",{className:"mt-1 text-rose-600",children:w.errorMessage})]})]})]}),(0,u.jsxs)("div",{className:"mt-5 border-t border-gray-100 pt-3",children:[(0,u.jsx)("h3",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Run timeline"}),k&&(0,u.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Loading\u2026"}),!k&&0===A.length&&(0,u.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"No additional steps found for this run."}),!k&&A.length>0&&(0,u.jsx)("ul",{className:"mt-2 max-h-40 space-y-1 overflow-y-auto text-xs",children:A.map((e=>(0,u.jsxs)("li",{className:"flex items-start gap-2 rounded-md px-1 py-1 hover:bg-emerald-50",children:[(0,u.jsx)("span",{className:"mt-1 h-2 w-2 rounded-full ".concat(e.success?"bg-emerald-500":"bg-rose-500")}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"font-medium text-gray-900",children:[TI(e.executedAtUtc)," \u2013"," ",e.stepName||"(no name)"]}),(0,u.jsxs)("div",{className:"text-[11px] text-gray-600",children:[e.templateName&&(0,u.jsx)("span",{children:e.templateName}),e.templateType&&(0,u.jsxs)("span",{className:"ml-1 uppercase",children:["(",e.templateType,")"]})," \xb7 ",MI(e.origin)]}),!e.success&&e.errorMessage&&(0,u.jsx)("div",{className:"mt-0.5 text-[11px] text-rose-600",children:e.errorMessage})]})]},e.id)))})]}),(0,u.jsxs)("div",{className:"mt-5 border-t border-gray-100 pt-3",children:[(0,u.jsx)("h3",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Raw provider response"}),(0,u.jsx)("pre",{className:"mt-2 max-h-48 overflow-auto rounded-md bg-gray-900 p-3 text-xs text-emerald-50",children:w.rawResponse?w.rawResponse:"// No RawResponse stored for this step."})]})]})]})]})]})}function DI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function LI(e){let{tags:t=[],className:n}=e;return null!==t&&void 0!==t&&t.length?(0,u.jsx)("div",{className:DI("flex flex-wrap gap-2",n),children:t.map((e=>(0,u.jsx)("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1 text-[11px] font-semibold text-slate-700",children:e},e)))}):null}const FI=(0,_.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function BI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function zI(t){let{content:n,formatLabel:r="SQL",defaultCollapsedLines:o=12}=t;const[i,s]=(0,e.useState)(!1),l=(0,e.useMemo)((()=>String(n||"").split(/\r?\n/)),[n]),c=l.length>o,d=(0,e.useMemo)((()=>c?i?String(n||""):l.slice(0,o).join("\n"):String(n||"")),[n,o,i,l,c]);return(0,u.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-950 text-slate-50 shadow-sm overflow-hidden",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 px-4 py-2.5 border-b border-slate-800 bg-slate-900/60",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsxs)("span",{className:"inline-flex items-center rounded-full bg-purple-500/15 px-2 py-0.5 text-[11px] font-bold tracking-wide text-purple-200 border border-purple-400/20",children:["Format: ",r]}),c?(0,u.jsx)("span",{className:"text-[11px] text-slate-300",children:i?"".concat(l.length," lines"):"Showing ".concat(o," / ").concat(l.length," lines")}):null]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[c?(0,u.jsx)("button",{type:"button",onClick:()=>s((e=>!e)),className:"inline-flex items-center gap-1.5 rounded-xl border border-slate-700 bg-slate-900 px-2.5 py-1.5 text-xs font-semibold text-slate-200 hover:bg-slate-800",children:i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(FI,{className:"h-4 w-4"}),"Collapse"]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ae.A,{className:"h-4 w-4"}),"Expand"]})}):null,(0,u.jsxs)("button",{type:"button",onClick:async()=>{try{await async function(e){var t,n;if(!e)return;if(null!==(t=navigator)&&void 0!==t&&null!==(n=t.clipboard)&&void 0!==n&&n.writeText)return void await navigator.clipboard.writeText(e);const r=document.createElement("textarea");r.value=e,r.setAttribute("readonly","true"),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)}(String(n||"")),a.oR.success("Copied to clipboard",{autoClose:900})}catch(Jg){console.error(Jg),a.oR.error("Failed to copy",{autoClose:1200})}},className:BI("inline-flex items-center gap-2 rounded-xl bg-purple-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-purple-700","focus:outline-none focus:ring-2 focus:ring-purple-300 focus:ring-offset-2 focus:ring-offset-slate-900"),title:"Copy to clipboard",children:[(0,u.jsx)(bS.A,{className:"h-4 w-4"}),"Copy"]})]})]}),(0,u.jsxs)("pre",{className:"m-0 p-4 text-[12px] leading-5 overflow-auto max-h-[420px]",children:[(0,u.jsx)("code",{children:d}),!i&&c?(0,u.jsx)("div",{className:"mt-3 text-[11px] text-slate-400",children:(0,u.jsx)("span",{className:"opacity-80",children:"\u2026"})}):null]})]})}function UI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function VI(e){let{note:t}=e;return t?(0,u.jsxs)(fo,{className:"p-5 rounded-3xl border border-slate-200 shadow-sm bg-white",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,u.jsxs)("div",{className:"min-w-0",children:[(0,u.jsx)("h3",{className:"text-lg font-bold text-slate-900 truncate",children:t.title}),t.appliesTo?(0,u.jsxs)("p",{className:"mt-1 text-xs font-semibold text-slate-500",children:["Applies to:"," ",(0,u.jsx)("span",{className:"text-slate-700 font-semibold",children:t.appliesTo})]}):null]}),(0,u.jsx)("div",{className:"shrink-0",children:(0,u.jsx)("span",{className:UI("inline-flex items-center rounded-full px-2.5 py-1 text-[11px] font-bold tracking-wide border","sql"===t.type?"bg-purple-50 text-purple-700 border-purple-200":"bg-slate-50 text-slate-700 border-slate-200"),children:String(t.type||"text").toUpperCase()})})]}),(0,u.jsxs)("div",{className:"mt-3",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"When to use"}),(0,u.jsx)("p",{className:"mt-1 text-sm text-slate-700 leading-relaxed",children:t.whenToUse||"-"})]}),(0,u.jsx)(LI,{tags:t.tags,className:"mt-4"}),"sql"===t.type?(0,u.jsx)("div",{className:"mt-4",children:(0,u.jsx)(zI,{content:t.content,formatLabel:"SQL"})}):(0,u.jsxs)("div",{className:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"Note"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-slate-800 leading-relaxed whitespace-pre-wrap",children:t.content})]})]}):null}const WI=[{id:"db-indexes-hot-tables",title:"List indexes for hot tables",type:"sql",tags:["DB","Indexes","SanityCheck"],appliesTo:"Postgres",whenToUse:"Use this when a query suddenly slows down or after a migration. It helps quickly confirm which indexes exist on our most frequently queried tables.",content:"SELECT tablename, indexname, indexdef\nFROM pg_indexes\nWHERE schemaname = 'public'\n  AND tablename IN ('MessageLogs', 'CampaignSendLogs', 'CampaignRecipients', 'Contacts', 'ContactReads')\nORDER BY tablename, indexname;",relatedTables:["MessageLogs","CampaignSendLogs","CampaignRecipients","Contacts","ContactReads"]},{id:"db-indexes-duplicate-defs",title:"Detect duplicate indexes (same definition, different names)",type:"sql",tags:["DB","Indexes","Duplicates"],appliesTo:"Postgres",whenToUse:"Use this after repeated migrations/patches or emergency production fixes. Duplicate indexes waste disk and slow writes.",content:"SELECT\n  tablename,\n  regexp_replace(indexdef, 'INDEX\\s+\\S+\\s+', 'INDEX <name> ', 'i') AS normalized_def,\n  count(*) AS copies,\n  array_agg(indexname ORDER BY indexname) AS names\nFROM pg_indexes\nWHERE schemaname='public'\n  AND tablename IN ('MessageLogs','CampaignSendLogs','Contacts','ContactReads')\nGROUP BY tablename, normalized_def\nHAVING count(*) > 1\nORDER BY copies DESC;",relatedTables:["MessageLogs","CampaignSendLogs","Contacts","ContactReads"]},{id:"db-index-sizes-usage",title:"Index sizes + usage scan counts",type:"sql",tags:["DB","Indexes","Performance"],appliesTo:"Postgres",whenToUse:"Use this when disk usage grows or you suspect an index isn't being used. High size + low scan count can indicate a candidate for removal or redesign.",content:"SELECT\n  t.relname AS table_name,\n  i.relname AS index_name,\n  pg_size_pretty(pg_relation_size(i.oid)) AS index_size,\n  idx_scan\nFROM pg_class t\nJOIN pg_index ix ON t.oid = ix.indrelid\nJOIN pg_class i ON i.oid = ix.indexrelid\nLEFT JOIN pg_stat_user_indexes s ON s.indexrelid = i.oid\nWHERE t.relname IN ('MessageLogs','CampaignSendLogs','Contacts','ContactReads')\nORDER BY pg_relation_size(i.oid) DESC;",relatedTables:["MessageLogs","CampaignSendLogs","Contacts","ContactReads"]},{id:"db-analyze-after-index",title:"Refresh planner stats after index changes",type:"sql",tags:["DB","Analyze","Performance"],appliesTo:"Postgres",whenToUse:"Use this after adding/removing indexes or backfilling large amounts of data so the planner has accurate statistics.",content:'ANALYZE "MessageLogs";\nANALYZE "CampaignSendLogs";',relatedTables:["MessageLogs","CampaignSendLogs"]},{id:"db-explain-template",title:"EXPLAIN template for verifying index usage",type:"sql",tags:["DB","Explain","Performance"],appliesTo:"Postgres",whenToUse:"Use this when verifying whether a specific index is used by a production query. Replace the placeholder SQL with the exact statement your service runs (with real values).",content:"EXPLAIN (ANALYZE, BUFFERS)\n-- paste the exact SQL your service runs, with real values filled in\nSELECT 1;"},{id:"rule-index-source-of-truth",title:"Rule of thumb: one source of truth for indexes",type:"text",tags:["EFCore","Migrations","Indexes"],appliesTo:"EF Core / Postgres",whenToUse:"Use this when planning schema changes, reviewing migrations, or doing production hotfixes that touch indexes.",content:"Keep index definitions centralized (prefer IEntityTypeConfiguration per entity). Avoid manually dropping indexes before EF migrations that rename/drop them. Prefer DROP INDEX IF EXISTS in cleanup migrations; use CONCURRENTLY with suppressTransaction in prod."}],HI=(0,_.A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);function qI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function KI(t){let{title:n,code:r,note:o}=t;const[i,a]=(0,e.useState)(!1);return(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[n?(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 border-b border-slate-200 px-5 py-3",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-900",children:n}),(0,u.jsxs)("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(r),a(!0),setTimeout((()=>a(!1)),1200)}catch(e){const t=document.createElement("textarea");t.value=r,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),a(!0),setTimeout((()=>a(!1)),1200)}},className:qI("inline-flex items-center gap-2 rounded-2xl px-3 py-1.5 text-xs font-semibold border shadow-sm transition-colors",i?"bg-emerald-600 text-white border-emerald-600":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),title:"Copy command",children:[i?(0,u.jsx)(hA.A,{className:"h-4 w-4"}):(0,u.jsx)(bS.A,{className:"h-4 w-4"}),i?"Copied":"Copy"]})]}):null,(0,u.jsxs)("div",{className:"px-5 py-4",children:[(0,u.jsx)("pre",{className:"whitespace-pre-wrap break-words rounded-2xl bg-slate-950 text-slate-100 p-4 text-xs leading-relaxed overflow-auto",children:r}),o?(0,u.jsx)("div",{className:"mt-3 text-xs text-slate-600",children:o}):null]})]})}function GI(e){let{icon:t,title:n,subtitle:r}=e;return(0,u.jsxs)("div",{className:"flex items-start gap-3",children:[(0,u.jsx)("div",{className:"mt-0.5 rounded-2xl bg-slate-900 text-white p-2 shadow-sm",children:(0,u.jsx)(t,{className:"h-4 w-4"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:n}),r?(0,u.jsx)("p",{className:"mt-1 text-sm text-slate-600 max-w-3xl",children:r}):null]})]})}function YI(e){let{children:t,tone:n="neutral"}=e;const r="warn"===n?"bg-amber-50 border-amber-200 text-amber-800":"ok"===n?"bg-emerald-50 border-emerald-200 text-emerald-800":"danger"===n?"bg-rose-50 border-rose-200 text-rose-800":"bg-slate-50 border-slate-200 text-slate-700";return(0,u.jsx)("div",{className:qI("rounded-2xl border px-4 py-3 text-sm",r),children:t})}function XI(){const t=(0,e.useMemo)((()=>({title:"XploreByte VPS Incident Runbook (Docker + Coolify)",intro:"Use this when CPU/RAM/traffic spikes happen. Goal: identify the guilty container, stabilize fast, and apply fixes so it doesn\u2019t repeat."})),[]);return(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6",children:(0,u.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:t.title}),(0,u.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:t.intro})]}),(0,u.jsx)("div",{className:"hidden sm:flex items-center gap-2",children:(0,u.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1.5 text-xs font-semibold text-slate-700",children:[(0,u.jsx)(dS.A,{className:"h-4 w-4"}),"Future-You Friendly"]})})]})}),(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6 space-y-3",children:[(0,u.jsx)(GI,{icon:dS.A,title:"0) Golden Rules (Read first)",subtitle:"These prevent making a bad situation worse."}),(0,u.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,u.jsx)(YI,{tone:"ok",children:"\u2705 Always identify the guilty container before stopping anything."}),(0,u.jsx)(YI,{tone:"neutral",children:"\ud83e\udde0 Prefer stopping via Coolify UI if it\u2019s a Coolify-managed app (it may auto-recreate)."}),(0,u.jsx)(YI,{tone:"warn",children:"\u26a0\ufe0f Don\u2019t randomly restart Docker unless you understand impact \u2014 it will restart containers and can cause downtime."}),(0,u.jsx)(YI,{tone:"danger",children:"\ud83e\udde8 If disk is full (or inode-exhausted), everything gets weird. Fix storage/logs first."})]})]}),(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6 space-y-5",children:[(0,u.jsx)(GI,{icon:T.A,title:"A) Quick Triage (2 minutes)",subtitle:"Find out what\u2019s burning: CPU, RAM, disk, logs, or traffic."}),(0,u.jsx)(KI,{title:"Step A1 \u2014 Check system load (host level)",code:"uptime",note:"If load average is much higher than your CPU cores, the VPS is overloaded."}),(0,u.jsx)(KI,{title:"Step A2 \u2014 See who is eating CPU/RAM (host)",code:"top -o %CPU",note:"Press: Shift+M to sort by RAM. If you see dockerd/containerd dominating, it\u2019s probably a container issue."}),(0,u.jsx)(KI,{title:"Step A3 \u2014 Identify the guilty container (most important)",code:"docker stats --no-stream",note:"Look for: CPU very high, MEM huge, PIDS very high, NET I/O spikes, Block I/O huge."})]}),(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6 space-y-5",children:[(0,u.jsx)(GI,{icon:st.A,title:"B) Find Root Cause (choose matching path)",subtitle:"Pick the scenario that matches what you saw in docker stats."}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Case 1 \u2014 One container has crazy CPU (like 200%+)"}),(0,u.jsx)(KI,{title:"Step B1.1 \u2014 Identify the container image + ports quickly",code:'docker ps --format "table {{.Names}}\\t{{.Image}}\\t{{.Ports}}"',note:"Find the row for the container name you saw in docker stats."}),(0,u.jsx)(KI,{title:"Step B1.2 \u2014 Check logs (usually reveals loop/crash)",code:"docker logs --tail 200 <container_name>",note:"Common patterns: infinite retries, exception spam, restart loops, router conflicts, or DB connection loops."}),(0,u.jsxs)(YI,{tone:"neutral",children:["\ud83d\udd0e Tip: If logs are spamming too fast, tail smaller first:",(0,u.jsx)("div",{className:"mt-2 font-mono text-xs bg-slate-950 text-slate-100 rounded-2xl p-3",children:"docker logs --tail 50 <container_name>"})]})]}),(0,u.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[(0,u.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Case 2 \u2014 Container is eating huge RAM (8GB\u201312GB)"}),(0,u.jsx)(KI,{title:"Step B2.1 \u2014 Confirm memory pressure",code:"free -h",note:"If available memory is tiny and used is huge, you\u2019re under memory pressure."}),(0,u.jsx)(KI,{title:"Step B2.2 \u2014 Check if the host is swapping (bad sign)",code:"swapon --show",note:"If swap is actively used, performance can collapse."}),(0,u.jsx)(KI,{title:"Step B2.3 \u2014 Check container logs for memory leak pattern",code:"docker logs --tail 200 <container_name>",note:"Common causes: Next.js dev mode/watchers, unbounded caching, memory leak, runaway background loop."})]}),(0,u.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[(0,u.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Case 3 \u2014 CPU is high but docker stats looks \u201cnormal\u201d"}),(0,u.jsx)(KI,{title:"Step B3.1 \u2014 Check inbound connections",code:"sudo ss -tunap | head -n 60",note:"Shows active sockets and which process owns the port (helpful to detect hammering/bots)."}),(0,u.jsx)(KI,{title:"Step B3.2 \u2014 Top ports by connection count",code:"sudo ss -tan | awk '{print $4}' | cut -d: -f2 | sort | uniq -c | sort -nr | head",note:"Tells which local ports are getting hit most (80/443/8080/5432 etc)."}),(0,u.jsx)(KI,{title:"Step B3.3 \u2014 Top remote IPs (who is connecting most)",code:"sudo ss -tan | awk '{print $5}' | cut -d: -f1 | sort | uniq -c | sort -nr | head",note:"If one IP is spamming, you can block it (firewall) or rate-limit at reverse proxy."})]}),(0,u.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[(0,u.jsx)("div",{className:"text-sm font-bold text-slate-900",children:"Case 4 \u2014 \u201cENOSPC\u201d / No space left on device (in logs)"}),(0,u.jsx)(YI,{tone:"warn",children:"ENOSPC can mean: disk is full OR inodes are exhausted OR Docker logs grew insanely."}),(0,u.jsx)(KI,{title:"Step B4.1 \u2014 Check disk & inode usage",code:"df -h\n\ndf -i",note:"df -h: disk usage. df -i: inode usage (tons of tiny files can exhaust inodes even with free GBs)."}),(0,u.jsx)(KI,{title:"Step B4.2 \u2014 Docker disk usage",code:"docker system df",note:"Shows how much space images/volumes/build cache are consuming."}),(0,u.jsx)(KI,{title:"Step B4.3 \u2014 Find huge docker json logs (over 200MB)",code:'sudo find /var/lib/docker/containers/ -name "*-json.log" -size +200M -exec ls -lh {} \\;',note:"Finds big log files that can silently eat disk."}),(0,u.jsx)(KI,{title:"Step B4.4 \u2014 Truncate huge logs safely (keeps containers running)",code:'sudo find /var/lib/docker/containers/ -name "*-json.log" -size +200M -exec truncate -s 0 {} \\;',note:"This empties log files in-place. Containers keep running, but old logs are gone."})]})]}),(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6 space-y-5",children:[(0,u.jsx)(GI,{icon:T.A,title:"C) Stabilize the VPS (Stop the fire)",subtitle:"Once you know the culprit, stabilize first. Then fix permanently."}),(0,u.jsxs)(YI,{tone:"neutral",children:["Preferred: **Stop the app in Coolify UI** (so it doesn\u2019t auto-recreate immediately).",(0,u.jsx)("br",{}),"If UI isn\u2019t accessible, do an emergency stop via Docker."]}),(0,u.jsx)(KI,{title:"Emergency stop (Docker)",code:"docker stop <container_name>",note:"Stops only the target container. Safer than restarting Docker."}),(0,u.jsx)(KI,{title:"If Coolify keeps recreating broken containers (last resort)",code:"docker stop coolify",note:"This will stop Coolify itself, so use only when you must stabilize urgently."})]}),(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6 space-y-5",children:[(0,u.jsx)(GI,{icon:HI,title:"D) Permanent Fixes (so it doesn\u2019t repeat)",subtitle:"Do these after stabilization."}),(0,u.jsx)(KI,{title:"Fix D1 \u2014 Docker log rotation (prevents log storms forever)",code:"sudo nano /etc/docker/daemon.json",note:"Ensure you have log rotation settings, then restart Docker."}),(0,u.jsx)(KI,{title:"Example daemon.json (safe baseline)",code:'{\n  "log-driver": "json-file",\n  "log-opts": {\n    "max-size": "10m",\n    "max-file": "3"\n  }\n}',note:"This caps log growth per container. Old logs rotate automatically."}),(0,u.jsx)(KI,{title:"Apply log config",code:'sudo systemctl restart docker\n\ndocker info | grep -i "Logging Driver"',note:"Restarting Docker can restart containers. Plan for a maintenance window if needed."}),(0,u.jsxs)(YI,{tone:"neutral",children:["Also recommended in Coolify:",(0,u.jsxs)("ul",{className:"list-disc pl-5 mt-2 text-sm",children:[(0,u.jsx)("li",{children:"Set CPU/RAM limits per app"}),(0,u.jsx)("li",{children:"Ensure Next.js runs in production (not dev/watch)"}),(0,u.jsx)("li",{children:"Disable anything you don\u2019t need (extra realtime/monitor services)"})]})]})]}),(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6 space-y-5",children:[(0,u.jsx)(GI,{icon:dS.A,title:"E) \u201cIf this happens again\u201d \u2014 One-page checklist",subtitle:"A short repeatable flow you can run fast."}),(0,u.jsx)(KI,{title:"1) Identify culprit",code:"docker stats --no-stream",note:"Find the container with abnormal CPU/MEM/PIDS/NET."}),(0,u.jsx)(KI,{title:"2) Check logs",code:"docker logs --tail 200 <container_name>",note:"Look for loops: ENOSPC, restart loops, router conflict, DB retry storms."}),(0,u.jsx)(KI,{title:"3) Check disk/inodes (if ENOSPC or weirdness)",code:"df -h\n\ndf -i\n\ndocker system df",note:"If logs are huge, truncate safely."}),(0,u.jsx)(KI,{title:"4) Stop the fire",code:"docker stop <container_name>",note:"Preferred is to stop via Coolify UI (if it\u2019s a Coolify-managed app)."}),(0,u.jsx)(KI,{title:"5) Apply prevention",code:'sudo find /var/lib/docker/containers/ -name "*-json.log" -size +200M -exec truncate -s 0 {} \\;\n\nsudo nano /etc/docker/daemon.json\n\nsudo systemctl restart docker',note:"Rotation prevents future log explosions. Restart Docker only when you understand impact."})]})]})}function $I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function ZI(e){return String(e||"").toLowerCase()}function JI(){const t=(0,i.Zp)(),{role:n,hasAllAccess:r,isLoading:o,entLoading:a}=(0,l.h)()||{},s=String(n||"").toLowerCase(),c=r||"superadmin"===s,[d,p]=(0,e.useState)(""),[f,h]=(0,e.useState)([]),[m,g]=(0,e.useState)("developerNotes"),v=(0,e.useMemo)((()=>{const e=new Set;for(const t of WI)for(const n of t.tags||[])e.add(n);return Array.from(e).sort(((e,t)=>e.localeCompare(t)))}),[]),x=(0,e.useMemo)((()=>{const e=ZI(d).trim(),t=new Set(f);return WI.filter((n=>{if(t.size){if(!(Array.isArray(n.tags)?n.tags:[]).some((e=>t.has(e))))return!1}if(!e)return!0;const r=function(e){const t=Array.isArray(null===e||void 0===e?void 0:e.tags)?e.tags.join(" "):"";return ZI([null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.whenToUse,null===e||void 0===e?void 0:e.appliesTo,t,null===e||void 0===e?void 0:e.content,Array.isArray(null===e||void 0===e?void 0:e.relatedTables)?e.relatedTables.join(" "):""].filter(Boolean).join("\n"))}(n);return r.includes(e)}))}),[f,d]);if(o||a)return null;if(!c)return(0,u.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,u.jsx)("div",{className:"mx-auto max-w-3xl px-4 py-10",children:(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-8",children:[(0,u.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Access denied"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Developer Notes is only available to superadmin users."}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("button",{type:"button",onClick:()=>t("/app/dashboard"),className:"inline-flex items-center rounded-2xl bg-purple-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-purple-700",children:"Back to dashboard"})})]})})});return(0,u.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,u.jsx)("div",{className:"mx-auto max-w-6xl px-4 py-8 space-y-6",children:(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-6",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Developer Notes"}),(0,u.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:"Internal sanity checks, SQL snippets, and engineering decisions"})]}),(0,u.jsxs)("div",{className:"text-xs font-semibold text-slate-500",children:[x.length," / ",WI.length," notes"]})]}),(0,u.jsx)("div",{className:"mt-5",children:(0,u.jsxs)("nav",{className:"flex space-x-4 border-b border-gray-200 mb-6",children:[(0,u.jsx)("button",{onClick:()=>g("developerNotes"),className:$I("py-2 px-4 text-sm font-medium rounded-t-lg border-b-2","developerNotes"===m?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Developer Notes"}),(0,u.jsx)("button",{onClick:()=>g("serverTroubleshooting"),className:$I("py-2 px-4 text-sm font-medium rounded-t-lg border-b-2","serverTroubleshooting"===m?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Server Troubleshooting"})]})}),"developerNotes"===m&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"mt-5 flex flex-col gap-3",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsxs)("div",{className:"flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 shadow-sm",children:[(0,u.jsx)(Jr.A,{className:"h-4 w-4 text-slate-400"}),(0,u.jsx)("input",{value:d,onChange:e=>p(e.target.value),placeholder:"Search title, description, tags, or query text...",className:"w-full outline-none text-sm text-slate-900"}),d?(0,u.jsx)("button",{type:"button",onClick:()=>p(""),className:"rounded-lg p-1 text-slate-500 hover:bg-slate-100",title:"Clear search",children:(0,u.jsx)(Pe.A,{className:"h-4 w-4"})}):null]})}),f.length?(0,u.jsxs)("button",{type:"button",onClick:()=>h([]),className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:[(0,u.jsx)(Pe.A,{className:"h-4 w-4"}),"Clear filters"]}):null]}),(0,u.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map((e=>{const t=f.includes(e);return(0,u.jsx)("button",{type:"button",onClick:()=>(e=>{h((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e),className:$I("inline-flex items-center rounded-full px-3 py-1.5 text-xs font-semibold border transition-colors",t?"bg-purple-600 text-white border-purple-600":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"),children:e},e)}))})]}),0===x.length?(0,u.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white shadow-sm p-10 text-center",children:[(0,u.jsx)("div",{className:"text-lg font-bold text-slate-900",children:"No notes found"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Try a different search term or clear filters."})]}):(0,u.jsx)("div",{className:"grid grid-cols-1 gap-5",children:x.map((e=>(0,u.jsx)(VI,{note:e},e.id)))})]}),"serverTroubleshooting"===m&&(0,u.jsx)("div",{className:"mt-5",children:(0,u.jsx)(XI,{})})]})})})}var QI=n(4596);const eR=(0,_.A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),tR=(0,_.A)("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);function nR(e){let{icon:t,title:n,subtitle:r,actions:o}=e;return(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[t?(0,u.jsx)(t,{className:"h-5 w-5 text-indigo-600"}):null,(0,u.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:n})]}),r?(0,u.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:r}):null]}),o?(0,u.jsx)("div",{className:"flex items-center gap-2",children:o}):null]})}function rR(e){let{left:t,right:n,className:r=""}=e;return(0,u.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm px-4 py-3 flex flex-wrap items-center justify-between gap-3 ".concat(r),children:[(0,u.jsx)("div",{className:"flex items-center gap-2",children:t}),(0,u.jsx)("div",{className:"flex items-center gap-2",children:n})]})}const oR={active:"bg-emerald-100 text-emerald-700 border-emerald-200",inactive:"bg-rose-100 text-rose-700 border-rose-200",hold:"bg-rose-100 text-rose-700 border-rose-200",pending:"bg-amber-100 text-amber-700 border-amber-200",rejected:"bg-slate-100 text-slate-700 border-slate-200",unknown:"bg-slate-100 text-slate-700 border-slate-200"};function iR(e){var t;let{isActive:n,status:r}=e;const o="boolean"===typeof n?n?"active":"inactive":function(e){const t=String(e||"").trim().toLowerCase();return t?"active"===t?"active":"inactive"===t?"inactive":"hold"===t?"hold":"pending"===t?"pending":"rejected"===t?"rejected":t:"unknown"}(r),i=null!==(t=oR[o])&&void 0!==t?t:oR.unknown,a="boolean"===typeof n?n?"Active":"Inactive":r||"Unknown",s="active"===o?"bg-emerald-500":"inactive"===o||"hold"===o?"bg-rose-500":"pending"===o?"bg-amber-500":"bg-slate-400";return(0,u.jsxs)("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat(i),children:[(0,u.jsx)("span",{className:"h-1.5 w-1.5 rounded-full ".concat(s)}),a]})}function aR(e){let{id:t,label:n,active:r,onClick:o,disabled:i}=e;return(0,u.jsx)("button",{type:"button",disabled:i,onClick:()=>o(t),className:"relative px-3 py-2 text-xs font-medium border-b-2 -mb-px transition-colors disabled:opacity-60 ".concat(r?"border-indigo-500 text-slate-900":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-200"),children:n})}function sR(e){let{tabs:t,activeTab:n,onChange:r}=e;return(0,u.jsx)("div",{className:"flex items-center gap-4 border-b border-slate-200 pl-1",children:(t||[]).map((e=>(0,u.jsx)(aR,{id:e.id,label:e.label,active:n===e.id,onClick:r,disabled:e.disabled},e.id)))})}function lR(e){let{title:t,subtitle:n,actions:r,infoBar:o,minHeight:i,children:a,className:s="",bodyClassName:l=""}=e;return(0,u.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col ".concat(i||""," ").concat(s),children:[(t||n||r)&&(0,u.jsxs)("div",{className:"px-4 pt-3 pb-2 border-b border-slate-100 flex items-center justify-between",children:[(0,u.jsxs)("div",{children:[t?(0,u.jsx)("p",{className:"text-xs font-semibold text-slate-800 uppercase tracking-wide",children:t}):null,n?(0,u.jsx)("p",{className:"text-xs text-slate-500",children:n}):null]}),r?(0,u.jsx)("div",{className:"flex items-center gap-2",children:r}):null]}),o?(0,u.jsxs)("div",{className:"px-4 py-2 border-b border-sky-100 bg-[#EBFFFF] flex items-center justify-between rounded-t-lg",children:[(0,u.jsx)("div",{className:"flex items-center gap-2 text-xs text-indigo-900",children:o.left}),o.right?(0,u.jsx)("div",{children:o.right}):null]}):null,(0,u.jsx)("div",{className:"flex-1 min-h-0 ".concat(l),children:a})]})}function cR(e){let{columns:t=[],rows:n=[],loading:r=!1,emptyText:o="No records found.",rowKey:i=e=>null===e||void 0===e?void 0:e.id}=e;return(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full text-xs",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{className:"border-b border-slate-100 text-[11px] text-slate-500",children:t.map((e=>(0,u.jsx)("th",{className:"py-1.5 px-3 text-left font-medium ".concat(e.headerClassName||""),children:e.label},e.key)))})}),(0,u.jsx)("tbody",{children:r?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"py-6 px-3 text-slate-400",colSpan:t.length||1,children:"Loading\u2026"})}):n&&0!==n.length?n.map(((e,n)=>{var r;return(0,u.jsx)("tr",{className:"border-b border-slate-50 hover:bg-slate-50/60",children:t.map((t=>(0,u.jsx)("td",{className:"py-1.5 px-3 align-top ".concat(t.className||""),children:"function"===typeof t.render?t.render(e):null},t.key)))},null!==(r=i(e))&&void 0!==r?r:n)})):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"py-6 px-3 text-slate-400",colSpan:t.length||1,children:o})})})]})})}async function dR(e,t,n){var r;let o;for(const a of t)try{if("get"===e)return await c.default.get(a);if("post"===e)return await c.default.post(a,n);if("put"===e)return await c.default.put(a,n);if("patch"===e)return await c.default.patch(a,n);throw new Error("Unsupported method: ".concat(e))}catch(oD){var i;const t=null===oD||void 0===oD||null===(i=oD.response)||void 0===i?void 0:i.status;if(404===t||405===t){o=oD;continue}throw oD}throw null!==(r=o)&&void 0!==r?r:new Error("No valid API path responded successfully.")}async function uR(){return dR("get",["/TeamStaff","/teamstaff"])}async function pR(){return dR("get",["/TeamStaff/roles","/teamstaff/roles"])}function fR(e){var t,n,r,o,i;const a=null!==(t=null!==(n=null!==(r=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)&&void 0!==r?r:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.Data)&&void 0!==n?n:null===e||void 0===e?void 0:e.data)&&void 0!==t?t:e;return Array.isArray(a)?a:[]}function hR(e){var t,n,r,o,i;return{id:null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null===e||void 0===e?void 0:e.Id,name:null!==(n=null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:null===e||void 0===e?void 0:e.Name)&&void 0!==n?n:"",isActive:null===(o=null!==(i=null===e||void 0===e?void 0:e.isActive)&&void 0!==i?i:null===e||void 0===e?void 0:e.IsActive)||void 0===o||o}}function mR(e){var t,n,r,o,i,a,s,l,c,d,u,p,f,h;return{id:null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null===e||void 0===e?void 0:e.Id,name:null!==(n=null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:null===e||void 0===e?void 0:e.Name)&&void 0!==n?n:"",email:null!==(o=null!==(i=null===e||void 0===e?void 0:e.email)&&void 0!==i?i:null===e||void 0===e?void 0:e.Email)&&void 0!==o?o:"",roleId:null!==(a=null===e||void 0===e?void 0:e.roleId)&&void 0!==a?a:null===e||void 0===e?void 0:e.RoleId,roleName:null!==(s=null!==(l=null===e||void 0===e?void 0:e.roleName)&&void 0!==l?l:null===e||void 0===e?void 0:e.RoleName)&&void 0!==s?s:"",status:null!==(c=null!==(d=null===e||void 0===e?void 0:e.status)&&void 0!==d?d:null===e||void 0===e?void 0:e.Status)&&void 0!==c?c:"",createdAt:null!==(u=null===e||void 0===e?void 0:e.createdAt)&&void 0!==u?u:null===e||void 0===e?void 0:e.CreatedAt,updatedAt:null!==(p=null!==(f=null!==(h=null===e||void 0===e?void 0:e.updatedAt)&&void 0!==h?h:null===e||void 0===e?void 0:e.UpdatedAt)&&void 0!==f?f:null===e||void 0===e?void 0:e.lastUpdatedAt)&&void 0!==p?p:null===e||void 0===e?void 0:e.LastUpdatedAt}}const gR={id:"",name:"",email:"",password:"",roleId:""};function vR(){const{can:t,hasAllAccess:n}=(0,l.h)(),r=!!n||"function"===typeof t&&(t(v.FK.SETTINGS_STAFF_MANAGEMENT)||t(v.FK.SETTINGS_TEAM_STAFF_MANAGEMENT)||t("teamstaff.view")),o=!!n||"function"===typeof t&&(t(v.FK.SETTINGS_STAFF_MANAGEMENT)||t(v.FK.SETTINGS_TEAM_STAFF_MANAGEMENT)||t("teamstaff.manage")),[i,c]=(0,e.useState)("list"),[d,p]=(0,e.useState)([]),[f,h]=(0,e.useState)("all"),[m,g]=(0,e.useState)([]),[x,y]=(0,e.useState)(!1),[w,j]=(0,e.useState)(null),[N,S]=(0,e.useState)(gR),[A,E]=(0,e.useState)("create"),[k,C]=(0,e.useState)(!1),[_,P]=(0,e.useState)(""),O=async()=>{y(!0);try{const[e,t]=await Promise.all([uR(),pR().catch((()=>null))]),n=fR(e).map(mR).filter((e=>e.id));g(n);const r=t?fR(t).map(hR):[];p(r.filter((e=>e.id&&e.name)))}catch(oD){var e,t;console.error(oD),a.oR.error((null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load Team Staff.")}finally{y(!1)}};(0,e.useEffect)((()=>{r&&O()}),[r]);const T=(0,e.useMemo)((()=>{const e=m||[];return"all"===f?e:e.filter((e=>String(e.roleId||"")===String(f)))}),[m,f]),M=(0,e.useMemo)((()=>"all"===f?null:(d||[]).find((e=>String(e.id)===String(f)))||null),[d,f]),I=async(e,t)=>{if(!o)return;if(window.confirm("Active"===t?"Activate ".concat(e.name||"this user","?"):"Put ".concat(e.name||"this user"," on Hold?"))){j(e.id);try{await async function(e,t){const n="newStatus=".concat(encodeURIComponent(t));return dR("patch",["/TeamStaff/".concat(e,"/status?").concat(n),"/teamstaff/".concat(e,"/status?").concat(n)])}(e.id,t),a.oR.success("Active"===t?"User activated.":"User set to Hold."),await O()}catch(oD){var n,r;console.error(oD),a.oR.error((null===oD||void 0===oD||null===(n=oD.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Status update failed.")}finally{j(null)}}},R=(0,e.useMemo)((()=>[{id:"list",label:"Staff list"},{id:"edit",label:"Create / edit staff",disabled:!o},{id:"audit",label:"Status & audit"}]),[o]);return r?(0,u.jsxs)("div",{className:"flex flex-col gap-4 px-4 bg-[#f5f6f7] min-h-[calc(100vh-80px)]",children:[(0,u.jsx)(nR,{icon:to,title:"Team Staff",subtitle:"Create staff users, assign roles, and activate/deactivate access.",actions:(0,u.jsxs)("button",{type:"button",onClick:()=>{E("create"),S(gR),c("edit")},disabled:!o,className:"inline-flex items-center gap-1.5 rounded-md bg-emerald-400 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-emerald-500 disabled:opacity-60",children:[(0,u.jsx)(uS.A,{className:"h-4 w-4"}),"Staff User"]})}),(0,u.jsx)(rR,{left:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(to,{className:"h-4 w-4 text-indigo-500"}),(0,u.jsx)("span",{className:"text-xs text-slate-500",children:"Filter"}),(0,u.jsxs)("select",{className:"min-w-[220px] rounded-md border border-slate-200 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",value:f,onChange:e=>h(e.target.value),disabled:x,children:[(0,u.jsx)("option",{value:"all",children:"All staff"}),(d||[]).map((e=>(0,u.jsx)("option",{value:e.id,children:e.name},e.id)))]}),M?(0,u.jsx)(iR,{isActive:!!M.isActive}):null]}),right:(0,u.jsxs)("button",{type:"button",onClick:O,className:"inline-flex items-center gap-1 rounded-md border border-slate-200 px-2.5 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:x,children:[x?(0,u.jsx)(s.A,{className:"h-3.5 w-3.5 animate-spin"}):(0,u.jsx)(pt.A,{className:"h-3.5 w-3.5"}),"Refresh"]})}),(0,u.jsx)(sR,{tabs:R,activeTab:i,onChange:c}),(0,u.jsxs)("div",{className:"flex-1 min-h-0 pt-3 flex flex-col gap-3 pl-4 pr-2",children:["list"===i?(0,u.jsx)(lR,{title:"Staff list",subtitle:"Manage staff accounts for your workspace.",minHeight:"min-h-[220px]",bodyClassName:"px-4 py-3",children:(0,u.jsx)(cR,{loading:x,emptyText:"No staff users found.",columns:[{key:"name",label:"Name",render:e=>(0,u.jsx)("button",{type:"button",onClick:()=>{P(String(e.id)),c("audit")},className:"text-slate-900 font-medium hover:text-indigo-700",title:"View audit",children:e.name||"\u2014"})},{key:"email",label:"Email",render:e=>(0,u.jsx)("span",{className:"text-slate-600",children:e.email||"\u2014"})},{key:"role",label:"Role",render:e=>(0,u.jsx)("span",{className:"text-slate-700",children:e.roleName||"\u2014"})},{key:"status",label:"Status",render:e=>(0,u.jsx)(iR,{status:e.status})},{key:"createdAt",label:"CreatedAt",render:e=>(0,u.jsx)("span",{className:"text-slate-500",children:e.createdAt?String(e.createdAt).slice(0,10):"\u2014"})},{key:"actions",label:"Actions",className:"w-44",render:e=>{const t="active"===String(e.status||"").toLowerCase(),n=String(w||"")===String(e.id);return(0,u.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>{return t=e,E("edit"),S({id:String(t.id),name:t.name||"",email:t.email||"",password:"",roleId:t.roleId?String(t.roleId):""}),void c("edit");var t},disabled:!o,className:"inline-flex items-center gap-1 rounded-md border border-slate-200 px-2.5 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",children:[(0,u.jsx)(QI.A,{className:"h-3.5 w-3.5"}),"Edit"]}),t?(0,u.jsxs)("button",{type:"button",onClick:()=>I(e,"Hold"),disabled:!o||n,className:"inline-flex items-center gap-1 rounded-md border border-rose-200 px-2.5 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:[(0,u.jsx)(eR,{className:"h-3.5 w-3.5"}),"Hold"]}):(0,u.jsxs)("button",{type:"button",onClick:()=>I(e,"Active"),disabled:!o||n,className:"inline-flex items-center gap-1 rounded-md border border-emerald-200 px-2.5 py-1 text-xs font-medium text-emerald-700 hover:bg-emerald-50 disabled:opacity-60",children:[(0,u.jsx)(tR,{className:"h-3.5 w-3.5"}),"Activate"]})]})}}],rows:T,rowKey:e=>e.id})}):null,"edit"===i?(0,u.jsxs)(lR,{title:"Create / edit staff",subtitle:"Create new staff users or update existing staff profiles.",minHeight:"min-h-[220px]",actions:(0,u.jsxs)("button",{type:"button",onClick:async()=>{if(!o)return;const e=String(N.name||"").trim(),t=String(N.email||"").trim(),n=String(N.roleId||"").trim();if(e)if(n){if("create"===A){if(!t||!t.includes("@"))return void a.oR.warn("Valid email is required.");if(!N.password||N.password.length<6)return void a.oR.warn("Password must be at least 6 characters.")}C(!0);try{"create"===A?(await async function(e){return dR("post",["/TeamStaff","/teamstaff"],e)}({name:e,email:t,password:N.password,roleId:n}),a.oR.success("Staff user created."),S(gR)):(await async function(e,t){return dR("put",["/TeamStaff/".concat(e),"/teamstaff/".concat(e)],t)}(N.id,(0,b.A)({name:e,email:t,roleId:n},N.password?{password:N.password}:{})),a.oR.success("Staff user updated.")),await O(),c("list")}catch(oD){var r,i;console.error(oD),a.oR.error((null===oD||void 0===oD||null===(r=oD.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Save failed.")}finally{C(!1)}}else a.oR.warn("Role is required.");else a.oR.warn("Name is required.")},disabled:!o||k,className:"inline-flex items-center gap-1 rounded-md bg-emerald-400 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-emerald-500 disabled:opacity-60",children:[k?(0,u.jsx)(s.A,{className:"h-3.5 w-3.5 animate-spin"}):(0,u.jsx)(pt.A,{className:"h-3.5 w-3.5"}),"Save"]}),bodyClassName:"px-4 py-4",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Name"}),(0,u.jsx)("input",{value:N.name,onChange:e=>S((t=>(0,b.A)((0,b.A)({},t),{},{name:e.target.value}))),className:"mt-1 w-full rounded-md border border-slate-200 px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Rahul Sharma"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Role"}),(0,u.jsxs)("select",{value:N.roleId,onChange:e=>S((t=>(0,b.A)((0,b.A)({},t),{},{roleId:e.target.value}))),className:"mt-1 w-full rounded-md border border-slate-200 px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,u.jsx)("option",{value:"",children:"Select role"}),(d||[]).map((e=>(0,u.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Email"}),(0,u.jsx)("input",{value:N.email,onChange:e=>S((t=>(0,b.A)((0,b.A)({},t),{},{email:e.target.value}))),disabled:"edit"===A,className:"mt-1 w-full rounded-md border border-slate-200 px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 ".concat("edit"===A?"opacity-70 cursor-not-allowed":""),placeholder:"e.g., staff@company.com"}),"edit"===A?(0,u.jsx)("p",{className:"mt-1 text-[11px] text-slate-400",children:"Email is locked for safety."}):null]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"create"===A?"Password":"Password (optional)"}),(0,u.jsx)("input",{type:"password",value:N.password,onChange:e=>S((t=>(0,b.A)((0,b.A)({},t),{},{password:e.target.value}))),className:"mt-1 w-full rounded-md border border-slate-200 px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"create"===A?"Min 6 characters":"Leave blank to keep current"})]})]}),(0,u.jsxs)("div",{className:"mt-3 text-[11px] text-slate-400",children:["Mode:"," ",(0,u.jsx)("span",{className:"font-semibold",children:"create"===A?"Create":"Edit"})]})]}):null,"audit"===i?(0,u.jsxs)(lR,{title:"Status & audit",subtitle:"Quick view of status and recent changes.",minHeight:"min-h-[220px]",bodyClassName:"px-4 py-4",children:[(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,u.jsx)("span",{className:"text-xs text-slate-500",children:"Staff user"}),(0,u.jsxs)("select",{className:"min-w-[240px] rounded-md border border-slate-200 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",value:_,onChange:e=>P(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Select user"}),(m||[]).map((e=>(0,u.jsxs)("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id)))]})]}),_?(()=>{const e=(m||[]).find((e=>String(e.id)===String(_)));return e?(0,u.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,u.jsxs)("div",{className:"border border-slate-100 rounded-xl p-3 bg-gradient-to-br from-slate-50 to-slate-100/80 shadow-[0_1px_2px_rgba(15,23,42,0.06)]",children:[(0,u.jsx)("p",{className:"text-[11px] font-semibold text-slate-700 mb-1 uppercase tracking-wide",children:"Identity"}),(0,u.jsxs)("div",{className:"text-[11px] text-slate-600 space-y-1",children:[(0,u.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,u.jsx)("span",{className:"text-slate-500 font-medium",children:"Name"}),(0,u.jsx)("span",{className:"text-slate-800 font-medium",children:e.name||"\u2014"})]}),(0,u.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,u.jsx)("span",{className:"text-slate-500 font-medium",children:"Email"}),(0,u.jsx)("span",{className:"text-slate-800 font-medium",children:e.email||"\u2014"})]})]})]}),(0,u.jsxs)("div",{className:"border border-slate-100 rounded-xl p-3 bg-gradient-to-br from-slate-50 to-slate-100/80 shadow-[0_1px_2px_rgba(15,23,42,0.06)]",children:[(0,u.jsx)("p",{className:"text-[11px] font-semibold text-slate-700 mb-1 uppercase tracking-wide",children:"Access"}),(0,u.jsxs)("div",{className:"text-[11px] text-slate-600 space-y-1",children:[(0,u.jsxs)("div",{className:"flex justify-between gap-3 items-center",children:[(0,u.jsx)("span",{className:"text-slate-500 font-medium",children:"Role"}),(0,u.jsx)("span",{className:"uppercase bg-white px-1.5 py-0.5 rounded border border-slate-200 text-[10px] tracking-wide",children:e.roleName||"\u2014"})]}),(0,u.jsxs)("div",{className:"flex justify-between gap-3 items-center",children:[(0,u.jsx)("span",{className:"text-slate-500 font-medium",children:"Status"}),(0,u.jsx)(iR,{status:e.status})]})]})]}),(0,u.jsxs)("div",{className:"border border-slate-100 rounded-xl p-3 bg-gradient-to-br from-slate-50 to-slate-100/80 shadow-[0_1px_2px_rgba(15,23,42,0.06)]",children:[(0,u.jsx)("p",{className:"text-[11px] font-semibold text-slate-700 mb-1 uppercase tracking-wide",children:"Timestamps"}),(0,u.jsxs)("div",{className:"text-[11px] text-slate-600 space-y-1",children:[(0,u.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,u.jsx)("span",{className:"text-slate-500 font-medium",children:"Created"}),(0,u.jsx)("span",{className:"text-slate-800 font-medium",children:e.createdAt?String(e.createdAt):"\u2014"})]}),(0,u.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,u.jsx)("span",{className:"text-slate-500 font-medium",children:"Last updated"}),(0,u.jsx)("span",{className:"text-slate-800 font-medium",children:e.updatedAt?String(e.updatedAt):"\u2014"})]})]})]})]}):null})():(0,u.jsx)("div",{className:"mt-4 text-xs text-slate-500",children:"Select a user to view status and timestamps."})]}):null]})]}):(0,u.jsxs)("div",{className:"flex flex-col gap-4 h-full px-4",children:[(0,u.jsx)(nR,{icon:to,title:"Team Staff",subtitle:"You do not have access to view staff users."}),(0,u.jsx)(lR,{title:"Access denied",subtitle:"Ask an administrator to grant access.",minHeight:"min-h-[160px]",bodyClassName:"px-4 py-4",children:(0,u.jsxs)("div",{className:"text-xs text-slate-500",children:["Required permission:"," ",(0,u.jsx)("span",{className:"font-semibold",children:v.FK.SETTINGS_STAFF_MANAGEMENT})," ","(or ",(0,u.jsx)("span",{className:"font-semibold",children:"teamstaff.view"}),")"]})})]})}function xR(e){var t,n;let{open:r,mode:o,value:i,onChange:a,onClose:l,onSave:c,saving:d,canManage:p}=e;const f="edit"===o;if(!r)return null;const h=(e,t)=>a((n=>(0,b.A)((0,b.A)({},n||{}),{},{[e]:t})));return(0,u.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:d?void 0:l}),(0,u.jsx)("div",{className:"absolute right-0 top-0 h-full w-full sm:w-[520px] bg-white border-l border-slate-200 shadow-2xl",children:(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsxs)("div",{className:"px-5 py-4 border-b border-slate-200 flex items-start justify-between gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:f?"Edit role":"Create role"}),(0,u.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:f?"Update role name, status and description.":"Create a new business role, then map permissions."})]}),(0,u.jsx)("button",{type:"button",onClick:d?void 0:l,className:"p-2 rounded-lg hover:bg-slate-50 text-slate-700 disabled:opacity-60",disabled:d,title:"Close",children:(0,u.jsx)(Pe.A,{className:"h-5 w-5"})})]}),(0,u.jsxs)("div",{className:"flex-1 overflow-auto px-5 py-4 space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Role name"}),(0,u.jsx)("input",{value:null!==(t=null===i||void 0===i?void 0:i.name)&&void 0!==t?t:"",onChange:e=>h("name",e.target.value),placeholder:"e.g., Support",className:"mt-1 w-full rounded-md border border-slate-200 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Status"}),(0,u.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,u.jsx)(iR,{isActive:!(null===i||void 0===i||!i.isActive)}),(0,u.jsx)("button",{type:"button",onClick:()=>h("isActive",!(null!==i&&void 0!==i&&i.isActive)),disabled:!p,className:"text-xs rounded-md border border-slate-200 px-2 py-1 hover:bg-slate-50 disabled:opacity-60",children:"Toggle"})]}),(0,u.jsx)("p",{className:"mt-1 text-[11px] text-slate-400",children:"Inactive roles remain in history but cannot be assigned."})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Description"}),(0,u.jsx)("textarea",{rows:4,value:null!==(n=null===i||void 0===i?void 0:i.description)&&void 0!==n?n:"",onChange:e=>h("description",e.target.value),placeholder:"What should this role be used for?",className:"mt-1 w-full rounded-md border border-slate-200 px-3 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,u.jsxs)("div",{className:"px-5 py-4 border-t border-slate-200 flex items-center justify-end gap-2",children:[(0,u.jsx)("button",{type:"button",onClick:d?void 0:l,disabled:d,className:"px-3 py-2 rounded-md border border-slate-200 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",children:"Cancel"}),(0,u.jsxs)("button",{type:"button",onClick:c,disabled:!p||d,className:"inline-flex items-center gap-2 rounded-md bg-emerald-400 px-3 py-2 text-xs font-medium text-white hover:bg-emerald-500 disabled:opacity-60",children:[d?(0,u.jsx)(s.A,{className:"h-4 w-4 animate-spin"}):f?(0,u.jsx)(jA,{className:"h-4 w-4"}):(0,u.jsx)(pt.A,{className:"h-4 w-4"}),d?"Saving\u2026":f?"Save changes":"Create role"]})]})]})})]})}async function bR(e,t,n){var r;let o;for(const a of t)try{if("get"===e)return await c.default.get(a);if("post"===e)return await c.default.post(a,n);if("put"===e)return await c.default.put(a,n);if("delete"===e)return await c.default.delete(a);throw new Error("Unsupported method: ".concat(e))}catch(oD){var i;const t=null===oD||void 0===oD||null===(i=oD.response)||void 0===i?void 0:i.status;if(404===t||405===t){o=oD;continue}throw oD}throw null!==(r=o)&&void 0!==r?r:new Error("No valid API path responded successfully.")}function yR(e){var t,n,r,o,i,a,s;return{id:null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null===e||void 0===e?void 0:e.Id,name:null!==(n=null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:null===e||void 0===e?void 0:e.Name)&&void 0!==n?n:"",description:null!==(o=null!==(i=null===e||void 0===e?void 0:e.description)&&void 0!==i?i:null===e||void 0===e?void 0:e.Description)&&void 0!==o?o:"",isActive:null===(a=null!==(s=null===e||void 0===e?void 0:e.isActive)&&void 0!==s?s:null===e||void 0===e?void 0:e.IsActive)||void 0===a||a}}function wR(e){var t,n,r,o,i,a,s,l,c,d,u,p,f,h,m;const g=null!==(t=null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:null===e||void 0===e?void 0:e.Code)&&void 0!==t?t:"",v=String(g||"").trim().toUpperCase(),x=v||String(null!==(r=null!==(o=null!==(i=null!==(a=null!==(s=null===e||void 0===e?void 0:e.id)&&void 0!==s?s:null===e||void 0===e?void 0:e.Id)&&void 0!==a?a:null===e||void 0===e?void 0:e.permissionId)&&void 0!==i?i:null===e||void 0===e?void 0:e.PermissionId)&&void 0!==o?o:g)&&void 0!==r?r:"").trim();return{id:null!=x?String(x):"",code:v,name:null!==(l=null!==(c=null!==(d=null!==(u=null===e||void 0===e?void 0:e.name)&&void 0!==u?u:null===e||void 0===e?void 0:e.Name)&&void 0!==d?d:null===e||void 0===e?void 0:e.displayName)&&void 0!==c?c:null===e||void 0===e?void 0:e.DisplayName)&&void 0!==l?l:"",group:null!==(p=null!==(f=null===e||void 0===e?void 0:e.group)&&void 0!==f?f:null===e||void 0===e?void 0:e.Group)&&void 0!==p?p:"Other",description:null!==(h=null!==(m=null===e||void 0===e?void 0:e.description)&&void 0!==m?m:null===e||void 0===e?void 0:e.Description)&&void 0!==h?h:""}}function jR(e){var t,n,r,o,i;const a=null!==(t=null!==(n=null!==(r=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)&&void 0!==r?r:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.Data)&&void 0!==n?n:null===e||void 0===e?void 0:e.data)&&void 0!==t?t:e;return Array.isArray(a)?a:[]}function NR(){const t=(0,i.Zp)(),{can:n,hasAllAccess:r,refreshEntitlements:o,refreshAuthContext:c}=(0,l.h)(),d=!!r||"function"===typeof n&&(n(v.FK.SETTINGS_ROLE_PERMISSIONS_MAPPING)||n("roles.view")),p=!!r||"function"===typeof n&&(n(v.FK.SETTINGS_ROLE_PERMISSIONS_MAPPING)||n("roles.manage")),f=!!r||"function"===typeof n&&(n(v.FK.SETTINGS_ROLE_PERMISSIONS_MAPPING)||n("rolepermissions.manage")),[h,m]=(0,e.useState)([]),[g,x]=(0,e.useState)(!1),[y,w]=(0,e.useState)(""),j=(0,e.useMemo)((()=>(h||[]).find((e=>String(e.id)===String(y)))||null),[h,y]),[N,S]=(0,e.useState)("details"),[A,E]=(0,e.useState)("create"),[k,C]=(0,e.useState)({id:"",name:"",description:"",isActive:!0}),[_,P]=(0,e.useState)(!1),[O,T]=(0,e.useState)(!1),[M,I]=(0,e.useState)([]),[R,D]=(0,e.useState)(!1),[L,F]=(0,e.useState)(""),[B,z]=(0,e.useState)(new Set),[U,V]=(0,e.useState)(new Set),[W,H]=(0,e.useState)(!1),[K,G]=(0,e.useState)(!1),[Y,X]=(0,e.useState)([]),[$,Z]=(0,e.useState)(!1),ee=(0,e.useCallback)((async()=>{x(!0);try{const e=jR(await async function(){return bR("get",["/accesscontrol/business-roles","/BusinessRoles","/businessroles"])}()).map(yR).filter((e=>e.id));m(e),!y&&e.length>0&&w(String(e[0].id))}catch(oD){console.error(oD),a.oR.error("Failed to load roles")}finally{x(!1)}}),[y]),te=(0,e.useCallback)((async()=>{D(!0);try{const e=function(e){var t,n,r,o,i;const a=null!==(t=null!==(n=null!==(r=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)&&void 0!==r?r:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.Data)&&void 0!==n?n:null===e||void 0===e?void 0:e.data)&&void 0!==t?t:e;if(Array.isArray(a)){if(a.length>0&&"object"===typeof a[0]&&a[0]&&(Array.isArray(a[0].Features)||Array.isArray(a[0].features))){const e=[];return a.forEach((t=>{var n,r,o,i;const a=null!==(n=null!==(r=null===t||void 0===t?void 0:t.Group)&&void 0!==r?r:null===t||void 0===t?void 0:t.group)&&void 0!==n?n:"Other",s=null!==(o=null!==(i=null===t||void 0===t?void 0:t.Features)&&void 0!==i?i:null===t||void 0===t?void 0:t.features)&&void 0!==o?o:[];Array.isArray(s)&&s.forEach((t=>{var n,r;e.push((0,b.A)((0,b.A)({},t),{},{Group:null!==(n=null!==(r=null===t||void 0===t?void 0:t.Group)&&void 0!==r?r:null===t||void 0===t?void 0:t.group)&&void 0!==n?n:a}))}))})),e}return a}return[]}(await async function(){return bR("get",["/permission/grouped","/permission","/Permissions","/permissions"])}()).map(wR).filter((e=>e.id&&e.code));I(e),z(new Set(e.map((e=>e.group||"Other"))))}catch(oD){console.error(oD),a.oR.error("Failed to load permissions catalog")}finally{D(!1)}}),[]),ne=(0,e.useCallback)((async e=>{if(e){G(!0);try{const t=await async function(e){return bR("get",["/accesscontrol/business-roles/".concat(e,"/permissions"),"/BusinessRolePermissions/".concat(e),"/businessrolepermissions/".concat(e)])}(e),n=function(e){var t,n,r,o,i,a,s,l,c,d,u,p;const f=null!==(t=null!==(n=null!==(r=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)&&void 0!==r?r:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.Data)&&void 0!==n?n:null===e||void 0===e?void 0:e.data)&&void 0!==t?t:e;if(!f)return[];if(Array.isArray(f))return f.map((e=>{return"string"===typeof e||"number"===typeof e?String(e):e&&"object"===typeof e?String(null!==(t=null!==(n=null!==(r=null!==(o=e.id)&&void 0!==o?o:e.Id)&&void 0!==r?r:e.code)&&void 0!==n?n:e.Code)&&void 0!==t?t:"").trim():"";var t,n,r,o})).filter(Boolean);const h=null!==(a=null!==(s=null!==(l=null!==(c=f.permissionCodes)&&void 0!==c?c:f.PermissionCodes)&&void 0!==l?l:f.codes)&&void 0!==s?s:f.Codes)&&void 0!==a?a:[];if(Array.isArray(h))return h.map((e=>String(e))).filter(Boolean);const m=null!==(d=null!==(u=null!==(p=f.permissionIds)&&void 0!==p?p:f.PermissionIds)&&void 0!==u?u:f.ids)&&void 0!==d?d:[];return Array.isArray(m)?m.map((e=>String(e))).filter(Boolean):[]}(t);V(new Set(n))}catch(oD){console.error(oD),a.oR.error("Failed to load role permissions")}finally{G(!1)}}else V(new Set)}),[]),re=(0,e.useCallback)((async e=>{if(e){Z(!0);try{const t=await async function(){return bR("get",["/TeamStaff","/teamstaff"])}(),n=jR(t).map((e=>{var t,n,r,o,i,a,s,l,c,d;return{id:null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null===e||void 0===e?void 0:e.Id,name:null!==(n=null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:null===e||void 0===e?void 0:e.Name)&&void 0!==n?n:"",email:null!==(o=null!==(i=null===e||void 0===e?void 0:e.email)&&void 0!==i?i:null===e||void 0===e?void 0:e.Email)&&void 0!==o?o:"",status:null!==(a=null!==(s=null===e||void 0===e?void 0:e.status)&&void 0!==s?s:null===e||void 0===e?void 0:e.Status)&&void 0!==a?a:"",roleId:null!==(l=null===e||void 0===e?void 0:e.roleId)&&void 0!==l?l:null===e||void 0===e?void 0:e.RoleId,roleName:null!==(c=null===e||void 0===e?void 0:e.roleName)&&void 0!==c?c:null===e||void 0===e?void 0:e.RoleName,createdAt:null!==(d=null===e||void 0===e?void 0:e.createdAt)&&void 0!==d?d:null===e||void 0===e?void 0:e.CreatedAt}}));X(n.filter((t=>String(t.roleId||"")===String(e))))}catch(oD){console.error(oD),a.oR.error("Failed to load assigned users")}finally{Z(!1)}}else X([])}),[]);(0,e.useEffect)((()=>{d&&(ee(),te())}),[d]),(0,e.useEffect)((()=>{d&&y&&(ne(y),re(y))}),[d,y,ne,re]),(0,e.useEffect)((()=>{j&&(E("edit"),C({id:String(j.id),name:j.name||"",description:j.description||"",isActive:!!j.isActive}))}),[y,j]);const oe=()=>{E("create"),C({id:"",name:"",description:"",isActive:!0}),S("details"),T(!0)},ie=async()=>{if(!p)return;const e=String(k.name||"").trim();if(e){P(!0);try{if("create"===A){var t,n,r;const o=await async function(e){return bR("post",["/accesscontrol/business-roles","/BusinessRoles","/businessroles"],e)}({name:e,description:String(k.description||"").trim(),isActive:!!k.isActive});a.oR.success("Role created"),await ee();const i=null!==(t=null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)&&void 0!==t?t:null===o||void 0===o?void 0:o.data,s=null!==(r=null===i||void 0===i?void 0:i.id)&&void 0!==r?r:null===i||void 0===i?void 0:i.Id;s&&w(String(s)),T(!1)}else await async function(e,t){return bR("put",["/accesscontrol/business-roles/".concat(e),"/BusinessRoles/".concat(e),"/businessroles/".concat(e)],t)}(k.id,{name:e,description:String(k.description||"").trim(),isActive:!!k.isActive}),a.oR.success("Role updated"),await ee(),T(!1)}catch(oD){var o,i;console.error(oD),a.oR.error((null===oD||void 0===oD||null===(o=oD.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||"Failed to save role")}finally{P(!1)}}else a.oR.warn("Role name is required")},ae=(0,e.useMemo)((()=>{const e=String(L||"").trim().toLowerCase(),t=(M||[]).filter((t=>!e||(String(t.name||"").toLowerCase().includes(e)||String(t.code||"").toLowerCase().includes(e)||String(t.group||"").toLowerCase().includes(e)))),n=new Map;return t.forEach((e=>{const t=e.group||"Other";n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n.entries()).map((e=>{let[t,n]=e;return{name:t,permissions:n.sort(((e,t)=>String(e.name||"").localeCompare(String(t.name||""))))}})).sort(((e,t)=>e.name.localeCompare(t.name)))}),[M,L]),se=(e,t)=>{V((n=>{const r=new Set(n);return e.forEach((e=>{null!==e&&void 0!==e&&e.id&&(t?r.add(String(e.id)):r.delete(String(e.id)))})),r}))},le=(0,e.useMemo)((()=>[{id:"details",label:"Role details"},{id:"permissions",label:"Role permissions",disabled:!y},{id:"users",label:"Assigned users",disabled:!y}]),[y]);return d?(0,u.jsxs)("div",{className:"flex flex-col gap-4 bg-[#f5f6f7] min-h-[calc(100vh-80px)] px-4",children:[(0,u.jsx)(nR,{icon:Q.A,title:"Access Control",subtitle:"Create business roles, assign permissions, and review which staff members are assigned.",actions:(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("button",{type:"button",onClick:oe,disabled:!p,className:"inline-flex items-center gap-1.5 rounded-md bg-emerald-400 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-emerald-500 disabled:opacity-60",children:[(0,u.jsx)(uS.A,{className:"h-4 w-4"}),"Role"]})})}),(0,u.jsx)(rR,{left:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(J.A,{className:"h-4 w-4 text-indigo-500"}),(0,u.jsx)("span",{className:"text-xs text-slate-500",children:"Role"}),(0,u.jsxs)("select",{className:"min-w-[220px] rounded-md border border-slate-200 px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",value:y,onChange:e=>w(e.target.value),disabled:g||0===(h||[]).length,children:[(0,u.jsx)("option",{value:"",disabled:!0,children:g?"Loading roles\u2026":"Select role"}),(h||[]).map((e=>(0,u.jsx)("option",{value:e.id,children:e.name},e.id)))]}),j?(0,u.jsx)(iR,{isActive:!!j.isActive}):null]}),right:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{type:"button",onClick:()=>{j&&(E("edit"),C({id:String(j.id),name:j.name||"",description:j.description||"",isActive:!!j.isActive}),S("details"),T(!0))},disabled:!j||!p,className:"inline-flex items-center gap-1 rounded-md border border-slate-200 px-2.5 py-1 text-xs font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",children:[(0,u.jsx)(QI.A,{className:"h-3.5 w-3.5"}),"Edit"]}),(0,u.jsxs)("button",{type:"button",onClick:async()=>{if(!p)return;if(!j)return;if(window.confirm('Delete role "'.concat(j.name,'"? This will deactivate or remove it depending on server policy.')))try{await async function(e){return bR("delete",["/accesscontrol/business-roles/".concat(e),"/BusinessRoles/".concat(e),"/businessroles/".concat(e)])}(j.id),a.oR.success("Role deleted"),w(""),await ee()}catch(oD){var e,t;console.error(oD),a.oR.error((null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete role")}},disabled:!j||!p,className:"inline-flex items-center gap-1 rounded-md border border-rose-200 px-2.5 py-1 text-xs font-medium text-rose-700 hover:bg-rose-50 disabled:opacity-60",children:[(0,u.jsx)(hS.A,{className:"h-3.5 w-3.5"}),"Delete"]})]})}),(0,u.jsx)(sR,{tabs:le,activeTab:N,onChange:S}),(0,u.jsxs)("div",{className:"flex-1 min-h-0 pt-3 flex flex-col gap-3 pl-4 pr-2",children:[0!==(h||[]).length||g?null:(0,u.jsx)(lR,{title:"No roles yet",subtitle:"Create a role first.",minHeight:"min-h-[180px]",bodyClassName:"px-4 py-4",actions:(0,u.jsxs)("button",{type:"button",onClick:oe,disabled:!p,className:"inline-flex items-center gap-1 rounded-md bg-emerald-400 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-emerald-500 disabled:opacity-60",children:[(0,u.jsx)(uS.A,{className:"h-3.5 w-3.5"}),"Create role"]}),children:(0,u.jsxs)("div",{className:"text-xs text-slate-500",children:["Add roles like ",(0,u.jsx)("span",{className:"font-semibold",children:"Manager"})," or"," ",(0,u.jsx)("span",{className:"font-semibold",children:"Support"}),", then map their permissions."]})}),"details"===N?(0,u.jsxs)(lR,{title:"Role details",subtitle:"Create or update the selected role.",minHeight:"min-h-[220px]",actions:(0,u.jsxs)("button",{type:"button",onClick:ie,disabled:!p||_,className:"inline-flex items-center gap-1 rounded-md bg-emerald-400 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-emerald-500 disabled:opacity-60",children:[_?(0,u.jsx)(s.A,{className:"h-3.5 w-3.5 animate-spin"}):(0,u.jsx)(pt.A,{className:"h-3.5 w-3.5"}),"Save"]}),bodyClassName:"px-4 py-4",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Role name"}),(0,u.jsx)("input",{value:k.name,onChange:e=>C((t=>(0,b.A)((0,b.A)({},t),{},{name:e.target.value}))),placeholder:"e.g., Support",className:"mt-1 w-full rounded-md border border-slate-200 px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,u.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Status"}),(0,u.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,u.jsx)(iR,{isActive:!!k.isActive}),(0,u.jsx)("button",{type:"button",onClick:()=>C((e=>(0,b.A)((0,b.A)({},e),{},{isActive:!e.isActive}))),disabled:!p,className:"text-xs rounded-md border border-slate-200 px-2 py-1 hover:bg-slate-50 disabled:opacity-60",children:"Toggle"})]}),(0,u.jsx)("p",{className:"mt-1 text-[11px] text-slate-400",children:"Inactive roles remain in history but cannot be assigned."})]})}),(0,u.jsxs)("div",{className:"md:col-span-2",children:[(0,u.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Description"}),(0,u.jsx)("textarea",{rows:3,value:k.description,onChange:e=>C((t=>(0,b.A)((0,b.A)({},t),{},{description:e.target.value}))),placeholder:"What should this role be used for?",className:"mt-1 w-full rounded-md border border-slate-200 px-2 py-2 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,u.jsxs)("div",{className:"mt-3 text-[11px] text-slate-400",children:["Mode:"," ",(0,u.jsx)("span",{className:"font-semibold",children:"create"===A?"Create":"Edit"}),"edit"===A&&j?(0,u.jsxs)(u.Fragment,{children:[" ","\u2022 Editing:"," ",(0,u.jsx)("span",{className:"font-semibold",children:j.name})]}):null]})]}):null,"permissions"===N?(0,u.jsxs)(lR,{title:"Role permissions",subtitle:"Assign permissions to the selected role.",minHeight:"min-h-[220px]",actions:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(eo.A,{className:"h-3.5 w-3.5 text-slate-400 absolute left-2 top-1.5"}),(0,u.jsx)("input",{type:"text",placeholder:"Search\u2026",className:"w-44 pl-7 pr-2 py-1.5 rounded-md border border-slate-200 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",value:L,onChange:e=>F(e.target.value)})]}),(0,u.jsxs)("button",{type:"button",onClick:async()=>{if(f&&y){H(!0);try{const e=Array.from(U);await async function(e,t){return bR("put",["/accesscontrol/business-roles/".concat(e,"/permissions"),"/BusinessRolePermissions/".concat(e),"/businessrolepermissions/".concat(e)],t)}(y,{permissionCodes:e}),a.oR.success("Permissions saved"),await ne(y),await(null===o||void 0===o?void 0:o()),await(null===c||void 0===c?void 0:c())}catch(oD){var e,t;console.error(oD),a.oR.error((null===oD||void 0===oD||null===(e=oD.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save permissions")}finally{H(!1)}}},disabled:!y||W||!f,className:"inline-flex items-center gap-1 rounded-md bg-emerald-400 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-emerald-500 disabled:opacity-60",children:[W?(0,u.jsx)(s.A,{className:"h-3.5 w-3.5 animate-spin"}):(0,u.jsx)(pt.A,{className:"h-3.5 w-3.5"}),"Save mapping"]})]}),infoBar:{left:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"font-semibold text-slate-900",children:(null===j||void 0===j?void 0:j.name)||"Role"}),(0,u.jsx)("span",{className:"text-indigo-400",children:"\u203a"}),(0,u.jsx)("span",{className:"text-indigo-800",children:"Permissions"})]}),right:K||R?(0,u.jsxs)("span",{className:"inline-flex items-center gap-1 text-[11px] text-indigo-500",children:[(0,u.jsx)(s.A,{className:"h-3 w-3 animate-spin"}),"Loading\u2026"]}):null},bodyClassName:"px-4 py-3 space-y-3 overflow-y-auto",children:[R||0!==ae.length?null:(0,u.jsx)("div",{className:"rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:(0,u.jsxs)("div",{className:"flex items-start gap-2",children:[(0,u.jsx)(st.A,{className:"h-4 w-4 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-semibold",children:"No permissions available"}),(0,u.jsxs)("div",{className:"text-amber-700",children:["The catalog from ",(0,u.jsx)("span",{className:"font-mono",children:"/api/permission/grouped"})," ","is empty. In backend this endpoint returns only"," ",(0,u.jsx)("span",{className:"font-semibold",children:"IsActive = true"})," permissions."]})]})]})}),ae.map((e=>{let{name:t,permissions:n}=e;const r=B.has(t),o=n.map((e=>e.id)).filter(Boolean),i=o.filter((e=>U.has(e))).length,a=o.length;return(0,u.jsxs)("div",{className:"border border-slate-100 rounded-md overflow-hidden",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>{return e=t,void z((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}));var e},className:"w-full flex items-center justify-between px-3 py-1.5 bg-slate-50 hover:bg-slate-100",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,u.jsx)(Ae.A,{className:"h-3 w-3 text-slate-500"}):(0,u.jsx)(q.A,{className:"h-3 w-3 text-slate-500"}),(0,u.jsx)("span",{className:"text-xs font-semibold text-slate-700",children:t}),(0,u.jsxs)("span",{className:"text-[10px] text-slate-400",children:[i,"/",a," selected"]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-1 text-[10px]",children:[(0,u.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),se(n,!0)},disabled:!f,className:"px-1.5 py-0.5 rounded-full border border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 disabled:opacity-60",children:"Select all"}),(0,u.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),se(n,!1)},disabled:!f,className:"px-1.5 py-0.5 rounded-full border border-slate-200 bg-slate-50 text-slate-600 hover:bg-slate-100 disabled:opacity-60",children:"Clear"})]})]}),r?(0,u.jsx)("div",{className:"px-3 py-1.5",children:n.map((e=>{const t=U.has(e.id);return(0,u.jsxs)("label",{className:"flex items-start gap-3 py-1.5",children:[(0,u.jsx)("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500",checked:t,onChange:t=>{return n=e.id,r=t.target.checked,void V((e=>{const t=new Set(e);return r?t.add(String(n)):t.delete(String(n)),t}));var n,r},disabled:!f}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-slate-800",children:e.name||e.code||e.id}),e.code?(0,u.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-100 text-slate-500 uppercase tracking-wide",children:e.code}):null]}),e.description?(0,u.jsx)("p",{className:"text-xs text-slate-500",children:e.description}):null]})]},e.id)}))}):null]},t)}))]}):null,"users"===N?(0,u.jsx)(lR,{title:"Assigned users",subtitle:"Staff members currently assigned to this role.",minHeight:"min-h-[220px]",actions:(0,u.jsxs)("button",{type:"button",onClick:()=>t("/app/settings/team-management"),className:"inline-flex items-center gap-1.5 rounded-md border border-slate-200 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-50",children:[(0,u.jsx)(to,{className:"h-4 w-4"}),"Manage staff"]}),bodyClassName:"px-4 py-3",children:(0,u.jsx)(cR,{loading:$,emptyText:"No users assigned to this role.",columns:[{key:"name",label:"Name",render:e=>(0,u.jsx)("span",{className:"text-slate-900 font-medium",children:e.name})},{key:"email",label:"Email",render:e=>(0,u.jsx)("span",{className:"text-slate-600",children:e.email})},{key:"status",label:"Status",render:e=>(0,u.jsx)(iR,{status:e.status})},{key:"createdAt",label:"Created",render:e=>(0,u.jsx)("span",{className:"text-slate-500",children:e.createdAt?String(e.createdAt).slice(0,10):"\u2014"})}],rows:Y,rowKey:e=>e.id})}):null]}),(0,u.jsx)(xR,{open:O,mode:A,value:k,onChange:C,onClose:()=>T(!1),onSave:ie,saving:_,canManage:p})]}):(0,u.jsxs)("div",{className:"flex flex-col gap-4 h-full px-4",children:[(0,u.jsx)(nR,{icon:Q.A,title:"Access Control",subtitle:"You do not have access to view roles."}),(0,u.jsx)(lR,{title:"Access denied",subtitle:"Ask an administrator to grant access.",minHeight:"min-h-[160px]",bodyClassName:"px-4 py-4",children:(0,u.jsxs)("div",{className:"text-xs text-slate-500",children:["Required permission:"," ",(0,u.jsx)("span",{className:"font-semibold",children:v.FK.SETTINGS_ROLE_PERMISSIONS_MAPPING})," ","(or ",(0,u.jsx)("span",{className:"font-semibold",children:"roles.view"}),")"]})})]})}function SR(){const[t,n]=(0,e.useState)(""),[r,o]=(0,e.useState)(""),[s,d]=(0,e.useState)(""),[p,f]=(0,e.useState)(!1),[h,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[x,b]=(0,e.useState)(!1),{logout:y}=(0,l.h)(),w=(0,i.Zp)(),j=(0,e.useMemo)((()=>t||r||s?t&&r&&s?r.length<6?{ok:!1,message:"New password must be at least 6 characters."}:r!==s?{ok:!1,message:"New passwords do not match."}:r===t?{ok:!1,message:"New password must be different."}:{ok:!0,message:""}:{ok:!1,message:"All fields are required."}:{ok:!1,message:""}),[s,t,r]),N="w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-sm font-medium text-slate-800 outline-none focus:bg-white focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 transition-all placeholder:text-slate-400",S="block text-xs font-semibold text-slate-500 uppercase tracking-wide mb-1.5";return(0,u.jsxs)("div",{className:"min-h-screen bg-slate-50/50",children:[(0,u.jsx)("header",{className:"px-8 py-5 border-b border-slate-200 bg-white/80 backdrop-blur-md sticky top-0 z-20",children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center text-white shadow-lg shadow-emerald-200",children:(0,u.jsx)(he,{className:"h-5 w-5"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Security Settings"}),(0,u.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Manage your password and account security"})]})]})}),(0,u.jsx)("main",{className:"max-w-4xl mx-auto px-6 py-10",children:(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,u.jsxs)("div",{className:"md:col-span-1 space-y-4",children:[(0,u.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:"Password"}),(0,u.jsx)("p",{className:"text-sm text-slate-500 leading-relaxed",children:"Update your account password regularly to keep your business data secure."}),(0,u.jsx)("div",{className:"p-4 bg-blue-50/50 rounded-xl border border-blue-100/60",children:(0,u.jsxs)("div",{className:"flex items-start gap-3",children:[(0,u.jsx)(J.A,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs font-bold text-blue-800 mb-1",children:"Security Tip"}),(0,u.jsx)("p",{className:"text-xs text-blue-600 leading-snug",children:"Use a mix of letters, numbers, and symbols to create a strong password."})]})]})})]}),(0,u.jsx)(EA.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"md:col-span-2",children:(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j.ok&&!x){b(!0);try{await async function(e){let{currentPassword:t,newPassword:n}=e;const{data:r}=await c.default.post("/auth/change-password",{currentPassword:t,newPassword:n});return r}({currentPassword:t,newPassword:r}),a.oR.success("Password updated. Logging out..."),setTimeout((()=>{y(),w("/login")}),1500)}catch(oD){var n,o;const t=(null===(n=oD.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||oD.message||"Failed to update password.";a.oR.error(t),b(!1)}}},className:"bg-white rounded-2xl border border-slate-200 shadow-xl shadow-slate-200/40 overflow-hidden",children:[(0,u.jsxs)("div",{className:"p-6 sm:p-8 space-y-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:S,children:"Current Password"}),(0,u.jsxs)("div",{className:"relative group",children:[(0,u.jsx)("input",{className:N,type:p?"text":"password",value:t,onChange:e=>n(e.target.value),placeholder:"Enter current password"}),(0,u.jsx)("button",{type:"button",onClick:()=>f(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-emerald-600 transition-colors",children:p?(0,u.jsx)(I,{size:16}):(0,u.jsx)(R.A,{size:16})})]})]}),(0,u.jsx)("div",{className:"h-px bg-slate-100"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:S,children:"New Password"}),(0,u.jsxs)("div",{className:"relative group",children:[(0,u.jsx)("input",{className:N,type:h?"text":"password",value:r,onChange:e=>o(e.target.value),placeholder:"Min. 6 characters"}),(0,u.jsx)("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-emerald-600 transition-colors",children:h?(0,u.jsx)(I,{size:16}):(0,u.jsx)(R.A,{size:16})})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:S,children:"Confirm Password"}),(0,u.jsxs)("div",{className:"relative group",children:[(0,u.jsx)("input",{className:N,type:g?"text":"password",value:s,onChange:e=>d(e.target.value),placeholder:"Re-enter new password"}),(0,u.jsx)("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-emerald-600 transition-colors",children:g?(0,u.jsx)(I,{size:16}):(0,u.jsx)(R.A,{size:16})})]})]})]})]}),(0,u.jsxs)("div",{className:"bg-slate-50/80 px-6 py-4 flex items-center justify-between border-t border-slate-100",children:[(0,u.jsxs)("div",{className:"text-xs text-slate-400 font-medium",children:[j.message&&!j.ok&&(0,u.jsxs)("span",{className:"text-amber-600 flex items-center gap-1.5",children:[(0,u.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-amber-500"}),j.message]}),j.ok&&t&&(0,u.jsxs)("span",{className:"text-emerald-600 flex items-center gap-1.5",children:[(0,u.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),"Ready to update"]})]}),(0,u.jsx)("button",{type:"submit",disabled:!j.ok||x,className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-lg shadow-emerald-200 hover:bg-emerald-700 hover:shadow-xl hover:shadow-emerald-300 disabled:opacity-50 disabled:shadow-none transition-all transform active:scale-95",children:x?(0,u.jsx)(u.Fragment,{children:"Processing..."}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(jA,{size:16}),"Update Password"]})})]})]})})]})})]})}function AR(e,t){var n,r,o,i;return(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.error)||(null===e||void 0===e?void 0:e.message)||t}function ER(){const t=(0,i.Zp)(),{role:n}=(0,l.h)(),r=String(n||"").toLowerCase(),o=(0,e.useMemo)((()=>"admin"===r||"superadmin"===r),[r]),[s,d]=(0,e.useState)(""),[p,f]=(0,e.useState)(!1),[h,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[x,b]=(0,e.useState)(null),[y,w]=(0,e.useState)(null);if(!o)return(0,u.jsx)(i.C5,{to:"/no-access",replace:!0});const j=s.trim(),N=async()=>{if(j)try{m(!0),b(null);const e=await c.default.get("/contacts/debug/opt-status",{params:{phone:j}});b((null===e||void 0===e?void 0:e.data)||null),a.oR.success("Opt status loaded.")}catch(oD){var e;const n=AR(oD,"Failed to load opt status.");a.oR.error(n),b({error:n,raw:(null===oD||void 0===oD||null===(e=oD.response)||void 0===e?void 0:e.data)||null})}finally{m(!1)}else a.oR.error("Enter a phone number first.")};return(0,u.jsxs)("div",{className:"p-6 max-w-5xl mx-auto",children:[(0,u.jsxs)("button",{type:"button",onClick:()=>t("/app/settings"),className:"inline-flex items-center gap-2 text-sm text-emerald-700 mb-4",children:[(0,u.jsx)(V.A,{size:16}),"Back to Settings"]}),(0,u.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-5",children:[(0,u.jsx)("h1",{className:"text-xl font-semibold text-slate-900",children:"Contact Consent Debug"}),(0,u.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Admin-only tools to check opt status and force opt-in for a contact."}),(0,u.jsxs)("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-[1fr_auto_auto] gap-3",children:[(0,u.jsx)("input",{type:"text",value:s,onChange:e=>d(e.target.value),placeholder:"Enter phone (e.g. 919876543210)",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm"}),(0,u.jsxs)("button",{type:"button",onClick:N,disabled:h,className:"inline-flex items-center justify-center gap-2 rounded-md bg-sky-600 text-white px-4 py-2 text-sm font-semibold disabled:opacity-60",children:[(0,u.jsx)(Jr.A,{size:14}),h?"Checking...":"Check Status"]}),(0,u.jsxs)("button",{type:"button",onClick:async()=>{if(j)try{v(!0),w(null);const e=await c.default.post("/contacts/debug/force-opt-in",null,{params:{phone:j,resetChannel:p}});w((null===e||void 0===e?void 0:e.data)||null),a.oR.success("Force opt-in applied."),await N()}catch(oD){var e;const n=AR(oD,"Failed to force opt-in.");a.oR.error(n),w({error:n,raw:(null===oD||void 0===oD||null===(e=oD.response)||void 0===e?void 0:e.data)||null})}finally{v(!1)}else a.oR.error("Enter a phone number first.")},disabled:g,className:"inline-flex items-center justify-center gap-2 rounded-md bg-amber-700 text-white px-4 py-2 text-sm font-semibold disabled:opacity-60",children:[(0,u.jsx)(ct.A,{size:14}),g?"Applying...":"Force Opt-In"]})]}),(0,u.jsxs)("label",{className:"mt-3 inline-flex items-center gap-2 text-sm text-slate-700",children:[(0,u.jsx)("input",{type:"checkbox",checked:p,onChange:e=>f(e.target.checked),className:"accent-emerald-600"}),"Reset channel status to Valid"]})]}),(0,u.jsxs)("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,u.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-800 mb-2",children:"Status Response"}),(0,u.jsx)("pre",{className:"text-xs text-slate-700 whitespace-pre-wrap break-all",children:x?JSON.stringify(x,null,2):"No status response yet."})]}),(0,u.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-slate-800 mb-2",children:"Force Opt-In Response"}),(0,u.jsx)("pre",{className:"text-xs text-slate-700 whitespace-pre-wrap break-all",children:y?JSON.stringify(y,null,2):"No force opt-in response yet."})]})]})]})}const kR=(0,e.lazy)((()=>n.e(774).then(n.bind(n,70774)))),CR=(0,e.lazy)((()=>n.e(897).then(n.bind(n,46897)))),_R=(0,e.lazy)((()=>n.e(338).then(n.bind(n,26338)))),PR=(0,e.lazy)((()=>n.e(492).then(n.bind(n,88492)))),OR=(0,e.lazy)((()=>n.e(394).then(n.bind(n,2394)))),TR=(0,e.lazy)((()=>n.e(789).then(n.bind(n,91789)))),MR=(0,e.lazy)((()=>n.e(223).then(n.bind(n,49223)))),IR=(0,e.lazy)((()=>n.e(991).then(n.bind(n,64991)))),RR=(0,e.lazy)((()=>Promise.all([n.e(961),n.e(953)]).then(n.bind(n,54953)))),DR=(0,e.lazy)((()=>n.e(414).then(n.bind(n,59414)))),LR=(0,e.lazy)((()=>n.e(433).then(n.bind(n,37433)))),FR=(0,e.lazy)((()=>n.e(498).then(n.bind(n,15498)))),BR=(0,e.lazy)((()=>n.e(124).then(n.bind(n,5124)))),zR=(0,e.lazy)((()=>n.e(622).then(n.bind(n,59622)))),UR=(0,e.lazy)((()=>n.e(473).then(n.bind(n,97473)))),VR=(0,e.lazy)((()=>n.e(110).then(n.bind(n,98110)))),WR=(0,e.lazy)((()=>n.e(249).then(n.bind(n,3249)))),HR=(0,e.lazy)((()=>n.e(106).then(n.bind(n,82106)))),qR=(0,e.lazy)((()=>n.e(549).then(n.bind(n,54549)))),KR=(0,e.lazy)((()=>n.e(763).then(n.bind(n,97763)))),GR=(0,e.lazy)((()=>Promise.all([n.e(184),n.e(961),n.e(156),n.e(844)]).then(n.bind(n,25844)))),YR=(0,e.lazy)((()=>Promise.all([n.e(326),n.e(797)]).then(n.bind(n,80797)))),XR=(0,e.lazy)((()=>Promise.all([n.e(184),n.e(326),n.e(640)]).then(n.bind(n,42640)))),$R=(0,e.lazy)((()=>n.e(929).then(n.bind(n,49929)))),ZR=(0,e.lazy)((()=>n.e(178).then(n.bind(n,65178)))),JR=()=>(0,u.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-50/50",children:(0,u.jsx)(s.A,{className:"animate-spin text-emerald-600",size:32})});function QR(){const{search:e}=(0,i.zy)();return(0,u.jsx)(i.C5,{to:"/app/welcomepage".concat(e),replace:!0})}const eD=function(){return(0,u.jsx)(l.A,{children:(0,u.jsx)(cI.iK,{children:(0,u.jsxs)(e.Suspense,{fallback:(0,u.jsx)(JR,{}),children:[(0,u.jsxs)(i.BV,{children:[(0,u.jsx)(i.qh,{path:"/",element:(0,u.jsx)(i.C5,{to:"/login",replace:!0})}),(0,u.jsx)(i.qh,{path:"/login",element:(0,u.jsx)(k,{})}),(0,u.jsx)(i.qh,{path:"/signup",element:(0,u.jsx)(C,{})}),(0,u.jsx)(i.qh,{path:"/signup-for-trial",element:(0,u.jsx)(F,{})}),(0,u.jsx)(i.qh,{path:"/pending-approval",element:(0,u.jsx)(B,{})}),(0,u.jsx)(i.qh,{path:"/no-access",element:(0,u.jsx)(W,{})}),(0,u.jsxs)(i.qh,{path:"/app/*",element:(0,u.jsx)(p,{children:(0,u.jsx)(De,{})}),children:[(0,u.jsx)(i.qh,{index:!0,element:(0,u.jsx)(ze,{})}),(0,u.jsx)(i.qh,{path:"403",element:(0,u.jsx)(JM,{})}),(0,u.jsx)(i.qh,{path:"payment/status",element:(0,u.jsx)(wA,{})}),(0,u.jsx)(i.qh,{path:"billing/checkout",element:(0,u.jsx)(bA,{})}),(0,u.jsx)(i.qh,{path:"upgrade",element:(0,u.jsx)($M,{})}),(0,u.jsx)(i.qh,{path:"settings/billing",element:(0,u.jsx)(gA,{})}),(0,u.jsx)(i.qh,{path:"preview-test",element:(0,u.jsx)(ZM,{})}),(0,u.jsx)(i.qh,{path:"dashboard",element:(0,u.jsx)(QR,{})}),(0,u.jsx)(i.qh,{path:"welcome",element:(0,u.jsx)(Be,{})}),(0,u.jsx)(i.qh,{path:"welcomepage",element:(0,u.jsx)(CI,{})}),(0,u.jsx)(i.qh,{path:"esu-processing",element:(0,u.jsx)(FA,{})}),(0,u.jsx)(i.qh,{path:"crm",element:(0,u.jsx)(g,{codes:ye.crm,children:(0,u.jsx)(kR,{})})}),(0,u.jsx)(i.qh,{path:"crm/contacts",element:(0,u.jsx)(g,{code:v.FK.CRM_CONTACT_VIEW,children:(0,u.jsx)(RR,{})})}),(0,u.jsx)(i.qh,{path:"crm/attributes",element:(0,u.jsx)(g,{codes:v.FK.CRM_ATTRIBUTE_VIEW,children:(0,u.jsx)(DR,{})})}),(0,u.jsx)(i.qh,{path:"crm/contacts/:contactId",element:(0,u.jsx)(g,{code:v.FK.CRM_CONTACT_VIEW,children:(0,u.jsx)(UR,{})})}),(0,u.jsx)(i.qh,{path:"crm/tags",element:(0,u.jsx)(g,{code:v.FK.CRM_TAGS_VIEW,children:(0,u.jsx)(zR,{})})}),(0,u.jsx)(i.qh,{path:"crm/reminders",element:(0,u.jsx)(g,{code:v.FK.CRM_REMINDERS_VIEW,children:(0,u.jsx)(LR,{})})}),(0,u.jsx)(i.qh,{path:"crm/timeline",element:(0,u.jsx)(g,{code:v.FK.CRM_TIMELINE_VIEW,children:(0,u.jsx)(BR,{})})}),(0,u.jsx)(i.qh,{path:"crm/notes",element:(0,u.jsx)(g,{code:v.FK.CRM_NOTES_VIEW,children:(0,u.jsx)(FR,{})})}),(0,u.jsx)(i.qh,{path:"crm/contacts/:contactId/notes",element:(0,u.jsx)(g,{code:v.FK.CRM_NOTES_VIEW,children:(0,u.jsx)(FR,{})})}),(0,u.jsx)(i.qh,{path:"crm/contacts/:contactId/timeline",element:(0,u.jsx)(g,{code:v.FK.CRM_TIMELINE_VIEW,children:(0,u.jsx)(BR,{})})}),(0,u.jsx)(i.qh,{path:"catalog",element:(0,u.jsx)(g,{codes:ye.catalog,children:(0,u.jsx)(CR,{})})}),(0,u.jsx)(i.qh,{path:"catalog/products",element:(0,u.jsx)(g,{code:v.FK.CATALOG_VIEW,children:(0,u.jsx)(VR,{})})}),(0,u.jsx)(i.qh,{path:"catalog/form",element:(0,u.jsx)(g,{code:v.FK.CATALOG_CREATE,children:(0,u.jsx)(WR,{})})}),(0,u.jsx)(i.qh,{path:"catalog/form/:productId",element:(0,u.jsx)(g,{code:v.FK.CATALOG_CREATE,children:(0,u.jsx)(WR,{})})}),(0,u.jsx)(i.qh,{path:"messaging",element:(0,u.jsx)(g,{codes:ye.messaging,children:(0,u.jsx)(OR,{})})}),(0,u.jsx)(i.qh,{path:"messaging/send-direct-text",element:(0,u.jsx)(g,{code:v.FK.MESSAGING_SEND_TEXT,children:(0,u.jsx)(nl,{})})}),(0,u.jsx)(i.qh,{path:"messaging/send-template-message",element:(0,u.jsx)(g,{code:v.FK.MESSAGING_SEND_TEMPLATE,children:(0,u.jsx)(ol,{})})}),(0,u.jsx)(i.qh,{path:"messaging/reports",element:(0,u.jsx)(g,{code:v.FK.MESSAGING_REPORT_VIEW,children:(0,u.jsx)(il,{})})}),(0,u.jsx)(i.qh,{path:"campaigns",element:(0,u.jsx)(g,{codes:ye.campaigns,children:(0,u.jsx)(_R,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/cta-management",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_CTA_MANAGEMENT,children:(0,u.jsx)(Ue,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/image-campaigns/:id",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_LIST_VIEW,children:(0,u.jsx)(Ve,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/image-campaigns/:id/edit",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_BUILDER,children:(0,u.jsx)(We,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/image-campaigns/assign-contacts/:id",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_BUILDER,children:(0,u.jsx)(it,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/image-campaigns/assigned-contacts/:id",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_LIST_VIEW,children:(0,u.jsx)(at,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/template-campaign-builder",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_BUILDER,children:(0,u.jsx)(qR,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/template-campaigns-list",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_LIST_VIEW,children:(0,u.jsx)(GR,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/logs/:campaignId",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_STATUS_VIEW,children:(0,u.jsx)(KR,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/messagelogs",element:(0,u.jsx)(g,{code:v.FK.CAMPAIGN_STATUS_VIEW,children:(0,u.jsx)(sI,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/:campaignId/progress",element:(0,u.jsx)(Yr,{})}),(0,u.jsx)(i.qh,{path:"campaigns/:campaignId/reports/logs",element:(0,u.jsx)(Xs,{})}),(0,u.jsx)(i.qh,{path:"campaigns/:campaignId/reports/:bucket",element:(0,u.jsx)(Zs,{})}),(0,u.jsx)(i.qh,{path:"campaigns/:campaignId/reports/retarget",element:(0,u.jsx)(Js,{})}),(0,u.jsx)(i.qh,{path:"campaigns/:campaignId/reports/logs",element:(0,u.jsx)(Xs,{})}),(0,u.jsx)(i.qh,{path:"campaigns/:campaignId/reports/:bucket",element:(0,u.jsx)(Zs,{})}),(0,u.jsx)(i.qh,{path:"campaigns/:campaignId/reports/retarget",element:(0,u.jsx)(Js,{})}),(0,u.jsx)(i.qh,{path:"inbox",element:(0,u.jsx)(g,{codes:ye.inbox,children:(0,u.jsx)(MR,{})})}),(0,u.jsx)(i.qh,{path:"inbox/livechat",element:(0,u.jsx)(g,{code:v.FK.INBOX_VIEW,children:(0,u.jsx)(XR,{})})}),(0,u.jsx)(i.qh,{path:"inbox/chatinbox",element:(0,u.jsx)(g,{code:v.FK.INBOX_CHAT_VIEW,children:(0,u.jsx)(YR,{})})}),(0,u.jsx)(i.qh,{path:"automation",element:(0,u.jsx)(g,{codes:ye.automation,children:(0,u.jsx)(TR,{})})}),(0,u.jsx)(i.qh,{path:"automation/auto-reply-builder",element:(0,u.jsx)(g,{code:v.FK.AUTOMATION_CREATE_BOT,children:(0,u.jsx)(dx,{})})}),(0,u.jsx)(i.qh,{path:"cta-flow/visual-builder",element:(0,u.jsx)(g,{code:v.FK.AUTOMATION_CREATE_TEMPLATE_FLOW,children:(0,u.jsx)(tS,{})})}),(0,u.jsx)(i.qh,{path:"cta-flow/flow-manager",element:(0,u.jsx)(g,{code:v.FK.AUTOMATION_VIEW_FLOW_MANAGE,children:(0,u.jsx)(nS,{})})}),(0,u.jsx)(i.qh,{path:"campaigns/FlowAnalyticsDashboard",element:(0,u.jsx)(g,{code:v.FK.AUTOMATION_VIEW_FLOW_ANALYTICS,children:(0,u.jsx)(Zr,{})})}),(0,u.jsx)(i.qh,{path:"templatebuilder",element:(0,u.jsx)(g,{codes:ye.templates,children:(0,u.jsx)(IR,{})})}),(0,u.jsxs)(i.qh,{path:"template-builder",element:(0,u.jsx)(dA,{}),children:[(0,u.jsx)(i.qh,{index:!0,element:(0,u.jsx)(i.C5,{to:"library",replace:!0})}),(0,u.jsx)(i.qh,{path:"library",element:(0,u.jsx)(g,{code:v.FK.TEMPLATE_BUILDER_LIBRARY_BROWSE,children:(0,u.jsx)(OS,{})})}),(0,u.jsx)(i.qh,{path:"drafts",element:(0,u.jsx)(g,{code:v.FK.TEMPLATE_BUILDER_CREATE_DRAFT,children:(0,u.jsx)(fA,{})})}),(0,u.jsx)(i.qh,{path:"pending",element:(0,u.jsx)(g,{code:v.FK.TEMPLATE_BUILDER_APPROVED_TEMPLATES_VIEW,children:(0,u.jsx)(aA,{forcedStatus:"PENDING"})})}),(0,u.jsx)(i.qh,{path:"approved",element:(0,u.jsx)(g,{code:v.FK.TEMPLATE_BUILDER_APPROVED_TEMPLATES_VIEW,children:(0,u.jsx)(aA,{})})})]}),(0,u.jsx)(i.qh,{path:"template-builder/drafts/:draftId",element:(0,u.jsx)(g,{code:v.FK.TEMPLATE_BUILDER_CREATE_DRAFT,children:(0,u.jsx)($S,{})})}),(0,u.jsx)(i.qh,{path:"template-builder/drafts/:draftId",element:(0,u.jsx)(g,{code:v.FK.TEMPLATE_BUILDER_CREATE_DRAFT,children:(0,u.jsx)($S,{})})}),(0,u.jsx)(i.qh,{path:"settings",element:(0,u.jsx)(g,{codes:ye.settings,children:(0,u.jsx)(vI,{})})}),(0,u.jsx)(i.qh,{path:"settings/whatsapp",element:(0,u.jsx)(g,{code:v.FK.SETTINGS_WHATSAPP_SETTINGS_VIEW,children:(0,u.jsx)(MA,{})})}),(0,u.jsx)(i.qh,{path:"settings/meta-account",element:(0,u.jsx)(g,{code:v.FK.SETTINGS_META_ACCOUNT_MANAGEMENT,children:(0,u.jsx)(DA,{})})}),(0,u.jsx)(i.qh,{path:"settings/team-management",element:(0,u.jsx)(g,{code:v.FK.SETTINGS_STAFF_MANAGEMENT,children:(0,u.jsx)(vR,{})})}),(0,u.jsx)(i.qh,{path:"settings/role-permission-mapping",element:(0,u.jsx)(g,{code:v.FK.SETTINGS_ROLE_PERMISSIONS_MAPPING,children:(0,u.jsx)(NR,{})})}),(0,u.jsx)(i.qh,{path:"settings/checkout",element:(0,u.jsx)(g,{code:v.FK.SETTINGS_BILLING_VIEW,children:(0,u.jsx)(bA,{})})}),(0,u.jsx)(i.qh,{path:"settings/profile-completion",element:(0,u.jsx)(g,{code:v.FK.SETTINGS_PROFILE_UPDATE,children:(0,u.jsx)(GM,{})})}),(0,u.jsx)(i.qh,{path:"settings/password",element:(0,u.jsx)(g,{codes:ye.settings,children:(0,u.jsx)(SR,{})})}),(0,u.jsx)(i.qh,{path:"settings/contact-consent-debug",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{codes:ye.settings,children:(0,u.jsx)(ER,{})})})}),(0,u.jsx)(i.qh,{path:"admin",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{codes:ye.superadmin,children:(0,u.jsx)(PR,{})})})}),(0,u.jsx)(i.qh,{path:"admin/approvals",element:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_NEW_BUSINESS_APPROVAL,children:(0,u.jsx)(HR,{})})}),(0,u.jsx)(i.qh,{path:"admin/user-permissions",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_USER_MANAGEMENT_VIEW,children:(0,u.jsx)(lS,{})})})}),(0,u.jsx)(i.qh,{path:"admin/plan-management",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_PLAN_MANAGER_VIEW,children:(0,u.jsx)(ZR,{})})})}),(0,u.jsx)(i.qh,{path:"admin/permissions",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_PLAN_PERMISSIONS_LIST,children:(0,u.jsx)(gS,{})})})}),(0,u.jsx)(i.qh,{path:"admin/permission-catalog",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_PLAN_PERMISSIONS_LIST,children:(0,u.jsx)(vS,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_SIGNUP_REPORT_VIEW,children:(0,u.jsx)(JT,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights/funnels",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_SIGNUP_REPORT_VIEW,children:(0,u.jsx)(eM,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights/alerts",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_SIGNUP_REPORT_VIEW,children:(0,u.jsx)(rM,{})})})}),(0,u.jsx)(i.qh,{path:"admin/esu-debug",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_ESU_DEBUG,children:(0,u.jsx)(eI,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights/account-reports",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_BUSINESS_OVERVIEW,children:(0,u.jsx)(BM,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights/account-reports/accounts-master",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_BUSINESS_OVERVIEW,children:(0,u.jsx)(gM,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights/account-reports/lifecycle",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_BUSINESS_OVERVIEW,children:(0,u.jsx)(wM,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights/account-reports/trials",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_BUSINESS_OVERVIEW,children:(0,u.jsx)(EM,{})})})}),(0,u.jsx)(i.qh,{path:"admin/account-insights/account-reports/risk",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_BUSINESS_OVERVIEW,children:(0,u.jsx)(IM,{})})})}),(0,u.jsx)(i.qh,{path:"admin/webhooks/monitor",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_WEBHOOK_MONITOR,children:(0,u.jsx)($R,{})})})}),(0,u.jsx)(i.qh,{path:"admin/webhooks/failedlog",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_WEBHOOK_MONITOR,children:(0,u.jsx)(xS,{})})})}),(0,u.jsx)(i.qh,{path:"admin/audit/execution-explorer",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{code:v.FK.SUPER_ADMIN_FLOW_EXECUTION_EXPLORER_VIEW,children:(0,u.jsx)(RI,{})})})}),(0,u.jsx)(i.qh,{path:"admin/developer-notes",element:(0,u.jsx)(f,{children:(0,u.jsx)(g,{codes:ye.superadmin,children:(0,u.jsx)(JI,{})})})})]})]}),(0,u.jsx)(a.N9,{position:"top-right",autoClose:2e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!1,pauseOnFocusLoss:!1,draggable:!0,closeButton:!1,theme:"colored"}),(0,u.jsx)(lI,{}),false]})})})};function tD(e){if("string"!==typeof e)return e;let t=e.trimStart();for(;;){const e=t;if(t=t.replace(/^(\u2705|\u274C|\u26A0\uFE0F|\u26A0|\u2139\uFE0F|\u2139|\u26D4|\u23F0|(?:\uD83D\uDEAB)|\u2714\uFE0F|\u2714|\u2713|\u2716|\u2715|\xD7)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/,""),t===e)break}return t}function nD(e){return"string"===typeof e?tD(e):e}function rD(e){return(t,n)=>e(nD(t),n)}!function(){if(a.oR.__xb_patched)return;a.oR.__xb_patched=!0;const e={success:a.oR.success,error:a.oR.error,info:a.oR.info,warn:a.oR.warn,default:a.oR,promise:a.oR.promise,update:a.oR.update};a.oR.success=rD(e.success),a.oR.error=rD(e.error),a.oR.info=rD(e.info),a.oR.warn=rD(e.warn),Object.assign((function(t,n){return e.default(nD(t),n)}),a.oR),a.oR.promise=(t,n,r)=>{const o=(0,b.A)({},n||{});return"string"===typeof o.pending&&(o.pending=tD(o.pending)),"string"===typeof o.success&&(o.success=tD(o.success)),"string"===typeof o.error&&(o.error=tD(o.error)),e.promise(t,o,r)},a.oR.update=(t,n)=>{const r=(0,b.A)({},n||{});return"string"===typeof r.render&&(r.render=tD(r.render)),e.update(t,r)}}();r.createRoot(document.getElementById("root")).render((0,u.jsx)(o.Kd,{children:(0,u.jsx)(eD,{})}))})()})();
//# sourceMappingURL=main.930f9dd9.js.map